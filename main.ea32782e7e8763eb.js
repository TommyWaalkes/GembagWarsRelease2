"use strict";(self.webpackChunkCardApp=self.webpackChunkCardApp||[]).push([[179],{917:()=>{function ye(e){return"function"==typeof e}function Xi(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const xs=Xi(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ji(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Et{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(ye(r))try{r()}catch(o){t=o instanceof xs?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Lh(o)}catch(s){t=t??[],s instanceof xs?t=[...t,...s.errors]:t.push(s)}}if(t)throw new xs(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Lh(t);else{if(t instanceof Et){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Ji(n,t)}remove(t){const{_finalizers:n}=this;n&&Ji(n,t),t instanceof Et&&t._removeParent(this)}}Et.EMPTY=(()=>{const e=new Et;return e.closed=!0,e})();const Ph=Et.EMPTY;function Fh(e){return e instanceof Et||e&&"closed"in e&&ye(e.remove)&&ye(e.add)&&ye(e.unsubscribe)}function Lh(e){ye(e)?e():e.unsubscribe()}const pr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ns={setTimeout(e,t,...n){const{delegate:r}=Ns;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=Ns;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Vh(e){Ns.setTimeout(()=>{const{onUnhandledError:t}=pr;if(!t)throw e;t(e)})}function rc(){}const pb=ic("C",void 0,void 0);function ic(e,t,n){return{kind:e,value:t,error:n}}let gr=null;function Os(e){if(pr.useDeprecatedSynchronousErrorHandling){const t=!gr;if(t&&(gr={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=gr;if(gr=null,n)throw r}}else e()}class oc extends Et{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Fh(t)&&t.add(this)):this.destination=Db}static create(t,n,r){return new eo(t,n,r)}next(t){this.isStopped?ac(function mb(e){return ic("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?ac(function gb(e){return ic("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ac(pb,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const vb=Function.prototype.bind;function sc(e,t){return vb.call(e,t)}class _b{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Rs(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Rs(r)}else Rs(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Rs(n)}}}class eo extends oc{constructor(t,n,r){let i;if(super(),ye(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&pr.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&sc(t.next,o),error:t.error&&sc(t.error,o),complete:t.complete&&sc(t.complete,o)}):i=t}this.destination=new _b(i)}}function Rs(e){pr.useDeprecatedSynchronousErrorHandling?function yb(e){pr.useDeprecatedSynchronousErrorHandling&&gr&&(gr.errorThrown=!0,gr.error=e)}(e):Vh(e)}function ac(e,t){const{onStoppedNotification:n}=pr;n&&Ns.setTimeout(()=>n(e,t))}const Db={closed:!0,next:rc,error:function Cb(e){throw e},complete:rc},lc="function"==typeof Symbol&&Symbol.observable||"@@observable";function qn(e){return e}function Bh(e){return 0===e.length?qn:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let Fe=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function bb(e){return e&&e instanceof oc||function Eb(e){return e&&ye(e.next)&&ye(e.error)&&ye(e.complete)}(e)&&Fh(e)}(n)?n:new eo(n,r,i);return Os(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=jh(r))((i,o)=>{const s=new eo({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[lc](){return this}pipe(...n){return Bh(n)(this)}toPromise(n){return new(n=jh(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function jh(e){var t;return null!==(t=e??pr.Promise)&&void 0!==t?t:Promise}const Sb=Xi(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Wt=(()=>{class e extends Fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new $h(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Sb}next(n){Os(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Os(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Os(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Ph:(this.currentObservers=null,o.push(n),new Et(()=>{this.currentObservers=null,Ji(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Fe;return n.source=this,n}}return e.create=(t,n)=>new $h(t,n),e})();class $h extends Wt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:Ph}}function Hh(e){return ye(e?.lift)}function Be(e){return t=>{if(Hh(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Le(e,t,n,r,i){return new Mb(e,t,n,r,i)}class Mb extends oc{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function _e(e,t){return Be((n,r)=>{let i=0;n.subscribe(Le(r,o=>{r.next(e.call(t,o,i++))}))})}function Wn(e){return this instanceof Wn?(this.v=e,this):new Wn(e)}function qh(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function fc(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=e[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Wh=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Zh(e){return ye(e?.then)}function Yh(e){return ye(e[lc])}function Qh(e){return Symbol.asyncIterator&&ye(e?.[Symbol.asyncIterator])}function Kh(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Xh=function Zb(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Jh(e){return ye(e?.[Xh])}function ep(e){return function Gh(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(h){return new Promise(function(p,m){o.push([f,h,p,m])>1||a(f,h)})})}function a(f,h){try{!function l(f){f.value instanceof Wn?Promise.resolve(f.value.v).then(c,u):d(o[0][2],f)}(r[f](h))}catch(p){d(o[0][3],p)}}function c(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield Wn(n.read());if(i)return yield Wn(void 0);yield yield Wn(r)}}finally{n.releaseLock()}})}function tp(e){return ye(e?.getReader)}function bt(e){if(e instanceof Fe)return e;if(null!=e){if(Yh(e))return function Yb(e){return new Fe(t=>{const n=e[lc]();if(ye(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Wh(e))return function Qb(e){return new Fe(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(Zh(e))return function Kb(e){return new Fe(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Vh)})}(e);if(Qh(e))return np(e);if(Jh(e))return function Xb(e){return new Fe(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(tp(e))return function Jb(e){return np(ep(e))}(e)}throw Kh(e)}function np(e){return new Fe(t=>{(function eS(e,t){var n,r,i,o;return function Uh(e,t,n,r){return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=qh(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Mn(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Ze(e,t,n=1/0){return ye(t)?Ze((r,i)=>_e((o,s)=>t(r,o,i,s))(bt(e(r,i))),n):("number"==typeof t&&(n=t),Be((r,i)=>function tS(e,t,n,r,i,o,s,a){const l=[];let c=0,u=0,d=!1;const f=()=>{d&&!l.length&&!c&&t.complete()},h=m=>c<r?p(m):l.push(m),p=m=>{o&&t.next(m),c++;let _=!1;bt(n(m,u++)).subscribe(Le(t,S=>{i?.(S),o?h(S):t.next(S)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;l.length&&c<r;){const S=l.shift();s?Mn(t,s,()=>p(S)):p(S)}f()}catch(S){t.error(S)}}))};return e.subscribe(Le(t,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,e,n)))}function Lr(e=1/0){return Ze(qn,e)}const cn=new Fe(e=>e.complete());function hc(e){return e[e.length-1]}function to(e){return function rS(e){return e&&ye(e.schedule)}(hc(e))?e.pop():void 0}function ip(e,t=0){return Be((n,r)=>{n.subscribe(Le(r,i=>Mn(r,e,()=>r.next(i),t),()=>Mn(r,e,()=>r.complete(),t),i=>Mn(r,e,()=>r.error(i),t)))})}function op(e,t=0){return Be((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function sp(e,t){if(!e)throw new Error("Iterable cannot be null");return new Fe(n=>{Mn(n,t,()=>{const r=e[Symbol.asyncIterator]();Mn(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function qe(e,t){return t?function uS(e,t){if(null!=e){if(Yh(e))return function oS(e,t){return bt(e).pipe(op(t),ip(t))}(e,t);if(Wh(e))return function aS(e,t){return new Fe(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(Zh(e))return function sS(e,t){return bt(e).pipe(op(t),ip(t))}(e,t);if(Qh(e))return sp(e,t);if(Jh(e))return function lS(e,t){return new Fe(n=>{let r;return Mn(n,t,()=>{r=e[Xh](),Mn(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>ye(r?.return)&&r.return()})}(e,t);if(tp(e))return function cS(e,t){return sp(ep(e),t)}(e,t)}throw Kh(e)}(e,t):bt(e)}class Rt extends Wt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function Z(...e){return qe(e,to(e))}function ap(e={}){const{connector:t=(()=>new Wt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,l,c=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=l=void 0,u=d=!1},p=()=>{const m=s;h(),m?.unsubscribe()};return Be((m,_)=>{c++,!d&&!u&&f();const S=l=l??t();_.add(()=>{c--,0===c&&!d&&!u&&(a=pc(p,i))}),S.subscribe(_),!s&&c>0&&(s=new eo({next:y=>S.next(y),error:y=>{d=!0,f(),a=pc(h,n,y),S.error(y)},complete:()=>{u=!0,f(),a=pc(h,r),S.complete()}}),bt(m).subscribe(s))})(o)}}function pc(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new eo({next:()=>{r.unsubscribe(),e()}});return bt(t(...n)).subscribe(r)}function un(e,t){return Be((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Le(r,l=>{i?.unsubscribe();let c=0;const u=o++;bt(e(l,u)).subscribe(i=Le(r,d=>r.next(t?t(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function hS(e,t){return e===t}function pe(e){for(let t in e)if(e[t]===pe)return t;throw Error("Could not find renamed property on target object.")}function je(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(je).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function gc(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const pS=pe({__forward_ref__:pe});function De(e){return e.__forward_ref__=De,e.toString=function(){return je(this())},e}function q(e){return mc(e)?e():e}function mc(e){return"function"==typeof e&&e.hasOwnProperty(pS)&&e.__forward_ref__===De}function yc(e){return e&&!!e.\u0275providers}const lp="https://g.co/ng/security#xss";class M extends Error{constructor(t,n){super(function Fs(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function Y(e){return"string"==typeof e?e:null==e?"":String(e)}function vc(e,t){throw new M(-201,!1)}function Pt(e,t){null==e&&function z(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function H(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function dn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ls(e){return cp(e,Bs)||cp(e,up)}function cp(e,t){return e.hasOwnProperty(t)?e[t]:null}function Vs(e){return e&&(e.hasOwnProperty(_c)||e.hasOwnProperty(wS))?e[_c]:null}const Bs=pe({\u0275prov:pe}),_c=pe({\u0275inj:pe}),up=pe({ngInjectableDef:pe}),wS=pe({ngInjectorDef:pe});var ne=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(ne||{});let Cc;function gt(e){const t=Cc;return Cc=e,t}function fp(e,t,n){const r=Ls(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ne.Optional?null:void 0!==t?t:void vc(je(e))}const we=globalThis;class L{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=H({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const no={},Sc="__NG_DI_FLAG__",js="ngTempTokenPath",SS=/\n/gm,pp="__source";let Vr;function Zn(e){const t=Vr;return Vr=e,t}function AS(e,t=ne.Default){if(void 0===Vr)throw new M(-203,!1);return null===Vr?fp(e,void 0,t):Vr.get(e,t&ne.Optional?null:void 0,t)}function U(e,t=ne.Default){return(function dp(){return Cc}()||AS)(q(e),t)}function O(e,t=ne.Default){return U(e,$s(t))}function $s(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Mc(e){const t=[];for(let n=0;n<e.length;n++){const r=q(e[n]);if(Array.isArray(r)){if(0===r.length)throw new M(900,!1);let i,o=ne.Default;for(let s=0;s<r.length;s++){const a=r[s],l=TS(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}t.push(U(i,o))}else t.push(U(r))}return t}function ro(e,t){return e[Sc]=t,e.prototype[Sc]=t,e}function TS(e){return e[Sc]}function In(e){return{toString:e}.toString()}var Hs=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Hs||{}),Zt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Zt||{});const fn={},ue=[],Us=pe({\u0275cmp:pe}),Ic=pe({\u0275dir:pe}),Ac=pe({\u0275pipe:pe}),mp=pe({\u0275mod:pe}),An=pe({\u0275fac:pe}),io=pe({__NG_ELEMENT_ID__:pe}),yp=pe({__NG_ENV_ID__:pe});function vp(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function Tc(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{const o=i,s=n[++r];Cp(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function _p(e){return 3===e||4===e||6===e}function Cp(e){return 64===e.charCodeAt(0)}function oo(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||Dp(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function Dp(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const wp="ng-template";function NS(e,t,n){let r=0,i=!0;for(;r<e.length;){let o=e[r++];if("string"==typeof o&&i){const s=e[r++];if(n&&"class"===o&&-1!==vp(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function Ep(e){return 4===e.type&&e.value!==wp}function OS(e,t,n){return t===(4!==e.type||n?e.value:wp)}function RS(e,t,n){let r=4;const i=e.attrs||[],o=function LS(e){for(let t=0;t<e.length;t++)if(_p(e[t]))return t;return e.length}(i);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!OS(e,l,n)||""===l&&1===t.length){if(Yt(r))return!1;s=!0}}else{const c=8&r?l:t[++a];if(8&r&&null!==e.attrs){if(!NS(e.attrs,c,n)){if(Yt(r))return!1;s=!0}continue}const d=PS(8&r?"class":l,i,Ep(e),n);if(-1===d){if(Yt(r))return!1;s=!0;continue}if(""!==c){let f;f=d>o?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==vp(h,c,0)||2&r&&c!==f){if(Yt(r))return!1;s=!0}}}}else{if(!s&&!Yt(r)&&!Yt(l))return!1;if(s&&Yt(l))continue;s=!1,r=l|1&r}}return Yt(r)||s}function Yt(e){return 0==(1&e)}function PS(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function VS(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function bp(e,t,n=!1){for(let r=0;r<t.length;r++)if(RS(e,t[r],n))return!0;return!1}function Sp(e,t){return e?":not("+t.trim()+")":t}function jS(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Yt(s)&&(t+=Sp(o,i),i=""),r=s,o=o||!Yt(r);n++}return""!==i&&(t+=Sp(o,i)),t}function mt(e){return In(()=>{const t=Ip(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Hs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Zt.Emulated,styles:e.styles||ue,_:null,schemas:e.schemas||null,tView:null,id:""};Ap(n);const r=e.dependencies;return n.directiveDefs=zs(r,!1),n.pipeDefs=zs(r,!0),n.id=function ZS(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function zS(e){return le(e)||Ye(e)}function GS(e){return null!==e}function Tn(e){return In(()=>({type:e.type,bootstrap:e.bootstrap||ue,declarations:e.declarations||ue,imports:e.imports||ue,exports:e.exports||ue,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Mp(e,t){if(null==e)return fn;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}function W(e){return In(()=>{const t=Ip(e);return Ap(t),t})}function le(e){return e[Us]||null}function Ye(e){return e[Ic]||null}function st(e){return e[Ac]||null}function Mt(e,t){const n=e[mp]||null;if(!n&&!0===t)throw new Error(`Type ${je(e)} does not have '\u0275mod' property.`);return n}function Ip(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||fn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||ue,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Mp(e.inputs,t),outputs:Mp(e.outputs)}}function Ap(e){e.features?.forEach(t=>t(e))}function zs(e,t){if(!e)return null;const n=t?st:zS;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(GS)}const ke=0,N=1,X=2,Ie=3,Qt=4,so=5,et=6,jr=7,Ne=8,Yn=9,$r=10,Q=11,ao=12,Tp=13,Hr=14,Oe=15,lo=16,Ur=17,hn=18,co=19,kp=20,Qn=21,kn=22,uo=23,fo=24,re=25,kc=1,xp=2,pn=7,zr=9,Qe=11;function vt(e){return Array.isArray(e)&&"object"==typeof e[kc]}function at(e){return Array.isArray(e)&&!0===e[kc]}function xc(e){return 0!=(4&e.flags)}function yr(e){return e.componentOffset>-1}function qs(e){return 1==(1&e.flags)}function Kt(e){return!!e.template}function Nc(e){return 0!=(512&e[X])}function vr(e,t){return e.hasOwnProperty(An)?e[An]:null}let Ke=null,Ws=!1;function Ft(e){const t=Ke;return Ke=e,t}const Rp={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Fp(e){if(!po(e)||e.dirty){if(!e.producerMustRecompute(e)&&!Bp(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function Vp(e){e.dirty=!0,function Lp(e){if(void 0===e.liveConsumerNode)return;const t=Ws;Ws=!0;try{for(const n of e.liveConsumerNode)n.dirty||Vp(n)}finally{Ws=t}}(e),e.consumerMarkedDirty?.(e)}function Rc(e){return e&&(e.nextProducerIndex=0),Ft(e)}function Pc(e,t){if(Ft(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(po(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Zs(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Bp(e){Gr(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Fp(n),r!==n.version))return!0}return!1}function jp(e){if(Gr(e),po(e))for(let t=0;t<e.producerNode.length;t++)Zs(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Zs(e,t){if(function Hp(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Gr(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Zs(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Gr(i),i.producerIndexOfThis[r]=t}}function po(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Gr(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Up=null;const Wp=()=>{},l0=(()=>({...Rp,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:Wp}))();class c0{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Lt(){return Zp}function Zp(e){return e.type.prototype.ngOnChanges&&(e.setInput=d0),u0}function u0(){const e=Qp(this),t=e?.current;if(t){const n=e.previous;if(n===fn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function d0(e,t,n,r){const i=this.declaredInputs[n],o=Qp(e)||function f0(e,t){return e[Yp]=t}(e,{previous:fn,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[i];s[i]=new c0(l&&l.currentValue,t,a===fn),e[r]=t}Lt.ngInherit=!0;const Yp="__ngSimpleChanges__";function Qp(e){return e[Yp]||null}const gn=function(e,t,n){};function Ee(e){for(;Array.isArray(e);)e=e[ke];return e}function Ys(e,t){return Ee(t[e])}function _t(e,t){return Ee(t[e.index])}function Jp(e,t){return e.data[t]}function It(e,t){const n=t[e];return vt(n)?n:n[ke]}function Xn(e,t){return null==t?null:e[t]}function eg(e){e[Ur]=0}function v0(e){1024&e[X]||(e[X]|=1024,ng(e,1))}function tg(e){1024&e[X]&&(e[X]&=-1025,ng(e,-1))}function ng(e,t){let n=e[Ie];if(null===n)return;n[so]+=t;let r=n;for(n=n[Ie];null!==n&&(1===t&&1===r[so]||-1===t&&0===r[so]);)n[so]+=t,r=n,n=n[Ie]}const G={lFrame:hg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function og(){return G.bindingsEnabled}function D(){return G.lFrame.lView}function ce(){return G.lFrame.tView}function $e(e){return G.lFrame.contextLView=e,e[Ne]}function He(e){return G.lFrame.contextLView=null,e}function Xe(){let e=sg();for(;null!==e&&64===e.type;)e=e.parent;return e}function sg(){return G.lFrame.currentTNode}function mn(e,t){const n=G.lFrame;n.currentTNode=e,n.isParent=t}function jc(){return G.lFrame.isParent}function lt(){const e=G.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Zr(){return G.lFrame.bindingIndex++}function Nn(e){const t=G.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function k0(e,t){const n=G.lFrame;n.bindingIndex=n.bindingRootIndex=e,Hc(t)}function Hc(e){G.lFrame.currentDirectiveIndex=e}function zc(e){G.lFrame.currentQueryIndex=e}function N0(e){const t=e[N];return 2===t.type?t.declTNode:1===t.type?e[et]:null}function dg(e,t,n){if(n&ne.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&ne.Host||(i=N0(o),null===i||(o=o[Hr],10&i.type))););if(null===i)return!1;t=i,e=o}const r=G.lFrame=fg();return r.currentTNode=t,r.lView=e,!0}function Gc(e){const t=fg(),n=e[N];G.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function fg(){const e=G.lFrame,t=null===e?null:e.child;return null===t?hg(e):t}function hg(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function pg(){const e=G.lFrame;return G.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const gg=pg;function qc(){const e=pg();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ct(){return G.lFrame.selectedIndex}function _r(e){G.lFrame.selectedIndex=e}function Te(){const e=G.lFrame;return Jp(e.tView,e.selectedIndex)}let yg=!0;function Qs(){return yg}function Jn(e){yg=e}function Ks(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),null!=u&&(e.destroyHooks??=[]).push(n,u)}}function Xs(e,t,n){vg(e,t,3,n)}function Js(e,t,n,r){(3&e[X])===n&&vg(e,t,n,r)}function Wc(e,t){let n=e[X];(3&n)===t&&(n&=8191,n+=1,e[X]=n)}function vg(e,t,n,r){const o=r??-1,s=t.length-1;let a=0;for(let l=void 0!==r?65535&e[Ur]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(e[Ur]+=65536),(a<o||-1==o)&&(j0(e,n,t,l),e[Ur]=(4294901760&e[Ur])+l+2),l++}function _g(e,t){gn(4,e,t);const n=Ft(null);try{t.call(e)}finally{Ft(n),gn(5,e,t)}}function j0(e,t,n,r){const i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[X]>>13<e[Ur]>>16&&(3&e[X])===t&&(e[X]+=8192,_g(a,o)):_g(a,o)}const Yr=-1;class mo{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Yc(e){return e!==Yr}function yo(e){return 32767&e}function vo(e,t){let n=function z0(e){return e>>16}(e),r=t;for(;n>0;)r=r[Hr],n--;return r}let Qc=!0;function ea(e){const t=Qc;return Qc=e,t}const Cg=255,Dg=5;let G0=0;const yn={};function ta(e,t){const n=wg(e,t);if(-1!==n)return n;const r=t[N];r.firstCreatePass&&(e.injectorIndex=t.length,Kc(r.data,e),Kc(t,null),Kc(r.blueprint,null));const i=na(e,t),o=e.injectorIndex;if(Yc(i)){const s=yo(i),a=vo(i,t),l=a[N].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=i,o}function Kc(e,t){e.push(0,0,0,0,0,0,0,0,t)}function wg(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function na(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=Tg(i),null===r)return Yr;if(n++,i=i[Hr],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Yr}function Xc(e,t,n){!function q0(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(io)&&(r=n[io]),null==r&&(r=n[io]=G0++);const i=r&Cg;t.data[e+(i>>Dg)]|=1<<i}(e,t,n)}function Eg(e,t,n){if(n&ne.Optional||void 0!==e)return e;vc()}function bg(e,t,n,r){if(n&ne.Optional&&void 0===r&&(r=null),!(n&(ne.Self|ne.Host))){const i=e[Yn],o=gt(void 0);try{return i?i.get(t,r,n&ne.Optional):fp(t,r,n&ne.Optional)}finally{gt(o)}}return Eg(r,0,n)}function Sg(e,t,n,r=ne.Default,i){if(null!==e){if(2048&t[X]&&!(r&ne.Self)){const s=function X0(e,t,n,r,i){let o=e,s=t;for(;null!==o&&null!==s&&2048&s[X]&&!(512&s[X]);){const a=Mg(o,s,n,r|ne.Self,yn);if(a!==yn)return a;let l=o.parent;if(!l){const c=s[kp];if(c){const u=c.get(n,yn,r);if(u!==yn)return u}l=Tg(s),s=s[Hr]}o=l}return i}(e,t,n,r,yn);if(s!==yn)return s}const o=Mg(e,t,n,r,yn);if(o!==yn)return o}return bg(t,n,r,i)}function Mg(e,t,n,r,i){const o=function Y0(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(io)?e[io]:void 0;return"number"==typeof t?t>=0?t&Cg:K0:t}(n);if("function"==typeof o){if(!dg(t,e,r))return r&ne.Host?Eg(i,0,r):bg(t,n,r,i);try{let s;if(s=o(r),null!=s||r&ne.Optional)return s;vc()}finally{gg()}}else if("number"==typeof o){let s=null,a=wg(e,t),l=Yr,c=r&ne.Host?t[Oe][et]:null;for((-1===a||r&ne.SkipSelf)&&(l=-1===a?na(e,t):t[a+8],l!==Yr&&Ag(r,!1)?(s=t[N],a=yo(l),t=vo(l,t)):a=-1);-1!==a;){const u=t[N];if(Ig(o,a,u.data)){const d=Z0(a,t,n,s,r,c);if(d!==yn)return d}l=t[a+8],l!==Yr&&Ag(r,t[N].data[a+8]===c)&&Ig(o,a,t)?(s=u,a=yo(l),t=vo(l,t)):a=-1}}return i}function Z0(e,t,n,r,i,o){const s=t[N],a=s.data[e+8],u=function ra(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,l=e.directiveStart,u=o>>20,f=i?a+u:e.directiveEnd;for(let h=r?a:a+u;h<f;h++){const p=s[h];if(h<l&&n===p||h>=l&&p.type===n)return h}if(i){const h=s[l];if(h&&Kt(h)&&h.type===n)return l}return null}(a,s,n,null==r?yr(a)&&Qc:r!=s&&0!=(3&a.type),i&ne.Host&&o===a);return null!==u?Cr(t,s,u,a):yn}function Cr(e,t,n,r){let i=e[n];const o=t.data;if(function $0(e){return e instanceof mo}(i)){const s=i;s.resolving&&function gS(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new M(-200,`Circular dependency in DI detected for ${e}${n}`)}(function he(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Y(e)}(o[n]));const a=ea(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?gt(s.injectImpl):null;dg(e,r,ne.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function B0(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=Zp(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}(n,o[n],t)}finally{null!==c&&gt(c),ea(a),s.resolving=!1,gg()}}return i}function Ig(e,t,n){return!!(n[t+(e>>Dg)]&1<<e)}function Ag(e,t){return!(e&ne.Self||e&ne.Host&&t)}class ut{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Sg(this._tNode,this._lView,t,$s(r),n)}}function K0(){return new ut(Xe(),D())}function Jc(e){return mc(e)?()=>{const t=Jc(q(e));return t&&t()}:vr(e)}function Tg(e){const t=e[N],n=t.type;return 2===n?t.declTNode:1===n?e[et]:null}const Kr="__parameters__";function Jr(e,t,n){return In(()=>{const r=function eu(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(Kr)?l[Kr]:Object.defineProperty(l,Kr,{value:[]})[Kr];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function ti(e,t){e.forEach(n=>Array.isArray(n)?ti(n,t):t(n))}function xg(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function oa(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function At(e,t,n){let r=ni(e,t);return r>=0?e[1|r]=n:(r=~r,function oM(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function tu(e,t){const n=ni(e,t);if(n>=0)return e[1|n]}function ni(e,t){return function Ng(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}(e,t,1)}const aa=ro(Jr("Optional"),8),la=ro(Jr("SkipSelf"),4);function ha(e){return 128==(128&e.flags)}var er=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(er||{});const su=new Map;let TM=0;const lu="__ngContext__";function tt(e,t){vt(t)?(e[lu]=t[co],function xM(e){su.set(e[co],e)}(t)):e[lu]=t}let cu;function uu(e,t){return cu(e,t)}function bo(e){const t=e[Ie];return at(t)?t[Ie]:t}function Xg(e){return em(e[ao])}function Jg(e){return em(e[Qt])}function em(e){for(;null!==e&&!at(e);)e=e[Qt];return e}function oi(e,t,n,r,i){if(null!=r){let o,s=!1;at(r)?o=r:vt(r)&&(s=!0,r=r[ke]);const a=Ee(r);0===e&&null!==n?null==i?im(t,n,a):Dr(t,n,a,i||null,!0):1===e&&null!==n?Dr(t,n,a,i||null,!0):2===e?function Ca(e,t,n){const r=va(e,t);r&&function QM(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function JM(e,t,n,r,i){const o=n[pn];o!==Ee(n)&&oi(t,e,r,o,i);for(let a=Qe;a<n.length;a++){const l=n[a];Mo(l[N],l,e,t,r,o)}}(t,e,o,n,i)}}function ma(e,t,n){return e.createElement(t,n)}function nm(e,t){const n=e[zr],r=n.indexOf(t);tg(t),n.splice(r,1)}function ya(e,t){if(e.length<=Qe)return;const n=Qe+t,r=e[n];if(r){const i=r[lo];null!==i&&i!==e&&nm(i,r),t>0&&(e[n-1][Qt]=r[Qt]);const o=oa(e,Qe+t);!function HM(e,t){Mo(e,t,t[Q],2,null,null),t[ke]=null,t[et]=null}(r[N],r);const s=o[hn];null!==s&&s.detachView(o[N]),r[Ie]=null,r[Qt]=null,r[X]&=-129}return r}function fu(e,t){if(!(256&t[X])){const n=t[Q];t[uo]&&jp(t[uo]),t[fo]&&jp(t[fo]),n.destroyNode&&Mo(e,t,n,3,null,null),function GM(e){let t=e[ao];if(!t)return hu(e[N],e);for(;t;){let n=null;if(vt(t))n=t[ao];else{const r=t[Qe];r&&(n=r)}if(!n){for(;t&&!t[Qt]&&t!==e;)vt(t)&&hu(t[N],t),t=t[Ie];null===t&&(t=e),vt(t)&&hu(t[N],t),n=t&&t[Qt]}t=n}}(t)}}function hu(e,t){if(!(256&t[X])){t[X]&=-129,t[X]|=256,function YM(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof mo)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];gn(4,a,l);try{l.call(a)}finally{gn(5,a,l)}}else{gn(4,i,o);try{o.call(i)}finally{gn(5,i,o)}}}}}(e,t),function ZM(e,t){const n=e.cleanup,r=t[jr];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(t[jr]=null);const i=t[Qn];if(null!==i){t[Qn]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,t),1===t[N].type&&t[Q].destroy();const n=t[lo];if(null!==n&&at(t[Ie])){n!==t[Ie]&&nm(n,t);const r=t[hn];null!==r&&r.detachView(e)}!function NM(e){su.delete(e[co])}(t)}}function pu(e,t,n){return function rm(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[ke];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===Zt.None||o===Zt.Emulated)return null}return _t(r,n)}}(e,t.parent,n)}function Dr(e,t,n,r,i){e.insertBefore(t,n,r,i)}function im(e,t,n){e.appendChild(t,n)}function om(e,t,n,r,i){null!==r?Dr(e,t,n,r,i):im(e,t,n)}function va(e,t){return e.parentNode(t)}let gu,_u,lm=function am(e,t,n){return 40&e.type?_t(e,n):null};function _a(e,t,n,r){const i=pu(e,r,t),o=t[Q],a=function sm(e,t,n){return lm(e,t,n)}(r.parent||t[et],r,t);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)om(o,i,n[l],a,!1);else om(o,i,n,a,!1);void 0!==gu&&gu(o,r,t,n,i)}function So(e,t){if(null!==t){const n=t.type;if(3&n)return _t(t,e);if(4&n)return mu(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return So(e,r);{const i=e[t.index];return at(i)?mu(-1,i):Ee(i)}}if(32&n)return uu(t,e)()||Ee(e[t.index]);{const r=um(e,t);return null!==r?Array.isArray(r)?r[0]:So(bo(e[Oe]),r):So(e,t.next)}}return null}function um(e,t){return null!==t?e[Oe][et].projection[t.projection]:null}function mu(e,t){const n=Qe+e+1;if(n<t.length){const r=t[n],i=r[N].firstChild;if(null!==i)return So(r,i)}return t[pn]}function yu(e,t,n,r,i,o,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===t&&(a&&tt(Ee(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)yu(e,t,n.child,r,i,o,!1),oi(t,e,i,a,o);else if(32&l){const c=uu(n,r);let u;for(;u=c();)oi(t,e,i,u,o);oi(t,e,i,a,o)}else 16&l?fm(e,t,r,n,i,o):oi(t,e,i,a,o);n=s?n.projectionNext:n.next}}function Mo(e,t,n,r,i,o){yu(n,r,e.firstChild,t,i,o,!1)}function fm(e,t,n,r,i,o){const s=n[Oe],l=s[et].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)oi(t,e,i,l[c],o);else{let c=l;const u=s[Ie];ha(r)&&(c.flags|=128),yu(e,t,c,u,i,o,!0)}}function hm(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function pm(e,t,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Tc(e,t,r),null!==i&&hm(e,t,i),null!==o&&function tI(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}class vm{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lp})`}}function tr(e){return e instanceof vm?e.changingThisBreaksApplicationSecurity:e}const gI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var li=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(li||{});function To(e){const t=function ko(){const e=D();return e&&e[$r].sanitizer}();return t?t.sanitize(li.URL,e)||"":function Io(e,t){const n=function dI(e){return e instanceof vm&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${lp})`)}return n===t}(e,"URL")?tr(e):function Du(e){return(e=String(e)).match(gI)?e:"unsafe:"+e}(Y(e))}const xo=new L("ENVIRONMENT_INITIALIZER"),Im=new L("INJECTOR",-1),Am=new L("INJECTOR_DEF_TYPES");class Su{get(t,n=no){if(n===no){const r=new Error(`NullInjectorError: No provider for ${je(t)}!`);throw r.name="NullInjectorError",r}return n}}function AI(...e){return{\u0275providers:km(0,e),\u0275fromNgModule:!0}}function km(e,...t){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return ti(t,s=>{const a=s;ba(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&xm(i,o),n}function xm(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];Mu(i,o=>{t(o,r)})}}function ba(e,t,n,r){if(!(e=q(e)))return!1;let i=null,o=Vs(e);const s=!o&&le(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const l=e.ngModule;if(o=Vs(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)ba(c,t,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{ti(o.imports,u=>{ba(u,t,n,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&xm(c,t)}if(!a){const c=vr(i)||(()=>new i);t({provide:i,useFactory:c,deps:ue},i),t({provide:Am,useValue:i,multi:!0},i),t({provide:xo,useValue:()=>U(i),multi:!0},i)}const l=o.providers;if(null!=l&&!a){const c=e;Mu(l,u=>{t(u,c)})}}}return i!==e&&void 0!==e.providers}function Mu(e,t){for(let n of e)yc(n)&&(n=n.\u0275providers),Array.isArray(n)?Mu(n,t):t(n)}const TI=pe({provide:String,useValue:pe});function Iu(e){return null!==e&&"object"==typeof e&&TI in e}function wr(e){return"function"==typeof e}const Au=new L("Set Injector scope."),Sa={},xI={};let Tu;function Ma(){return void 0===Tu&&(Tu=new Su),Tu}class Bt{}class ci extends Bt{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,xu(t,s=>this.processProvider(s)),this.records.set(Im,ui(void 0,this)),i.has("environment")&&this.records.set(Bt,ui(void 0,this));const o=this.records.get(Au);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Am.multi,ue,ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=Zn(this),r=gt(void 0);try{return t()}finally{Zn(n),gt(r)}}get(t,n=no,r=ne.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(yp))return t[yp](this);r=$s(r);const o=Zn(this),s=gt(void 0);try{if(!(r&ne.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function FI(e){return"function"==typeof e||"object"==typeof e&&e instanceof L}(t)&&Ls(t);l=c&&this.injectableDefInScope(c)?ui(ku(t),Sa):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(r&ne.Self?Ma():this.parent).get(t,n=r&ne.Optional&&n===no?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[js]=a[js]||[]).unshift(je(t)),o)throw a;return function kS(e,t,n,r){const i=e[js];throw t[pp]&&i.unshift(t[pp]),e.message=function xS(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=je(t);if(Array.isArray(t))i=t.map(je).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):je(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(SS,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[js]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{gt(s),Zn(o)}}resolveInjectorInitializers(){const t=Zn(this),n=gt(void 0);try{const i=this.get(xo.multi,ue,ne.Self);for(const o of i)o()}finally{Zn(t),gt(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(je(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new M(205,!1)}processProvider(t){let n=wr(t=q(t))?t:q(t&&t.provide);const r=function OI(e){return Iu(e)?ui(void 0,e.useValue):ui(function Rm(e,t,n){let r;if(wr(e)){const i=q(e);return vr(i)||ku(i)}if(Iu(e))r=()=>q(e.useValue);else if(function Om(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Mc(e.deps||[]));else if(function Nm(e){return!(!e||!e.useExisting)}(e))r=()=>U(q(e.useExisting));else{const i=q(e&&(e.useClass||e.provide));if(!function RI(e){return!!e.deps}(e))return vr(i)||ku(i);r=()=>new i(...Mc(e.deps))}return r}(e),Sa)}(t);if(wr(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=ui(void 0,Sa,!0),i.factory=()=>Mc(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Sa&&(n.value=xI,n.value=n.factory()),"object"==typeof n.value&&n.value&&function PI(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=q(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function ku(e){const t=Ls(e),n=null!==t?t.factory:vr(e);if(null!==n)return n;if(e instanceof L)throw new M(204,!1);if(e instanceof Function)return function NI(e){const t=e.length;if(t>0)throw function Do(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new M(204,!1);const n=function DS(e){return e&&(e[Bs]||e[up])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new M(204,!1)}function ui(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function xu(e,t){for(const n of e)Array.isArray(n)?xu(n,t):n&&yc(n)?xu(n.\u0275providers,t):t(n)}const Ia=new L("AppId",{providedIn:"root",factory:()=>LI}),LI="ng",Pm=new L("Platform Initializer"),di=new L("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Fm=new L("CSP nonce",{providedIn:"root",factory:()=>function ai(){if(void 0!==_u)return _u;if(typeof document<"u")return document;throw new M(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Lm=(e,t,n)=>null;function Bu(e,t,n=!1){return Lm(e,t,n)}class WI{}class jm{}class YI{resolveComponentFactory(t){throw function ZI(e){const t=Error(`No component factory found for ${je(e)}.`);return t.ngComponent=e,t}(t)}}let Oa=(()=>{class e{static#e=this.NULL=new YI}return e})();function QI(){return pi(Xe(),D())}function pi(e,t){return new Tt(_t(e,t))}let Tt=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=QI}return e})();class Hm{}let Rn=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function XI(){const e=D(),n=It(Xe().index,e);return(vt(n)?n:e)[Q]}()}return e})(),JI=(()=>{class e{static#e=this.\u0275prov=H({token:e,providedIn:"root",factory:()=>null})}return e})();class Ro{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const eA=new Ro("16.2.12"),Hu={};function qm(e,t=null,n=null,r){const i=Wm(e,t,n,r);return i.resolveInjectorInitializers(),i}function Wm(e,t=null,n=null,r,i=new Set){const o=[n||ue,AI(e)];return r=r||("object"==typeof e?void 0:je(e)),new ci(o,t||Ma(),r||null,i)}let kt=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=no;static#t=this.NULL=new Su;static create(n,r){if(Array.isArray(n))return qm({name:""},r,n,"");{const i=n.name??"";return qm({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=H({token:e,providedIn:"any",factory:()=>U(Im)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function zu(e){return e.ngOriginalError}class Pn{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&zu(t);for(;n&&zu(n);)n=zu(n);return n||null}}function qu(e){return t=>{setTimeout(e,void 0,t)}}const ve=class aA extends Wt{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&"object"==typeof t){const l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=qu(o),i&&(i=qu(i)),s&&(s=qu(s)));const a=super.subscribe({next:i,error:o,complete:s});return t instanceof Et&&t.add(a),a}};function Ym(...e){}class be{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ve(!1),this.onMicrotaskEmpty=new ve(!1),this.onStable=new ve(!1),this.onError=new ve(!1),typeof Zone>"u")throw new M(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function lA(){const e="function"==typeof we.requestAnimationFrame;let t=we[e?"requestAnimationFrame":"setTimeout"],n=we[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function dA(e){const t=()=>{!function uA(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(we,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Zu(e),e.isCheckStableRunning=!0,Wu(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Zu(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function hA(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return Qm(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),Km(e)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return Qm(e),n.invoke(i,o,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),Km(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,Zu(e),Wu(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!be.isInAngularZone())throw new M(909,!1)}static assertNotInAngularZone(){if(be.isInAngularZone())throw new M(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,cA,Ym,Ym);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const cA={};function Wu(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Zu(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Qm(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Km(e){e._nesting--,Wu(e)}class fA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ve,this.onMicrotaskEmpty=new ve,this.onStable=new ve,this.onError=new ve}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const Xm=new L("",{providedIn:"root",factory:Jm});function Jm(){const e=O(be);let t=!0;return function dS(...e){const t=to(e),n=function iS(e,t){return"number"==typeof hc(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?bt(r[0]):Lr(n)(qe(r,t)):cn}(new Fe(i=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(t),i.complete()})}),new Fe(i=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});const s=e.onUnstable.subscribe(()=>{be.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(ap()))}function Fn(e){return e instanceof Function?e():e}let Yu=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=H({token:e,providedIn:"root",factory:()=>new e})}return e})();function Po(e){for(;e;){e[X]|=64;const t=bo(e);if(Nc(e)&&!t)return e;e=t}return null}const iy=new L("",{providedIn:"root",factory:()=>!1});let Pa=null;function ly(e,t){return e[t]??dy()}function cy(e,t){const n=dy();n.producerNode?.length&&(e[t]=Pa,n.lView=e,Pa=uy())}const EA={...Rp,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Po(e.lView)},lView:null};function uy(){return Object.create(EA)}function dy(){return Pa??=uy(),Pa}const K={};function b(e){fy(ce(),D(),ct()+e,!1)}function fy(e,t,n,r){if(!r)if(3==(3&t[X])){const o=e.preOrderCheckHooks;null!==o&&Xs(t,o,n)}else{const o=e.preOrderHooks;null!==o&&Js(t,o,0,n)}_r(n)}function I(e,t=ne.Default){const n=D();return null===n?U(e,t):Sg(Xe(),n,q(e),t)}function Fa(e,t,n,r,i,o,s,a,l,c,u){const d=t.blueprint.slice();return d[ke]=i,d[X]=140|r,(null!==c||e&&2048&e[X])&&(d[X]|=2048),eg(d),d[Ie]=d[Hr]=e,d[Ne]=n,d[$r]=s||e&&e[$r],d[Q]=a||e&&e[Q],d[Yn]=l||e&&e[Yn]||null,d[et]=o,d[co]=function kM(){return TM++}(),d[kn]=u,d[kp]=c,d[Oe]=2==t.type?e[Oe]:d,d}function yi(e,t,n,r,i){let o=e.data[t];if(null===o)o=function Qu(e,t,n,r,i){const o=sg(),s=jc(),l=e.data[t]=function xA(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return function Wr(){return null!==G.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(e,t,n,r,i),function T0(){return G.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function go(){const e=G.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return mn(o,!0),o}function Fo(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function py(e,t,n,r,i){const o=ly(t,uo),s=ct(),a=2&r;try{_r(-1),a&&t.length>re&&fy(e,t,re,!1),gn(a?2:0,i);const c=a?o:null,u=Rc(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{Pc(c,u)}}finally{a&&null===t[uo]&&cy(t,uo),_r(s),gn(a?3:1,i)}}function Ku(e,t,n){if(xc(t)){const r=Ft(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{Ft(r)}}}function Xu(e,t,n){og()&&(function VA(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;yr(n)&&function GA(e,t,n){const r=_t(t,e),i=gy(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=La(e,Fa(e,i,null,s,r,t,null,e[$r].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||ta(n,t),tt(r,t);const s=n.initialInputs;for(let a=i;a<o;a++){const l=e.data[a],c=Cr(t,e,a,n);tt(c,t),null!==s&&qA(0,a-i,c,l,0,s),Kt(l)&&(It(n.index,t)[Ne]=Cr(t,e,a,n))}}(e,t,n,_t(n,t)),64==(64&n.flags)&&Cy(e,t,n))}function Ju(e,t,n=_t){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}function gy(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=ed(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function ed(e,t,n,r,i,o,s,a,l,c,u){const d=re+r,f=d+i,h=function SA(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:K);return n}(d,f),p="function"==typeof c?c():c;return h[N]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}let my=e=>null;function yy(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const o=e[i];null===r?vy(n,t,i,o):r.hasOwnProperty(i)&&vy(n,t,r[i],o)}return n}function vy(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function xt(e,t,n,r,i,o,s,a){const l=_t(t,n);let u,c=t.inputs;!a&&null!=c&&(u=c[r])?(od(e,n,u,r,i),yr(t)&&function RA(e,t){const n=It(t,e);16&n[X]||(n[X]|=64)}(n,t.index)):3&t.type&&(r=function OA(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,t.value||"",r):i,o.setProperty(l,r,i))}function td(e,t,n,r){if(og()){const i=null===r?null:{"":-1},o=function jA(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(bp(t,s.selectors,!1))if(r||(r=[]),Kt(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),nd(e,t,a.length)}else r.unshift(s),nd(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&_y(e,t,n,s,i,a),i&&function $A(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new M(-301,!1);r.push(t[i],o)}}}(n,r,i)}n.mergedAttrs=oo(n.mergedAttrs,n.attrs)}function _y(e,t,n,r,i,o){for(let c=0;c<r.length;c++)Xc(ta(n,t),e,r[c].type);!function UA(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=Fo(e,t,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];n.mergedAttrs=oo(n.mergedAttrs,u.hostAttrs),zA(e,n,t,l,u),HA(l,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}!function NA(e,t,n){const i=t.directiveEnd,o=e.data,s=t.attrs,a=[];let l=null,c=null;for(let u=t.directiveStart;u<i;u++){const d=o[u],f=n?n.get(d):null,p=f?f.outputs:null;l=yy(d.inputs,u,l,f?f.inputs:null),c=yy(d.outputs,u,c,p);const m=null===l||null===s||Ep(t)?null:WA(l,u,s);a.push(m)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(e,n,o)}function Cy(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function x0(){return G.lFrame.currentDirectiveIndex}();try{_r(o);for(let a=r;a<i;a++){const l=e.data[a],c=t[a];Hc(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&BA(l,c)}}finally{_r(-1),Hc(s)}}function BA(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function nd(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function HA(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Kt(t)&&(n[""]=e)}}function zA(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=vr(i.type)),s=new mo(o,Kt(i),I);e.blueprint[r]=s,n[r]=s,function FA(e,t,n,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function LA(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(e,t,r,Fo(e,n,i.hostVars,K),i)}function qA(e,t,n,r,i,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)Dy(r,n,s[a++],s[a++],s[a++])}function Dy(e,t,n,r,i){const o=Ft(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(t,i)),null!==e.setInput?e.setInput(t,i,n,r):t[r]=i}finally{Ft(o)}}function WA(e,t,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function wy(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function Ey(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=e.data[o];zc(n[r]),s.contentQueries(2,t[o],o)}}}function La(e,t){return e[ao]?e[Tp][Qt]=t:e[ao]=t,e[Tp]=t,t}function id(e,t,n){zc(0);const r=Ft(null);try{t(e,n)}finally{Ft(r)}}function Iy(e,t){const n=e[Yn],r=n?n.get(Pn,null):null;r&&r.handleError(t)}function od(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];Dy(e.data[s],t[s],r,a,i)}}function Ln(e,t,n){const r=Ys(t,e);!function tm(e,t,n){e.setValue(t,n)}(e[Q],r,n)}function ZA(e,t){const n=It(t,e),r=n[N];!function YA(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[ke];null!==i&&null===n[kn]&&(n[kn]=Bu(i,n[Yn])),sd(r,n,n[Ne])}function sd(e,t,n){Gc(t);try{const r=e.viewQuery;null!==r&&id(1,r,n);const i=e.template;null!==i&&py(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Ey(e,t),e.staticViewQueries&&id(2,e.viewQuery,n);const o=e.components;null!==o&&function QA(e,t){for(let n=0;n<t.length;n++)ZA(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[X]&=-5,qc()}}let Ay=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function a0(e,t,n){const r=Object.create(l0);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>Vp(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Bp(r))return;r.hasRun=!0;const s=Rc(r);try{r.cleanupFn(),r.cleanupFn=Wp,r.fn(i)}finally{Pc(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(n,c=>{this.all.has(c)&&this.queue.set(c,o)},i);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=H({token:e,providedIn:"root",factory:()=>new e})}return e})();function Va(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=gc(i,a):2==o&&(r=gc(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function Lo(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];null!==o&&r.push(Ee(o)),at(o)&&Ty(o,r);const s=n.type;if(8&s)Lo(e,t,n.child,r);else if(32&s){const a=uu(n,t);let l;for(;l=a();)r.push(l)}else if(16&s){const a=um(t,n);if(Array.isArray(a))r.push(...a);else{const l=bo(t[Oe]);Lo(l[N],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Ty(e,t){for(let n=Qe;n<e.length;n++){const r=e[n],i=r[N].firstChild;null!==i&&Lo(r[N],r,i,t)}e[pn]!==e[ke]&&t.push(e[pn])}function Ba(e,t,n,r=!0){const i=t[$r],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{ky(e,t,e.template,n)}catch(l){throw r&&Iy(t,l),l}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function ky(e,t,n,r){const i=t[X];if(256!=(256&i)){t[$r].effectManager?.flush(),Gc(t);try{eg(t),function lg(e){return G.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&py(e,t,n,2,r);const s=3==(3&i);if(s){const c=e.preOrderCheckHooks;null!==c&&Xs(t,c,null)}else{const c=e.preOrderHooks;null!==c&&Js(t,c,0,null),Wc(t,0)}if(function JA(e){for(let t=Xg(e);null!==t;t=Jg(t)){if(!t[xp])continue;const n=t[zr];for(let r=0;r<n.length;r++){v0(n[r])}}}(t),xy(t,2),null!==e.contentQueries&&Ey(e,t),s){const c=e.contentCheckHooks;null!==c&&Xs(t,c)}else{const c=e.contentHooks;null!==c&&Js(t,c,1),Wc(t,1)}!function bA(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=ly(t,fo);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)_r(~o);else{const s=o,a=n[++i],l=n[++i];k0(a,s),r.dirty=!1;const c=Rc(r);try{l(2,t[s])}finally{Pc(r,c)}}}}finally{null===t[fo]&&cy(t,fo),_r(-1)}}(e,t);const a=e.components;null!==a&&Oy(t,a,0);const l=e.viewQuery;if(null!==l&&id(2,l,r),s){const c=e.viewCheckHooks;null!==c&&Xs(t,c)}else{const c=e.viewHooks;null!==c&&Js(t,c,2),Wc(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[X]&=-73,tg(t)}finally{qc()}}}function xy(e,t){for(let n=Xg(e);null!==n;n=Jg(n))for(let r=Qe;r<n.length;r++)Ny(n[r],t)}function eT(e,t,n){Ny(It(t,e),n)}function Ny(e,t){if(!function m0(e){return 128==(128&e[X])}(e))return;const n=e[N],r=e[X];if(80&r&&0===t||1024&r||2===t)ky(n,e,n.template,e[Ne]);else if(e[so]>0){xy(e,1);const i=n.components;null!==i&&Oy(e,i,1)}}function Oy(e,t,n){for(let r=0;r<t.length;r++)eT(e,t[r],n)}class Vo{get rootNodes(){const t=this._lView,n=t[N];return Lo(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ne]}set context(t){this._lView[Ne]=t}get destroyed(){return 256==(256&this._lView[X])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Ie];if(at(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(ya(t,r),oa(n,r))}this._attachedToViewContainer=!1}fu(this._lView[N],this._lView)}onDestroy(t){!function rg(e,t){if(256==(256&e[X]))throw new M(911,!1);null===e[Qn]&&(e[Qn]=[]),e[Qn].push(t)}(this._lView,t)}markForCheck(){Po(this._cdRefInjectingView||this._lView)}detach(){this._lView[X]&=-129}reattach(){this._lView[X]|=128}detectChanges(){Ba(this._lView[N],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new M(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function zM(e,t){Mo(e,t,t[Q],2,null,null)}(this._lView[N],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new M(902,!1);this._appRef=t}}class tT extends Vo{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Ba(t[N],t,t[Ne],!1)}checkNoChanges(){}get context(){return null}}class Ry extends Oa{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=le(t);return new Bo(n,this.ngModule)}}function Py(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class rT{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=$s(r);const i=this.injector.get(t,Hu,r);return i!==Hu||n===Hu?i:this.parentInjector.get(t,n,r)}}class Bo extends jm{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=Py(t.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Py(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function $S(e){return e.map(jS).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=(i=i||this.ngModule)instanceof Bt?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new rT(t,o):t,a=s.get(Hm,null);if(null===a)throw new M(407,!1);const d={rendererFactory:a,sanitizer:s.get(JI,null),effectManager:s.get(Ay,null),afterRenderEventManager:s.get(Yu,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function MA(e,t,n,r){const o=r.get(iy,!1)||n===Zt.ShadowDom,s=e.selectRootElement(t,o);return function IA(e){my(e)}(s),s}(f,r,this.componentDef.encapsulation,s):ma(f,h,function nT(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(h)),S=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let y=null;null!==p&&(y=Bu(p,s,!0));const V=ed(0,null,null,1,0,null,null,null,null,null,null),$=Fa(null,V,null,S,null,null,d,f,s,null,y);let te,ot;Gc($);try{const ln=this.componentDef;let hr,ks=null;ln.findHostDirectiveDefs?(hr=[],ks=new Map,ln.findHostDirectiveDefs(ln,hr,ks),hr.push(ln)):hr=[ln];const hb=function oT(e,t){const n=e[N],r=re;return e[r]=t,yi(n,r,2,"#host",null)}($,p),Rh=function sT(e,t,n,r,i,o,s){const a=i[N];!function aT(e,t,n,r){for(const i of e)t.mergedAttrs=oo(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(Va(t,t.mergedAttrs,!0),null!==n&&pm(r,n,t))}(r,e,t,s);let l=null;null!==t&&(l=Bu(t,i[Yn]));const c=o.rendererFactory.createRenderer(t,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=Fa(i,gy(n),null,u,i[e.index],e,o,c,null,null,l);return a.firstCreatePass&&nd(a,e,r.length-1),La(i,d),i[e.index]=d}(hb,p,ln,hr,$,d,f);ot=Jp(V,re),p&&function cT(e,t,n,r){if(r)Tc(e,n,["ng-version",eA.full]);else{const{attrs:i,classes:o}=function HS(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Yt(i))break;i=o}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&Tc(e,n,i),o&&o.length>0&&hm(e,n,o.join(" "))}}(f,ln,p,r),void 0!==n&&function uT(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(ot,this.ngContentSelectors,n),te=function lT(e,t,n,r,i,o){const s=Xe(),a=i[N],l=_t(s,i);_y(a,i,s,n,null,r);for(let u=0;u<n.length;u++)tt(Cr(i,a,s.directiveStart+u,s),i);Cy(a,i,s),l&&tt(l,i);const c=Cr(i,a,s.directiveStart+s.componentOffset,s);if(e[Ne]=i[Ne]=c,null!==o)for(const u of o)u(c,t);return Ku(a,s,e),c}(Rh,ln,hr,ks,$,[dT]),sd(V,$,null)}finally{qc()}return new iT(this.componentType,te,pi(ot,$),$,ot)}}class iT extends WI{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new tT(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const o=this._rootLView;od(o[N],o,i,t,n),this.previousInputValues.set(t,n),Po(It(this._tNode.index,o))}}get injector(){return new ut(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function dT(){const e=Xe();Ks(D()[N],e)}function $a(e){return!!ad(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function ad(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function _n(e,t,n){return e[t]=n}function jo(e,t){return e[t]}function nt(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Er(e,t,n,r){const i=nt(e,t,n);return nt(e,t+1,r)||i}function jt(e,t,n,r,i,o){const s=Er(e,t,n,r);return Er(e,t+2,i,o)||s}function _i(e,t,n,r){return nt(e,Zr(),n)?t+Y(n)+r:K}function Ci(e,t,n,r,i,o){const a=Er(e,function xn(){return G.lFrame.bindingIndex}(),n,i);return Nn(2),a?t+Y(n)+r+Y(i)+o:K}function j(e,t,n,r,i,o,s,a){const l=D(),c=ce(),u=e+re,d=c.firstCreatePass?function jT(e,t,n,r,i,o,s,a,l){const c=t.consts,u=yi(t,e,4,s||null,Xn(c,a));td(t,n,u,Xn(c,l)),Ks(t,u);const d=u.tView=ed(2,u,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,n,r,i,o,s):c.data[u];mn(d,!1);const f=Jy(c,l,d,e);Qs()&&_a(c,l,f,d),tt(f,l),La(l,l[u]=wy(f,l,f,d)),qs(d)&&Xu(c,l,d),null!=s&&Ju(l,d,a)}let Jy=function ev(e,t,n,r){return Jn(!0),t[Q].createComment("")};function hd(e){return function qr(e,t){return e[t]}(function A0(){return G.lFrame.contextLView}(),re+e)}function A(e,t,n){const r=D();return nt(r,Zr(),t)&&xt(ce(),Te(),r,e,t,r[Q],n,!1),A}function pd(e,t,n,r,i){const s=i?"class":"style";od(e,n,t.inputs[s],s,r)}function C(e,t,n,r){const i=D(),o=ce(),s=re+e,a=i[Q],l=o.firstCreatePass?function zT(e,t,n,r,i,o){const s=t.consts,l=yi(t,e,2,r,Xn(s,i));return td(t,n,l,Xn(s,o)),null!==l.attrs&&Va(l,l.attrs,!1),null!==l.mergedAttrs&&Va(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,o,i,t,n,r):o.data[s],c=tv(o,i,l,a,t,e);i[s]=c;const u=qs(l);return mn(l,!0),pm(a,c,l),32!=(32&l.flags)&&Qs()&&_a(o,i,c,l),0===function C0(){return G.lFrame.elementDepthCount}()&&tt(c,i),function D0(){G.lFrame.elementDepthCount++}(),u&&(Xu(o,i,l),Ku(o,l,i)),null!==r&&Ju(i,l),C}function w(){let e=Xe();jc()?function $c(){G.lFrame.isParent=!1}():(e=e.parent,mn(e,!1));const t=e;(function E0(e){return G.skipHydrationRootTNode===e})(t)&&function I0(){G.skipHydrationRootTNode=null}(),function w0(){G.lFrame.elementDepthCount--}();const n=ce();return n.firstCreatePass&&(Ks(n,e),xc(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function H0(e){return 0!=(8&e.flags)}(t)&&pd(n,t,D(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function U0(e){return 0!=(16&e.flags)}(t)&&pd(n,t,D(),t.stylesWithoutHost,!1),w}function se(e,t,n,r){return C(e,t,n,r),w(),se}let tv=(e,t,n,r,i,o)=>(Jn(!0),ma(r,i,function mg(){return G.lFrame.currentNamespace}()));function ze(){return D()}function zo(e){return!!e&&"function"==typeof e.then}function iv(e){return!!e&&"function"==typeof e.subscribe}function ie(e,t,n,r){const i=D(),o=ce(),s=Xe();return function sv(e,t,n,r,i,o,s){const a=qs(r),c=e.firstCreatePass&&function Sy(e){return e.cleanup||(e.cleanup=[])}(e),u=t[Ne],d=function by(e){return e[jr]||(e[jr]=[])}(t);let f=!0;if(3&r.type||s){const m=_t(r,t),_=s?s(m):m,S=d.length,y=s?$=>s(Ee($[r.index])):r.index;let V=null;if(!s&&a&&(V=function QT(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=t[jr],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==V)(V.__ngLastListenerFn__||V).__ngNextListenerFn__=o,V.__ngLastListenerFn__=o,f=!1;else{o=lv(r,t,u,o,!1);const $=n.listen(_,i,o);d.push(o,$),c&&c.push(i,y,S,S+1)}}else o=lv(r,t,u,o,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[i])){const m=p.length;if(m)for(let _=0;_<m;_+=2){const te=t[p[_]][p[_+1]].subscribe(o),ot=d.length;d.push(o,te),c&&c.push(i,r.index,ot,-(ot+1))}}}(o,i,i[Q],s,e,t,r),ie}function av(e,t,n,r){try{return gn(6,t,n),!1!==n(r)}catch(i){return Iy(e,i),!1}finally{gn(7,t,n)}}function lv(e,t,n,r,i){return function o(s){if(s===Function)return r;Po(e.componentOffset>-1?It(e.index,t):t);let l=av(t,n,r,s),c=o.__ngNextListenerFn__;for(;c;)l=av(t,n,c,s)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&s.preventDefault(),l}}function F(e=1){return function O0(e){return(G.lFrame.contextLView=function R0(e,t){for(;e>0;)t=t[Hr],e--;return t}(e,G.lFrame.contextLView))[Ne]}(e)}function Go(e,t,n){return yd(e,"",t,"",n),Go}function yd(e,t,n,r,i){const o=D(),s=_i(o,t,n,r);return s!==K&&xt(ce(),Te(),o,e,s,o[Q],i,!1),yd}function qa(e,t){return e<<17|t<<2}function nr(e){return e>>17&32767}function vd(e){return 2|e}function br(e){return(131068&e)>>2}function _d(e,t){return-131069&e|t<<2}function Cd(e){return 1|e}function yv(e,t,n,r,i){const o=e[n+1],s=null===t;let a=r?nr(o):br(o),l=!1;for(;0!==a&&(!1===l||s);){const u=e[a+1];o1(e[a],t)&&(l=!0,e[a+1]=r?Cd(u):vd(u)),a=r?nr(u):br(u)}l&&(e[n+1]=r?vd(o):Cd(o))}function o1(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&ni(e,t)>=0}function qo(e,t){return function Xt(e,t,n,r){const i=D(),o=ce(),s=Nn(2);o.firstUpdatePass&&function Mv(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[ct()],s=function Sv(e,t){return t>=e.expandoStartIndex}(e,n);(function kv(e,t){return 0!=(e.flags&(t?8:16))})(o,r)&&null===t&&!s&&(t=!1),t=function p1(e,t,n,r){const i=function Uc(e){const t=G.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Wo(n=Dd(null,e,t,n,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=Dd(i,e,t,n,r),null===o){let l=function g1(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==br(r))return e[nr(r)]}(e,t,r);void 0!==l&&Array.isArray(l)&&(l=Dd(null,e,t,l[1],r),l=Wo(l,t.attrs,r),function m1(e,t,n,r){e[nr(n?t.classBindings:t.styleBindings)]=r}(e,t,r,l))}else o=function y1(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=Wo(r,e[o].hostAttrs,n);return Wo(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function r1(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=nr(s),l=br(s);e[r]=n;let u,c=!1;if(Array.isArray(n)?(u=n[1],(null===u||ni(n,u)>0)&&(c=!0)):u=n,i)if(0!==l){const f=nr(e[a+1]);e[r+1]=qa(f,a),0!==f&&(e[f+1]=_d(e[f+1],r)),e[a+1]=function t1(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=qa(a,0),0!==a&&(e[a+1]=_d(e[a+1],r)),a=r;else e[r+1]=qa(l,0),0===a?a=r:e[l+1]=_d(e[l+1],r),l=r;c&&(e[r+1]=vd(e[r+1])),yv(e,u,r,!0),yv(e,u,r,!1),function i1(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&ni(o,t)>=0&&(n[r+1]=Cd(n[r+1]))}(t,u,e,r,o),s=qa(a,l),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}(o,e,s,r),t!==K&&nt(i,s,t)&&function Av(e,t,n,r,i,o,s,a){if(!(3&t.type))return;const l=e.data,c=l[a+1],u=function n1(e){return 1==(1&e)}(c)?Tv(l,t,n,i,br(c),s):void 0;Wa(u)||(Wa(o)||function e1(e){return 2==(2&e)}(c)&&(o=Tv(l,null,n,i,a,s)),function eI(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:er.DashCase;null==i?e.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=er.Important),e.setStyle(n,r,i,o))}}(r,s,Ys(ct(),n),i,o))}(o,o.data[ct()],i,i[Q],e,i[s+1]=function D1(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=je(tr(e)))),e}(t,n),r,s)}(e,t,null,!0),qo}function Dd(e,t,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],r=Wo(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Wo(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),At(e,s,!!n||t[++o]))}return void 0===e?null:e}function Tv(e,t,n,r,i,o){const s=null===t;let a;for(;i>0;){const l=e[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let f=n[i+1];f===K&&(f=d?ue:void 0);let h=d?tu(f,r):u===r?f:void 0;if(c&&!Wa(h)&&(h=tu(l,r)),Wa(h)&&(a=h,s))return a;const p=e[i+1];i=s?nr(p):br(p)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=tu(l,r))}return a}function Wa(e){return void 0!==e}function T(e,t=""){const n=D(),r=ce(),i=e+re,o=r.firstCreatePass?yi(r,i,1,t,null):r.data[i],s=xv(r,n,o,t,e);n[i]=s,Qs()&&_a(r,n,s,o),mn(o,!1)}let xv=(e,t,n,r,i)=>(Jn(!0),function ga(e,t){return e.createText(t)}(t[Q],r));function Ai(e){return Re("",e,""),Ai}function Re(e,t,n){const r=D(),i=_i(r,e,t,n);return i!==K&&Ln(r,ct(),i),Re}function wd(e,t,n,r,i){const o=D(),s=Ci(o,e,t,n,r,i);return s!==K&&Ln(o,ct(),s),wd}const ki="en-US";let Xv=ki;class Mr{}class b_{}class Td extends Mr{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ry(this);const i=Mt(t);this._bootstrapComponents=Fn(i.bootstrap),this._r3Injector=Wm(t,n,[{provide:Mr,useValue:this},{provide:Oa,useValue:this.componentFactoryResolver},...r],je(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class kd extends b_{constructor(t){super(),this.moduleType=t}create(t){return new Td(this.moduleType,t,[])}}class S_ extends Mr{constructor(t){super(),this.componentFactoryResolver=new Ry(this),this.instance=null;const n=new ci([...t.providers,{provide:Mr,useValue:this},{provide:Oa,useValue:this.componentFactoryResolver}],t.parent||Ma(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function xd(e,t,n=null){return new S_({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let Gk=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=km(0,n.type),i=r.length>0?xd([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=H({token:e,providedIn:"environment",factory:()=>new e(U(Bt))})}return e})();function M_(e){e.getStandaloneInjector=t=>t.get(Gk).getOrCreateStandaloneInjector(e)}function Xa(e,t,n){const r=lt()+e,i=D();return i[r]===K?_n(i,r,n?t.call(n):t()):jo(i,r)}function en(e,t,n,r){return function P_(e,t,n,r,i,o){const s=t+n;return nt(e,s,i)?_n(e,s+1,o?r.call(o,i):r(i)):Jo(e,s+1)}(D(),lt(),e,t,n,r)}function O_(e,t,n,r,i,o,s){return function V_(e,t,n,r,i,o,s,a,l){const c=t+n;return jt(e,c,i,o,s,a)?_n(e,c+4,l?r.call(l,i,o,s,a):r(i,o,s,a)):Jo(e,c+4)}(D(),lt(),e,t,n,r,i,o,s)}function Jo(e,t){const n=e[t];return n===K?void 0:n}function gx(e,t,n,r=!0){const i=t[N];if(function qM(e,t,n,r){const i=Qe+r,o=n.length;r>0&&(n[i-1][Qt]=t),r<o-Qe?(t[Qt]=n[i],xg(n,Qe+r,t)):(n.push(t),t[Qt]=null),t[Ie]=n;const s=t[lo];null!==s&&n!==s&&function WM(e,t){const n=e[zr];t[Oe]!==t[Ie][Ie][Oe]&&(e[xp]=!0),null===n?e[zr]=[t]:n.push(t)}(s,t);const a=t[hn];null!==a&&a.insertView(e),t[X]|=128}(i,t,e,n),r){const o=mu(n,e),s=t[Q],a=va(s,e[pn]);null!==a&&function UM(e,t,n,r,i,o){r[ke]=i,r[et]=t,Mo(e,r,n,1,i,o)}(i,e[et],s,t,a,o)}}Symbol;let Vn=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=vx}return e})();const mx=Vn,yx=class extends mx{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const i=function px(e,t,n,r){const i=t.tView,a=Fa(e,i,n,4096&e[X]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[lo]=e[t.index];const c=e[hn];return null!==c&&(a[hn]=c.createEmbeddedView(i)),sd(i,a,n),a}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:r});return new Vo(i)}};function vx(){return Ja(Xe(),D())}function Ja(e,t){return 4&e.type?new yx(t,e,pi(e,t)):null}let tn=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=bx}return e})();function bx(){return function q_(e,t){let n;const r=t[e.index];return at(r)?n=r:(n=wy(r,t,null,e),t[e.index]=n,La(t,n)),W_(n,t,e,r),new z_(n,e,t)}(Xe(),D())}const Sx=tn,z_=class extends Sx{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return pi(this._hostTNode,this._hostLView)}get injector(){return new ut(this._hostTNode,this._hostLView)}get parentInjector(){const t=na(this._hostTNode,this._hostLView);if(Yc(t)){const n=vo(t,this._hostLView),r=yo(t);return new ut(n[N].data[r+8],n)}return new ut(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=G_(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Qe}createEmbeddedView(t,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=t.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(t,n,r,i,o){const s=t&&!function Co(e){return"function"==typeof e}(t);let a;if(s)a=n;else{const m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef}const l=s?t:new Bo(le(t)),c=r||this.parentInjector;if(!o&&null==l.ngModule){const _=(s?c:this.parentInjector).get(Bt,null);_&&(o=_)}le(l.componentType??{});const h=l.create(c,i,null,o);return this.insertImpl(h.hostView,a,false),h}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const i=t._lView;if(function y0(e){return at(e[Ie])}(i)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const c=i[Ie],u=new z_(c,c[et],c[Ie]);u.detach(u.indexOf(t))}}const s=this._adjustIndex(n),a=this._lContainer;return gx(a,i,s,!r),t.attachToViewContainerRef(),xg(Rd(a),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=G_(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=ya(this._lContainer,n);r&&(oa(Rd(this._lContainer),n),fu(r[N],r))}detach(t){const n=this._adjustIndex(t,-1),r=ya(this._lContainer,n);return r&&null!=oa(Rd(this._lContainer),n)?new Vo(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function G_(e){return e[8]}function Rd(e){return e[8]||(e[8]=[])}let W_=function Z_(e,t,n,r){if(e[pn])return;let i;i=8&n.type?Ee(r):function Mx(e,t){const n=e[Q],r=n.createComment(""),i=_t(t,e);return Dr(n,va(n,i),r,function KM(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[pn]=i};function jd(e,t){return Ja(e,t)}const qd=new L("Application Initializer");let Wd=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=O(qd,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(zo(o))n.push(o);else if(iv(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),_C=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Bn=new L("LocaleId",{providedIn:"root",factory:()=>O(Bn,ne.Optional|ne.SkipSelf)||function nN(){return typeof $localize<"u"&&$localize.locale||ki}()});let CC=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Rt(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class oN{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let DC=(()=>{class e{compileModuleSync(n){return new kd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=Fn(Mt(n).declarations).reduce((s,a)=>{const l=le(a);return l&&s.push(new Bo(l)),s},[]);return new oN(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const SC=new L(""),rl=new L("");let Xd,Qd=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Xd||(function IN(e){Xd=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(U(be),U(Kd),U(rl))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac})}return e})(),Kd=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Xd?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),rr=null;const MC=new L("AllowMultipleToken"),Jd=new L("PlatformDestroyListeners"),ef=new L("appBootstrapListener");class AC{constructor(t,n){this.name=t,this.token=n}}function kC(e,t,n=[]){const r=`Platform: ${t}`,i=new L(r);return(o=[])=>{let s=tf();if(!s||s.injector.get(MC,!1)){const a=[...n,...o,{provide:i,useValue:!0}];e?e(a):function kN(e){if(rr&&!rr.get(MC,!1))throw new M(400,!1);(function IC(){!function t0(e){Up=e}(()=>{throw new M(600,!1)})})(),rr=e;const t=e.get(NC);(function TC(e){e.get(Pm,null)?.forEach(n=>n())})(e)}(function xC(e=[],t){return kt.create({name:t,providers:[{provide:Au,useValue:"platform"},{provide:Jd,useValue:new Set([()=>rr=null])},...e]})}(a,r))}return function NN(e){const t=tf();if(!t)throw new M(401,!1);return t}()}}function tf(){return rr?.get(NC)??null}let NC=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function ON(e="zone.js",t){return"noop"===e?new fA:"zone.js"===e?new be(t):e}(r?.ngZone,function OC(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function zk(e,t,n){return new Td(e,t,n)}(n.moduleType,this.injector,function VC(e){return[{provide:be,useFactory:e},{provide:xo,multi:!0,useFactory:()=>{const t=O(PN,{optional:!0});return()=>t.initialize()}},{provide:LC,useFactory:RN},{provide:Xm,useFactory:Jm}]}(()=>i)),s=o.injector.get(Pn,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{il(this._modules,o),a.unsubscribe()})}),function RC(e,t,n){try{const r=n();return zo(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(Wd);return a.runInitializers(),a.donePromise.then(()=>(function Jv(e){Pt(e,"Expected localeId to be defined"),"string"==typeof e&&(Xv=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Bn,ki)||ki),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=PC({},r);return function AN(e,t,n){const r=new kd(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(Oi);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new M(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new M(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Jd,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||e)(U(kt))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function PC(e,t){return Array.isArray(t)?t.reduce(PC,e):{...e,...t}}let Oi=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(LC),this.zoneIsStable=O(Xm),this.componentTypes=[],this.components=[],this.isStable=O(CC).hasPendingTasks.pipe(un(n=>n?Z(!1):this.zoneIsStable),function fS(e,t=qn){return e=e??hS,Be((n,r)=>{let i,o=!0;n.subscribe(Le(r,s=>{const a=t(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}(),ap()),this._injector=O(Bt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof jm;if(!this._injector.get(Wd).done)throw!i&&function Br(e){const t=le(e)||Ye(e)||st(e);return null!==t&&t.standalone}(n),new M(405,!1);let s;s=i?n:this._injector.get(Oa).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function TN(e){return e.isBoundToModule}(s)?void 0:this._injector.get(Mr),c=s.create(kt.NULL,[],r||s.selector,a),u=c.location.nativeElement,d=c.injector.get(SC,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),il(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new M(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;il(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(ef,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>il(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new M(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function il(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const LC=new L("",{providedIn:"root",factory:()=>O(Pn).handleError.bind(void 0)});function RN(){const e=O(be),t=O(Pn);return n=>e.runOutsideAngular(()=>t.handleError(n))}let PN=(()=>{class e{constructor(){this.zone=O(be),this.applicationRef=O(Oi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let ol=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=LN}return e})();function LN(e){return function VN(e,t,n){if(yr(e)&&!n){const r=It(e.index,t);return new Vo(r,r)}return 47&e.type?new Vo(t[Oe],t):null}(Xe(),D(),16==(16&e))}class HC{constructor(){}supports(t){return $a(t)}create(t){return new zN(t)}}const UN=(e,t)=>t;class zN{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||UN}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<zC(r,i,o)?n:r,a=zC(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,u=l-i;if(c!=u){for(let f=0;f<c;f++){const h=f<o.length?o[f]:o[f]=0,p=h+f;u<=p&&p<c&&(o[f]=h+1)}o[s.previousIndex]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!$a(t))throw new M(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function wT(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new GN(n,r),o,i),t}_verifyReinsertion(t,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new UC),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new UC),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class GN{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qN{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class UC{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new qN,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zC(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class GC{constructor(){}supports(t){return t instanceof Map||ad(t)}create(){return new WN}}class WN{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||ad(t)))throw new M(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new ZN(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class ZN{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function qC(){return new ll([new HC])}let ll=(()=>{class e{static#e=this.\u0275prov=H({token:e,providedIn:"root",factory:qC});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||qC()),deps:[[e,new la,new aa]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new M(901,!1)}}return e})();function WC(){return new rs([new GC])}let rs=(()=>{class e{static#e=this.\u0275prov=H({token:e,providedIn:"root",factory:WC});constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||WC()),deps:[[e,new la,new aa]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new M(901,!1)}}return e})();const KN=kC(null,"core",[]);let XN=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||e)(U(Oi))};static#t=this.\u0275mod=Tn({type:e});static#n=this.\u0275inj=dn({})}return e})(),cf=null;function ir(){return cf}class fO{}const $t=new L("DocumentToken");let uf=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=H({token:e,factory:function(){return O(pO)},providedIn:"platform"})}return e})();const hO=new L("Location Initialized");let pO=(()=>{class e extends uf{constructor(){super(),this._doc=O($t),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ir().getBaseHref(this._doc)}onPopState(n){const r=ir().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=ir().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=H({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function df(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function nD(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function jn(e){return e&&"?"!==e[0]?"?"+e:e}let Ar=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=H({token:e,factory:function(){return O(iD)},providedIn:"root"})}return e})();const rD=new L("appBaseHref");let iD=(()=>{class e extends Ar{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??O($t).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return df(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+jn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+jn(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+jn(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(U(uf),U(rD,8))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gO=(()=>{class e extends Ar{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=df(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+jn(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+jn(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(U(uf),U(rD,8))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac})}return e})(),ff=(()=>{class e{constructor(n){this._subject=new ve,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function vO(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(nD(oD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+jn(r))}normalize(n){return e.stripTrailingSlash(function yO(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,oD(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+jn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+jn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=jn;static#t=this.joinWithSlash=df;static#n=this.stripTrailingSlash=nD;static#r=this.\u0275fac=function(r){return new(r||e)(U(Ar))};static#i=this.\u0275prov=H({token:e,factory:function(){return function mO(){return new ff(U(Ar))}()},providedIn:"root"})}return e})();function oD(e){return e.replace(/\/index.html$/,"")}const wf=/\s+/,pD=[];let Ef=(()=>{class e{constructor(n,r,i,o){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=pD,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(wf):pD}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(wf):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(wf).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||e)(I(ll),I(rs),I(Tt),I(Rn))};static#t=this.\u0275dir=W({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return e})();class iR{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Tr=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new iR(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),mD(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{mD(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(I(tn),I(Vn),I(ll))};static#t=this.\u0275dir=W({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function mD(e,t){e.context.$implicit=t.item}let rn=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new oR,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){yD("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){yD("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(I(tn),I(Vn))};static#t=this.\u0275dir=W({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class oR{constructor(){this.$implicit=null,this.ngIf=null}}function yD(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${je(t)}'.`)}let Fi=(()=>{class e{constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){const[i,o]=n.split("."),s=-1===i.indexOf("-")?void 0:er.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static#e=this.\u0275fac=function(r){return new(r||e)(I(Tt),I(rs),I(Rn))};static#t=this.\u0275dir=W({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return e})(),xR=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Tn({type:e});static#n=this.\u0275inj=dn({})}return e})();function DD(e){return"server"===e}let PR=(()=>{class e{static#e=this.\u0275prov=H({token:e,providedIn:"root",factory:()=>new FR(U($t),window)})}return e})();class FR{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function LR(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class aP extends fO{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class kf extends aP{static makeCurrent(){!function dO(e){cf||(cf=e)}(new kf)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function lP(){return as=as||document.querySelector("base"),as?as.getAttribute("href"):null}();return null==n?null:function cP(e){wl=wl||document.createElement("a"),wl.setAttribute("href",e);const t=wl.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){as=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function nR(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let wl,as=null,dP=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac})}return e})();const xf=new L("EventManagerPlugins");let MD=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new M(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||e)(U(xf),U(be))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac})}return e})();class ID{constructor(t){this._doc=t}}const Nf="ng-app-id";let AD=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=DD(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Nf}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Nf),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Nf,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||e)(U($t),U(Ia),U(Fm,8),U(di))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac})}return e})();const Of={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Rf=/%COMP%/g,gP=new L("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function kD(e,t){return t.map(n=>n.replace(Rf,e))}let xD=(()=>{class e{constructor(n,r,i,o,s,a,l,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=DD(a),this.defaultRenderer=new Pf(n,s,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Zt.ShadowDom&&(r={...r,encapsulation:Zt.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof OD?i.applyToHost(n):i instanceof Ff&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Zt.Emulated:o=new OD(l,c,r,this.appId,u,s,a,d);break;case Zt.ShadowDom:return new _P(l,c,n,r,s,a,this.nonce,d);default:o=new Ff(l,c,r,u,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(U(MD),U(AD),U(Ia),U(gP),U($t),U(di),U(be),U(Fm))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac})}return e})();class Pf{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Of[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(ND(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(ND(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new M(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=Of[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=Of[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(er.DashCase|er.Important)?t.style.setProperty(n,r,i&er.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&er.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=ir().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function ND(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class _P extends Pf{constructor(t,n,r,i,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=kD(i.id,i.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ff extends Pf{constructor(t,n,r,i,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?kD(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class OD extends Ff{constructor(t,n,r,i,o,s,a,l){const c=i+"-"+r.id;super(t,n,r,o,s,a,l,c),this.contentAttr=function mP(e){return"_ngcontent-%COMP%".replace(Rf,e)}(c),this.hostAttr=function yP(e){return"_nghost-%COMP%".replace(Rf,e)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let CP=(()=>{class e extends ID{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||e)(U($t))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac})}return e})();const RD=["alt","control","meta","shift"],DP={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wP={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let EP=(()=>{class e extends ID{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ir().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),RD.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=DP[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),RD.forEach(s=>{s!==i&&(0,wP[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||e)(U($t))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac})}return e})();const IP=kC(KN,"browser",[{provide:di,useValue:"browser"},{provide:Pm,useValue:function bP(){kf.makeCurrent()},multi:!0},{provide:$t,useFactory:function MP(){return function oI(e){_u=e}(document),document},deps:[]}]),AP=new L(""),LD=[{provide:rl,useClass:class uP{addToWindow(t){we.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new M(5103,!1);return o},we.getAllAngularTestabilities=()=>t.getAllTestabilities(),we.getAllAngularRootElements=()=>t.getAllRootElements(),we.frameworkStabilizers||(we.frameworkStabilizers=[]),we.frameworkStabilizers.push(r=>{const i=we.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?ir().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:SC,useClass:Qd,deps:[be,Kd,rl]},{provide:Qd,useClass:Qd,deps:[be,Kd,rl]}],VD=[{provide:Au,useValue:"root"},{provide:Pn,useFactory:function SP(){return new Pn},deps:[]},{provide:xf,useClass:CP,multi:!0,deps:[$t,be,di]},{provide:xf,useClass:EP,multi:!0,deps:[$t]},xD,AD,MD,{provide:Hm,useExisting:xD},{provide:class VR{},useClass:dP,deps:[]},[]];let TP=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Ia,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||e)(U(AP,12))};static#t=this.\u0275mod=Tn({type:e});static#n=this.\u0275inj=dn({providers:[...VD,...LD],imports:[xR,XN]})}return e})(),BD=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||e)(U($t))};static#t=this.\u0275prov=H({token:e,factory:function(r){let i=null;return i=r?new r:function xP(){return new BD(U($t))}(),i},providedIn:"root"})}return e})();typeof window<"u"&&window;var R=function(e){return e[e.Instant=0]="Instant",e[e.Dodge=1]="Dodge",e[e.Engineer=2]="Engineer",e[e.Repair=3]="Repair",e[e.Flying=4]="Flying",e[e.Slow=5]="Slow",e[e.Fast=6]="Fast",e[e.Pacifist=7]="Pacifist",e[e.Sentry=8]="Sentry",e[e.Siege=9]="Siege",e[e.Momentum=10]="Momentum",e[e.Sharpen=11]="Sharpen",e[e.Armorer=12]="Armorer",e[e.Rascal=13]="Rascal",e[e.Medic=14]="Medic",e[e.Regenerate=15]="Regenerate",e}(R||{}),E=function(e){return e[e.Sun=0]="Sun",e[e.Earth=1]="Earth",e[e.Sky=2]="Sky",e[e.Neptune=3]="Neptune",e[e.MoonAndStars=4]="MoonAndStars",e[e.Colorless=5]="Colorless",e[e.Any=6]="Any",e}(E||{}),ae=function(e){return e[e.None=0]="None",e[e.Attackers=1]="Attackers",e[e.Blockers=2]="Blockers",e[e.Main1=3]="Main1",e[e.Main2=4]="Main2",e[e.Start=5]="Start",e[e.DrawStep=6]="DrawStep",e[e.EndTurn=7]="EndTurn",e[e.DrawCard=8]="DrawCard",e[e.Attack=9]="Attack",e[e.Block=10]="Block",e[e.Unblocked=11]="Unblocked",e[e.Blocked=12]="Blocked",e[e.Enters=13]="Enters",e[e.Dies=14]="Dies",e[e.Awake=15]="Awake",e[e.Income=16]="Income",e[e.Exiled=17]="Exiled",e[e.Discarded=18]="Discarded",e[e.Mill=19]="Mill",e[e.WallRepair=20]="WallRepair",e[e.Any=21]="Any",e[e.SpellCast=22]="SpellCast",e[e.CreatureCast=23]="CreatureCast",e[e.MineCase=24]="MineCase",e[e.FortificationCast=25]="FortificationCast",e}(ae||{}),g=function(e){return e[e.Any=0]="Any",e[e.Opponent=1]="Opponent",e[e.Self=2]="Self",e}(g||{}),x=function(e){return e[e.Creature=0]="Creature",e[e.Tech=1]="Tech",e[e.Mine=2]="Mine",e[e.Wall=3]="Wall",e[e.Attachment=4]="Attachment",e[e.Spell=5]="Spell",e[e.Player=6]="Player",e[e.Hoard=7]="Hoard",e[e.Permanent=8]="Permanent",e[e.Fortification=9]="Fortification",e[e.Any=10]="Any",e}(x||{}),oe=function(e){return e[e.Single=0]="Single",e[e.Multiple=1]="Multiple",e[e.All=2]="All",e}(oe||{}),J=function(e){return e[e.start=0]="start",e[e.main=1]="main",e[e.main2=2]="main2",e[e.attackers=3]="attackers",e[e.blockers=4]="blockers",e[e.end=5]="end",e[e.combatResults=6]="combatResults",e[e.combatCleanup=7]="combatCleanup",e}(J||{}),v=function(e){return e[e.hand=0]="hand",e[e.play=1]="play",e[e.discard=2]="discard",e[e.exile=3]="exile",e[e.deck=4]="deck",e[e.any=5]="any",e}(v||{}),P=function(e){return e[e.Gold=0]="Gold",e[e.Ruby=1]="Ruby",e[e.Emerald=2]="Emerald",e[e.Sapphire=3]="Sapphire",e[e.Topaz=4]="Topaz",e[e.LionEye=5]="LionEye",e}(P||{});class sn{constructor(t,n,r,i,o,s,a,l,c){this.effects=[],this.allowedTargets=[x.Creature],this.allowedZones=[],this.targetNumber=1,this.possibleTargets=[],this.target=null,this.allEffectsToOne=!1,this.name=t,this.description=n,this.allowedTargets=r,this.targetNumber=s,this.effects=a,this.allowedZones=o,this.allowedPlayer=i,this.cardService=l,void 0!==c&&(this.allEffectsToOne=c)}checkConditions(){return!0}undoEffects(){throw new Error("Method not implemented.")}checkTargetValid(t){return this.allowedTargets.includes(t)}setTargetByIndex(t){if(this.possibleTargets.length>0&&t<this.possibleTargets.length&&t>=0){let n=this.possibleTargets[t];this.checkTargetValid(n.type)&&(this.target=n)}}doEffects(){for(let t=0;t<this.effects.length;t++)this.effects[t].doEffect()}}class zt{constructor(t,n,r,i){this.zoneAffected=v.play,this.effects=t,this.name=n,this.cardService=r,this.description=i}checkConditions(){return!0}undoEffects(){throw new Error("Method not implemented.")}doEffects(){for(let t=0;t<this.effects.length;t++)this.effects[t].doEffect()}undoAll(){for(let t=0;t<this.effects.length;t++)this.effects[t].undoEffect()}}class Li{constructor(t,n,r,i,o,s,a){this.triggerZones=[],this.effects=t,this.name=n,this.description=r,this.triggerTimes=i,this.cardService=o,this.controller=void 0===s?g.Any:s,void 0===a?this.triggerZones.push(v.play):this.triggerZones=a}checkConditions(){return!0}undoEffects(){throw new Error("Method not implemented.")}checkTriggers(t,n){void 0===n&&(n=g.Any);let r=this.controller===n||this.controller===g.Any,i=this.triggerTimes.includes(t);r&&i&&this.doEffects()}doEffects(){for(let t=0;t<this.effects.length;t++)this.effects[t].doEffect()}}class We{constructor(t,n,r,i){this.effects=t,this.name=n,this.description=r,this.cardService=i}checkConditions(){return!0}undoEffects(){throw new Error("Method not implemented.")}doEffects(){for(let t=0;t<this.effects.length;t++)this.effects[t].doEffect()}}class UD{constructor(t,n,r,i,o){this.display=!1,this.effects=t,this.name=n,this.description=r,this.cardService=i,this.cards=o}checkConditions(){return!0}selectCard(t){return this.display=!1,this.cards[t]}doEffects(){this.display=!0,this.cardService.pickAbility.push(this)}undoEffects(){throw new Error("Method not implemented.")}}class ls{convertToCreature(t){return t}convertToMine(t){return t}convertToSpell(t){return t}convertToTech(t){return t}}class zD{constructor(t,n,r,i,o,s,a,l){this.type=x.Any,this.hover=!1,this.turned=!1,this.instant=!1,this.currentEffects=[],this.name=t,this.cost=n,this.image=r,this.text=i,this.abilities=void 0!==l?l:[],this.owner=o,this.zone=s,this.faction=a}hasTargetedAbility(){return this.abilities.filter(n=>n instanceof sn).length>0}hasStaticAbility(){return this.abilities.filter(n=>n instanceof zt).length>0}getStaticAbilities(){return this.abilities.filter(t=>t instanceof zt)}processAbilities(t){for(let n=0;n<this.abilities.length;n++){let r=this.abilities[n];r instanceof zt?t.intialApplyStaticAbilities(r):r instanceof We&&r.doEffects()}}shouldDie(){return!0}}class B{constructor(t,n,r,i,o,s,a,l,c,u,d,f,h,p){this.hover=!1,this.type=x.Creature,this.turned=!1,this.attacking=!1,this.blocking=!1,this.blocked=!1,this.selected=!1,this.instant=!1,this.awake=!0,this.firstTurn=!0,this.currentEffects=[],this.keywords=[],this.repairAmount=0,this.isMinion=!1,this.resist=0,this.dodgeAmount=0,this.attack=n,this.baseAttack=n,this.hp=t,this.baseHp=t,this.speed=r,this.baseSpeed=r,this.name=i,this.cost=o,this.image=s,this.text=a,this.abilities=void 0!==f?f:[],this.keywords=void 0!==h?h:[],this.keywords.includes(R.Slow)&&(this.speed=0),this.keywords.includes(R.Fast)&&(this.firstTurn=!1),this.instant=l,this.owner=c,this.zone=u,this.faction=d,void 0!==p&&(this.isMinion=p)}hasStaticAbility(){return this.abilities.filter(n=>n instanceof zt).length>0}getStaticAbilities(){return this.abilities.filter(t=>t instanceof zt)}shouldDie(){return this.hp>0}resetStats(){this.hp=this.baseHp,this.attack=this.baseAttack,this.speed=this.baseSpeed}heal(){this.hp<this.baseHp&&(this.hp=this.baseHp)}processAbilities(t){for(let n=0;n<this.abilities.length;n++){let r=this.abilities[n];r instanceof zt?t.intialApplyStaticAbilities(r):r instanceof We&&r.doEffects()}}hasTargetedAbility(){return this.abilities.filter(n=>n instanceof sn).length>0}setSlow(){this.speed=0,this.keywords.push(R.Slow)}isAlive(){return this.hp>0}resetHp(){this.hp=this.baseHp}addEffect(t){throw new Error("Method not implemented.")}removeEffect(t){throw new Error("Method not implemented.")}runEffects(){}canBlock(){return!1===this.turned&&!1===this.blocking}}class Ot extends zD{constructor(t,n,r,i,o,s,a,l,c){super(t,n,r,i,a,l,c,o),this.type=x.Spell,this.targets=[],this.text=i,this.instant=s}shouldDie(){return!0}runEffects(t){for(let n=0;n<this.abilities.length;n++);}resolve(){}}class Vf{constructor(t){this.hp=30,this.alive=!0,this.type=x.Wall,this.hp=t}isAlive(){return this.alive=this.hp>0,this.alive}takeDamage(t){this.hp-=t,this.hp<0&&(this.hp=0),this.isAlive()}}class LP extends zD{constructor(t,n,r,i,o,s,a,l){super(t,n,r,i,o,s,a,l),this.type=x.Fortification}wallIsAlive(t){return t.playerService.getPlayer(this.owner)[0].wall.hp>0}runEffects(){for(let t=0;t<this.abilities.length;t++)this.abilities[t].doEffects()}undoEffects(){for(let t=0;t<this.abilities.length;t++)this.abilities[t].undoEffects()}}class El{constructor(t,n,r,i,o,s,a,l,c){this.type=x.Mine,this.hover=!1,this.turned=!1,this.instant=!1,this.currentEffects=[],this.name=t,this.cost=n,this.incomeBag=r,this.image=i,this.text=o,this.abilities=void 0!==c?c:[],this.owner=s,this.zone=a,this.faction=l,this.incomeBag=r}hasStaticAbility(){return this.abilities.filter(n=>n instanceof zt).length>0}getStaticAbilities(){return this.abilities.filter(t=>t instanceof zt)}shouldDie(){return!1}processAbilities(t){throw new Error("Method not implemented.")}hasTargetedAbility(){return this.abilities.filter(n=>n instanceof sn).length>0}mine(t){t.gold+=this.incomeBag.gold,t.ruby+=this.incomeBag.ruby,t.emerald+=this.incomeBag.emerald,t.sapphire+=this.incomeBag.sapphire,t.lionsEye+=this.incomeBag.lionsEye,t.topaz+=this.incomeBag.topaz}addEffect(t){throw new Error("Method not implemented.")}removeEffect(t){throw new Error("Method not implemented.")}runEffects(){throw new Error("Method not implemented.")}}class k{constructor(t,n,r,i,o,s){this.gold=1,this.ruby=0,this.sapphire=0,this.emerald=0,this.lionsEye=0,this.topaz=0,void 0!==t&&(this.gold=t),void 0!==n&&(this.ruby=n),void 0!==r&&(this.sapphire=r),void 0!==i&&(this.emerald=i),void 0!==o&&(this.lionsEye=o),void 0!==s&&(this.topaz=s)}getTotalCost(){return this.gold+this.ruby+this.emerald+this.sapphire+this.lionsEye+this.topaz}getGemCost(){return this.getTotalCost()-this.gold}canAfford(t){return this.gold>=t.gold&&this.ruby>=t.ruby&&this.sapphire>=t.sapphire&&this.emerald>=t.emerald&&this.lionsEye>=t.lionsEye&&this.topaz>=t.topaz}subtractCost(t){this.canAfford(t)&&(this.gold-=t.gold,this.ruby-=t.ruby,this.emerald-=t.emerald,this.sapphire-=t.sapphire,this.lionsEye-=t.lionsEye,this.topaz-=t.topaz)}addBag(t){this.gold+=t.gold,this.ruby+=t.ruby,this.emerald+=t.emerald,this.lionsEye+=t.lionsEye,this.sapphire+=t.sapphire,this.topaz+=t.topaz}addSingle(t,n){switch(t){case P.Gold:this.gold+=n;break;case P.Emerald:this.emerald+=n;break;case P.Ruby:this.ruby+=n;break;case P.LionEye:this.lionsEye+=n;break;case P.Sapphire:this.sapphire+=n;break;case P.Topaz:this.topaz+=n;break;default:this.gold+=n}}getValue(t){switch(t){case P.Gold:return this.gold;case P.Emerald:return this.emerald;case P.Ruby:return this.ruby;case P.LionEye:return this.lionsEye;case P.Sapphire:return this.sapphire;case P.Topaz:return this.topaz;default:return this.gold}}isEmpty(){return this.gold<=0&&this.ruby<=0&&this.sapphire<=0&&this.emerald<=0&&this.lionsEye<=0&&this.topaz<=0}getImage(t){let n="assets/";switch(t){case P.Gold:return n+"Coin.png";case P.Emerald:return n+"Emerald.png";case P.Ruby:return n+"Ruby.png";case P.LionEye:return n+"eye.png";case P.Sapphire:return n+"Saphire.png";case P.Topaz:return n+"topaz.png"}}getTypes(){let t=[];return this.gold>0&&t.push(P.Gold),this.ruby>0&&t.push(P.Ruby),this.emerald>0&&t.push(P.Emerald),this.topaz>0&&t.push(P.Topaz),this.lionsEye>0&&t.push(P.LionEye),this.sapphire>0&&t.push(P.Sapphire),t}}class Bf{getFaction(t){switch(t){case P.Gold:return E.Colorless;case P.Emerald:return E.Earth;case P.Ruby:return E.Sun;case P.LionEye:return E.MoonAndStars;case P.Sapphire:return E.Neptune;case P.Topaz:return E.Sky;default:return E.Colorless}}getGem(t){switch(t){case E.Colorless:return P.Gold;case E.Earth:return P.Emerald;case E.Sky:return P.Topaz;case E.MoonAndStars:return P.LionEye;case E.Neptune:return P.Sapphire;case E.Sun:return P.Ruby;default:return P.Gold}}}class Un{constructor(t){this.isAi=!1,this.name="human",this.hp=40,this.drawPerTurn=1,this.attacking=!1,this.pickingBlockers=!1,this.showFights=!1,this.defending=!1,this.targeting=!1,this.possibleTargets=[],this.wall=new Vf(20),this.staticAbilities=[],this.cardConverter=new ls,this.gembag=new k(2,0,0,0,0,0),this.incomeBag=new k(0,0,0,0,0,0),this.currentEffects=[],this.mineLimits=1,this.minesPlayed=0,this.effectStack=[],this.pickStack=[],this.controller=g.Self,this.stopPhases=!1,this.relics=[],this.cardService=t;let n=new El("Small Mine",new k(1,0,0,0,0,0),new k(1,0,0,0,0,0),"","Produces 1 gold per turn",g.Self,v.play,E.Colorless);t.cardList.push(n),this.incomeBag.addBag(n.incomeBag),this.gembag.gold=3}applyStaticAbilities(){for(let t=0;t<this.staticAbilities.length;t++)this.staticAbilities[t].doEffects()}getAllCards(){return this.cardService.getCards(v.any,this.controller)}checkIfPlayable(t,n){let i,r=this.cardService.getCards(v.hand,g.Self,x.Any);if(t instanceof El&&this.minesPlayed>=this.mineLimits)return!1;r.includes(t)||(i=!1);let o=this.gembag.canAfford(t.cost);return!!o&&(!!t.instant||!(!o||n.currentPhase!==J.main&&n.currentPhase!==J.main2||n.currentTurn!==this))}playCard(t,n){if(this.checkIfPlayable(t,n)){if(this.gembag.subtractCost(t.cost),[x.Creature,x.Wall,x.Mine,x.Fortification,x.Tech].includes(t.type)){let i=this.cardService.getCardIndex(t);this.cardService.setCardZone(i,v.play),t.type===x.Mine&&(this.incomeBag.addBag(t.incomeBag),this.minesPlayed++)}else t.type===x.Spell&&this.playSpell(t,n);t.type===x.Fortification&&(this.wall.isAlive()?(this.applyExistingAbilities(t),this.cardService.checkTriggers(ae.Enters)):this.wall.hp+=t.cost.getTotalCost()),t.type!==x.Fortification&&(this.applyExistingAbilities(t),this.cardService.checkTriggers(ae.Enters)),t.type!==x.Tech&&this.processAbilities(t)}}playSpell(t,n){this.cardService.checkTriggers(ae.SpellCast),this.cardService.setCardZoneByCard(t,v.discard)}processAbilities(t){for(let n=0;n<t.abilities.length;n++){let r=t.abilities[n];if(r instanceof sn){let i=r;for(let o=0;o<i.effects.length;o++){let s=i.effects[o];if(s.targeting.random){let a=s.targeting.getRandomTargetSingle();s.doEffectSingle(a)}else this.effectStack.push(s)}}else r instanceof UD?this.pickStack.push(...r.cards):r instanceof zt?this.cardService.intialApplyStaticAbilities(r):r instanceof Li?this.cardService.triggeredEffects.push(r):r instanceof We&&(console.log(r),r.doEffects())}}applyExistingAbilities(t){for(let n=0;this.cardService.staticEffects.length>n;n++){let r=this.cardService.staticEffects[n];console.log(r),r.doEffects()}}killCardByIndex(t){this.cardService.setCardZone(t,v.discard)}killCardBySearch(t){let n=this.cardService.getCardIndex(t);this.cardService.setCardZone(n,v.discard)}getMines(){return this.cardService.getCards(v.play,g.Self,x.Mine)}earnIncome(){this.gembag.addBag(this.incomeBag)}normalDraw(t){let n=this.cardService.getCards(v.deck,g.Self,x.Any);if(n.length>=this.drawPerTurn)for(let r=0;r<this.drawPerTurn;r++)n[r].zone=v.play,this.cardService.checkTriggers(ae.DrawCard)}drawCards(t){let n=this.cardService.getCards(v.deck,g.Self,x.Any);if(n.length>=t)for(let r=0;r<t;r++){let i=n[r];console.log(t),i.zone=v.hand,this.cardService.checkTriggers(ae.DrawCard)}}canAttack(){let t;t=this.cardService.getCreatures(this.isAi?g.Opponent:g.Self);let n=t.length>0;if(console.log(n),console.log(t),this.isAi)return n;for(let r=0;r<t.length;r++){let i=t[r];if(i.awake&&!i.firstTurn)return!0}return!1}getAttackers(){let t=this.cardService.getCreatures(g.Self).filter(n=>n.attacking);for(let n=0;n<t.length;n++){let r=t[n];r.attacking&&(r.awake=!1)}return t}attack(){this.cardService.checkTriggers(ae.Attack),this.attacking=!0}defend(){this.defending=!0}clearCombat(){this.defending=!1,this.attacking=!1;let t=this.cardService.getCreatures(g.Any);for(let n=0;n<t.length;n++){let r=t[n];r.attacking=!1,r.blocked=!1,r.blocking=!1}this.checkDead()}doneDefending(){this.defending=!1}doneAttacking(){this.attacking=!1}dealDamage(t){let n=this.getAttackersUnblocked(),r=0,i=0;for(let o=0;o<n.length;o++){let s=n[o];s.keywords.includes(R.Flying)?i+=s.attack:r+=s.attack}if(t.isAi){let o=t;o.millCard(i),o.wall.isAlive()?o.wall.hp-=r:o.millCard(r)}else{let o=t;o.hp-=i,o.takeDamage(r)}}takeDamage(t){this.wall.isAlive()?this.wall.hp-=t:this.hp-=t}getAttackersUnblocked(){let t=[],n=this.cardService.getCreatures(g.Self),r=[];for(let i=0;i<n.length;i++)r.push(n[i]);for(let i=0;i<r.length;i++){let o=r[i];o.attacking&&!o.blocked&&t.push(o)}return t}resetMines(){this.minesPlayed=0}checkDead(){let t=this.getCreatures().filter(n=>!n.isAlive());for(let n=0;n<t.length;n++){let r=t[n];r.isAlive()||(r.zone=v.discard,this.cardService.checkTriggers(ae.Dies))}}isAlive(){return this.cardService.getCards(v.deck,g.Self,x.Any).length>0&&this.hp>0}getCreatures(){return this.cardService.getCards(v.play,this.controller,x.Creature)}getHand(){return this.cardService.getCards(v.hand,g.Self,x.Any)}awakeAll(){let t=this.getCreatures();for(let n=0;n<t.length;n++)t[n].turned=!1,t[n].awake=!0,t[n].firstTurn=!1}getBlockers(){return this.hasBlockers()?this.getCreatures().filter(n=>n.awake):[]}hasBlockers(){let t=this.getCreatures();return 0!==t.length&&t.filter(r=>r.awake).length>0}hasMedic(){let t=this.getCreatures();for(let n=0;n<t.length;n++)if(t[n].keywords.includes(R.Medic))return!0;return!1}}class Vi extends Un{constructor(t){super(t),this.currentSpell=null,this.currentTargets=[],this.isAi=!0,this.name="Hoard",this.controller=g.Opponent,this.wall=new Vf(10)}playCards(){let t=this.cardService.getCards(v.deck,g.Opponent,x.Any);if(t.length>0){let n=t[0];if(console.log(n),n.type===x.Creature){let r=n;r.firstTurn=!1;let i=this.cardService.getCardIndex(n);this.cardService.setCardZone(i,v.play),r.isMinion&&this.playCards()}else n.type===x.Spell&&(this.currentSpell=n,this.stopPhases=!0)}}runCurrentSpell(){this.currentSpell&&this.currentSpell.processAbilities(this.cardService),this.cardService.setCardZoneByCard(this.currentSpell,v.discard),this.currentSpell=null,this.stopPhases=!1}millCard(t){let n=this.cardService.getCards(v.deck,g.Opponent,x.Any);t>n.length&&(t=n.length);for(let r=0;r<t;r++)n[r].zone=v.discard}attack(){let t=this.cardService.getCreatures(g.Opponent);this.attacking=!0;for(let n=0;n<t.length;n++)t[n].turned=!0,t[n].attacking=!0,t[n].awake=!1}getAttackers(){return this.cardService.getCreatures(g.Opponent)}getAttackersUnblocked(){let t=[],n=this.cardService.getCreatures(g.Opponent);for(let r=0;r<n.length;r++){let i=n[r];i.attacking&&!i.blocked&&t.push(i)}return t}takeDamage(t){this.wall.isAlive()?this.wall.hp-=t:this.millCard(t)}defend(){let t=this.cardService.getCreatures(g.Self).filter(i=>i.attacking),n=0;for(let i=0;i<t.length;i++)n+=t[i].attack;let r=this.cardService.getCards(v.deck,g.Opponent,x.Any);r.length>n&&(n=r.length);for(let i=0;i<n;i++)r.pop()}isAlive(){return 0===this.cardService.getCards(v.deck,g.Opponent,x.Any).length}}class VP{copyBag(t){return new k(t.gold,t.ruby,t.sapphire,t.emerald,t.lionsEye,t.topaz)}copyCreature(t){return new B(t.hp,t.hp,t.speed,t.name,this.copyBag(t.cost),t.image,t.text,t.instant,t.owner,t.zone,t.faction,t.abilities,t.keywords,t.isMinion)}}function bl(e,t){return Math.floor(Math.random()*(t-e))+e}class Gt{constructor(t,n,r,i,o,s,a,l,c){this.displayCards=!1,this.playerTargets=[],this.random=!1,this.cardService=t,this.quan=n,this.types=r,this.zones=i,this.controller=o,this.targetsPlayer=s,this.targetsCards=a,void 0!==l&&(this.random=l),this.targetsWall=void 0!==c&&c}getWall(){let t=[],n=this.cardService.playerService.getPlayer(g.Any);for(let r=0;r<n.length;r++)t.push(n[r].wall);return t}getPlayer(){return this.playerTargets=[],this.targetsPlayer&&(this.playerTargets=this.cardService.playerService.getPlayer(oe.Single===this.quan?this.controller:g.Any)),this.playerTargets}getRandomTargetSingle(){let t=[],n=[];this.targetsPlayer&&(t=this.getPlayer()),this.targetsCards&&(n=this.cardService.getTargets(this));let r=[...t,...n];console.log(r);let i=bl(0,r.length-1);return console.log(r[i]),r[i]}isValidTarget(t){if(t instanceof B||t instanceof El){let n=t,r=this.zones.includes(n.zone),i=this.types.includes(n.type);return r&&i&&(n.owner===this.controller||this.controller===g.Any)}if(t instanceof Un){if(this.types.includes(x.Player)&&(this.controller===g.Self||this.controller===g.Any))return!0}else if(t instanceof Vi&&this.types.includes(x.Player)&&(this.controller===g.Opponent||this.controller===g.Any))return!0;return!1}getTarget(){let t=[];if(this.targetsCards){switch(t=this.cardService.getTargets(this),this.quan){case oe.Single:case oe.Multiple:this.displayCards=!0}this.targetsPlayer&&this.getPlayer()}return t}}class sr{constructor(t,n,r,i,o,s,a,l){this.name=t,this.speedDiff=n,this.hpDiff=r,this.attackDiff=i,this.cardService=o,void 0===l&&(l=!1),this.targeting=new Gt(o,a,[x.Creature],[v.play],s,!1,!0,l),this.controller=s}undoEffectSingle(t){let n=!t.currentEffects.includes(this),r=this.targeting.isValidTarget(t);if(n&&r){t.attack-=this.attackDiff,t.hp-=this.hpDiff,t.speed-=this.speedDiff;let i=t.currentEffects.indexOf(this);t.currentEffects.splice(i,1)}}doEffectSingle(t){let n=!t.currentEffects.includes(this),r=this.targeting.isValidTarget(t);n&&r&&(t.attack+=this.attackDiff,t.hp+=this.hpDiff,t.speed+=this.speedDiff,t.currentEffects.push(this),t.hp<=0&&this.cardService.setCardZoneByCard(t,v.discard))}doEffect(){let t=this.targeting.getTarget();if(this.targeting.quan===oe.All)for(let n=0;n<t.length;n++)this.doEffectSingle(t[n])}undoEffect(){let t=this.cardService.grabAffected(this);if(console.log(t),this.targeting.quan===oe.All){let n=t;for(let r=0;r<n.length;r++)this.undoEffectSingle(n[r])}}}class BP{constructor(t,n,r,i){this.name="Kill Creature",this.validTypes=[x.Creature],this.validController=n,this.cardService=t,this.targeting=new Gt(this.cardService,r,i,[v.play],n,!1,!0)}undoEffectSingle(t){throw new Error("Method not implemented.")}doEffectSingle(t){this.targeting.isValidTarget(t)&&this.cardService.setCardZoneByCard(t,v.discard)}undoEffect(){throw new Error("Method not implemented.")}doEffect(){let t=this.targeting.getTarget();for(let n=0;n<t.length;n++)this.doEffectSingle(t[n])}}class jP{constructor(t,n,r,i){this.name="Make creature",this.amount=1,this.objCopier=new VP,this.controller=t,this.cardService=n,this.creatureToMake=r,void 0!==i&&(this.amount=i),this.targeting=new Gt(this.cardService,oe.Single,[x.Player],[v.play],t,!0,!1)}undoEffectSingle(t){throw new Error("Method not implemented.")}doEffectSingle(t){let n=this.objCopier.copyCreature(this.creatureToMake);n.zone=v.play,this.cardService.cardList.push(n)}grabUnaffected(){throw new Error("Method not implemented.")}doEffect(){for(let t=0;t<this.amount;t++)this.doEffectSingle()}undoEffect(){throw new Error("Method not implemented.")}}class Sl{constructor(t,n,r){this.name="Add Gem",this.manaType=t,this.amount=n,this.cardService=r,this.targeting=new Gt(this.cardService,oe.Single,[x.Player],[],g.Self,!0,!1)}undoEffectSingle(t){throw new Error("Method not implemented.")}doEffectSingle(t){t.gembag.addSingle(this.manaType,this.amount)}grabUnaffected(){throw new Error("Method not implemented.")}doEffect(){let t=this.targeting.getPlayer();t[0]instanceof Un&&t[0].gembag.addSingle(this.manaType,this.amount)}undoEffect(){throw new Error("Method not implemented.")}}class $P{constructor(t,n,r){this.name="Add Random Gem",this.possibleManaTypes=t,this.amount=n,this.cardService=r,this.targeting=new Gt(this.cardService,oe.Single,[x.Player],[],g.Self,!0,!1)}undoEffectSingle(t){throw new Error("Method not implemented.")}doEffectSingle(t){throw new Error("Method not implemented.")}grabUnaffected(){throw new Error("Method not implemented.")}doEffect(){let t=this.targeting.getPlayer();if(t[0]instanceof Un){let n=this.rollRandomNumber(0,this.possibleManaTypes.length);t[0].gembag.addSingle(this.possibleManaTypes[n],this.amount)}}undoEffect(){throw new Error("Method not implemented.")}rollRandomNumber(t,n){return Math.floor(Math.random()*(n-t))+t}}class HP{constructor(t,n,r){this.name="Slow",this.cardService=t,this.targeting=new Gt(t,r,[x.Creature],[v.play],g.Any,!1,!0)}doEffect(){let t=this.targeting.getTarget();for(let n=0;n<t.length;n++)this.doEffectSingle(t[n])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(t){t instanceof B&&t.setSlow()}undoEffectSingle(t){throw new Error("Method not implemented.")}}class Ml{constructor(t,n,r,i,o,s,a){this.amount=1,this.name=`Deal ${this.amount} Damage`,this.amount=t,this.cardService=n,void 0===o&&(o=!1),void 0===s&&(s=!1),void 0===a&&(a=!0),this.targeting=new Gt(n,r,[x.Player,x.Creature],[v.play],i,s,a,o)}doEffect(){if(this.targeting.quan===oe.Single){if(this.targeting.random){let t=this.targeting.getRandomTargetSingle();this.doEffectSingle(t)}else if(this.targeting.targetsPlayer&&!this.targeting.targetsCards){let t=this.targeting.getPlayer();for(let n=0;n<t.length;n++)this.doEffectSingle(t[n])}}else if(this.targeting.quan===oe.All){let t=this.targeting.getTarget();for(let n=0;n<t.length;n++)this.doEffectSingle(t[n])}}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(t){if(console.log("hi"),t instanceof B){let n=t;n.hp-=this.amount,n.isAlive()||this.cardService.setCardZoneByCard(n,v.discard)}if(t instanceof Un&&(console.log(t),t.takeDamage(this.amount)),t instanceof Vf){let n=t;n.hp-=this.amount,n.hp<0&&(n.hp=0)}}undoEffectSingle(t){throw new Error("Method not implemented.")}}class kr{constructor(t,n,r,i,o){this.amount=1,this.name=t,this.cardService=n,this.targeting=new Gt(this.cardService,r,[x.Player],[v.play],i,!0,!1),void 0!==o&&(this.amount=o)}doEffect(){let t=this.targeting.getPlayer();for(let n=0;n<t.length;n++)this.doEffectSingle(t[0])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(t){if(t instanceof Un)t.drawCards(this.amount);else if(t instanceof Vi){let n=t;for(let r=0;r<this.amount;r++)n.playCards()}}undoEffectSingle(t){throw new Error("Method not implemented.")}}class UP{constructor(t,n,r,i){this.name=t,this.cardService=n,this.targeting=new Gt(this.cardService,i,[x.Creature],[v.play],r,!1,!0)}doEffect(){let t=this.targeting.getTarget();for(let n=0;n<t.length;n++)this.doEffectSingle(t[n])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(t){t instanceof B&&t.heal()}undoEffectSingle(t){throw new Error("Method not implemented.")}}class zP{constructor(t,n,r,i,o,s,a){this.validTypes=[x.Creature],this.name=t,this.validController=r,this.cardService=n,this.destinationZone=a,this.targeting=new Gt(this.cardService,i,o,s,r,!1,!0)}undoEffectSingle(t){throw new Error("Method not implemented.")}doEffectSingle(t){this.targeting.isValidTarget(t)&&(t.heal(),this.cardService.setCardZoneByCard(t,this.destinationZone))}undoEffect(){throw new Error("Method not implemented.")}doEffect(){let t=this.targeting.getTarget();for(let n=0;n<t.length;n++)this.doEffectSingle(t[n])}}class GP{constructor(t,n,r,i){this.name=t,this.cardService=n,this.targeting=new Gt(this.cardService,i,[x.Creature],[v.play],g.Self,!1,!0)}doEffect(){}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(t){t instanceof B&&(t.firstTurn=!1)}undoEffectSingle(t){}}class qP{constructor(t,n,r,i,o,s){this.name=t,this.cardService=n,this.targeting=new Gt(this.cardService,r,[x.Creature],i,o,!1,!0),this.keywords=s}doEffect(){let t=this.targeting.getTarget();for(let n=0;n<t.length;n++)this.doEffectSingle(t[n])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(t){if(t instanceof B){let n=t;for(let r=0;r<this.keywords.length;r++){let i=this.keywords[r];n.keywords.includes(i)||n.keywords.push(i)}}}undoEffectSingle(t){throw new Error("Method not implemented.")}}class WP{constructor(t,n,r,i){this.name=t,this.cardService=r,this.effects=n,this.targeting=i}doEffect(){let t=this.targeting.getTarget();for(let n=0;n<t.length;n++)this.doEffectSingle(t[n])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(t){for(let n=0;n<this.effects.length;n++)this.effects[n].doEffectSingle(t)}undoEffectSingle(t){throw new Error("Method not implemented.")}}class Il{constructor(t){this.cardDb=[],this.keywordMapper=new ZP,this.cardService=t}generateCardByName(t){return this.cardDb.find(n=>n.name===t)}getCard(t){}copyCard(t,n){}getDeck(t){}getMinesBulk(t,n){let r=[];for(let i=0;i<n;i++)r.push(this.generateBasicMine(t));return r}generateBasicMine(t){let n,r,i;switch(t){case P.Gold:n=new k(1,0,0,0,0,0),r=E.Colorless;break;case P.Emerald:n=new k(0,0,0,1,0,0),r=E.Earth;break;case P.Ruby:n=new k(0,1,0,0,0,0),r=E.Sun;break;case P.LionEye:n=new k(0,0,0,0,1,0),r=E.MoonAndStars;break;case P.Sapphire:n=new k(0,0,1,0,0,0),r=E.Neptune;break;case P.Topaz:n=new k(0,0,0,0,0,1),r=E.Sky;break;default:n=new k(1,0,0,0,0,0),r=E.Colorless}i=`add 1 ${P[t]} to your gem bag.`;let o=new We([new Sl(t,1,this.cardService)],"Add Gem","",this.cardService);return console.log(o),new El("Mine",new k(0,0,0,0,0,0),n,"",i,g.Self,v.deck,r,[o])}generateRandomCreature(t,n,r,i){let o=this.rollRandomNumber(1,n+1),s=this.rollRandomNumber(0,n+2)+1,a=this.rollRandomNumber(1,n+2),l=Math.ceil(.2*n),c=this.rollRandomNumber(l,n),d=new k(n-c,0,0,0,0,0);d.addSingle(t,c);let f=new Bf;return new B(s,o,a,"",d,"","",!1,r,i,f.getFaction(t))}genMultipleForFaction(t,n,r,i,o){let s=[];for(let a=0;a<o;a++)s.push(this.generateRandomCreatureForFaction(t,n,r,i));return s}generateRandomCreatureForFaction(t,n,r,i){let o=this.generateGemBag(n,t),a=(o.getGemCost(),t),l=1,c=t,u=1,d=t,h=this.generateKeywords(n,t,!1);switch(n){case E.Sun:u+=2,d+=2,a--;break;case E.Earth:a+=2,l+=2,d-=2}let p=this.rollRandomNumber(u,c),m=this.rollRandomNumber(l,a),_=this.rollRandomNumber(1,d);p<=0&&(p=1),m<=0&&(m=1),_<=0&&(_=1);let S=new B(m,p,_,"Test ",o,"","",!1,r,i,n,[],h);for(let y=0;y<h.length;y++)S.text+=R[h[y]],y<h.length-1&&(h[y]===R.Repair&&(S.repairAmount=bl(t-1,t+1),S.text+=S.repairAmount),S.text+=", ");return h.length<=0&&(S.text="No abilities"),S}generateKeywords(t,n,r){let i=[];if(r){let o=Object.values(R),s=bl(0,o.length-1);for(let a=0;a<s;a++){let l=bl(0,o.length);i.includes(o[l])?a--:i.push(o[l])}}else{let o=this.keywordMapper.getKeywords(t),s=n+this.rollRandomNumber(-1,1);s<0&&(s=0);for(let a=0;a<s;a++){let c=o[this.rollRandomNumber(0,o.length-1)];i.includes(c)||i.push(c)}}return i}generateAiMinion(t,n,r){let i=this.rollRandomNumber(1,n+1),o=this.rollRandomNumber(1,n+2),s=this.rollRandomNumber(0,n+2),a=new k(0,0,0,0,0,0),l=new Bf;return new B(o,i,s,"Minion",a,"","",!1,g.Opponent,r,l.getFaction(t),[],[],!0)}generateAiBasicMinion(t,n,r){let i=new k(0,0,0,0,0,0),o=new Bf;return new B(n,n,n,"Minion",i,"","",!1,g.Opponent,r,o.getFaction(t),[],[],!0)}generateGemBag(t,n){let r,i=this.rollRandomNumber(1,n),o=n-i;switch(t){case E.Colorless:r=new k(i+o,0,0,0,0,0);break;case E.Earth:r=new k(i,0,0,o,0,0);break;case E.Sun:r=new k(i,o,0,0,0,0);break;case E.Sky:r=new k(i,0,0,0,o,0);break;case E.Neptune:r=new k(i,0,o,0,0,0);break;case E.MoonAndStars:r=new k(i,0,0,0,0,o);break;default:r=new k(i+n,0,0,0,0,0)}return r}rollRandomNumber(t,n){return Math.floor(Math.random()*(n-t))+t}}class GD{constructor(t,n){this.faction=t,this.keywords=n}}class ZP{constructor(){this.items=[],this.items=[new GD(E.Sun,[R.Fast,R.Dodge,R.Momentum,R.Sharpen,R.Siege,R.Flying,R.Rascal]),new GD(E.Earth,[R.Armorer,R.Dodge,R.Engineer,R.Siege,R.Repair])]}getKeywords(t){let n=[];return n=this.items.filter(i=>i.faction===t)[0].keywords,n}}class YP{constructor(t,n){this.player=t,this.opponent=n}getPlayer(t){return t===g.Any?[this.player,this.opponent]:t===g.Opponent?[this.opponent]:[this.player]}}class QP{constructor(){this.cardList=[],this.staticEffects=[],this.triggeredEffects=[],this.pickAbility=[],this.playerService={},this.getEnemyDeck(),this.shuffleDeck(this.cardList)}getPlayerDeck(){let t=new Il(this),n=new Il(this),r=new zt([new sr("buff",0,2,2,this,g.Self,oe.All)],"buff",this,"+1/+3/+0 all creatures you control");this.cardList.push(new B(5,7,3,"Dwarf Commander",new k(4,0,0,1,0,0),"","Creatures you control get +2/+2/+0",!1,g.Self,v.deck,E.Earth,[r])),this.cardList.push(n.generateRandomCreatureForFaction(3,E.Earth,g.Self,v.deck)),this.cardList.push(n.generateRandomCreatureForFaction(6,E.Earth,g.Self,v.deck));for(let o=0;o<4;o++){let s=new B(1,2,1,"Dwarf Engineer",new k(0,0,0,1),"","Repair 3 - Repairs owners wall each turn by 3 hp",!1,g.Self,v.deck,E.Earth,[],[R.Repair]);s.repairAmount=3;let a=new B(3,3,1,"Dwarf Sapper",new k(0,0,0,2),"","Siege - double damage against walls",!1,g.Self,v.deck,E.Earth,[],[R.Siege]),l=new B(8,5,2,"Dwarf Infantry",new k(1,0,0,2),"","",!1,g.Self,v.deck,E.Earth),c=new Sl(P.Gold,1,this),u=new We([c],"Add 1 gold on enter","",this),d=new B(1,2,4,"Rogue for Hire",new k(1),"","Gain 1 gold on enter",!0,g.Self,v.deck,E.Colorless,[u]),f=new $P([P.Emerald,P.Gold],1,this),p=(new Li([f],"","",[ae.Start],this),new B(3,3,3,"Battle Dwarf",new k(1,0,0,1,0,0),"assets//dwarf.png","",!1,g.Self,v.deck,E.Earth,[])),m=new B(1,3,1,"Engineer",new k(0,0,0,2,0,0),"black","Repair 5 - during each of your upkeeps, your wall gains 5hp.",!1,g.Self,v.deck,E.Earth,[],[R.Repair]);m.repairAmount=5,m.keywords.push(R.Repair),m.repairAmount=2;let _=new B(1,4,4,"Shortbow Archer",new k(2),"","",!1,g.Self,v.deck,E.Colorless),S=new kr("",this,oe.Single,g.Self,1),y=new We([S],"","",this),V=new B(2,1,2,"Fresh Scholar",new k(1),"","When this creature comes into play, draw a card",!1,g.Self,v.deck,E.Colorless,[y]),$=new kr("",this,oe.Single,g.Self,1),ot=(new Li([$],"","",[ae.Start],this),new sr("Lower Enemy Attack",0,0,-2,this,g.Opponent,oe.All)),ln=new zt([ot],"Lower all enemy attack",this,"Lower all enemy's attack by 2"),hr=new LP("Shimmer Stone",new k(2,0,0,2),"","All enemy Creatures get -2/-0/-0",g.Self,v.play,E.Earth,[ln]),ks=t.genMultipleForFaction(10,E.Earth,g.Self,v.exile,3);new UD([],"","",this,ks),this.cardList.push(_,V,hr,s,a);let Rh=new Sl(P.Emerald,2,this),WB=new We([Rh],"Add 2 emeralds on enter","",this),ZB=new B(2,3,1,"Verdant Warrior",new k(1,0,0,1),"","Adds 2 Emeralds on enter",!1,g.Self,v.deck,E.Earth,[WB]),YB=new B(3,1,3,"Scout",new k(2),"black","Instant: Maybe played at any time",!0,g.Self,v.deck,E.Colorless),QB=new B(8,4,1,"Heavy Armadillo",new k(3,0,0,1),"","Momentum - gain 1 speed at the start of your turn",!1,g.Self,v.deck,E.Earth,[],[R.Momentum]),KB=new B(4,3,5,"Stone Roc",new k(2,0,0,2),"","Sharpen - gains 1 attack at the start of your turn, Flying - may only be blocked by other fliers. Deals damage directly to players, going over walls.",!1,g.Self,v.deck,E.Earth,[],[R.Sharpen,R.Flying]),XB=new sr("Reduce HP and Speed",-3,-3,0,this,g.Any,oe.Single),JB=new sn("","",[x.Creature],g.Any,[v.play],1,[XB],this),ej=new Ot("Slow",new k(1,0,0,1),"","Target creature gets -0/-3/-3",[JB],!0,g.Self,v.deck,E.Earth),tj=new HP(this,g.Opponent,oe.All),nj=new We([tj],"","",this),rj=new Ot("Mass Slow",new k(3,0,0,2),"","Gives all enemy creatures slow, which permanently sets their speed to 0 and gives them the slow keyword",[nj],!1,g.Self,v.deck,E.Earth);this.cardList.push(YB,l,p,m,ZB,KB,QB,rj,d,ej)}let i=t.getMinesBulk(P.Emerald,5);for(let o=0;o<i.length;o++)0===o&&(i[o].zone=v.hand),this.cardList.push(i[o]);i=t.getMinesBulk(P.Gold,5);for(let o=0;o<i.length;o++)0===o&&(i[o].zone=v.hand),this.cardList.push(i[o])}getEnemyDeck(){for(let n=0;n<4;n++){let r=new B(4,5,2,"Ogre",new k(0,0,0,0,0,0),"","",!1,g.Opponent,v.deck,E.Sun),i=new B(2,2,2,"Goblin",new k(0,0,0,0,0,0),"","",!1,g.Opponent,v.deck,E.Sun),o=new B(8,3,2,"Siege Ram",new k(0,0,0,0,0,0),"","Siege - deals double damage to walls",!1,g.Opponent,v.deck,E.Sun,[],[R.Siege]),s=new B(1,4,1,"Goblin Charger",new k(0,0,0,0,0,0),"","Momentum - Gains 1 speed per turn",!1,g.Opponent,v.deck,E.Sun,[],[R.Momentum]),a=new B(2,4,3,"Seeker of the Sun",new k(0,3,0,0,0),"","Gets +1/+1/+1 the start of each hoard turn",!1,g.Opponent,v.deck,E.Sun,[],[R.Sharpen,R.Momentum,R.Armorer]),l=new Ml(3,this,oe.Single,g.Self,!0,!0,!0),c=new We([l],"Fire Bolt","",this),u=new Ot("Fire Bolt",new k(0,1),"","Deal 3 damage to a random enemy target ",[c],!1,g.Opponent,v.deck,E.Sun),d=new Ml(4,this,oe.All,g.Any,!0,!1,!0),f=new We([d],"","",this),h=new Ot("Fire Ball",new k(0,3),"","Deal 4 damage to all creatures ",[f],!1,g.Opponent,v.hand,E.Sun),p=new sr("",0,0,2,this,g.Opponent,oe.All),m=new zt([p],"",this,""),_=new B(3,3,5,"Fire Charger",new k(3,1),"","",!0,g.Opponent,v.deck,E.Sun,[m]),S=new sr("",3,0,3,this,g.Opponent,oe.Single,!0),y=new kr("",this,oe.Single,g.Opponent,1),$=(new We([S,y],"Boost!","",this),new B(5,5,3,"Great Dragon",new k(3,2),"","Flying, Sharpen",!1,g.Opponent,v.deck,E.Sun,[],[R.Sharpen,R.Flying])),te=new B(1,2,4,"Fire Wisp",new k(1,1),"","Flying - may only be blocked by other fliers. Ignores enemy walls and damages players directly",!1,g.Opponent,v.deck,E.Sun,[],[R.Flying]);this.cardList.push(r,i,o,h,_,s,a,$,te,u)}let t=new Il(this);for(let n=0;n<10;n++){let r=t.rollRandomNumber(1,3);this.cardList.push(t.generateAiMinion(P.Ruby,r,v.deck))}for(let n=0;n<10;n++){let r=t.rollRandomNumber(1,3);this.cardList.push(t.generateAiBasicMinion(P.Ruby,r,v.deck))}}makePlayerService(t,n){this.playerService=new YP(t,n)}getCount(t,n,r,i){return void 0===r&&(r=x.Any),void 0===n&&(n=g.Any),void 0===i&&(i=E.Any),void 0===t&&(t=v.any),this.getCards(t,n,r,i).length}countMultiple(t,n,r,i){let o=0;void 0===r&&(r=[x.Any]),void 0===n&&(n=g.Any),void 0===i&&(i=[E.Any]),void 0===t&&(t=[v.any]);for(const s of t)for(const a of i)for(const l of r)o+=this.getCount(s,n,l,a);return o}getCardsWithStatics(){return this.getCards().filter(n=>n.hasStaticAbility())}checkTriggers(t,n){if(void 0===n&&(n=g.Any),t===ae.Start){let i=this.getTechs();n!==g.Any&&(i=i.filter(o=>o.owner===n));for(let o=0;o<i.length;o++)i[o].incrementResearch()}let r=this.getCards(v.any,n,x.Any,E.Any);for(let i=0;i<r.length;i++){let o=r[i];for(let s=0;s<r.length;s++){let a=o.abilities[s];a instanceof Li&&a.triggerZones.includes(o.zone)&&a.checkTriggers(t,n)}}t===ae.Enters&&this.getCardsWithStatics()}intialApplyStaticAbilities(t){t.doEffects(),this.staticEffects.push(t)}staticDestroy(t){if(this.staticEffects.includes(t)){t.undoAll();let n=this.staticEffects.indexOf(t);this.staticEffects.splice(n,1)}}shuffleDeck(t){let r,n=t.length;for(;n>0;)r=Math.floor(Math.random()*n),n--,[t[n],t[r]]=[t[r],t[n]];return t}checkZoneTriggers(t,n){t===v.exile&&this.checkTriggers(ae.Exiled),n===v.play&&t===v.discard&&this.checkTriggers(ae.Dies),n===v.hand&&(t===v.play?this.checkTriggers(ae.Enters):t===v.discard&&this.checkTriggers(ae.Discarded)),n===v.deck&&t===v.discard&&this.checkTriggers(ae.Mill)}setCardZoneByCard(t,n){this.checkZoneTriggers(n,t.zone);for(let r=0;r<this.staticEffects.length;r++)this.staticEffects[r].undoAll();t.zone=n,t instanceof B&&(t.awake=!0)}setCardZone(t,n){let r=this.cardList[t];this.checkZoneTriggers(n,r.zone);for(let o=0;o<this.staticEffects.length;o++);this.cardList[t].zone=n,r instanceof B&&(r.awake=!0)}setCardZoneObj(t,n){let r=this.getCardIndex(t);r>=0&&r<this.cardList.length&&(this.cardList[r].zone=n)}setCardOwner(t,n){this.cardList[n].owner=t}getCardIndex(t){return this.cardList.findIndex(r=>r===t)}getCard(t){return this.cardList[t]}getCreatures(t){return this.getCards(v.play,t,x.Creature)}getTechs(t){return void 0===t&&(t=g.Any),this.getCards(v.play,t,x.Tech)}filterByKeyword(t,n){return void 0===n&&(n=g.Any),this.getCreatures(n).filter(i=>i.keywords.includes(t))}getCardsWithTriggers(t,n,r,i){return void 0===r&&(r=x.Any),void 0===n&&(n=g.Any),void 0===i&&(i=E.Any),void 0===t&&(t=v.any),this.getCards(t,n,r,i).filter(a=>a.abilities.filter(l=>l instanceof Li))}getCards(t,n,r,i){let o=[];void 0===r&&(r=x.Any),void 0===n&&(n=g.Any),void 0===i&&(i=E.Any),void 0===t&&(t=v.any);for(let s=0;s<this.cardList.length;s++){let a=this.cardList[s];(a.owner===n||n==g.Any)&&(a.zone===t||t===v.any)&&(r===a.type||r===x.Any)&&(i===a.faction||i===E.Any)&&o.push(a)}return o}getDeck(t){return this.cardList.filter(n=>n.owner==t&&n.zone==v.deck)}getTargets(t){let n=t.zones,r=t.controller,i=t.types,o=i.includes(x.Any),s=n.includes(v.any);o&&(i=Object.values(x)),s&&(n=Object.values(v));let a=[];for(let l=0;l<this.cardList.length;l++){let c=this.cardList[l],u=n.includes(c.zone),d=i.includes(c.type);u&&d&&(c.owner===r||r===g.Any)&&a.push(c)}return a}grabUnaffected(t,n){void 0===n&&(n=x.Any);let r=t.targeting.getTarget();console.log(t),n!==x.Any&&(r=r.filter(o=>o.type===n)),console.log(r);let i=r.filter(o=>!o.currentEffects.includes(t));return console.log(i),i}grabAffected(t,n){void 0===n&&(n=x.Any);let r=t.targeting.getTarget();return n!==x.Any&&(r=r.filter(o=>o.type===n)),r.filter(o=>o.currentEffects.includes(t))}}class KP{constructor(t){this.game=t}nextPhase(){this.game.currentTurn.isAi?this.handleAIPhases():this.handlePlayerPhases(),this.game.phaseDisplay=J[this.game.currentPhase]}handlePlayerPhases(){if(0===this.game.player.effectStack.length)switch(this.game.currentPhase){case J.start:this.game.currentPhase=J.main;break;case J.main:this.handleMainPhase();break;case J.attackers:this.game.currentPhase=J.blockers;break;case J.blockers:this.game.combatManager.runBlocks(),this.game.combatManager.runUnblocked(),this.game.combatManager.clearCombat(),this.game.currentPhase=J.main2;break;case J.main2:this.game.currentPhase=J.end,this.game.cardService.checkTriggers(ae.EndTurn,g.Self);break;case J.end:this.endTurn(),this.game.cardService.checkTriggers(ae.Start,g.Opponent),this.game.cardService.checkTriggers(ae.Awake,g.Opponent)}}handleAIPhases(){switch(this.game.currentPhase){case J.main:this.handleAIMainPhase();break;case J.attackers:this.game.player.hasBlockers()?this.game.currentPhase=J.blockers:(this.game.combatManager.runUnblocked(),this.game.combatManager.clearCombat(),this.game.currentPhase=J.end,this.game.cardService.checkTriggers(ae.EndTurn,g.Opponent));break;case J.blockers:this.game.currentPhase=J.combatResults,this.game.combatManager.runUnblocked(),this.game.combatManager.runBlocks();break;case J.combatResults:this.game.combatManager.clearCombat(),this.game.currentPhase=J.end,this.game.cardService.checkTriggers(ae.EndTurn,g.Opponent);break;case J.end:this.game.cardService.checkTriggers(ae.Start,g.Self),this.game.cardService.checkTriggers(ae.Awake,g.Opponent),this.endTurn()}}handleMainPhase(){this.game.currentTurn.canAttack()?(this.game.currentPhase=J.attackers,this.game.combatManager.runAttack()):this.game.currentPhase=J.end}handleAIMainPhase(){this.game.currentTurn.canAttack()?(this.game.currentPhase=J.attackers,this.game.combatManager.runAttack()):this.game.currentPhase=J.end}endTurn(){let t=this.game.player.getCreatures();for(let n=0;n<t.length;n++){let r=t[n];r.keywords.includes(R.Regenerate)&&r.heal()}this.game.currentTurn===this.game.player&&[J.main,J.main2,J.start,J.end].includes(this.game.currentPhase),this.game.currentPhase=J.main,this.game.phaseDisplay=J[this.game.currentPhase],this.swapCurrent(),this.runUpkeep()}runUpkeep(){this.game.currentTurn.awakeAll();const t=this.game.getCurrentTurnController();this.game.currentTurn instanceof Vi?this.game.processKeywords(g.Opponent,this.game.currentTurn.wall):this.game.currentTurn instanceof Un&&(this.game.player.minesPlayed=0,this.game.player.earnIncome(),this.game.processKeywords(g.Self,this.game.player.wall)),this.game.runDraw(),this.game.cardService.checkTriggers(ae.Awake,t)}swapCurrent(){this.game.currentTurn=this.game.currentTurn.controller===g.Opponent?this.game.player:this.game.enemy}passTurn(){this.game.currentTurn===this.game.player&&(this.game.currentPhase===J.main||this.game.currentPhase===J.main2||this.game.currentPhase===J.start)&&this.game.currentTurn===this.game.player&&(this.swapCurrent(),this.runUpkeep(),this.game.currentPhase=J.main,this.game.phaseDisplay=J[this.game.currentPhase])}}class XP{constructor(t,n){this.attacker={},this.blocker={},this.attacker=t,this.blocker=n}fight(){let t=this.attacker.keywords.includes(R.Dodge)&&this.attacker.dodgeAmount>0,n=this.blocker.keywords.includes(R.Dodge)&&this.blocker.dodgeAmount>0;this.attacker.speed>this.blocker.speed?(n?this.blocker.dodgeAmount--:this.blocker.hp-=this.attacker.attack,this.blocker.hp>0&&(t?this.attacker.dodgeAmount--:this.attacker.hp-=this.blocker.attack)):this.attacker.speed<this.blocker.speed?(t?this.attacker.dodgeAmount--:this.attacker.hp-=this.blocker.attack,this.attacker.hp>0&&(n?this.blocker.dodgeAmount--:this.blocker.hp-=this.attacker.attack)):(t?this.attacker.dodgeAmount--:this.attacker.hp-=this.blocker.attack,n?this.blocker.dodgeAmount--:this.blocker.hp-=this.attacker.attack)}}class JP{constructor(t){this.fights=[],this.selectedAttacker=null,this.selectedBlocker=null,this.game=t}inCombat(t){return t===J.attackers||t===J.blockers||t===J.combatCleanup}runAttack(){const t=this.game.getCurrentTurnController();this.game.cardService.checkTriggers(ae.Attack,t),this.game.currentTurn.isAi?(this.game.currentTurn.attack(),this.game.player.defend()):this.game.player.attack()}runBlocks(){let t=this.game.getCurrentTurnController()===g.Self?g.Opponent:g.Self;t=t===g.Opponent?g.Self:g.Opponent,this.runFights(),this.game.cardService.checkTriggers(ae.Blockers,t)}runFights(){for(let t=0;t<this.fights.length;t++)this.fights[t].fight()}runUnblocked(){this.game.currentTurn.isAi?this.game.enemy.dealDamage(this.game.player):this.game.player.dealDamage(this.game.enemy)}clearCombat(){this.game.player.clearCombat(),this.game.enemy.clearCombat(),this.clearFights()}isFighting(t){return this.fights.some(n=>n.attacker===t||n.blocker===t)}cancelFight(t){const n=this.fights.indexOf(t);n>=0&&this.fights.splice(n,1),this.selectedAttacker&&this.selectedBlocker&&(this.selectedAttacker.blocked=!1,this.selectedBlocker.blocking=!1)}setAttacker(t){this.selectedAttacker=t,this.checkFight()}setBlocker(t){this.selectedBlocker=t,this.checkFight()}unsetBlocker(t){if(this.isFighting(t)){let n=this.getFightByCreature(t);n.attacker.blocked=!1,n.blocker.blocking=!1;let r=this.fights.indexOf(n);this.fights.splice(r,1)}this.selectedBlocker=null,this.selectedAttacker=null}checkFight(){this.selectedAttacker&&this.selectedBlocker&&(this.selectedAttacker.blocked=!0,this.selectedBlocker.blocking=!0,this.createFight(this.selectedAttacker,this.selectedBlocker),this.selectedAttacker=null,this.selectedBlocker=null)}createFight(t,n){let r=new XP(t,n);this.fights.push(r),this.selectedAttacker=null,this.selectedBlocker=null}clearFights(){this.game.player.checkDead(),this.game.enemy.checkDead(),this.fights=[]}getFightByCreature(t){return this.fights.filter(r=>r.attacker===t||r.blocker===t)[0]}}class jf{constructor(t,n,r){this.currentTurn={},this.fights=[],this.currentPhase=J.start,this.phaseDisplay=J[this.currentPhase],this.selectedBlocker=null,this.selectedAttacker=null,this.selectPlayer=null,this.possibleCardTargets=[],this.spellStack=[],this.phaseManager=new KP(this),this.combatManager=new JP(this),this.cardService=r,this.enemy=n,this.player=t,this.currentTurn=this.player,this.player.drawCards(5),this.player.earnIncome(),this.cardService.makePlayerService(this.player,this.enemy)}pickFirst(){this.currentTurn=2*Math.random()==0?this.player:this.enemy}getCurrentTurnController(){let t=g.Any;return this.currentTurn===this.player?t=g.Self:this.currentTurn===this.enemy&&(t=g.Opponent),t}runUpkeep(){this.currentTurn.awakeAll();let t=this.getCurrentTurnController();this.runDraw(),this.cardService.checkTriggers(ae.Start,t),this.cardService.checkTriggers(ae.Awake,t),this.currentTurn instanceof Vi?this.processKeywords(g.Opponent,this.currentTurn.wall):this.currentTurn instanceof Un&&(this.player.minesPlayed=0,this.player.earnIncome(),this.processKeywords(g.Self,this.player.wall))}processKeywords(t,n){let r=this.cardService.getCreatures(t);for(let i=0;i<r.length;i++){let o=r[i];if(o.keywords.includes(R.Momentum)&&o.speed++,o.keywords.includes(R.Sharpen)&&o.attack++,o.keywords.includes(R.Armorer)&&o.hp++,o.keywords.includes(R.Repair)&&(n.hp+=o.repairAmount,this.cardService.checkTriggers(ae.WallRepair)),o.keywords.includes(R.Medic)){let s=this.currentTurn.getCreatures();for(let a=0;a<s.length;a++)s[a].heal()}}}runDraw(){let t=this.getCurrentTurnController();this.cardService.checkTriggers(ae.DrawStep,t),this.cardService.checkTriggers(ae.DrawCard,t),this.currentTurn.isAi?this.currentTurn.playCards():this.currentTurn.drawCards(1)}mainPhase(){let t=this.getCurrentTurnController();this.cardService.checkTriggers(ae.Main1,t)}runAttack(){let t=this.getCurrentTurnController();this.cardService.checkTriggers(ae.Attack,t),this.currentTurn.isAi?(this.currentTurn.attack(),this.player.defend()):this.player.attack()}}let qD=(()=>{class e{constructor(){}getBgColor(n){switch(n){case E.Colorless:return"#888888";case E.Earth:return"#787235";case E.Neptune:return"#1a58a3";case E.Sky:return"#02aed6";case E.Sun:return"#cc4304";case E.MoonAndStars:return"#373737";default:return"white"}}getFgColor(n){switch(n){case E.Colorless:return"#DDDDDD";case E.Earth:return"#77c589";case E.Neptune:return"#6ea9f0";case E.Sky:return"#c3dde3";case E.Sun:return"#e8736b";case E.MoonAndStars:return"#e0ce7e";default:return"white"}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function eF(e,t){if(1&e&&se(0,"img",5),2&e){const n=F().$implicit;Go("src",F().bag.getImage(n),To)}}const tF=function(){return[]};function nF(e,t){if(1&e&&(C(0,"span",3),j(1,eF,1,1,"img",4),w()),2&e){const n=t.$implicit,r=F();b(1),A("ngForOf",Xa(1,tF).constructor(r.bag.getValue(n)))}}function rF(e,t){1&e&&se(0,"span",3)}let $f=(()=>{class e{constructor(){this.bag=new k,this.manaTypes=[]}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=mt({type:e,selectors:[["app-gembag"]],inputs:{bag:"bag"},decls:3,vars:2,consts:[[1,""],["style","margin-left: 3px;",4,"ngFor","ngForOf"],["style","margin-left: 3px;",4,"ngIf"],[2,"margin-left","3px"],["class","gemDimensions",3,"src",4,"ngFor","ngForOf"],[1,"gemDimensions",3,"src"]],template:function(r,i){1&r&&(C(0,"div",0),j(1,nF,2,2,"span",1),w(),j(2,rF,1,0,"span",2)),2&r&&(b(1),A("ngForOf",i.bag.getTypes()),b(1),A("ngIf",i.bag.isEmpty()))},dependencies:[Tr,rn],styles:[".gemDimensions[_ngcontent-%COMP%]{height:16px;width:16px;margin-top:3px}"]})}return e})();const Al=function(e){return{backgroundColor:e}};function iF(e,t){if(1&e&&(C(0,"div",2),se(1,"app-gembag",12),w()),2&e){const n=F(2);A("ngStyle",en(2,Al,n.fgColor)),b(1),A("bag",n.card.cost)}}function oF(e,t){1&e&&se(0,"img",13),2&e&&Go("src",F(2).card.image,To)}function sF(e,t){if(1&e&&(C(0,"div")(1,"p",14)(2,"span",15),T(3),w(),T(4," |"),C(5,"span",15),T(6),w(),T(7," |"),C(8,"span",15),T(9),w()()()),2&e){const n=F(2);b(2),A("ngStyle",n.getStatStyle(n.card,"atk")),b(1),Re("ATK:",n.converter.convertToCreature(n.card).attack," "),b(2),A("ngStyle",n.getStatStyle(n.card,"hp")),b(1),Re("HP: ",n.converter.convertToCreature(n.card).hp," "),b(2),A("ngStyle",n.getStatStyle(n.card,"spd")),b(1),Re(" SPD:",n.converter.convertToCreature(n.card).speed,"")}}function aF(e,t){if(1&e&&(C(0,"span")(1,"p",14),T(2,"INCOME: "),se(3,"app-gembag",12),w()()),2&e){const n=F(2);b(3),A("bag",n.converter.convertToMine(n.card).incomeBag)}}function lF(e,t){if(1&e&&(C(0,"span")(1,"p",16),T(2),w()()),2&e){const n=F(2);b(2),wd("Turns left: ",n.converter.convertToTech(n.card).researchLevel,"/",n.converter.convertToTech(n.card).researchTime,"")}}function cF(e,t){1&e&&(C(0,"p"),T(1,"Fast - You may play this card at any time"),w())}function uF(e,t){if(1&e&&(C(0,"p"),T(1),w()),2&e){const n=F(2);b(1),Re("Dodge: ",n.converter.convertToCreature(n.card).dodgeAmount,"")}}const dF=function(e,t,n,r){return{playable:e,notPlayable:t,awake:n,asleep:r}},fF=function(){return{backgroundColor:"black"}};function hF(e,t){if(1&e&&(C(0,"div",1)(1,"div",2)(2,"p",3),T(3),w()(),j(4,iF,2,4,"div",4),C(5,"div",5),j(6,oF,1,1,"img",6),w(),C(7,"div",7)(8,"p",8),T(9),w()(),C(10,"div",9),j(11,sF,10,6,"div",10),j(12,aF,4,1,"span",10),j(13,lF,3,2,"span",10),j(14,cF,2,0,"p",10),C(15,"p",11),T(16),w(),j(17,uF,2,1,"p",10),w()()),2&e){const n=F();A("ngClass",O_(15,dF,n.playable&&0===n.card.zone,!n.playable&&0===n.card.zone,0===n.card.type&&!0===n.converter.convertToCreature(n.card).awake,!1===n.converter.convertToCreature(n.card).awake))("ngStyle",en(20,Al,n.bgColor)),b(1),A("ngStyle",Xa(22,fF)),b(2),Re("",n.card.name," "),b(1),A("ngIf",2===n.card.owner),b(1),A("ngStyle",en(23,Al,n.fgColor)),b(1),A("ngIf",""!==n.card.image&&void 0!==n.card.image),b(3),Ai(n.getTypeString(n.card.type)),b(1),A("ngStyle",en(25,Al,n.fgColor)),b(1),A("ngIf",0===n.card.type),b(1),A("ngIf",2===n.card.type),b(1),A("ngIf",1===n.card.type&&1===n.card.zone),b(1),A("ngIf",n.card.instant),b(2),Re(" ",n.card.text,""),b(1),A("ngIf",n.converter.convertToCreature(n.card).dodgeAmount>0)}}let Bi=(()=>{class e{constructor(n){this.fcs=n,this.card={},this.playable=void 0,this.cardEmitter=new ve,this.bgColor="grey",this.fgColor="#cccccc",this.gradientColor="radialGradient(bgColor, gradientColor)",this.type=x[this.card.type],this.selected=!1,this.converter=new ls}ngOnInit(){void 0!==this.card&&(this.bgColor=this.fcs.getBgColor(this.card.faction),this.fgColor=this.fcs.getFgColor(this.card.faction),this.gradientColor=`radialGradient(${this.bgColor}, ${this.fgColor})`)}clickCard(){this.cardEmitter.emit(this.card)}getTypeString(n){return x[n]}getStatStyle(n,r){const i=this.converter.convertToCreature(n);let o=0,s=0;switch(r){case"hp":o=i.baseHp,s=i.hp;break;case"atk":o=i.baseAttack,s=i.attack;break;case"spd":o=i.baseSpeed,s=i.speed}return s>o?{color:"rgb(98, 219, 98);"}:s<o?{color:"red"}:{color:"white"}}static#e=this.\u0275fac=function(r){return new(r||e)(I(qD))};static#t=this.\u0275cmp=mt({type:e,selectors:[["app-card"]],inputs:{card:"card",playable:"playable"},outputs:{cardEmitter:"cardEmitter"},decls:1,vars:1,consts:[["class","cardBorder hoverZoom cardDimensions",3,"ngClass","ngStyle",4,"ngIf"],[1,"cardBorder","hoverZoom","cardDimensions",3,"ngClass","ngStyle"],[1,"mainFont","titleBoxWidth","cardOutline",3,"ngStyle"],[1,"titleText"],["class","mainFont titleBoxWidth cardOutline",3,"ngStyle",4,"ngIf"],[1,"cardOutline","cardImage",2,"margin","3px",3,"ngStyle"],["class","centerElement","height","75px","width","130px",3,"src",4,"ngIf"],[1,"typeBox","cardOutline"],[1,"typeText"],[1,"textBox","cardOutline","mainFont","cardText",3,"ngStyle"],[4,"ngIf"],[1,"mainFont"],[3,"bag"],["height","75px","width","130px",1,"centerElement",3,"src"],[1,"statDisplay"],[3,"ngStyle"],[1,"whiteFont","statDisplay"]],template:function(r,i){1&r&&j(0,hF,18,27,"div",0),2&r&&A("ngIf",void 0!==i.card)},dependencies:[Ef,rn,Fi,$f],styles:['.cardOutline[_ngcontent-%COMP%]{border:solid 1px black;border-radius:5%;margin:1px}.titleText[_ngcontent-%COMP%]{font-family:Tahoma,sans-serif;font-weight:700;font-size:60%;text-align:center;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.titleBoxWidth[_ngcontent-%COMP%]{width:93%;margin-left:auto;margin-right:auto}.flexBox[_ngcontent-%COMP%]{display:flex}.flexSpace[_ngcontent-%COMP%]{justify-content:space-between}.foregroundColor[_ngcontent-%COMP%]{opacity:.9}.typeText[_ngcontent-%COMP%]{color:#fff;text-align:center}.typeBox[_ngcontent-%COMP%]{height:17px;margin-top:2px;margin-bottom:2px;font-size:13px;font-family:Arial,Helvetica,sans-serif;background:rgba(30,30,30,.5);opacity:1}.typeBoxBg[_ngcontent-%COMP%]{background-color:"#373737"}.textBox[_ngcontent-%COMP%]{height:40%;max-height:3rem;text-align:center;font-family:Arial,Helvetica,sans-serif}.cardText[_ngcontent-%COMP%]{font-size:45%}.statDisplay[_ngcontent-%COMP%]{border-bottom:ridge 2px #737373;margin-bottom:2px;background-color:#000;color:#fff}.playable[_ngcontent-%COMP%]{border:3px solid green;border-radius:5%}.notPlayable[_ngcontent-%COMP%]{border:3px solid red;border-radius:5%}.playable[_ngcontent-%COMP%], .notPlayable[_ngcontent-%COMP%]{margin:-2px}.hoverZoom[_ngcontent-%COMP%]:hover{z-index:9999;transform:scale(1.4);transition:transform .4s ease-in-out;animation-delay:1ms}.hoverZoom[_ngcontent-%COMP%]{transform:scale(1);transition:transform .3s ease-in-out;animation-delay:1ms}']})}return e})();function pF(e,t){1&e&&se(0,"img",3)}const gF=function(e){return{width:e}};function mF(e,t){if(1&e&&(C(0,"div",1),j(1,pF,1,0,"img",2),w()),2&e){const n=F();A("ngStyle",en(2,gF,n.getWallLength())),b(1),A("ngForOf",n.calcDisplay())}}let WD=(()=>{class e{constructor(){this.wall={}}calcDisplay(){let n=this.wall.hp/5;return n=Math.ceil(n),n<0&&(n=0),Array(n).fill(0)}getWallLength(){return 24*Math.ceil(this.wall.hp/5)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=mt({type:e,selectors:[["app-wall"]],inputs:{wall:"wall"},decls:4,vars:2,consts:[["class","cardRow centerElement",3,"ngStyle",4,"ngIf"],[1,"cardRow","centerElement",3,"ngStyle"],["class","wallSpacing","width","24px","height","24px","src","assets/wall.png",4,"ngFor","ngForOf"],["width","24px","height","24px","src","assets/wall.png",1,"wallSpacing"]],template:function(r,i){1&r&&(C(0,"div")(1,"p"),T(2),w(),j(3,mF,2,4,"div",0),w()),2&r&&(b(2),Re("Wall HP: ",i.wall.hp,""),b(1),A("ngIf",i.calcDisplay().length>0))},dependencies:[Tr,rn,Fi]})}return e})();function yF(e,t){1&e&&se(0,"img",11),2&e&&Go("src",F().card.image,To)}function vF(e,t){if(1&e&&(C(0,"span",12),se(1,"img",13),T(2,": "),C(3,"span",14),T(4),w(),se(5,"img",15),T(6,": "),C(7,"span",14),T(8),w(),se(9,"img",16),T(10,": "),C(11,"span",14),T(12),w()()),2&e){const n=F();b(3),A("ngStyle",n.getStatStyle(n.card,"atk")),b(1),Ai(n.converter.convertToCreature(n.card).attack),b(3),A("ngStyle",n.getStatStyle(n.card,"hp")),b(1),Ai(n.converter.convertToCreature(n.card).hp),b(3),A("ngStyle",n.getStatStyle(n.card,"spd")),b(1),Re(" ",n.converter.convertToCreature(n.card).speed,"")}}function _F(e,t){if(1&e&&(C(0,"span")(1,"p",12),T(2,"INCOME: "),se(3,"app-gembag",17),w()()),2&e){const n=F();b(3),A("bag",n.converter.convertToMine(n.card).incomeBag)}}function CF(e,t){1&e&&se(0,"img",18)}function DF(e,t){1&e&&se(0,"img",19)}const ZD=function(e){return{backgroundColor:e}},wF=function(e,t,n,r,i){return{awake:e,asleep:t,dead:n,blocked:r,blocking:i}},EF=function(){return{backgroundColor:"black"}};let YD=(()=>{class e{constructor(n){this.fcs=n,this.card={},this.cardEmitter=new ve,this.bgColor="grey",this.fgColor="#cccccc",this.gradientColor="radialGradient(bgColor, gradientColor)",this.type=x[this.card.type],this.selected=!1,this.converter=new ls}ngOnInit(){this.bgColor=this.fcs.getBgColor(this.card.faction),this.fgColor=this.fcs.getFgColor(this.card.faction),this.gradientColor=`radialGradient(${this.bgColor}, ${this.fgColor})`}clickCard(){this.cardEmitter.emit(this.card)}getTypeString(n){return x[n]}getStatStyle(n,r){const i=this.converter.convertToCreature(n);let o=0,s=0;switch(r){case"hp":o=i.baseHp,s=i.hp;break;case"atk":o=i.baseAttack,s=i.attack;break;case"spd":o=i.baseSpeed,s=i.speed}return s>o?{color:"#44e36e"}:s<o?{color:"red"}:{color:"white"}}static#e=this.\u0275fac=function(r){return new(r||e)(I(qD))};static#t=this.\u0275cmp=mt({type:e,selectors:[["app-card-small"]],inputs:{card:"card"},outputs:{cardEmitter:"cardEmitter"},decls:12,vars:22,consts:[[1,"smallCardContainer"],[1,"largeCard",3,"card"],[1,"cardBorder","hoverZoom",3,"ngStyle","ngClass"],[1,"mainFont","titleBoxWidth","cardOutline",3,"ngStyle"],[1,"titleText"],[1,"cardOutline","cardImageSmall",2,"margin","3px",3,"ngStyle"],["class","centerElement","height","auto","width","103px",3,"src",4,"ngIf"],["class","statDisplay blackBg",4,"ngIf"],[4,"ngIf"],["class","attackingIcon","src","assets/attackSymbol.png","height","auto","width","50%",4,"ngIf"],["class","blockingIcon","src","assets/HP Symbol.png","height","auto","width","50%",4,"ngIf"],["height","auto","width","103px",1,"centerElement",3,"src"],[1,"statDisplay","blackBg"],["src","assets/attackSymbol.png","width","16px","height","auto",1,"statIcon"],[3,"ngStyle"],["src","assets/HP Symbol.png","width","16px","height","auto",1,"statIcon"],["src","assets/Speed Symbol.png","width","16px","height","auto",1,"statIcon"],[3,"bag"],["src","assets/attackSymbol.png","height","auto","width","50%",1,"attackingIcon"],["src","assets/HP Symbol.png","height","auto","width","50%",1,"blockingIcon"]],template:function(r,i){1&r&&(C(0,"div",0),se(1,"app-card",1),C(2,"div",2)(3,"div",3)(4,"p",4),T(5),w()(),C(6,"div",5),j(7,yF,1,1,"img",6),j(8,vF,13,6,"span",7),j(9,_F,4,1,"span",8),w()()(),j(10,CF,1,0,"img",9),j(11,DF,1,0,"img",10)),2&r&&(b(1),A("card",i.card),b(1),A("ngStyle",en(11,ZD,i.bgColor))("ngClass",function R_(e,t,n,r,i,o,s,a){const l=lt()+e,c=D(),u=jt(c,l,n,r,i,o);return nt(c,l+4,s)||u?_n(c,l+5,a?t.call(a,n,r,i,o,s):t(n,r,i,o,s)):jo(c,l+5)}(13,wF,0===i.card.type&&!0===i.converter.convertToCreature(i.card).awake,!1===i.converter.convertToCreature(i.card).awake,i.converter.convertToCreature(i.card).hp<=0,i.converter.convertToCreature(i.card).blocked,i.converter.convertToCreature(i.card).blocking)),b(1),A("ngStyle",Xa(19,EF)),b(2),Re("",i.card.name," "),b(1),A("ngStyle",en(20,ZD,i.fgColor)),b(1),A("ngIf",""!==i.card.image&&void 0!==i.card.image),b(1),A("ngIf",0===i.card.type),b(1),A("ngIf",2===i.card.type),b(1),A("ngIf",0===i.card.type&&i.converter.convertToCreature(i.card).attacking),b(1),A("ngIf",0===i.card.type&&i.converter.convertToCreature(i.card).blocking))},dependencies:[Ef,rn,Fi,Bi,$f],styles:['p[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;font-weight:700}.cardBorder[_ngcontent-%COMP%]{border:solid 2px black;border-radius:4%;width:150px;padding:5px;margin-right:auto;margin-top:2px;margin-bottom:5px}.cardOutline[_ngcontent-%COMP%]{border:solid 1px black;border-radius:5%;margin:1px}.titleText[_ngcontent-%COMP%]{font-family:Verdana,Tahoma,sans-serif;font-weight:700;font-size:14px;text-align:center;color:#fff}.titleBoxWidth[_ngcontent-%COMP%]{width:93%;margin-left:auto;margin-right:auto;height:37px}.flexBox[_ngcontent-%COMP%]{display:flex}.flexSpace[_ngcontent-%COMP%]{justify-content:space-between}.cardImage[_ngcontent-%COMP%]{min-height:100px;height:75%}.blackBg[_ngcontent-%COMP%]{background-color:#000}.foregroundColor[_ngcontent-%COMP%]{opacity:.9}.typeText[_ngcontent-%COMP%]{color:#fff;text-align:center}.typeBox[_ngcontent-%COMP%]{height:17px;margin-top:2px;margin-bottom:2px;font-size:13px;font-family:Arial,Helvetica,sans-serif;background:rgba(30,30,30,.5);opacity:1}.typeBoxBg[_ngcontent-%COMP%]{background-color:"#373737"}.textBox[_ngcontent-%COMP%]{height:100px;text-align:center;font-family:Arial,Helvetica,sans-serif}.centerElement[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.cardText[_ngcontent-%COMP%]{font-size:12px}.statDisplay[_ngcontent-%COMP%]{border:ridge 2px #737373;border-radius:10%;margin-bottom:2px;font-size:14px;font-weight:700;font-family:Arial,Helvetica,sans-serif;text-align:center;color:#fff;position:absolute;bottom:1px;left:5px;right:5px}.whiteFont[_ngcontent-%COMP%]{color:#fff}.asleep[_ngcontent-%COMP%]{transform:rotate(90deg);margin-bottom:18px}.largeCard[_ngcontent-%COMP%]{visibility:hidden;position:absolute;z-index:1;bottom:150px;opacity:0;transform:translateY(15px);transition:visibility .2s linear .2s;-webkit-user-select:none;user-select:none;transform:scale(1)}.smallCardContainer[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;transition-delay:.1s}.smallCardContainer[_ngcontent-%COMP%]:hover   .largeCard[_ngcontent-%COMP%]{transform:scale(1.2);visibility:visible;opacity:1;transition-delay:1s}.smallCardContainer[_ngcontent-%COMP%]:hover{border:2px solid #ddff1e;margin:.5px 8px}.smallCardContainer[_ngcontent-%COMP%]:hover, .attackingIcon[_ngcontent-%COMP%]:hover, .blockingIcon[_ngcontent-%COMP%]:hover{opacity:1}.statIcon[_ngcontent-%COMP%]{margin:2px}.asleep[_ngcontent-%COMP%], .awake[_ngcontent-%COMP%]{transition:width 2s,height 2s,transform .3s}.asleep[_ngcontent-%COMP%]{transform:rotate(90deg)}.awake[_ngcontent-%COMP%]{transform:rotate(0)}.dead[_ngcontent-%COMP%]{opacity:.5}.combatIcon[_ngcontent-%COMP%]{display:none}.blocking[_ngcontent-%COMP%]:hover   .combatIcon[_ngcontent-%COMP%]{display:block;position:relative;top:-100px}.attackingIcon[_ngcontent-%COMP%]{position:relative;bottom:45%;left:25%;opacity:.5}.blockingIcon[_ngcontent-%COMP%]{position:relative;bottom:120px;left:25%;opacity:.5}']})}return e})();function bF(e,t){if(1&e){const n=ze();C(0,"button",2),ie("click",function(){return $e(n),He(F().toggleDisplay())}),T(1),w()}if(2&e){const n=F();b(1),Re("Show ",n.displayTitle,"")}}function SF(e,t){if(1&e){const n=ze();C(0,"button",2),ie("click",function(){return $e(n),He(F(2).toggleDisplay())}),T(1),w()}if(2&e){const n=F(2);b(1),Re("Hide ",n.displayTitle,"")}}function MF(e,t){if(1&e){const n=ze();C(0,"button",8),ie("click",function(){return $e(n),He(F(2).done())}),T(1,"Done"),w()}}function IF(e,t){if(1&e){const n=ze();C(0,"button",8),ie("click",function(){$e(n);const i=F(2).$implicit;return He(F(2).selectCard(i))}),T(1),w()}if(2&e){const n=F(2).$implicit;b(1),Re("select ",n.name,"")}}function AF(e,t){if(1&e){const n=ze();C(0,"button",2),ie("click",function(){$e(n);const i=F(2).$implicit;return He(F(2).unselectCard(i))}),T(1),w()}if(2&e){const n=F(2).$implicit;b(1),Re("unselect ",n.name,"")}}function TF(e,t){if(1&e&&(C(0,"div"),j(1,IF,2,1,"button",11),j(2,AF,2,1,"ng-template",null,12,jd),w()),2&e){const n=hd(3),r=F().$implicit,i=F(2);b(1),A("ngIf",!i.selectedCards.includes(r))("ngIfElse",n)}}function kF(e,t){if(1&e&&(C(0,"div"),se(1,"app-card",9),j(2,TF,4,2,"div",10),w()),2&e){const n=t.$implicit,r=F(2);b(1),A("card",n),b(1),A("ngIf",r.selectMax>0)}}function xF(e,t){if(1&e&&(C(0,"div",3)(1,"p",4),T(2),w(),j(3,SF,2,1,"button",0),C(4,"div",5),j(5,MF,2,0,"button",6),j(6,kF,3,2,"div",7),w()()),2&e){const n=F();b(2),Ai(n.displayTitle),b(1),A("ngIf",!0===n.display),b(2),A("ngIf",(n.selectedCards.length>0||0===n.selectAmount)&&n.showDone),b(1),A("ngForOf",n.cards)}}let QD=(()=>{class e{constructor(){this.cards=[],this.displayTitle="",this.picker=!1,this.selectMax=0,this.selectAmount=0,this.display=!1,this.showDone=!1,this.hideCompletely=!1,this.horizontal=!0,this.selectedCards=[],this.cardSelectedEvent=new ve,this.cardSingleEvent=new ve}toggleDisplay(){this.display=!this.display}done(){this.display=!1,this.hideCompletely=!0,this.picker&&(this.cardSelectedEvent.emit(this.selectedCards),this.clear())}clear(){this.selectedCards=[],this.selectAmount=0}selectCard(n){this.selectAmount<this.selectMax&&(this.selectedCards.push(n),this.selectAmount++)}unselectCard(n){if(this.selectedCards.includes(n)){let r=this.selectedCards.indexOf(n);console.log(r),this.selectedCards.splice(r,1),this.selectAmount--}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=mt({type:e,selectors:[["app-card-pop-up"]],inputs:{cards:"cards",displayTitle:"displayTitle",picker:"picker",selectMax:"selectMax",display:"display",showDone:"showDone",horizontal:"horizontal"},outputs:{cardSelectedEvent:"cardSelectedEvent",cardSingleEvent:"cardSingleEvent"},decls:2,vars:2,consts:[[3,"click",4,"ngIf"],["id","PopUp",4,"ngIf"],[3,"click"],["id","PopUp"],[1,"title","whiteFont"],[1,"cardRow"],["class","centerElement",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"centerElement",3,"click"],[3,"card"],[4,"ngIf"],["class","centerElement",3,"click",4,"ngIf","ngIfElse"],["unselect",""]],template:function(r,i){1&r&&(j(0,bF,2,1,"button",0),j(1,xF,7,4,"div",1)),2&r&&(A("ngIf",!1===i.display&&!1===i.hideCompletely),b(1),A("ngIf",i.display))},dependencies:[Tr,rn,Bi],styles:["#PopUp[_ngcontent-%COMP%]{position:fixed;top:33%;left:28%;background-color:#000;border-radius:5%;border:white 1px solid;z-index:100;padding:10px}.title[_ngcontent-%COMP%]{text-align:center}"]})}return e})();function NF(e,t){if(1&e){const n=ze();C(0,"div",10)(1,"app-card-pop-up",13),ie("cardSelectedEvent",function(i){return $e(n),He(F().targetSelected(i))}),w()()}if(2&e){const n=F();b(1),A("cards",n.Player.effectStack[0].targeting.getTarget())("displayTitle","Target selector for "+n.Player.effectStack[0].name)("selectMax",1)("showDone",!0)("picker",n.Player.effectStack.length>0)}}function OF(e,t){if(1&e){const n=ze();C(0,"div",10)(1,"app-card-pop-up",14),ie("cardSingleEvent",function(i){return $e(n),He(F().playSelected(i))}),w()()}if(2&e){const n=F();b(1),A("cards",n.Player.cardService.pickAbility[0].cards)("displayTitle","Target selector for "+n.Player.cardService.pickAbility[0].name)("selectMax",1)("picker",n.Player.effectStack.length>0)("showDone",!0)}}function RF(e,t){if(1&e){const n=ze();C(0,"button",18),ie("click",function(){$e(n);const i=F(2).index;return He(F().toggleAttack(i))}),T(1,"Attack"),w()}}function PF(e,t){if(1&e&&(C(0,"div"),j(1,RF,2,0,"button",17),w()),2&e){const n=F().$implicit;b(1),A("ngIf",!n.attacking)}}function FF(e,t){if(1&e){const n=ze();C(0,"button",18),ie("click",function(){$e(n);const i=F().index;return He(F().toggleAttack(i))}),T(1,"X Cancel Attack"),w()}}function LF(e,t){if(1&e){const n=ze();C(0,"button",18),ie("click",function(){$e(n);const i=F(2).$implicit;return He(F().game.combatManager.setBlocker(i))}),T(1,"Block"),w()}}function VF(e,t){if(1&e){const n=ze();C(0,"button",21),ie("click",function(){$e(n);const i=F(2).$implicit;return He(F().game.combatManager.unsetBlocker(i))}),T(1,"Cancel Block"),w()}}function BF(e,t){if(1&e&&(C(0,"div"),j(1,LF,2,0,"button",19),j(2,VF,2,0,"ng-template",null,20,jd),w()),2&e){const n=hd(3),r=F().$implicit,i=F();b(1),A("ngIf",!1===i.cardConverter.convertToCreature(r).blocking)("ngIfElse",n)}}function jF(e,t){if(1&e&&(C(0,"div"),se(1,"app-card-small",15),j(2,PF,2,1,"div",16),j(3,FF,2,0,"button",17),j(4,BF,4,2,"div",16),w()),2&e){const n=t.$implicit,r=F();b(1),qo("attacker",r.game.combatManager.isFighting(n)&&r.game.currentTurn===r.Player)("blocker",r.game.combatManager.isFighting(n)&&r.game.currentTurn!==r.Player),A("card",n),b(1),A("ngIf",r.Player.attacking&&n.awake&&!n.firstTurn),b(1),A("ngIf",n.attacking),b(1),A("ngIf",r.Player.defending&&!0===r.cardConverter.convertToCreature(n).awake&&!1===r.cardConverter.convertToCreature(n).attacking)}}const $F=function(e){return{rotate:e}};function HF(e,t){if(1&e){const n=ze();C(0,"div",22)(1,"app-card",23),ie("dblclick",function(){const o=$e(n).$implicit,s=F();return He(s.Player.playCard(o,s.game))}),w()()}if(2&e){const n=t.$implicit,r=t.index,i=F();b(1),A("ngStyle",en(3,$F,i.rotStart+i.getRotAmount(r)+"deg"))("card",n)("playable",i.Player.checkIfPlayable(n,i.game))}}const UF=function(e){return{width:e}};let zF=(()=>{class e{constructor(){this.Player={},this.game={},this.rotStart=355,this.rotEnd=365,this.targetingMode=!1,this.selected={},this.possibleTargets=[],this.cardConverter=new ls}selectTarget(n){this.selected=this.possibleTargets[n]}toggleAttack(n){let r=this.Player.getCreatures()[n];r.attacking=!r.attacking,r.awake=!r.awake,r.blocking=!1}targetSelected(n){console.log(n),this.Player.effectStack[0].doEffectSingle(n[0]),this.Player.effectStack.splice(0,1)}playSelected(n){this.Player.playCard(n,this.game),this.Player.effectStack=[]}getRotAmount(n){return(this.rotEnd-this.rotStart)/this.Player.getHand().length*n}resetRot(n){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=mt({type:e,selectors:[["app-player"]],inputs:{Player:"Player",game:"game"},decls:21,vars:17,consts:[[3,"cards","displayTitle","selectMax"],["class","cardRow",4,"ngIf"],[1,"gemBagDisplay","uiPanel","paneBg"],[1,"whiteFont"],[3,"bag"],[3,"cards","selectMax","displayTitle"],[1,"uiPanel","paneBg","wallDisplay","centerElement","whiteFont","centerText"],[3,"wall"],[1,"cardRow","creatureDisplay","uiPanel",3,"ngStyle"],[4,"ngFor","ngForOf"],[1,"cardRow"],["id","Hand",1,"centerElement"],["class","handMargin",4,"ngFor","ngForOf"],[3,"cards","displayTitle","selectMax","showDone","picker","cardSelectedEvent"],[3,"cards","displayTitle","selectMax","picker","showDone","cardSingleEvent"],[3,"card"],[4,"ngIf"],["class","centerElement combatButton",3,"click",4,"ngIf"],[1,"centerElement","combatButton",3,"click"],["class","centerElement combatButton",3,"click",4,"ngIf","ngIfElse"],["cancel",""],[1,"centerElement",3,"click"],[1,"handMargin"],[1,"card",3,"ngStyle","card","playable","dblclick"]],template:function(r,i){1&r&&(se(0,"app-card-pop-up",0),j(1,NF,2,5,"div",1),j(2,OF,2,5,"div",1),C(3,"div",2)(4,"h3",3),T(5,"Resources:"),w(),se(6,"app-gembag",4),C(7,"h3",3),T(8,"Income:"),w(),se(9,"app-gembag",4)(10,"app-card-pop-up",5),w(),C(11,"div",6),se(12,"app-wall",7),C(13,"p"),T(14),w()(),C(15,"div",8),j(16,jF,5,8,"div",9),w(),C(17,"div",10),se(18,"div"),C(19,"div",11),j(20,HF,2,5,"div",12),w()()),2&r&&(A("cards",i.Player.cardService.getCards(2,2))("displayTitle","Discard Pile")("selectMax",0),b(1),A("ngIf",i.Player.effectStack.length>0),b(1),A("ngIf",i.Player.cardService.pickAbility.length>0),b(4),A("bag",i.Player.gembag),b(3),A("bag",i.Player.incomeBag),b(1),A("cards",i.Player.getMines())("selectMax",0)("displayTitle","Mines"),b(2),A("wall",i.Player.wall),b(2),Re("Your Life: ",i.Player.hp,""),b(1),A("ngStyle",en(15,UF,183*i.Player.getCreatures().length+"px")),b(1),A("ngForOf",i.Player.getCreatures()),b(4),A("ngForOf",i.Player.getHand()))},dependencies:[Tr,rn,Fi,Bi,$f,WD,YD,QD],styles:["#Hand[_ngcontent-%COMP%]{display:flex}.playButton[_ngcontent-%COMP%]{max-width:120px}.creatureArea[_ngcontent-%COMP%]{height:150px}.gemBagDisplay[_ngcontent-%COMP%]{position:fixed;right:0;bottom:0;border-radius:5%;padding:10px}.discardDisplay[_ngcontent-%COMP%]{border-radius:3%}.wallDisplay[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:25%;margin-bottom:10px;padding:6px}.handMargin[_ngcontent-%COMP%]{margin:0 50px}.card[_ngcontent-%COMP%]{position:absolute;transform-origin:bottom center;transition:transform .3s ease-in-out}.card[_ngcontent-%COMP%]:hover{transform:rotate(0);transition:transform .3s ease-in-out;z-index:1000}.attacker[_ngcontent-%COMP%], .blocker[_ngcontent-%COMP%]{display:inline-block;transition:transform .3s ease-in-out}.attacker[_ngcontent-%COMP%]{border-color:#f75d5d}.blocker[_ngcontent-%COMP%]{border-color:#4ecdf8}.fighting[_ngcontent-%COMP%]{transform:translateY(50px)}"]})}return e})();function GF(e,t){if(1&e){const n=ze();C(0,"button",8),ie("click",function(){$e(n);const i=F().$implicit;return He(F().game.combatManager.setAttacker(i))}),T(1," Block this Attacker"),w()}}function qF(e,t){if(1&e&&(C(0,"div"),se(1,"app-card-small",6),j(2,GF,2,0,"button",7),w()),2&e){const n=t.$implicit,r=F();b(1),A("card",n),b(1),A("ngIf",r.hoard.attacking&&!1===r.creatureConverter.convertToCreature(n).blocked&&r.opponentHasBlockers())}}function WF(e,t){if(1&e){const n=ze();C(0,"div")(1,"button",9),ie("click",function(){return $e(n),He(F(2).hoard.runCurrentSpell())}),T(2,"Run Spell"),w()()}}function ZF(e,t){if(1&e&&(C(0,"div"),se(1,"app-card",6),j(2,WF,3,0,"div",2),w()),2&e){const n=F();b(1),A("card",n.hoard.currentSpell),b(1),A("ngForOf",n.hoard.currentSpell.abilities)}}const YF=function(e){return{width:e}};let QF=(()=>{class e{constructor(){this.hoard={},this.game={},this.blockedCreature=new ve,this.creatureConverter=new ls}block(n){this.hoard.cardService.getCreatures(1)}opponentHasBlockers(){return this.hoard.cardService.getCards(v.play,g.Self,x.Creature).filter(i=>i.awake&&!i.blocking).length>0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=mt({type:e,selectors:[["app-ai"]],inputs:{hoard:"hoard",game:"game"},outputs:{blockedCreature:"blockedCreature"},decls:8,vars:10,consts:[[3,"cards","displayTitle","selectMax"],[1,"cardRow","creatureDisplay","uiPanel",3,"ngStyle"],[4,"ngFor","ngForOf"],[1,"centerElement","paneBg","whiteFont","uiPanel","centerText","lifePanel"],[3,"wall"],[4,"ngIf"],[3,"card"],["class","centerElement combatButton",3,"click",4,"ngIf"],[1,"centerElement","combatButton",3,"click"],[3,"click"]],template:function(r,i){1&r&&(se(0,"app-card-pop-up",0),C(1,"div",1),j(2,qF,3,2,"div",2),w(),C(3,"div",3),se(4,"app-wall",4),C(5,"p"),T(6),w()(),j(7,ZF,3,2,"div",5)),2&r&&(A("cards",i.hoard.cardService.getCards(2,1))("displayTitle","Discard Pile")("selectMax",0),b(1),A("ngStyle",en(8,YF,183*i.hoard.cardService.getCreatures(1).length+"px")),b(1),A("ngForOf",i.hoard.cardService.getCreatures(1)),b(2),A("wall",i.hoard.wall),b(2),Re("Hoard Deck: ",i.hoard.cardService.getDeck(1).length,""),b(1),A("ngIf",null!==i.hoard.currentSpell))},dependencies:[Tr,rn,Fi,Bi,WD,YD,QD],styles:[".cardRow[_ngcontent-%COMP%]{display:flex;flex-flow:row}.lifePanel[_ngcontent-%COMP%]{width:25%;padding:5px}.discardPos[_ngcontent-%COMP%]{position:absolute;top:0;left:0}"]})}return e})();function KF(e,t){1&e&&se(0,"app-card",3),2&e&&A("card",t.$implicit)}let KD=(()=>{class e{constructor(){this.deck=[],this.display=!1}sortDeck(){return this.deck.sort((r,i)=>r.name.localeCompare(i.name))}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=mt({type:e,selectors:[["app-deck-viewer"]],inputs:{deck:"deck",display:"display"},decls:4,vars:2,consts:[[1,"cardRow","paneBg","scrollBar"],[1,"whiteFont"],["class","card",3,"card",4,"ngFor","ngForOf"],[1,"card",3,"card"]],template:function(r,i){1&r&&(C(0,"div",0)(1,"p",1),T(2),w(),j(3,KF,1,1,"app-card",2),w()),2&r&&(b(2),Re("Cards: ",i.deck.length,""),b(1),A("ngForOf",i.sortDeck()))},dependencies:[Tr,Bi],styles:[".cardRow[_ngcontent-%COMP%]{flex-wrap:wrap;margin-top:20px}.card[_ngcontent-%COMP%]{margin:10px 5px;flex:0 0 10%;border-radius:5%;width:94%}.scrollBar[_ngcontent-%COMP%]{max-height:600px;overflow-y:auto}"]})}return e})();function XF(e,t){1&e&&se(0,"app-deck-viewer",3),2&e&&A("deck",F().deck)}function JF(e,t){1&e&&(C(0,"div",4)(1,"h1"),T(2,"How to play"),w(),C(3,"p"),T(4,"In this game you will defend your camp from a hoard of creatures swarming you."),w(),C(5,"h3"),T(6,"Goal"),w(),C(7,"p"),T(8,"Your goal will be to empty the enemy deck of cards. Whenever one of your creatures attacks, the enemy discards cards from their deck equal to the damage dealt. "),w(),C(9,"p"),T(10,"Your enemy's goal is to reduce your life to 0."),w(),C(11,"h3"),T(12,"Playing Cards"),w(),C(13,"p"),T(14,"Notice that cards in your hand have a red or green outline around them. If a card is outlined in green, you may play that card. Red, means the opposite, it cannot be played currently, usually due to not having enough resources."),w(),C(15,"p"),T(16,"To play a card, double click a card outlined in green. This will subtract the card's cost from your resources. "),w(),C(17,"h3"),T(18,"Resources"),w(),C(19,"p"),T(20,"You earn resouces from mines. At the start of each of your turns you earn income from your mines. Each faction has its own type of gem, along with gold which all factions will use. "),w(),C(21,"p"),T(22,"Normally, you may only play one mine per turn. Basic mines will also grant you a resources as soon as you play them. Resources carry over from turn to turn so you may opt to save up to play a more expensive card. "),w(),C(23,"h3"),T(24,"Enemy"),w(),C(25,"p"),T(26,"The enemy does not have resources. Their decks play themselves automatically. Enemy decks consist of normal cards as well as miniions."),w(),C(27,"p"),T(28,"At the start of each enemy turn. They will play a card off the top of their deck. If they play a minion, then they will keep playing cards. Once they play a regular card, they will stop playing cards."),w(),C(29,"p"),T(30,"Once done playing cards, all enemy creatures will attack you. Any unblocked enemy will damage your wall and life points."),w(),C(31,"h3"),T(32,"Creautes"),w(),C(33,"p"),T(34,"Creatues have 3 stats: "),w(),C(35,"ul")(36,"p")(37,"li"),T(38,"Attack - how much damage a creature does"),w(),C(39,"li"),T(40,"Hit Point - how much damage a creature can receive before dying"),w(),C(41,"li"),T(42,"Speed - when a creature blocks or is blocked, speed determines who deals damage first. If both creautes in a fight have the same speed, the deal damage to each other simultaneously."),w()()(),C(43,"h3"),T(44,"Fortifications"),w(),C(45,"p"),T(46,"These cards will bolster your defenses as long as your wall remains standing. If your wall's hp is below 0 you no longer gain benefit from fortifications."),w(),C(47,"p"),T(48,"You may use fortifications to rebuild your wall. Play a fortification and it repair your wall equal to the total cost of the fortification. The downside is that you will not recieve the normal benefit from the fortification"),w()())}let e2=(()=>{class e{constructor(){this.showDeck=!1,this.displayHelp=!1,this.deck=[]}toggleShowDeck(){this.showDeck=!this.showDeck,this.displayHelp=!1}toggleDisplayHelp(){this.displayHelp=!this.displayHelp,this.showDeck=!1}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=mt({type:e,selectors:[["app-header"]],inputs:{deck:"deck"},decls:9,vars:2,consts:[[3,"click"],["class","popUp",3,"deck",4,"ngIf"],["class","paneBg whiteFont popUp scrollBar",4,"ngIf"],[1,"popUp",3,"deck"],[1,"paneBg","whiteFont","popUp","scrollBar"]],template:function(r,i){1&r&&(C(0,"div")(1,"button",0),ie("click",function(){return i.toggleShowDeck()}),C(2,"p"),T(3,"Show your Deck"),w()(),C(4,"button",0),ie("click",function(){return i.toggleDisplayHelp()}),C(5,"p"),T(6,"How to play"),w()(),j(7,XF,1,1,"app-deck-viewer",1),w(),j(8,JF,49,0,"div",2)),2&r&&(b(7),A("ngIf",i.showDeck),b(1),A("ngIf",i.displayHelp))},dependencies:[rn,KD],styles:["#HowToPlay[_ngcontent-%COMP%]{position:fixed;left:auto;right:auto;width:80%;top:50px}.popUp[_ngcontent-%COMP%]{position:fixed;top:50px;z-index:999999;scroll-behavior:auto;left:7%;right:7%}h3[_ngcontent-%COMP%]{margin-top:15px;font-size:30px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.scrollBar[_ngcontent-%COMP%]{max-height:600px;overflow-y:auto}"]})}return e})();class t2{constructor(t){this.cardAmount=4,this.cardService=t,this.cardFactory=new Il(t)}addMinesToStarterDeck(t,n){this.cardFactory.getMinesBulk(n,5),this.cardFactory.getMinesBulk(P.Gold,4)}fireDeck(){let t=[],n=0;for(;n<this.cardAmount;){let r=new B(4,6,4,"Great Dragon",new k(2,2),"","Flying, Sharpen",!1,g.Opponent,v.deck,E.Sun,[],[R.Sharpen,R.Flying]),i=new Ml(3,this.cardService,oe.Single,g.Opponent,!1,!0,!1),o=new We([i],"Bolt","Deals 3 damage to the enemy player",this.cardService),s=new B(2,2,2,"Blast Boy",new k(1,1),"","When played, deal 3 damage to the enemy player",!1,g.Self,v.deck,E.Sun,[o]),a=new Ml(3,this.cardService,oe.Single,g.Opponent,!1,!0,!0),l=new sn("","",[x.Creature],g.Any,[v.play],1,[a],this.cardService),c=new Ot("Fire Bolt",new k(0,1),"","3 damage to target creature",[l],!0,g.Self,v.deck,E.Sun),u=new B(1,3,5,"Fire Raptor",new k(1,1),"","Fast",!0,g.Self,v.deck,E.Sun),d=new sr("",3,0,3,this.cardService,g.Self,oe.Single),f=new GP("",this.cardService,g.Self,oe.Single),h=new WP("",[d,f],this.cardService,f.targeting),p=new sn("","",[x.Creature],g.Self,[v.play],1,[h],this.cardService),m=new Ot("Haste",new k(0,2),"","Target creature gets +3/+0/+3 and may attack the turn it came into play",[p],!0,g.Self,v.deck,E.Sun);t.push(r,s,c,u,m),n++}return t.push(...this.cardFactory.getMinesBulk(P.Ruby,5)),t.push(...this.cardFactory.getMinesBulk(P.Gold,4)),t}earthDeck(){let t=0,n=[];for(;t<this.cardAmount;){let r=new sr("Reduce HP and Speed",-3,-3,0,this.cardService,g.Any,oe.Single),i=new sn("","",[x.Creature],g.Any,[v.play],1,[r],this.cardService),o=new Ot("Slow",new k(1,0,0,1),"","Target creature gets -0/-3/-3",[i],!0,g.Self,v.deck,E.Earth),s=new Sl(P.Emerald,2,this.cardService),a=new We([s],"Add 2 emeralds on enter","",this.cardService),l=new B(3,4,3,"Verdant Warrior",new k(2,0,0,1),"","Adds 2 Emeralds on enter",!1,g.Self,v.deck,E.Earth,[a]),c=new B(2,2,1,"Dwarf Engineer",new k(0,0,0,1),"","Repair 3 - Repairs owners wall each turn by 3 hp",!1,g.Self,v.deck,E.Earth,[],[R.Repair]);c.repairAmount=3;let u=new B(6,6,3,"Battle Dwarf",new k(2,0,0,2,0,0),"assets//dwarf.png","",!1,g.Self,v.deck,E.Earth,[]);n.push(o,l,c,u),t++}return n.push(...this.cardFactory.getMinesBulk(P.Emerald,5)),n.push(...this.cardFactory.getMinesBulk(P.Gold,4)),n}airDeck(){let t=0,n=[];for(;t<this.cardAmount;){let r=new kr("",this.cardService,oe.Single,g.Opponent,1),i=new We([r],"","",this.cardService),o=new B(1,2,2,"Loyal Hawk",new k(1,0,0,0,0,1),"","Flying. On Enter, Draw a card",!1,g.Self,v.deck,E.Sky,[i],[R.Flying]),s=new B(2,2,1,"Agile Monk",new k(0,0,0,0,0,1),"","Dodge 2:if this creature would take damage instead remove a dodge counter.",!1,g.Self,v.deck,E.Sky,[],[R.Dodge]);s.dodgeAmount=2;let a=new kr("",this.cardService,oe.Single,g.Opponent,2),l=new We([a],"","",this.cardService),c=new Ot("Scout",new k(0,0,0,0,0,2),"","Draw 2 cards",[l],!1,g.Self,v.deck,E.Sky),u=new B(5,5,5,"Great Bird Monk",new k(3,0,0,0,0,2),"","Dodge 5, Flying",!1,g.Self,v.deck,E.Sky,[],[R.Dodge,R.Flying]);u.dodgeAmount=5,n.push(o,s,c,u),t++}return n.push(...this.cardFactory.getMinesBulk(P.Topaz,5)),n.push(...this.cardFactory.getMinesBulk(P.Gold,4)),n}waterDeck(){let t=0,n=[];for(;t<4;){let r=new sr("",0,0,-5,this.cardService,g.Any,oe.Single),i=new sn("","",[x.Creature],g.Any,[v.play],1,[r],this.cardService),o=new Ot("Freeze",new k(0,0,1),"","Target creature gets -5/-0/-0",[i],!0,g.Self,v.deck,E.Neptune),s=new kr("",this.cardService,oe.Single,g.Self,1),a=new Li([s],"","",[ae.Start],this.cardService,g.Self),l=new B(15,0,3,"Ice Rune Wall",new k(1,0,2),"","Draw a card at the start of each of your turns",!1,g.Self,v.deck,E.Neptune,[a]),c=new UP("",this.cardService,g.Self,oe.All),u=new We([c],"","",this.cardService),d=new B(4,2,2,"Aqua Healer",new k(1,0,1),"","On enter, heal all of your creatures, fast - may be played at any time",!0,g.Self,v.deck,E.Neptune,[u]),f=new B(10,5,6,"King Serpent",new k(2,0,2),"","Regenate - heal the end of your turn",!1,g.Self,v.deck,E.Neptune,[],[R.Regenerate]),h=new B(3,3,3,"Deep Sea Yeti",new k(1,0,2),"","Siege-double damage to walls",!1,g.Self,v.deck,E.Neptune,[],[R.Dodge,R.Siege]);h.dodgeAmount=1,n.push(o,l,d,f,h),t++}return n.push(...this.cardFactory.getMinesBulk(P.Sapphire,5)),n.push(...this.cardFactory.getMinesBulk(P.Gold,4)),n}starDeck(){let t=0,n=[];for(;t<4;){let r=new zP("Raise Dead",this.cardService,g.Self,oe.Single,[x.Creature],[v.discard],v.play),i=new sn("","",[x.Creature],g.Self,[v.discard],1,[r],this.cardService),o=new Ot("Raise Dead",new k(2,0,0,0,1),"","Return target creature to play from your discard pile, also heal the creature",[i],!1,g.Self,v.deck,E.MoonAndStars),s=new BP(this.cardService,g.Opponent,oe.Single,[x.Creature]),a=new sn("","",[x.Creature],g.Opponent,[v.play],1,[s],this.cardService),l=new Ot("Death Beam",new k(1,0,0,0,1,0),"","Kill Target Creature an opponent controls",[a],!1,g.Self,v.deck,E.MoonAndStars),c=new B(1,1,2,"Wolf of the Stars",new k(0,0,0,0,1),"","Gain +1/+1/+0 each turn",!1,g.Self,v.deck,E.MoonAndStars,[],[R.Armorer,R.Sharpen]),u=new B(5,2,2,"Moon Healer",new k(2,0,0,0,1),"","Medic - Heal all other units you control at the start of your turn.",!1,g.Self,v.deck,E.MoonAndStars,[],[R.Medic]),d=new B(3,3,5,"Comet Trooper",new k(0,0,0,0,2),"","",!1,g.Self,v.deck,E.MoonAndStars,[],[R.Flying]),f=new B(2,2,2,"Time Sprite",new k(1,0,0,0,1),"","Flying. Gain +1/+1/+1 at the start of your turn.",!1,g.Self,v.any,E.MoonAndStars,[],[R.Armorer,R.Sharpen,R.Momentum,R.Flying]),h=new jP(g.Self,this.cardService,f,3),p=new qP("",this.cardService,oe.All,[v.play],g.Self,[R.Armorer,R.Sharpen,R.Momentum]),m=new We([h,p],"","",this.cardService),_=new Ot("Summon Star Squad",new k(1,0,0,0,4),"","Summon 3 2/2/2 sprites. All creatures you control gain +1/+1/+1 at the start of each of your turns.",[m],!1,g.Self,v.deck,E.MoonAndStars);n.push(o,l,c,u,d,_),t++}return n.push(...this.cardFactory.getMinesBulk(P.LionEye,5)),n.push(...this.cardFactory.getMinesBulk(P.Gold,4)),n}neutralCards(){let t=[],n=0;for(;n<2;){let r=new kr("",this.cardService,oe.Single,g.Opponent,2),i=new We([r],"","",this.cardService),o=new Ot("Find Loot",new k(3),"","Draw 2 cards",[i],!1,g.Self,v.deck,E.Colorless),s=new B(4,3,2,"Pikeman",new k(2),"assets//pikeman.png","",!1,g.Self,v.deck,E.Colorless),a=new B(7,7,1,"Ironclad Mercenary",new k(4),"assets//Ironclad.png","",!1,g.Self,v.deck,E.Colorless),l=new B(2,3,4,"Scout Cavalry",new k(2),"","Fast - May be played at any time",!0,g.Self,v.deck,E.Colorless);t.push(o,s,a,l),n++}return t}}function n2(e,t){if(1&e){const n=ze();C(0,"button",2),ie("click",function(){return $e(n),He(F(2).deckChoosen())}),T(1,"Select this deck"),w()}}function r2(e,t){if(1&e&&(C(0,"div"),j(1,n2,2,0,"button",4),se(2,"app-deck-viewer",5),w()),2&e){const n=F();b(1),A("ngIf",n.showDeck()),b(1),A("deck",n.selectedDeck)}}let i2=(()=>{class e{constructor(){this.cardService={},this.player={},this.enemy={},this.decks={},this.selectedDeck=[],this.selectDeckEvent=new ve,this.showEarth=!1,this.showFire=!1,this.showAir=!1,this.showMoon=!1,this.showWater=!1}ngOnInit(){console.log(this.cardService),this.decks=new t2(this.cardService)}swapView(n){switch(this.showAir=!1,this.showEarth=!1,this.showFire=!1,this.showWater=!1,this.showMoon=!1,n){case"air":this.showAir=!0,this.selectedDeck=this.decks.airDeck();break;case"water":this.showWater=!0,this.selectedDeck=this.decks.waterDeck();break;case"fire":this.showFire=!0,this.selectedDeck=this.decks.fireDeck();break;case"moon":this.showMoon=!0,this.selectedDeck=this.decks.starDeck();break;case"earth":this.showEarth=!0,this.selectedDeck=this.decks.earthDeck()}this.selectedDeck.push(...this.decks.neutralCards())}showDeck(){return this.showFire||this.showAir||this.showEarth||this.showMoon||this.showWater}deckChoosen(){this.selectDeckEvent.emit(this.selectedDeck)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=mt({type:e,selectors:[["app-deck-picker"]],inputs:{cardService:"cardService",player:"player",enemy:"enemy"},outputs:{selectDeckEvent:"selectDeckEvent"},decls:22,vars:1,consts:[[1,"fireColors"],[1,"whiteFont"],[3,"click"],[4,"ngIf"],[3,"click",4,"ngIf"],[3,"deck"]],template:function(r,i){1&r&&(C(0,"div",0)(1,"p",1),T(2,"Air is the faction of wisdom, flexibility, and flight. Air values freedom."),w(),C(3,"button",2),ie("click",function(){return i.swapView("air")}),T(4,"View Air Starter Deck"),w(),C(5,"p",1),T(6,"Water is the faction of logic, knowledge, and change. Water values truth."),w(),C(7,"button",2),ie("click",function(){return i.swapView("water")}),T(8,"View Water Starter Deck"),w(),C(9,"p",1),T(10,"Earth is the faction of loyalty, hardiness, and mining. Earth values order."),w(),C(11,"button",2),ie("click",function(){return i.swapView("earth")}),T(12,"View Earth Starter Deck"),w(),C(13,"p",1),T(14,"Fire is the faction of offense, impulse, and emotion. Fire values passion."),w(),C(15,"button",2),ie("click",function(){return i.swapView("fire")}),T(16,"View Fire Starter Deck"),w(),C(17,"p",1),T(18,"Moon and Stars is the faction of life, death, and the cosmos. They value mystery and paradox. "),w(),C(19,"button",2),ie("click",function(){return i.swapView("moon")}),T(20,"View Moon and Stars Deck"),w()(),j(21,r2,3,2,"div",3)),2&r&&(b(21),A("ngIf",i.showDeck()))},dependencies:[rn,KD],styles:[".popUp[_ngcontent-%COMP%]{position:fixed;top:50px;z-index:999999;scroll-behavior:auto;left:7%;right:15%}button[_ngcontent-%COMP%]{margin-bottom:10px}"]})}return e})();function o2(e,t){if(1&e){const n=ze();C(0,"app-deck-picker",2),ie("selectDeckEvent",function(i){return $e(n),He(F().setPlayerDeck(i))}),w()}if(2&e){const n=F();A("cardService",n.cardService)("enemy",n.enemy)("player",n.player)}}function s2(e,t){if(1&e){const n=ze();C(0,"button",13),ie("click",function(){return $e(n),He(F(4).game.phaseManager.passTurn())}),T(1,"Pass Turn"),w()}}function a2(e,t){if(1&e){const n=ze();C(0,"div",10)(1,"h3"),T(2),w(),C(3,"h3"),T(4),w(),C(5,"button",11),ie("click",function(){return $e(n),He(F(3).game.phaseManager.nextPhase())}),T(6,"Next Phase"),w(),j(7,s2,2,0,"button",12),w()}if(2&e){const n=F(3);b(2),Re("Current Turn: ",n.game.currentTurn.name,""),b(2),Re("Current Phase: ",n.game.phaseDisplay,""),b(3),A("ngIf",n.isPassableTime())}}function l2(e,t){if(1&e&&(C(0,"div"),j(1,a2,8,3,"div",4),w()),2&e){const n=F(2);b(1),A("ngIf",n.player.hp>0&&n.player.cardService.getCards(4,1).length>0)}}function c2(e,t){1&e&&(C(0,"div",10)(1,"h3"),T(2,"You lose!"),w()())}function u2(e,t){1&e&&(C(0,"div",10)(1,"h3"),T(2,"You Win!"),w()())}function d2(e,t){if(1&e&&(C(0,"div"),se(1,"app-header",3),j(2,l2,2,1,"div",1),j(3,c2,3,0,"div",4),j(4,u2,3,0,"div",4),C(5,"div",5)(6,"div",6),se(7,"app-ai",7),w(),C(8,"div",8),se(9,"app-player",9),w()()()),2&e){const n=F();b(1),A("deck",n.player.getAllCards()),b(1),A("ngIf",!n.player.stopPhases&&!n.enemy.stopPhases),b(1),A("ngIf",n.player.hp<=0),b(1),A("ngIf",n.player.cardService.getCards(4,1).length<=0),b(3),A("hoard",n.enemy)("game",n.game),b(2),A("Player",n.player)("game",n.game)}}let XD=(()=>{class e{ngOnInit(){this.cardService.cardList.push(...this.playerDeck),this.player.cardService=this.cardService,this.enemy.cardService=this.cardService}constructor(){this.winner=!1,this.spellNeedsTargets=!1,this.showGame=!1,this.cardService=new QP,this.enemy=new Vi(this.cardService),this.playerDeck=[],this.player=new Un(this.cardService),this.enemy=new Vi(this.cardService),this.cardService.makePlayerService(this.player,this.enemy),this.game=new jf(this.player,this.enemy,this.cardService)}isPassableTime(){return(1===this.game.currentPhase||2===this.game.currentPhase||3===this.game.currentPhase||4===this.game.currentPhase||5===this.game.currentPhase)&&this.game.currentTurn===this.game.player}setPlayerDeck(n){this.cardService.cardList.push(...n),this.cardService.shuffleDeck(this.cardService.cardList),this.showGame=!0,this.player.drawCards(6);let r=this.cardService.getCards(v.deck,g.Self,x.Mine);for(let i=0;i<r.length;i++){let o=r[i];if(o.faction!==E.Colorless){o.zone=v.hand;break}}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=mt({type:e,selectors:[["app-game"]],inputs:{playerDeck:"playerDeck"},decls:2,vars:2,consts:[[3,"cardService","enemy","player","selectDeckEvent",4,"ngIf"],[4,"ngIf"],[3,"cardService","enemy","player","selectDeckEvent"],[3,"deck"],["class","uiPanel paneBg turnDisplay whiteFont noMargin",4,"ngIf"],[1,""],[1,"fireColors","playerArea"],[1,"noMargin",3,"hoard","game"],[1,"earthColors","playerArea"],[1,"noMargin",3,"Player","game"],[1,"uiPanel","paneBg","turnDisplay","whiteFont","noMargin"],[3,"click"],["style","margin-left: 2%;",3,"click",4,"ngIf"],[2,"margin-left","2%",3,"click"]],template:function(r,i){1&r&&(j(0,o2,1,3,"app-deck-picker",0),j(1,d2,10,8,"div",1)),2&r&&(A("ngIf",!i.showGame),b(1),A("ngIf",i.showGame))},dependencies:[rn,zF,QF,e2,i2],styles:[".displayRow[_ngcontent-%COMP%]{display:flex;flex-flow:row;justify-content:space-between}.turnDisplay[_ngcontent-%COMP%]{position:fixed;padding:10px;min-width:300px;bottom:0;left:0}.fighting[_ngcontent-%COMP%]{transform:translateY(50px)}.attacker[_ngcontent-%COMP%], .blocker[_ngcontent-%COMP%]{display:inline-block;transition:transform .3s ease-in-out}.attacker[_ngcontent-%COMP%]{border-color:#f6a5a5}.blocker[_ngcontent-%COMP%]{border-color:#6b81ff}"]})}return e})(),f2=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=mt({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&se(0,"app-game")},dependencies:[XD]})}return e})();const{isArray:p2}=Array,{getPrototypeOf:g2,prototype:m2,keys:y2}=Object;const{isArray:_2}=Array;function Hf(...e){const t=to(e),n=function rp(e){return ye(hc(e))?e.pop():void 0}(e),{args:r,keys:i}=function JD(e){if(1===e.length){const t=e[0];if(p2(t))return{args:t,keys:null};if(function v2(e){return e&&"object"==typeof e&&g2(e)===m2}(t)){const n=y2(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e);if(0===r.length)return qe([],t);const o=new Fe(function D2(e,t,n=qn){return r=>{nw(t,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)nw(t,()=>{const c=qe(e[l],t);let u=!1;c.subscribe(Le(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,i?s=>function tw(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}(i,s):qn));return n?o.pipe(function ew(e){return _e(t=>function C2(e,t){return _2(t)?e(...t):e(t)}(e,t))}(n)):o}function nw(e,t,n){e?Mn(n,e,t):t()}const Tl=Xi(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Uf(...e){return function w2(){return Lr(1)}()(qe(e,to(e)))}function rw(e){return new Fe(t=>{bt(e()).subscribe(t)})}function cs(e,t){const n=ye(e)?e:()=>e,r=i=>i.error(n());return new Fe(t?i=>t.schedule(r,0,i):r)}function zf(){return Be((e,t)=>{let n=null;e._refCount++;const r=Le(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class iw extends Fe{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Hh(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Et;const n=this.getSubject();t.add(this.source.subscribe(Le(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Et.EMPTY)}return t}refCount(){return zf()(this)}}function ji(e){return e<=0?()=>cn:Be((t,n)=>{let r=0;t.subscribe(Le(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function ar(e,t){return Be((n,r)=>{let i=0;n.subscribe(Le(r,o=>e.call(t,o,i++)&&r.next(o)))})}function kl(e){return Be((t,n)=>{let r=!1;t.subscribe(Le(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function ow(e=b2){return Be((t,n)=>{let r=!1;t.subscribe(Le(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function b2(){return new Tl}function xr(e,t){const n=arguments.length>=2;return r=>r.pipe(e?ar((i,o)=>e(i,o,r)):qn,ji(1),n?kl(t):ow(()=>new Tl))}function us(e,t){return ye(t)?Ze(e,t,1):Ze(e,1)}function rt(e,t,n){const r=ye(e)||t||n?{next:e,error:t,complete:n}:e;return r?Be((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Le(o,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),o.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):qn}function Nr(e){return Be((t,n)=>{let o,r=null,i=!1;r=t.subscribe(Le(n,void 0,void 0,s=>{o=bt(e(s,Nr(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Gf(e){return e<=0?()=>cn:Be((t,n)=>{let r=[];t.subscribe(Le(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function qf(e){return Be((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const ee="primary",ds=Symbol("RouteTitle");class k2{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function $i(e){return new k2(e)}function x2(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function En(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!sw(e[i],t[i]))return!1;return!0}function sw(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}return e===t}function aw(e){return e.length>0?e[e.length-1]:null}function lr(e){return function h2(e){return!!e&&(e instanceof Fe||ye(e.lift)&&ye(e.subscribe))}(e)?e:zo(e)?qe(Promise.resolve(e)):Z(e)}const O2={exact:function uw(e,t,n){if(!Or(e.segments,t.segments)||!xl(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!uw(e.children[r],t.children[r],n))return!1;return!0},subset:dw},lw={exact:function R2(e,t){return En(e,t)},subset:function P2(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>sw(e[n],t[n]))},ignored:()=>!0};function cw(e,t,n){return O2[n.paths](e.root,t.root,n.matrixParams)&&lw[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function dw(e,t,n){return fw(e,t,t.segments,n)}function fw(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!Or(i,n)||t.hasChildren()||!xl(i,n,r))}if(e.segments.length===n.length){if(!Or(e.segments,n)||!xl(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!dw(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!(Or(e.segments,i)&&xl(e.segments,i,r)&&e.children[ee])&&fw(e.children[ee],t,o,r)}}function xl(e,t,n){return t.every((r,i)=>lw[n](e[i].parameters,r.parameters))}class Hi{constructor(t=new me([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$i(this.queryParams)),this._queryParamMap}toString(){return V2.serialize(this)}}class me{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nl(this)}}class fs{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=$i(this.parameters)),this._parameterMap}toString(){return gw(this)}}function Or(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let hs=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=H({token:e,factory:function(){return new Wf},providedIn:"root"})}return e})();class Wf{parse(t){const n=new Y2(t);return new Hi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${ps(t.root,!0)}`,r=function $2(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${Ol(n)}=${Ol(i)}`).join("&"):`${Ol(n)}=${Ol(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function B2(e){return encodeURI(e)}(t.fragment)}`:""}`}}const V2=new Wf;function Nl(e){return e.segments.map(t=>gw(t)).join("/")}function ps(e,t){if(!e.hasChildren())return Nl(e);if(t){const n=e.children[ee]?ps(e.children[ee],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==ee&&r.push(`${i}:${ps(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function L2(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===ee&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==ee&&(n=n.concat(t(i,r)))}),n}(e,(r,i)=>i===ee?[ps(e.children[ee],!1)]:[`${i}:${ps(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[ee]?`${Nl(e)}/${n[0]}`:`${Nl(e)}/(${n.join("//")})`}}function hw(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ol(e){return hw(e).replace(/%3B/gi,";")}function Zf(e){return hw(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rl(e){return decodeURIComponent(e)}function pw(e){return Rl(e.replace(/\+/g,"%20"))}function gw(e){return`${Zf(e.path)}${function j2(e){return Object.keys(e).map(t=>`;${Zf(t)}=${Zf(e[t])}`).join("")}(e.parameters)}`}const H2=/^[^\/()?;#]+/;function Yf(e){const t=e.match(H2);return t?t[0]:""}const U2=/^[^\/()?;=#]+/,G2=/^[^=?&#]+/,W2=/^[^&#]+/;class Y2{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[ee]=new me(t,n)),r}parseSegment(){const t=Yf(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new M(4009,!1);return this.capture(t),new fs(Rl(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function z2(e){const t=e.match(U2);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Yf(this.remaining);i&&(r=i,this.capture(r))}t[Rl(n)]=Rl(r)}parseQueryParam(t){const n=function q2(e){const t=e.match(G2);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function Z2(e){const t=e.match(W2);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=pw(n),o=pw(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Yf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new M(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ee);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[ee]:new me([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new M(4011,!1)}}function mw(e){return e.segments.length>0?new me([],{[ee]:e}):e}function yw(e){const t={};for(const r of Object.keys(e.children)){const o=yw(e.children[r]);if(r===ee&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function Q2(e){if(1===e.numberOfChildren&&e.children[ee]){const t=e.children[ee];return new me(e.segments.concat(t.segments),t.children)}return e}(new me(e.segments,t))}function Rr(e){return e instanceof Hi}function vw(e){let t;const i=mw(function n(o){const s={};for(const l of o.children){const c=n(l);s[l.outlet]=c}const a=new me(o.url,s);return o===e&&(t=a),a}(e.root));return t??i}function _w(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return Qf(i,i,i,n,r);const o=function X2(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Dw(!0,0,e);let t=0,n=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new Dw(n,t,r)}(t);if(o.toRoot())return Qf(i,i,new me([],{}),n,r);const s=function J2(e,t,n){if(e.isAbsolute)return new Fl(t,!0,0);if(!n)return new Fl(t,!1,NaN);if(null===n.parent)return new Fl(n,!0,0);const r=Pl(e.commands[0])?0:1;return function eL(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new M(4005,!1);i=r.segments.length}return new Fl(r,!1,i-o)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(o,i,e),a=s.processChildren?ms(s.segmentGroup,s.index,o.commands):ww(s.segmentGroup,s.index,o.commands);return Qf(i,s.segmentGroup,a,n,r)}function Pl(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function gs(e){return"object"==typeof e&&null!=e&&e.outlets}function Qf(e,t,n,r,i){let s,o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),s=e===t?n:Cw(e,t,n);const a=mw(yw(s));return new Hi(a,o,i)}function Cw(e,t,n){const r={};return Object.entries(e.children).forEach(([i,o])=>{r[i]=o===t?n:Cw(o,t,n)}),new me(e.segments,r)}class Dw{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Pl(r[0]))throw new M(4003,!1);const i=r.find(gs);if(i&&i!==aw(r))throw new M(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fl{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function ww(e,t,n){if(e||(e=new me([],{})),0===e.segments.length&&e.hasChildren())return ms(e,t,n);const r=function nL(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const s=e.segments[i],a=n[r];if(gs(a))break;const l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!bw(l,c,s))return o;r+=2}else{if(!bw(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new me(e.segments.slice(0,r.pathIndex),{});return o.children[ee]=new me(e.segments.slice(r.pathIndex),e.children),ms(o,0,i)}return r.match&&0===i.length?new me(e.segments,{}):r.match&&!e.hasChildren()?Kf(e,t,n):r.match?ms(e,0,i):Kf(e,t,n)}function ms(e,t,n){if(0===n.length)return new me(e.segments,{});{const r=function tL(e){return gs(e[0])?e[0].outlets:{[ee]:e}}(n),i={};if(Object.keys(r).some(o=>o!==ee)&&e.children[ee]&&1===e.numberOfChildren&&0===e.children[ee].segments.length){const o=ms(e.children[ee],t,n);return new me(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=ww(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new me(e.segments,i)}}function Kf(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const o=n[i];if(gs(o)){const l=rL(o.outlets);return new me(r,l)}if(0===i&&Pl(n[0])){r.push(new fs(e.segments[t].path,Ew(n[0]))),i++;continue}const s=gs(o)?o.outlets[ee]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Pl(a)?(r.push(new fs(s,Ew(a))),i+=2):(r.push(new fs(s,{})),i++)}return new me(r,{})}function rL(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=Kf(new me([],{}),0,r))}),t}function Ew(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function bw(e,t,n){return e==n.path&&En(t,n.parameters)}const ys="imperative";class bn{constructor(t,n){this.id=t,this.url=n}}class Ll extends bn{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class cr extends bn{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vs extends bn{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ui extends bn{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}}class Vl extends bn{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Sw extends bn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iL extends bn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oL extends bn{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class sL extends bn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aL extends bn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lL{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class cL{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class uL{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dL{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fL{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hL{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mw{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Xf{}class Jf{constructor(t){this.url=t}}class pL{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new _s,this.attachRef=null}}let _s=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new pL,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class Iw{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=eh(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=eh(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=th(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return th(t,this._root).map(n=>n.value)}}function eh(e,t){if(e===t.value)return t;for(const n of t.children){const r=eh(e,n);if(r)return r}return null}function th(e,t){if(e===t.value)return[t];for(const n of t.children){const r=th(e,n);if(r.length)return r.unshift(t),r}return[]}class zn{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function zi(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class Aw extends Iw{constructor(t,n){super(t),this.snapshot=n,nh(this,t)}toString(){return this.snapshot.toString()}}function Tw(e,t){const n=function gL(e,t){const s=new Bl([],{},{},"",{},ee,t,null,{});return new xw("",new zn(s,[]))}(0,t),r=new Rt([new fs("",{})]),i=new Rt({}),o=new Rt({}),s=new Rt({}),a=new Rt(""),l=new Gi(r,i,s,a,o,ee,t,n.root);return l.snapshot=n.root,new Aw(new zn(l,[]),n)}class Gi{constructor(t,n,r,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(_e(c=>c[ds]))??Z(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(_e(t=>$i(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(_e(t=>$i(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function kw(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function mL(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Bl{get title(){return this.data?.[ds]}constructor(t,n,r,i,o,s,a,l,c){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$i(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$i(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xw extends Iw{constructor(t,n){super(n),this.url=t,nh(this,n)}toString(){return Nw(this._root)}}function nh(e,t){t.value._routerState=e,t.children.forEach(n=>nh(e,n))}function Nw(e){const t=e.children.length>0?` { ${e.children.map(Nw).join(", ")} } `:"";return`${e.value}${t}`}function rh(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,En(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),En(t.params,n.params)||e.paramsSubject.next(n.params),function N2(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!En(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),En(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function ih(e,t){const n=En(e.params,t.params)&&function F2(e,t){return Or(e,t)&&e.every((n,r)=>En(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||ih(e.parent,t.parent))}let Ow=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ee,this.activateEvents=new ve,this.deactivateEvents=new ve,this.attachEvents=new ve,this.detachEvents=new ve,this.parentContexts=O(_s),this.location=O(tn),this.changeDetector=O(ol),this.environmentInjector=O(Bt),this.inputBinder=O(jl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new M(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new yL(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=W({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Lt]})}return e})();class yL{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Gi?this.route:t===_s?this.childContexts:this.parent.get(t,n)}}const jl=new L("");let Rw=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=Hf([r.queryParams,r.params,r.data]).pipe(un(([o,s,a],l)=>(a={...o,...s,...a},0===l?Z(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function uO(e){const t=le(e);if(!t)return null;const n=new Bo(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac})}return e})();function Cs(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function _L(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Cs(e,r,i);return Cs(e,r)})}(e,t,n);return new zn(r,i)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Cs(e,a)),s}}const r=function CL(e){return new Gi(new Rt(e.url),new Rt(e.params),new Rt(e.queryParams),new Rt(e.fragment),new Rt(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(o=>Cs(e,o));return new zn(r,i)}}const oh="ngNavigationCancelingError";function Pw(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=Rr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Fw(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function Fw(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[oh]=!0,r.cancellationCode=t,n&&(r.url=n),r}function Lw(e){return e&&e[oh]}let Vw=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=mt({type:e,selectors:[["ng-component"]],standalone:!0,features:[M_],decls:1,vars:0,template:function(r,i){1&r&&se(0,"router-outlet")},dependencies:[Ow],encapsulation:2})}return e})();function sh(e){const t=e.children&&e.children.map(sh),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==ee&&(n.component=Vw),n}function an(e){return e.outlet||ee}function Ds(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class AL{constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),rh(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=zi(n);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=zi(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=zi(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const i=zi(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new hL(o.value.snapshot))}),t.children.length&&this.forwardEvent(new dL(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(rh(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),rh(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=Ds(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}}class Bw{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class $l{constructor(t,n){this.component=t,this.route=n}}function TL(e,t,n){const r=e._root;return ws(r,t?t._root:null,n,[r.value])}function qi(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function CS(e){return null!==Ls(e)}(e)?t.get(e):e:r}function ws(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=zi(t);return e.children.forEach(s=>{(function xL(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function NL(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Or(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Or(e.url,t.url)||!En(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ih(e,t)||!En(e.queryParams,t.queryParams);default:return!ih(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Bw(r)):(o.data=s.data,o._resolvedData=s._resolvedData),ws(e,t,o.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new $l(a.outlet.component,s))}else s&&Es(t,a,i),i.canActivateChecks.push(new Bw(r)),ws(e,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Es(a,n.getContext(s),i)),i}function Es(e,t,n){const r=zi(e),i=e.value;Object.entries(r).forEach(([o,s])=>{Es(s,i.component?t?t.children.getContext(o):null:t,n)}),n.canDeactivateChecks.push(new $l(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function bs(e){return"function"==typeof e}function jw(e){return e instanceof Tl||"EmptyError"===e?.name}const Hl=Symbol("INITIAL_VALUE");function Wi(){return un(e=>Hf(e.map(t=>t.pipe(ji(1),function E2(...e){const t=to(e);return Be((n,r)=>{(t?Uf(e,n,t):Uf(e,n)).subscribe(r)})}(Hl)))).pipe(_e(t=>{for(const n of t)if(!0!==n){if(n===Hl)return Hl;if(!1===n||n instanceof Hi)return n}return!0}),ar(t=>t!==Hl),ji(1)))}function $w(e){return function wb(...e){return Bh(e)}(rt(t=>{if(Rr(t))throw Pw(0,t)}),_e(t=>!0===t))}class Ul{constructor(t){this.segmentGroup=t||null}}class Hw{constructor(t){this.urlTree=t}}function Zi(e){return cs(new Ul(e))}function Uw(e){return cs(new Hw(e))}class XL{constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new M(4002,!1)}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Z(r);if(i.numberOfChildren>1||!i.children[ee])return cs(new M(4e3,!1));i=i.children[ee]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const o=this.createSegmentGroup(t,n.root,r,i);return new Hi(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){const o=this.createSegments(t,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,i)}),new me(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new M(4001,!1);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}const ah={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function JL(e,t,n,r,i){const o=lh(e,t,n);return o.matched?(r=function wL(e,t){return e.providers&&!e._injector&&(e._injector=xd(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function YL(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?Z(i.map(s=>{const a=qi(s,e);return lr(function VL(e){return e&&bs(e.canMatch)}(a)?a.canMatch(t,n):e.runInContext(()=>a(t,n)))})).pipe(Wi(),$w()):Z(!0)}(r,t,n).pipe(_e(s=>!0===s?o:{...ah}))):Z(o)}function lh(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...ah}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||x2)(n,e,t);if(!i)return{...ah};const o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function zw(e,t,n,r){return n.length>0&&function nV(e,t,n){return n.some(r=>zl(e,t,r)&&an(r)!==ee)}(e,n,r)?{segmentGroup:new me(t,tV(r,new me(n,e.children))),slicedSegments:[]}:0===n.length&&function rV(e,t,n){return n.some(r=>zl(e,t,r))}(e,n,r)?{segmentGroup:new me(e.segments,eV(e,0,n,r,e.children)),slicedSegments:n}:{segmentGroup:new me(e.segments,e.children),slicedSegments:n}}function eV(e,t,n,r,i){const o={};for(const s of r)if(zl(e,n,s)&&!i[an(s)]){const a=new me([],{});o[an(s)]=a}return{...i,...o}}function tV(e,t){const n={};n[ee]=t;for(const r of e)if(""===r.path&&an(r)!==ee){const i=new me([],{});n[an(r)]=i}return n}function zl(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class aV{constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new XL(this.urlSerializer,this.urlTree)}noMatchError(t){return new M(4002,!1)}recognize(){const t=zw(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,ee).pipe(Nr(n=>{if(n instanceof Hw)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Ul?this.noMatchError(n):n}),_e(n=>{const r=new Bl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ee,this.rootComponentType,null,{}),i=new zn(r,n),o=new xw("",i),s=function K2(e,t,n=null,r=null){return _w(vw(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,ee).pipe(Nr(r=>{throw r instanceof Ul?this.noMatchError(r):r}))}inheritParamsAndData(t){const n=t.value,r=kw(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0)}processChildren(t,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return qe(i).pipe(us(o=>{const s=r.children[o],a=function ML(e,t){const n=e.filter(r=>an(r)===t);return n.push(...e.filter(r=>an(r)!==t)),n}(n,o);return this.processSegmentGroup(t,a,s,o)}),function M2(e,t){return Be(function S2(e,t,n,r,i){return(o,s)=>{let a=n,l=t,c=0;o.subscribe(Le(s,u=>{const d=c++;l=a?e(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(e,t,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),kl(null),function I2(e,t){const n=arguments.length>=2;return r=>r.pipe(e?ar((i,o)=>e(i,o,r)):qn,Gf(1),n?kl(t):ow(()=>new Tl))}(),Ze(o=>{if(null===o)return Zi(r);const s=Gw(o);return function lV(e){e.sort((t,n)=>t.value.outlet===ee?-1:n.value.outlet===ee?1:t.value.outlet.localeCompare(n.value.outlet))}(s),Z(s)}))}processSegment(t,n,r,i,o,s){return qe(n).pipe(us(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,r,i,o,s).pipe(Nr(l=>{if(l instanceof Ul)return Z(null);throw l}))),xr(a=>!!a),Nr(a=>{if(jw(a))return function oV(e,t,n){return 0===t.length&&!e.children[n]}(r,i,o)?Z([]):Zi(r);throw a}))}processSegmentAgainstRoute(t,n,r,i,o,s,a){return function iV(e,t,n,r){return!!(an(e)===r||r!==ee&&zl(t,n,e))&&("**"===e.path||lh(t,e,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s):Zi(i):Zi(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Uw(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Ze(s=>{const a=new me(s,{});return this.processSegment(t,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=lh(n,i,o);if(!a)return Zi(n);const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?Uw(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Ze(f=>this.processSegment(t,r,n,f.concat(c),s,!1)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a;if("**"===r.path){const l=i.length>0?aw(i).parameters:{};a=Z({snapshot:new Bl(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qw(r),an(r),r.component??r._loadedComponent??null,r,Ww(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=JL(n,r,i,t).pipe(_e(({matched:l,consumedSegments:c,remainingSegments:u,parameters:d})=>l?{snapshot:new Bl(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qw(r),an(r),r.component??r._loadedComponent??null,r,Ww(r)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(un(l=>null===l?Zi(n):this.getChildConfig(t=r._injector??t,r,i).pipe(un(({routes:c})=>{const u=r._loadedInjector??t,{snapshot:d,consumedSegments:f,remainingSegments:h}=l,{segmentGroup:p,slicedSegments:m}=zw(n,f,h,c);if(0===m.length&&p.hasChildren())return this.processChildren(u,c,p).pipe(_e(S=>null===S?null:[new zn(d,S)]));if(0===c.length&&0===m.length)return Z([new zn(d,[])]);const _=an(r)===o;return this.processSegment(u,c,p,m,_?ee:o,!0).pipe(_e(S=>[new zn(d,S)]))}))))}getChildConfig(t,n,r){return n.children?Z({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?Z({routes:n._loadedRoutes,injector:n._loadedInjector}):function ZL(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?Z(!0):Z(i.map(s=>{const a=qi(s,e);return lr(function RL(e){return e&&bs(e.canLoad)}(a)?a.canLoad(t,n):e.runInContext(()=>a(t,n)))})).pipe(Wi(),$w())}(t,n,r).pipe(Ze(i=>i?this.configLoader.loadChildren(t,n).pipe(rt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function KL(e){return cs(Fw(!1,3))}())):Z({routes:[],injector:t})}}function cV(e){const t=e.value.routeConfig;return t&&""===t.path}function Gw(e){const t=[],n=new Set;for(const r of e){if(!cV(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=Gw(r.children);t.push(new zn(r.value,i))}return t.filter(r=>!n.has(r))}function qw(e){return e.data||{}}function Ww(e){return e.resolve||{}}function Zw(e){return"string"==typeof e.title||null===e.title}function ch(e){return un(t=>{const n=e(t);return n?qe(n).pipe(_e(()=>t)):Z(t)})}const Yi=new L("ROUTES");let uh=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(DC)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Z(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=lr(n.loadComponent()).pipe(_e(Yw),rt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),qf(()=>{this.componentLoaders.delete(n)})),i=new iw(r,()=>new Wt).pipe(zf());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function mV(e,t,n,r){return lr(e.loadChildren()).pipe(_e(Yw),Ze(i=>i instanceof b_||Array.isArray(i)?Z(i):qe(t.compileModuleAsync(i))),_e(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(Yi,[],{optional:!0,self:!0}).flat()),{routes:s.map(sh),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(qf(()=>{this.childrenLoaders.delete(r)})),s=new iw(o,()=>new Wt).pipe(zf());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Yw(e){return function yV(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Gl=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Wt,this.transitionAbortSubject=new Wt,this.configLoader=O(uh),this.environmentInjector=O(Bt),this.urlSerializer=O(hs),this.rootContexts=O(_s),this.inputBindingEnabled=null!==O(jl,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Z(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new cL(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new lL(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new Rt({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ys,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ar(o=>0!==o.id),_e(o=>({...o,extractedUrl:n.urlHandlingStrategy.extract(o.rawUrl)})),un(o=>{this.currentTransition=o;let s=!1,a=!1;return Z(o).pipe(rt(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),un(l=>{const c=l.currentBrowserUrl.toString(),u=!n.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const f="";return this.events.next(new Ui(l.id,this.urlSerializer.serialize(l.rawUrl),f,0)),l.resolve(null),cn}if(n.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Z(l).pipe(un(f=>{const h=this.transitions?.getValue();return this.events.next(new Ll(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?cn:Promise.resolve(f)}),function uV(e,t,n,r,i,o){return Ze(s=>function sV(e,t,n,r,i,o,s="emptyOnly"){return new aV(e,t,n,r,i,s,o).recognize()}(e,t,n,r,s.extractedUrl,i,o).pipe(_e(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),rt(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const h=new Sw(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:f,extractedUrl:h,source:p,restoredState:m,extras:_}=l,S=new Ll(f,this.urlSerializer.serialize(h),p,m);this.events.next(S);const y=Tw(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:y,urlAfterRedirects:h,extras:{..._,skipLocationChange:!1,replaceUrl:!1}},Z(o)}{const f="";return this.events.next(new Ui(l.id,this.urlSerializer.serialize(l.extractedUrl),f,1)),l.resolve(null),cn}}),rt(l=>{const c=new iL(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),_e(l=>(this.currentTransition=o={...l,guards:TL(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function jL(e,t){return Ze(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Z({...n,guardsResult:!0}):function $L(e,t,n,r){return qe(e).pipe(Ze(i=>function WL(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Z(o.map(a=>{const l=Ds(t)??i,c=qi(a,l);return lr(function LL(e){return e&&bs(e.canDeactivate)}(c)?c.canDeactivate(e,t,n,r):l.runInContext(()=>c(e,t,n,r))).pipe(xr())})).pipe(Wi()):Z(!0)}(i.component,i.route,n,t,r)),xr(i=>!0!==i,!0))}(s,r,i,e).pipe(Ze(a=>a&&function OL(e){return"boolean"==typeof e}(a)?function HL(e,t,n,r){return qe(t).pipe(us(i=>Uf(function zL(e,t){return null!==e&&t&&t(new uL(e)),Z(!0)}(i.route.parent,r),function UL(e,t){return null!==e&&t&&t(new fL(e)),Z(!0)}(i.route,r),function qL(e,t,n){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function kL(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>rw(()=>Z(s.guards.map(l=>{const c=Ds(s.node)??n,u=qi(l,c);return lr(function FL(e){return e&&bs(e.canActivateChild)}(u)?u.canActivateChild(r,e):c.runInContext(()=>u(r,e))).pipe(xr())})).pipe(Wi())));return Z(o).pipe(Wi())}(e,i.path,n),function GL(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Z(!0);const i=r.map(o=>rw(()=>{const s=Ds(t)??n,a=qi(o,s);return lr(function PL(e){return e&&bs(e.canActivate)}(a)?a.canActivate(t,e):s.runInContext(()=>a(t,e))).pipe(xr())}));return Z(i).pipe(Wi())}(e,i.route,n))),xr(i=>!0!==i,!0))}(r,o,e,t):Z(a)),_e(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),rt(l=>{if(o.guardsResult=l.guardsResult,Rr(l.guardsResult))throw Pw(0,l.guardsResult);const c=new oL(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),ar(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),ch(l=>{if(l.guards.canActivateChecks.length)return Z(l).pipe(rt(c=>{const u=new sL(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),un(c=>{let u=!1;return Z(c).pipe(function dV(e,t){return Ze(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Z(n);let o=0;return qe(i).pipe(us(s=>function fV(e,t,n,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!Zw(i)&&(o[ds]=i.title),function hV(e,t,n,r){const i=function pV(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return Z({});const o={};return qe(i).pipe(Ze(s=>function gV(e,t,n,r){const i=Ds(t)??r,o=qi(e,i);return lr(o.resolve?o.resolve(t,n):i.runInContext(()=>o(t,n)))}(e[s],t,n,r).pipe(xr(),rt(a=>{o[s]=a}))),Gf(1),function A2(e){return _e(()=>e)}(o),Nr(s=>jw(s)?cn:cs(s)))}(o,e,t,r).pipe(_e(s=>(e._resolvedData=s,e.data=kw(e,n).resolve,i&&Zw(i)&&(e.data[ds]=i.title),null)))}(s.route,r,e,t)),rt(()=>o++),Gf(1),Ze(s=>o===i.length?Z(n):cn))})}(n.paramsInheritanceStrategy,this.environmentInjector),rt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",2)}}))}),rt(c=>{const u=new aL(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),ch(l=>{const c=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(rt(f=>{u.component=f}),_e(()=>{})));for(const f of u.children)d.push(...c(f));return d};return Hf(c(l.targetSnapshot.root)).pipe(kl(),ji(1))}),ch(()=>this.afterPreactivation()),_e(l=>{const c=function vL(e,t,n){const r=Cs(e,t._root,n?n._root:void 0);return new Aw(r,t)}(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:c},o}),rt(()=>{this.events.next(new Xf)}),((e,t,n,r)=>_e(i=>(new AL(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),ji(1),rt({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new cr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),n.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),function T2(e){return Be((t,n)=>{bt(e).subscribe(Le(n,()=>n.complete(),rc)),!n.closed&&t.subscribe(n)})}(this.transitionAbortSubject.pipe(rt(l=>{throw l}))),qf(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Nr(l=>{if(a=!0,Lw(l))this.events.next(new vs(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function DL(e){return Lw(e)&&Rr(e.url)}(l)?this.events.next(new Jf(l.url)):o.resolve(!1);else{this.events.next(new Vl(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(l))}catch(c){o.reject(c)}}return cn}))}))}cancelNavigationTransition(n,r,i){const o=new vs(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Qw(e){return e!==ys}let Kw=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ee);return r}getResolvedTitleForRoute(n){return n.data[ds]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=H({token:e,factory:function(){return O(vV)},providedIn:"root"})}return e})(),vV=(()=>{class e extends Kw{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||e)(U(BD))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),_V=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=H({token:e,factory:function(){return O(DV)},providedIn:"root"})}return e})();class CV{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let DV=(()=>{class e extends CV{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=function Je(e){return In(()=>{const t=e.prototype.constructor,n=t[An]||Jc(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[An]||Jc(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}(e)))(i||e)}}();static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const ql=new L("",{providedIn:"root",factory:()=>({})});let wV=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=H({token:e,factory:function(){return O(EV)},providedIn:"root"})}return e})(),EV=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Ss=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Ss||{});function Xw(e,t){e.events.pipe(ar(n=>n instanceof cr||n instanceof vs||n instanceof Vl||n instanceof Ui),_e(n=>n instanceof cr||n instanceof Ui?Ss.COMPLETE:n instanceof vs&&(0===n.code||1===n.code)?Ss.REDIRECTING:Ss.FAILED),ar(n=>n!==Ss.REDIRECTING),ji(1)).subscribe(()=>{t()})}function bV(e){throw e}function SV(e,t,n){return t.parse("/")}const MV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qt=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=O(_C),this.isNgZoneEnabled=!1,this._events=new Wt,this.options=O(ql,{optional:!0})||{},this.pendingTasks=O(CC),this.errorHandler=this.options.errorHandler||bV,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||SV,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=O(wV),this.routeReuseStrategy=O(_V),this.titleStrategy=O(Kw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=O(Yi,{optional:!0})?.flat()??[],this.navigationTransitions=O(Gl),this.urlSerializer=O(hs),this.location=O(ff),this.componentInputBindingEnabled=!!O(jl,{optional:!0}),this.eventsSubscription=new Et,this.isNgZoneEnabled=O(be)instanceof be&&be.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Hi,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Tw(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(Jw(r)&&this._events.next(r));if(r instanceof Ll)Qw(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Ui)this.rawUrlTree=i.rawUrl;else if(r instanceof Sw){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof Xf)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof vs)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof Jf){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Qw(i.source)};this.scheduleNavigation(o,ys,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Vl&&this.restoreHistory(i,!0),r instanceof cr&&(this.navigated=!0),Jw(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ys,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(sh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{d=vw(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return _w(d,n,u,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Rr(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ys,null,r)}navigate(n,r={skipLocationChange:!1}){return function AV(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new M(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...MV}:!1===r?{...IV}:r,Rr(n))return cw(this.currentUrlTree,n,i);const o=this.parseUrl(n);return cw(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,f)=>{a=d,l=f});const u=this.pendingTasks.add();return Xw(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Jw(e){return!(e instanceof Xf||e instanceof Jf)}class eE{}let xV=(()=>{class e{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(ar(n=>n instanceof cr),us(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=xd(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return qe(i).pipe(Lr())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Z(null);const o=i.pipe(Ze(s=>null===s?Z(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?qe([o,this.loader.loadComponent(r)]).pipe(Lr()):o})}static#e=this.\u0275fac=function(r){return new(r||e)(U(qt),U(DC),U(Bt),U(eE),U(uh))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const fh=new L("");let tE=(()=>{class e{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ll?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof cr?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Ui&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Mw&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Mw(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function hy(){throw new Error("invalid")}()};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac})}return e})();function Gn(e,t){return{\u0275kind:e,\u0275providers:t}}function rE(){const e=O(kt);return t=>{const n=e.get(Oi);if(t!==n.components[0])return;const r=e.get(qt),i=e.get(iE);1===e.get(hh)&&r.initialNavigation(),e.get(oE,null,ne.Optional)?.setUpPreloading(),e.get(fh,null,ne.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const iE=new L("",{factory:()=>new Wt}),hh=new L("",{providedIn:"root",factory:()=>1}),oE=new L("");function PV(e){return Gn(0,[{provide:oE,useExisting:xV},{provide:eE,useExisting:e}])}const sE=new L("ROUTER_FORROOT_GUARD"),LV=[ff,{provide:hs,useClass:Wf},qt,_s,{provide:Gi,useFactory:function nE(e){return e.routerState.root},deps:[qt]},uh,[]];function VV(){return new AC("Router",qt)}let aE=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[LV,[],{provide:Yi,multi:!0,useValue:n},{provide:sE,useFactory:HV,deps:[[qt,new aa,new la]]},{provide:ql,useValue:r||{}},r?.useHash?{provide:Ar,useClass:gO}:{provide:Ar,useClass:iD},{provide:fh,useFactory:()=>{const e=O(PR),t=O(be),n=O(ql),r=O(Gl),i=O(hs);return n.scrollOffset&&e.setOffset(n.scrollOffset),new tE(i,r,e,t,n)}},r?.preloadingStrategy?PV(r.preloadingStrategy).\u0275providers:[],{provide:AC,multi:!0,useFactory:VV},r?.initialNavigation?UV(r):[],r?.bindToComponentInputs?Gn(8,[Rw,{provide:jl,useExisting:Rw}]).\u0275providers:[],[{provide:lE,useFactory:rE},{provide:ef,multi:!0,useExisting:lE}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Yi,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||e)(U(sE,8))};static#t=this.\u0275mod=Tn({type:e});static#n=this.\u0275inj=dn({})}return e})();function HV(e){return"guarded"}function UV(e){return["disabled"===e.initialNavigation?Gn(3,[{provide:qd,multi:!0,useFactory:()=>{const t=O(qt);return()=>{t.setUpLocationChangeListener()}}},{provide:hh,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Gn(2,[{provide:hh,useValue:0},{provide:qd,multi:!0,deps:[kt],useFactory:t=>{const n=t.get(hO,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=t.get(qt),o=t.get(iE);Xw(i,()=>{r(!0)}),t.get(Gl).afterPreactivation=()=>(r(!0),o.closed?Z(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const lE=new L(""),Ki=new L("CallSetDisabledState",{providedIn:"root",factory:()=>Xl}),Xl="always";let YE=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Tn({type:e});static#n=this.\u0275inj=dn({})}return e})(),HB=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Tn({type:e});static#n=this.\u0275inj=dn({imports:[YE]})}return e})(),zB=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Ki,useValue:n.callSetDisabledState??Xl}]}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Tn({type:e});static#n=this.\u0275inj=dn({imports:[HB]})}return e})();const GB=[{path:"game",component:XD},{path:"card",component:Bi},{path:"",pathMatch:"full",redirectTo:"game"}];let qB=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Tn({type:e,bootstrap:[f2]});static#n=this.\u0275inj=dn({imports:[TP,zB,[aE.forRoot(GB,{initialNavigation:"enabledBlocking",useHash:!0})],aE]})}return e})();IP().bootstrapModule(qB).catch(e=>console.error(e))}},ye=>{ye(ye.s=917)}]);