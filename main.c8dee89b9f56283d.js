"use strict";(self.webpackChunkCardApp=self.webpackChunkCardApp||[]).push([[179],{291:()=>{function Ne(n){return"function"==typeof n}function co(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Ja=co(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function uo(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class cn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Ne(r))try{r()}catch(s){e=s instanceof Ja?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Xg(s)}catch(o){e=e??[],o instanceof Ja?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ja(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Xg(e);else{if(e instanceof cn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&uo(t,e)}remove(e){const{_finalizers:t}=this;t&&uo(t,e),e instanceof cn&&e._removeParent(this)}}cn.EMPTY=(()=>{const n=new cn;return n.closed=!0,n})();const Zg=cn.EMPTY;function Qg(n){return n instanceof cn||n&&"closed"in n&&Ne(n.remove)&&Ne(n.add)&&Ne(n.unsubscribe)}function Xg(n){Ne(n)?n():n.unsubscribe()}const mi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},el={setTimeout(n,e,...t){const{delegate:r}=el;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=el;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Jg(n){el.setTimeout(()=>{const{onUnhandledError:e}=mi;if(!e)throw n;e(n)})}function Qu(){}const O1=Xu("C",void 0,void 0);function Xu(n,e,t){return{kind:n,value:e,error:t}}let yi=null;function tl(n){if(mi.useDeprecatedSynchronousErrorHandling){const e=!yi;if(e&&(yi={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=yi;if(yi=null,t)throw r}}else n()}class Ju extends cn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Qg(e)&&e.add(this)):this.destination=H1}static create(e,t,r){return new ho(e,t,r)}next(e){this.isStopped?td(function L1(n){return Xu("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?td(function F1(n){return Xu("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?td(O1,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const V1=Function.prototype.bind;function ed(n,e){return V1.call(n,e)}class U1{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){nl(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){nl(r)}else nl(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){nl(t)}}}class ho extends Ju{constructor(e,t,r){let i;if(super(),Ne(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&mi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ed(e.next,s),error:e.error&&ed(e.error,s),complete:e.complete&&ed(e.complete,s)}):i=e}this.destination=new U1(i)}}function nl(n){mi.useDeprecatedSynchronousErrorHandling?function B1(n){mi.useDeprecatedSynchronousErrorHandling&&yi&&(yi.errorThrown=!0,yi.error=n)}(n):Jg(n)}function td(n,e){const{onStoppedNotification:t}=mi;t&&el.setTimeout(()=>t(n,e))}const H1={closed:!0,next:Qu,error:function j1(n){throw n},complete:Qu},nd="function"==typeof Symbol&&Symbol.observable||"@@observable";function qr(n){return n}function em(n){return 0===n.length?qr:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let ct=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function G1(n){return n&&n instanceof Ju||function z1(n){return n&&Ne(n.next)&&Ne(n.error)&&Ne(n.complete)}(n)&&Qg(n)}(t)?t:new ho(t,r,i);return tl(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=tm(r))((i,s)=>{const o=new ho({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[nd](){return this}pipe(...t){return em(t)(this)}toPromise(t){return new(t=tm(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function tm(n){var e;return null!==(e=n??mi.Promise)&&void 0!==e?e:Promise}const W1=co(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let En=(()=>{class n extends ct{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new nm(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new W1}next(t){tl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){tl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){tl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Zg:(this.currentObservers=null,s.push(t),new cn(()=>{this.currentObservers=null,uo(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new ct;return t.source=this,t}}return n.create=(e,t)=>new nm(e,t),n})();class nm extends En{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:Zg}}function rm(n){return Ne(n?.lift)}function gt(n){return e=>{if(rm(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ut(n,e,t,r,i){return new q1(n,e,t,r,i)}class q1 extends Ju{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Le(n,e){return gt((t,r)=>{let i=0;t.subscribe(ut(r,s=>{r.next(n.call(e,s,i++))}))})}function Kr(n){return this instanceof Kr?(this.v=n,this):new Kr(n)}function am(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function od(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const lm=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function cm(n){return Ne(n?.then)}function um(n){return Ne(n[nd])}function dm(n){return Symbol.asyncIterator&&Ne(n?.[Symbol.asyncIterator])}function hm(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const fm=function gM(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function pm(n){return Ne(n?.[fm])}function gm(n){return function om(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(v,w){s.push([h,f,v,w])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Kr?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(r[h](f))}catch(v){d(s[0][3],v)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Kr(t.read());if(i)return yield Kr(void 0);yield yield Kr(r)}}finally{t.releaseLock()}})}function mm(n){return Ne(n?.getReader)}function un(n){if(n instanceof ct)return n;if(null!=n){if(um(n))return function mM(n){return new ct(e=>{const t=n[nd]();if(Ne(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(lm(n))return function yM(n){return new ct(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(cm(n))return function vM(n){return new ct(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Jg)})}(n);if(dm(n))return ym(n);if(pm(n))return function _M(n){return new ct(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(mm(n))return function wM(n){return ym(gm(n))}(n)}throw hm(n)}function ym(n){return new ct(e=>{(function CM(n,e){var t,r,i,s;return function im(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=am(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Sr(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function bt(n,e,t=1/0){return Ne(e)?bt((r,i)=>Le((s,o)=>e(r,s,i,o))(un(n(r,i))),t):("number"==typeof e&&(t=e),gt((r,i)=>function SM(n,e,t,r,i,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=w=>c<r?v(w):l.push(w),v=w=>{s&&e.next(w),c++;let M=!1;un(t(w,u++)).subscribe(ut(e,k=>{i?.(k),s?f(k):e.next(k)},()=>{M=!0},void 0,()=>{if(M)try{for(c--;l.length&&c<r;){const k=l.shift();o?Sr(e,o,()=>v(k)):v(k)}h()}catch(k){e.error(k)}}))};return n.subscribe(ut(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function Ki(n=1/0){return bt(qr,n)}const er=new ct(n=>n.complete());function ad(n){return n[n.length-1]}function vm(n){return Ne(ad(n))?n.pop():void 0}function fo(n){return function DM(n){return n&&Ne(n.schedule)}(ad(n))?n.pop():void 0}function _m(n,e=0){return gt((t,r)=>{t.subscribe(ut(r,i=>Sr(r,n,()=>r.next(i),e),()=>Sr(r,n,()=>r.complete(),e),i=>Sr(r,n,()=>r.error(i),e)))})}function wm(n,e=0){return gt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Cm(n,e){if(!n)throw new Error("Iterable cannot be null");return new ct(t=>{Sr(t,e,()=>{const r=n[Symbol.asyncIterator]();Sr(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function wt(n,e){return e?function PM(n,e){if(null!=n){if(um(n))return function MM(n,e){return un(n).pipe(wm(e),_m(e))}(n,e);if(lm(n))return function TM(n,e){return new ct(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(cm(n))return function AM(n,e){return un(n).pipe(wm(e),_m(e))}(n,e);if(dm(n))return Cm(n,e);if(pm(n))return function kM(n,e){return new ct(t=>{let r;return Sr(t,e,()=>{r=n[fm](),Sr(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Ne(r?.return)&&r.return()})}(n,e);if(mm(n))return function IM(n,e){return Cm(gm(n),e)}(n,e)}throw hm(n)}(n,e):un(n)}class Mn extends En{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function ae(...n){return wt(n,fo(n))}function Sm(n={}){const{connector:e=(()=>new En),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},v=()=>{const w=o;f(),w?.unsubscribe()};return gt((w,M)=>{c++,!d&&!u&&h();const k=l=l??e();M.add(()=>{c--,0===c&&!d&&!u&&(a=ld(v,i))}),k.subscribe(M),!o&&c>0&&(o=new ho({next:E=>k.next(E),error:E=>{d=!0,h(),a=ld(f,t,E),k.error(E)},complete:()=>{u=!0,h(),a=ld(f,r),k.complete()}}),un(w).subscribe(o))})(s)}}function ld(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new ho({next:()=>{r.unsubscribe(),n()}});return un(e(...t)).subscribe(r)}function tr(n,e){return gt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(ut(r,l=>{i?.unsubscribe();let c=0;const u=s++;un(n(l,u)).subscribe(i=ut(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function NM(n,e){return n===e}function ke(n){for(let e in n)if(n[e]===ke)return e;throw Error("Could not find renamed property on target object.")}function rl(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function mt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(mt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function cd(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const OM=ke({__forward_ref__:ke});function je(n){return n.__forward_ref__=je,n.toString=function(){return mt(this())},n}function se(n){return ud(n)?n():n}function ud(n){return"function"==typeof n&&n.hasOwnProperty(OM)&&n.__forward_ref__===je}function dd(n){return n&&!!n.\u0275providers}const bm="https://g.co/ng/security#xss";class P extends Error{constructor(e,t){super(function il(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function le(n){return"string"==typeof n?n:null==n?"":String(n)}function hd(n,e){throw new P(-201,!1)}function An(n,e){null==n&&function re(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function J(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Vn(n){return{providers:n.providers||[],imports:n.imports||[]}}function sl(n){return Dm(n,al)||Dm(n,Em)}function Dm(n,e){return n.hasOwnProperty(e)?n[e]:null}function ol(n){return n&&(n.hasOwnProperty(fd)||n.hasOwnProperty($M))?n[fd]:null}const al=ke({\u0275prov:ke}),fd=ke({\u0275inj:ke}),Em=ke({ngInjectableDef:ke}),$M=ke({ngInjectorDef:ke});var me=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(me||{});let pd;function Xt(n){const e=pd;return pd=n,e}function Am(n,e,t){const r=sl(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&me.Optional?null:void 0!==e?e:void hd(mt(n))}const He=globalThis;class K{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=J({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const po={},_d="__NG_DI_FLAG__",ll="ngTempTokenPath",WM=/\n/gm,km="__source";let Yi;function Yr(n){const e=Yi;return Yi=n,e}function YM(n,e=me.Default){if(void 0===Yi)throw new P(-203,!1);return null===Yi?Am(n,void 0,e):Yi.get(n,e&me.Optional?null:void 0,e)}function Z(n,e=me.Default){return(function Mm(){return pd}()||YM)(se(n),e)}function q(n,e=me.Default){return Z(n,cl(e))}function cl(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function wd(n){const e=[];for(let t=0;t<n.length;t++){const r=se(n[t]);if(Array.isArray(r)){if(0===r.length)throw new P(900,!1);let i,s=me.Default;for(let o=0;o<r.length;o++){const a=r[o],l=ZM(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(Z(i,s))}else e.push(Z(r))}return e}function go(n,e){return n[_d]=e,n.prototype[_d]=e,n}function ZM(n){return n[_d]}function br(n){return{toString:n}.toString()}var ul=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(ul||{}),Tn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Tn||{});const nr={},Ce=[],dl=ke({\u0275cmp:ke}),Cd=ke({\u0275dir:ke}),Sd=ke({\u0275pipe:ke}),Pm=ke({\u0275mod:ke}),Dr=ke({\u0275fac:ke}),mo=ke({__NG_ELEMENT_ID__:ke}),xm=ke({__NG_ENV_ID__:ke});function Rm(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function bd(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];Om(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function Nm(n){return 3===n||4===n||6===n}function Om(n){return 64===n.charCodeAt(0)}function yo(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||Fm(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function Fm(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}const Lm="ng-template";function JM(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==Rm(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Bm(n){return 4===n.type&&n.value!==Lm}function eA(n,e,t){return e===(4!==n.type||t?n.value:Lm)}function tA(n,e,t){let r=4;const i=n.attrs||[],s=function iA(n){for(let e=0;e<n.length;e++)if(Nm(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!eA(n,l,t)||""===l&&1===e.length){if(Un(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!JM(n.attrs,c,t)){if(Un(r))return!1;o=!0}continue}const d=nA(8&r?"class":l,i,Bm(n),t);if(-1===d){if(Un(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==Rm(f,c,0)||2&r&&c!==h){if(Un(r))return!1;o=!0}}}}else{if(!o&&!Un(r)&&!Un(l))return!1;if(o&&Un(l))continue;o=!1,r=l|1&r}}return Un(r)||o}function Un(n){return 0==(1&n)}function nA(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function sA(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function Vm(n,e,t=!1){for(let r=0;r<e.length;r++)if(tA(n,e[r],t))return!0;return!1}function Um(n,e){return n?":not("+e.trim()+")":e}function aA(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Un(o)&&(e+=Um(s,i),i=""),r=o,s=s||!Un(r);t++}return""!==i&&(e+=Um(s,i)),e}function be(n){return br(()=>{const e=Hm(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ul.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Tn.Emulated,styles:n.styles||Ce,_:null,schemas:n.schemas||null,tView:null,id:""};$m(t);const r=n.dependencies;return t.directiveDefs=hl(r,!1),t.pipeDefs=hl(r,!0),t.id=function gA(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function dA(n){return _e(n)||Dt(n)}function hA(n){return null!==n}function rr(n){return br(()=>({type:n.type,bootstrap:n.bootstrap||Ce,declarations:n.declarations||Ce,imports:n.imports||Ce,exports:n.exports||Ce,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function jm(n,e){if(null==n)return nr;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function oe(n){return br(()=>{const e=Hm(n);return $m(e),e})}function _e(n){return n[dl]||null}function Dt(n){return n[Cd]||null}function Ut(n){return n[Sd]||null}function hn(n,e){const t=n[Pm]||null;if(!t&&!0===e)throw new Error(`Type ${mt(n)} does not have '\u0275mod' property.`);return t}function Hm(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||nr,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Ce,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:jm(n.inputs,e),outputs:jm(n.outputs)}}function $m(n){n.features?.forEach(e=>e(n))}function hl(n,e){if(!n)return null;const t=e?Ut:dA;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(hA)}const tt=0,$=1,de=2,qe=3,jn=4,vo=5,Nt=6,Qi=7,it=8,Zr=9,Xi=10,ce=11,_o=12,zm=13,Ji=14,st=15,wo=16,es=17,ir=18,Co=19,Gm=20,Qr=21,Er=22,So=23,bo=24,ye=25,Dd=1,Wm=2,sr=7,ts=9,Et=11;function en(n){return Array.isArray(n)&&"object"==typeof n[Dd]}function jt(n){return Array.isArray(n)&&!0===n[Dd]}function Ed(n){return 0!=(4&n.flags)}function _i(n){return n.componentOffset>-1}function pl(n){return 1==(1&n.flags)}function Hn(n){return!!n.template}function Md(n){return 0!=(512&n[de])}function wi(n,e){return n.hasOwnProperty(Dr)?n[Dr]:null}let Mt=null,gl=!1;function kn(n){const e=Mt;return Mt=n,e}const Ym={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Qm(n){if(!Eo(n)||n.dirty){if(!n.producerMustRecompute(n)&&!ey(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function Jm(n){n.dirty=!0,function Xm(n){if(void 0===n.liveConsumerNode)return;const e=gl;gl=!0;try{for(const t of n.liveConsumerNode)t.dirty||Jm(t)}finally{gl=e}}(n),n.consumerMarkedDirty?.(n)}function Td(n){return n&&(n.nextProducerIndex=0),kn(n)}function kd(n,e){if(kn(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Eo(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)ml(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function ey(n){ns(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Qm(t),r!==t.version))return!0}return!1}function ty(n){if(ns(n),Eo(n))for(let e=0;e<n.producerNode.length;e++)ml(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function ml(n,e){if(function ry(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),ns(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)ml(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];ns(i),i.producerIndexOfThis[r]=e}}function Eo(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function ns(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let iy=null;const ly=()=>{},TA=(()=>({...Ym,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:ly}))();class kA{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function In(){return cy}function cy(n){return n.type.prototype.ngOnChanges&&(n.setInput=PA),IA}function IA(){const n=dy(this),e=n?.current;if(e){const t=n.previous;if(t===nr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function PA(n,e,t,r){const i=this.declaredInputs[t],s=dy(n)||function xA(n,e){return n[uy]=e}(n,{previous:nr,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new kA(l&&l.currentValue,e,a===nr),n[r]=e}In.ngInherit=!0;const uy="__ngSimpleChanges__";function dy(n){return n[uy]||null}const or=function(n,e,t){};function $e(n){for(;Array.isArray(n);)n=n[tt];return n}function yl(n,e){return $e(e[n])}function tn(n,e){return $e(e[n.index])}function py(n,e){return n.data[e]}function fn(n,e){const t=e[n];return en(t)?t:t[tt]}function Jr(n,e){return null==e?null:n[e]}function gy(n){n[es]=0}function BA(n){1024&n[de]||(n[de]|=1024,yy(n,1))}function my(n){1024&n[de]&&(n[de]&=-1025,yy(n,-1))}function yy(n,e){let t=n[qe];if(null===t)return;t[vo]+=e;let r=t;for(t=t[qe];null!==t&&(1===e&&1===r[vo]||-1===e&&0===r[vo]);)t[vo]+=e,r=t,t=t[qe]}const ie={lFrame:Ty(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function wy(){return ie.bindingsEnabled}function N(){return ie.lFrame.lView}function we(){return ie.lFrame.tView}function G(n){return ie.lFrame.contextLView=n,n[it]}function W(n){return ie.lFrame.contextLView=null,n}function At(){let n=Cy();for(;null!==n&&64===n.type;)n=n.parent;return n}function Cy(){return ie.lFrame.currentTNode}function ar(n,e){const t=ie.lFrame;t.currentTNode=n,t.isParent=e}function Nd(){return ie.lFrame.isParent}function Od(){ie.lFrame.isParent=!1}function Ht(){const n=ie.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function ss(){return ie.lFrame.bindingIndex++}function Ar(n){const e=ie.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function ZA(n,e){const t=ie.lFrame;t.bindingIndex=t.bindingRootIndex=n,Fd(e)}function Fd(n){ie.lFrame.currentDirectiveIndex=n}function Bd(n){ie.lFrame.currentQueryIndex=n}function XA(n){const e=n[$];return 2===e.type?e.declTNode:1===e.type?n[Nt]:null}function My(n,e,t){if(t&me.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&me.Host||(i=XA(s),null===i||(s=s[Ji],10&i.type))););if(null===i)return!1;e=i,n=s}const r=ie.lFrame=Ay();return r.currentTNode=e,r.lView=n,!0}function Vd(n){const e=Ay(),t=n[$];ie.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Ay(){const n=ie.lFrame,e=null===n?null:n.child;return null===e?Ty(n):e}function Ty(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function ky(){const n=ie.lFrame;return ie.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Iy=ky;function Ud(){const n=ky();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function $t(){return ie.lFrame.selectedIndex}function Ci(n){ie.lFrame.selectedIndex=n}function Qe(){const n=ie.lFrame;return py(n.tView,n.selectedIndex)}let xy=!0;function vl(){return xy}function ei(n){xy=n}function _l(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function wl(n,e,t){Ry(n,e,3,t)}function Cl(n,e,t,r){(3&n[de])===t&&Ry(n,e,t,r)}function jd(n,e){let t=n[de];(3&t)===e&&(t&=8191,t+=1,n[de]=t)}function Ry(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[es]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[es]+=65536),(a<s||-1==s)&&(oT(n,t,e,l),n[es]=(4294901760&n[es])+l+2),l++}function Ny(n,e){or(4,n,e);const t=kn(null);try{e.call(n)}finally{kn(t),or(5,n,e)}}function oT(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];i?n[de]>>13<n[es]>>16&&(3&n[de])===e&&(n[de]+=8192,Ny(a,s)):Ny(a,s)}const os=-1;class Ao{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function $d(n){return n!==os}function To(n){return 32767&n}function ko(n,e){let t=function uT(n){return n>>16}(n),r=e;for(;t>0;)r=r[Ji],t--;return r}let zd=!0;function Sl(n){const e=zd;return zd=n,e}const Oy=255,Fy=5;let dT=0;const lr={};function bl(n,e){const t=Ly(n,e);if(-1!==t)return t;const r=e[$];r.firstCreatePass&&(n.injectorIndex=e.length,Gd(r.data,n),Gd(e,null),Gd(r.blueprint,null));const i=Dl(n,e),s=n.injectorIndex;if($d(i)){const o=To(i),a=ko(i,e),l=a[$].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function Gd(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Ly(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Dl(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=zy(i),null===r)return os;if(t++,i=i[Ji],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return os}function Wd(n,e,t){!function hT(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(mo)&&(r=t[mo]),null==r&&(r=t[mo]=dT++);const i=r&Oy;e.data[n+(i>>Fy)]|=1<<i}(n,e,t)}function By(n,e,t){if(t&me.Optional||void 0!==n)return n;hd()}function Vy(n,e,t,r){if(t&me.Optional&&void 0===r&&(r=null),!(t&(me.Self|me.Host))){const i=n[Zr],s=Xt(void 0);try{return i?i.get(e,r,t&me.Optional):Am(e,r,t&me.Optional)}finally{Xt(s)}}return By(r,0,t)}function Uy(n,e,t,r=me.Default,i){if(null!==n){if(2048&e[de]&&!(r&me.Self)){const o=function vT(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[de]&&!(512&o[de]);){const a=jy(s,o,t,r|me.Self,lr);if(a!==lr)return a;let l=s.parent;if(!l){const c=o[Gm];if(c){const u=c.get(t,lr,r);if(u!==lr)return u}l=zy(o),o=o[Ji]}s=l}return i}(n,e,t,r,lr);if(o!==lr)return o}const s=jy(n,e,t,r,lr);if(s!==lr)return s}return Vy(e,t,r,i)}function jy(n,e,t,r,i){const s=function gT(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(mo)?n[mo]:void 0;return"number"==typeof e?e>=0?e&Oy:yT:e}(t);if("function"==typeof s){if(!My(e,n,r))return r&me.Host?By(i,0,r):Vy(e,t,r,i);try{let o;if(o=s(r),null!=o||r&me.Optional)return o;hd()}finally{Iy()}}else if("number"==typeof s){let o=null,a=Ly(n,e),l=os,c=r&me.Host?e[st][Nt]:null;for((-1===a||r&me.SkipSelf)&&(l=-1===a?Dl(n,e):e[a+8],l!==os&&$y(r,!1)?(o=e[$],a=To(l),e=ko(l,e)):a=-1);-1!==a;){const u=e[$];if(Hy(s,a,u.data)){const d=pT(a,e,t,o,r,c);if(d!==lr)return d}l=e[a+8],l!==os&&$y(r,e[$].data[a+8]===c)&&Hy(s,a,e)?(o=u,a=To(l),e=ko(l,e)):a=-1}}return i}function pT(n,e,t,r,i,s){const o=e[$],a=o.data[n+8],u=function El(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const v=o[f];if(f<l&&t===v||f>=l&&v.type===t)return f}if(i){const f=o[l];if(f&&Hn(f)&&f.type===t)return l}return null}(a,o,t,null==r?_i(a)&&zd:r!=o&&0!=(3&a.type),i&me.Host&&s===a);return null!==u?Si(e,o,u,a):lr}function Si(n,e,t,r){let i=n[t];const s=e.data;if(function aT(n){return n instanceof Ao}(i)){const o=i;o.resolving&&function FM(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new P(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Te(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():le(n)}(s[t]));const a=Sl(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Xt(o.injectImpl):null;My(n,r,me.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function sT(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=cy(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==c&&Xt(c),Sl(a),o.resolving=!1,Iy()}}return i}function Hy(n,e,t){return!!(t[e+(n>>Fy)]&1<<n)}function $y(n,e){return!(n&me.Self||n&me.Host&&e)}class zt{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Uy(this._tNode,this._lView,e,cl(r),t)}}function yT(){return new zt(At(),N())}function Tt(n){return br(()=>{const e=n.prototype.constructor,t=e[Dr]||qd(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Dr]||qd(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function qd(n){return ud(n)?()=>{const e=qd(se(n));return e&&e()}:wi(n)}function zy(n){const e=n[$],t=e.type;return 2===t?e.declTNode:1===t?n[Nt]:null}const ls="__parameters__";function us(n,e,t){return br(()=>{const r=function Kd(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(ls)?l[ls]:Object.defineProperty(l,ls,{value:[]})[ls];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function hs(n,e){n.forEach(t=>Array.isArray(t)?hs(t,e):e(t))}function Wy(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Al(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function pn(n,e,t){let r=fs(n,e);return r>=0?n[1|r]=t:(r=~r,function ET(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Yd(n,e){const t=fs(n,e);if(t>=0)return n[1|t]}function fs(n,e){return function qy(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const kl=go(us("Optional"),8),Il=go(us("SkipSelf"),4);function Ol(n){return 128==(128&n.flags)}var ti=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ti||{});const WT=/^>|^->|<!--|-->|--!>|<!-$/g,qT=/(<|>)/g,KT="\u200b$1\u200b";const eh=new Map;let YT=0;const nh="__ngContext__";function Ot(n,e){en(e)?(n[nh]=e[Co],function QT(n){eh.set(n[Co],n)}(e)):n[nh]=e}let rh;function ih(n,e){return rh(n,e)}function Oo(n){const e=n[qe];return jt(e)?e[qe]:e}function fv(n){return gv(n[_o])}function pv(n){return gv(n[jn])}function gv(n){for(;null!==n&&!jt(n);)n=n[jn];return n}function ms(n,e,t,r,i){if(null!=r){let s,o=!1;jt(r)?s=r:en(r)&&(o=!0,r=r[tt]);const a=$e(r);0===n&&null!==t?null==i?_v(e,t,a):bi(e,t,a,i||null,!0):1===n&&null!==t?bi(e,t,a,i||null,!0):2===n?function Hl(n,e,t){const r=Ul(n,e);r&&function mk(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function _k(n,e,t,r,i){const s=t[sr];s!==$e(t)&&ms(e,n,r,s,i);for(let a=Et;a<t.length;a++){const l=t[a];Lo(l[$],l,n,e,r,s)}}(e,n,s,t,i)}}function sh(n,e){return n.createComment(function sv(n){return n.replace(WT,e=>e.replace(qT,KT))}(e))}function Bl(n,e,t){return n.createElement(e,t)}function yv(n,e){const t=n[ts],r=t.indexOf(e);my(e),t.splice(r,1)}function Vl(n,e){if(n.length<=Et)return;const t=Et+e,r=n[t];if(r){const i=r[wo];null!==i&&i!==n&&yv(i,r),e>0&&(n[t-1][jn]=r[jn]);const s=Al(n,Et+e);!function lk(n,e){Lo(n,e,e[ce],2,null,null),e[tt]=null,e[Nt]=null}(r[$],r);const o=s[ir];null!==o&&o.detachView(s[$]),r[qe]=null,r[jn]=null,r[de]&=-129}return r}function oh(n,e){if(!(256&e[de])){const t=e[ce];e[So]&&ty(e[So]),e[bo]&&ty(e[bo]),t.destroyNode&&Lo(n,e,t,3,null,null),function dk(n){let e=n[_o];if(!e)return ah(n[$],n);for(;e;){let t=null;if(en(e))t=e[_o];else{const r=e[Et];r&&(t=r)}if(!t){for(;e&&!e[jn]&&e!==n;)en(e)&&ah(e[$],e),e=e[qe];null===e&&(e=n),en(e)&&ah(e[$],e),t=e&&e[jn]}e=t}}(e)}}function ah(n,e){if(!(256&e[de])){e[de]&=-129,e[de]|=256,function gk(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Ao)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];or(4,a,l);try{l.call(a)}finally{or(5,a,l)}}else{or(4,i,s);try{s.call(i)}finally{or(5,i,s)}}}}}(n,e),function pk(n,e){const t=n.cleanup,r=e[Qi];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(e[Qi]=null);const i=e[Qr];if(null!==i){e[Qr]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(n,e),1===e[$].type&&e[ce].destroy();const t=e[wo];if(null!==t&&jt(e[qe])){t!==e[qe]&&yv(t,e);const r=e[ir];null!==r&&r.detachView(n)}!function XT(n){eh.delete(n[Co])}(e)}}function lh(n,e,t){return function vv(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[tt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===Tn.None||s===Tn.Emulated)return null}return tn(r,t)}}(n,e.parent,t)}function bi(n,e,t,r,i){n.insertBefore(e,t,r,i)}function _v(n,e,t){n.appendChild(e,t)}function wv(n,e,t,r,i){null!==r?bi(n,e,t,r,i):_v(n,e,t)}function Ul(n,e){return n.parentNode(e)}let ch,fh,bv=function Sv(n,e,t){return 40&n.type?tn(n,t):null};function jl(n,e,t,r){const i=lh(n,r,e),s=e[ce],a=function Cv(n,e,t){return bv(n,e,t)}(r.parent||e[Nt],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)wv(s,i,t[l],a,!1);else wv(s,i,t,a,!1);void 0!==ch&&ch(s,r,e,t,i)}function Fo(n,e){if(null!==e){const t=e.type;if(3&t)return tn(e,n);if(4&t)return uh(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Fo(n,r);{const i=n[e.index];return jt(i)?uh(-1,i):$e(i)}}if(32&t)return ih(e,n)()||$e(n[e.index]);{const r=Ev(n,e);return null!==r?Array.isArray(r)?r[0]:Fo(Oo(n[st]),r):Fo(n,e.next)}}return null}function Ev(n,e){return null!==e?n[st][Nt].projection[e.projection]:null}function uh(n,e){const t=Et+n+1;if(t<e.length){const r=e[t],i=r[$].firstChild;if(null!==i)return Fo(r,i)}return e[sr]}function dh(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&Ot($e(a),r),t.flags|=2),32!=(32&t.flags))if(8&l)dh(n,e,t.child,r,i,s,!1),ms(e,n,i,a,s);else if(32&l){const c=ih(t,r);let u;for(;u=c();)ms(e,n,i,u,s);ms(e,n,i,a,s)}else 16&l?Av(n,e,r,t,i,s):ms(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Lo(n,e,t,r,i,s){dh(t,r,n.firstChild,e,i,s,!1)}function Av(n,e,t,r,i,s){const o=t[st],l=o[Nt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)ms(e,n,i,l[c],s);else{let c=l;const u=o[qe];Ol(r)&&(c.flags|=128),dh(n,e,c,u,i,s,!0)}}function Tv(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function kv(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&bd(n,e,r),null!==i&&Tv(n,e,i),null!==s&&function Ck(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}class Rv{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${bm})`}}function ni(n){return n instanceof Rv?n.changingThisBreaksApplicationSecurity:n}const Ok=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var _s=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(_s||{});function cr(n){const e=function Uo(){const n=N();return n&&n[Xi].sanitizer}();return e?e.sanitize(_s.URL,n)||"":function Bo(n,e){const t=function Pk(n){return n instanceof Rv&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${bm})`)}return t===e}(n,"URL")?ni(n):function gh(n){return(n=String(n)).match(Ok)?n:"unsafe:"+n}(le(n))}const jo=new K("ENVIRONMENT_INITIALIZER"),Hv=new K("INJECTOR",-1),$v=new K("INJECTOR_DEF_TYPES");class _h{get(e,t=po){if(t===po){const r=new Error(`NullInjectorError: No provider for ${mt(e)}!`);throw r.name="NullInjectorError",r}return t}}function Kk(...n){return{\u0275providers:Gv(0,n),\u0275fromNgModule:!0}}function Gv(n,...e){const t=[],r=new Set;let i;const s=o=>{t.push(o)};return hs(e,o=>{const a=o;Wl(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&Wv(i,s),t}function Wv(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];wh(i,s=>{e(s,r)})}}function Wl(n,e,t,r){if(!(n=se(n)))return!1;let i=null,s=ol(n);const o=!s&&_e(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const l=n.ngModule;if(s=ol(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)Wl(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{hs(s.imports,u=>{Wl(u,e,t,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&Wv(c,e)}if(!a){const c=wi(i)||(()=>new i);e({provide:i,useFactory:c,deps:Ce},i),e({provide:$v,useValue:i,multi:!0},i),e({provide:jo,useValue:()=>Z(i),multi:!0},i)}const l=s.providers;if(null!=l&&!a){const c=n;wh(l,u=>{e(u,c)})}}}return i!==n&&void 0!==n.providers}function wh(n,e){for(let t of n)dd(t)&&(t=t.\u0275providers),Array.isArray(t)?wh(t,e):e(t)}const Yk=ke({provide:String,useValue:ke});function Ch(n){return null!==n&&"object"==typeof n&&Yk in n}function Di(n){return"function"==typeof n}const Sh=new K("Set Injector scope."),ql={},Qk={};let bh;function Kl(){return void 0===bh&&(bh=new _h),bh}class xn{}class ws extends xn{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Eh(e,o=>this.processProvider(o)),this.records.set(Hv,Cs(void 0,this)),i.has("environment")&&this.records.set(xn,Cs(void 0,this));const s=this.records.get(Sh);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get($v.multi,Ce,me.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Yr(this),r=Xt(void 0);try{return e()}finally{Yr(t),Xt(r)}}get(e,t=po,r=me.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(xm))return e[xm](this);r=cl(r);const s=Yr(this),o=Xt(void 0);try{if(!(r&me.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function nI(n){return"function"==typeof n||"object"==typeof n&&n instanceof K}(e)&&sl(e);l=c&&this.injectableDefInScope(c)?Cs(Dh(e),ql):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&me.Self?Kl():this.parent).get(e,t=r&me.Optional&&t===po?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[ll]=a[ll]||[]).unshift(mt(e)),s)throw a;return function QM(n,e,t,r){const i=n[ll];throw e[km]&&i.unshift(e[km]),n.message=function XM(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=mt(e);if(Array.isArray(e))i=e.map(mt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):mt(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(WM,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[ll]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Xt(o),Yr(s)}}resolveInjectorInitializers(){const e=Yr(this),t=Xt(void 0);try{const i=this.get(jo.multi,Ce,me.Self);for(const s of i)s()}finally{Yr(e),Xt(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(mt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new P(205,!1)}processProvider(e){let t=Di(e=se(e))?e:se(e&&e.provide);const r=function Jk(n){return Ch(n)?Cs(void 0,n.useValue):Cs(Yv(n),ql)}(e);if(Di(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Cs(void 0,ql,!0),i.factory=()=>wd(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===ql&&(t.value=Qk,t.value=t.factory()),"object"==typeof t.value&&t.value&&function tI(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=se(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Dh(n){const e=sl(n),t=null!==e?e.factory:wi(n);if(null!==t)return t;if(n instanceof K)throw new P(204,!1);if(n instanceof Function)return function Xk(n){const e=n.length;if(e>0)throw function xo(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new P(204,!1);const t=function HM(n){return n&&(n[al]||n[Em])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new P(204,!1)}function Yv(n,e,t){let r;if(Di(n)){const i=se(n);return wi(i)||Dh(i)}if(Ch(n))r=()=>se(n.useValue);else if(function Kv(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...wd(n.deps||[]));else if(function qv(n){return!(!n||!n.useExisting)}(n))r=()=>Z(se(n.useExisting));else{const i=se(n&&(n.useClass||n.provide));if(!function eI(n){return!!n.deps}(n))return wi(i)||Dh(i);r=()=>new i(...wd(n.deps))}return r}function Cs(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Eh(n,e){for(const t of n)Array.isArray(t)?Eh(t,e):t&&dd(t)?Eh(t.\u0275providers,e):e(t)}const Yl=new K("AppId",{providedIn:"root",factory:()=>rI}),rI="ng",Zv=new K("Platform Initializer"),Ss=new K("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Qv=new K("AnimationModuleType"),Xv=new K("CSP nonce",{providedIn:"root",factory:()=>function vs(){if(void 0!==fh)return fh;if(typeof document<"u")return document;throw new P(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Jv=(n,e,t)=>null;function Rh(n,e,t=!1){return Jv(n,e,t)}class fI{}class n_{}class gI{resolveComponentFactory(e){throw function pI(n){const e=Error(`No component factory found for ${mt(n)}.`);return e.ngComponent=n,e}(e)}}let tc=(()=>{class n{static#e=this.NULL=new gI}return n})();function mI(){return Es(At(),N())}function Es(n,e){return new gn(tn(n,e))}let gn=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=mI}return n})();class zo{}let kr=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function vI(){const n=N(),t=fn(At().index,n);return(en(t)?t:n)[ce]}()}return n})(),_I=(()=>{class n{static#e=this.\u0275prov=J({token:n,providedIn:"root",factory:()=>null})}return n})();class Go{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const wI=new Go("16.2.12"),Fh={};function a_(n,e=null,t=null,r){const i=l_(n,e,t,r);return i.resolveInjectorInitializers(),i}function l_(n,e=null,t=null,r,i=new Set){const s=[t||Ce,Kk(n)];return r=r||("object"==typeof n?void 0:mt(n)),new ws(s,e||Kl(),r||null,i)}let mn=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=po;static#t=this.NULL=new _h;static create(t,r){if(Array.isArray(t))return a_({name:""},r,t,"");{const i=t.name??"";return a_({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=J({token:n,providedIn:"any",factory:()=>Z(Hv)});static#r=this.__NG_ELEMENT_ID__=-1}return n})();function Bh(n){return n.ngOriginalError}class Ir{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Bh(e);for(;t&&Bh(t);)t=Bh(t);return t||null}}function Uh(n){return e=>{setTimeout(n,void 0,e)}}const te=class AI extends En{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Uh(s),i&&(i=Uh(i)),o&&(o=Uh(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof cn&&e.add(a),a}};function u_(...n){}class Oe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new te(!1),this.onMicrotaskEmpty=new te(!1),this.onStable=new te(!1),this.onError=new te(!1),typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function TI(){const n="function"==typeof He.requestAnimationFrame;let e=He[n?"requestAnimationFrame":"setTimeout"],t=He[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function PI(n){const e=()=>{!function II(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(He,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Hh(n),n.isCheckStableRunning=!0,jh(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Hh(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{if(function RI(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,s,o,a);try{return d_(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),h_(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return d_(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),h_(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Hh(n),jh(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Oe.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(Oe.isInAngularZone())throw new P(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,kI,u_,u_);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const kI={};function jh(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Hh(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function d_(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function h_(n){n._nesting--,jh(n)}class xI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new te,this.onMicrotaskEmpty=new te,this.onStable=new te,this.onError=new te}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const f_=new K("",{providedIn:"root",factory:p_});function p_(){const n=q(Oe);let e=!0;return function xM(...n){const e=fo(n),t=function EM(n,e){return"number"==typeof ad(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?un(r[0]):Ki(t)(wt(r,e)):er}(new ct(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new ct(i=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{Oe.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=n.onUnstable.subscribe(()=>{Oe.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(Sm()))}function nc(n){return n.ownerDocument}function Pr(n){return n instanceof Function?n():n}let $h=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=J({token:n,providedIn:"root",factory:()=>new n})}return n})();function Wo(n){for(;n;){n[de]|=64;const e=Oo(n);if(Md(n)&&!e)return n;n=e}return null}const __=new K("",{providedIn:"root",factory:()=>!1});let ic=null;function b_(n,e){return n[e]??M_()}function D_(n,e){const t=M_();t.producerNode?.length&&(n[e]=ic,t.lView=n,ic=E_())}const HI={...Ym,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Wo(n.lView)},lView:null};function E_(){return Object.create(HI)}function M_(){return ic??=E_(),ic}const ue={};function _(n){A_(we(),N(),$t()+n,!1)}function A_(n,e,t,r){if(!r)if(3==(3&e[de])){const s=n.preOrderCheckHooks;null!==s&&wl(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Cl(e,s,0,t)}Ci(t)}function F(n,e=me.Default){const t=N();return null===t?Z(n,e):Uy(At(),t,se(n),e)}function sc(n,e,t,r,i,s,o,a,l,c,u){const d=e.blueprint.slice();return d[tt]=i,d[de]=140|r,(null!==c||n&&2048&n[de])&&(d[de]|=2048),gy(d),d[qe]=d[Ji]=n,d[it]=t,d[Xi]=o||n&&n[Xi],d[ce]=a||n&&n[ce],d[Zr]=l||n&&n[Zr]||null,d[Nt]=s,d[Co]=function ZT(){return YT++}(),d[Er]=u,d[Gm]=c,d[st]=2==e.type?n[st]:d,d}function Ts(n,e,t,r,i){let s=n.data[e];if(null===s)s=function zh(n,e,t,r,i){const s=Cy(),o=Nd(),l=n.data[e]=function ZI(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function is(){return null!==ie.skipHydrationRootTNode}()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,e,t,r,i),function YA(){return ie.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Mo(){const n=ie.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ar(s,!0),s}function qo(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function k_(n,e,t,r,i){const s=b_(e,So),o=$t(),a=2&r;try{Ci(-1),a&&e.length>ye&&A_(n,e,ye,!1),or(a?2:0,i);const c=a?s:null,u=Td(c);try{null!==c&&(c.dirty=!1),t(r,i)}finally{kd(c,u)}}finally{a&&null===e[So]&&D_(e,So),Ci(o),or(a?3:1,i)}}function Gh(n,e,t){if(Ed(e)){const r=kn(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{kn(r)}}}function Wh(n,e,t){wy()&&(function rP(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;_i(t)&&function uP(n,e,t){const r=tn(e,n),i=I_(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=oc(n,sc(n,i,null,o,r,e,null,n[Xi].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||bl(t,e),Ot(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=Si(e,n,a,t);Ot(c,e),null!==o&&dP(0,a-i,c,l,0,o),Hn(l)&&(fn(t.index,e)[it]=Si(e,n,a,t))}}(n,e,t,tn(t,e)),64==(64&t.flags)&&O_(n,e,t))}function qh(n,e,t=tn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function I_(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Kh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Kh(n,e,t,r,i,s,o,a,l,c,u){const d=ye+r,h=d+i,f=function zI(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ue);return t}(d,h),v="function"==typeof c?c():c;return f[$]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1,ssrId:u}}let P_=n=>null;function x_(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?R_(t,e,i,s):r.hasOwnProperty(i)&&R_(t,e,r[i],s)}return t}function R_(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function yn(n,e,t,r,i,s,o,a){const l=tn(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(Jh(n,t,u,r,i),_i(e)&&function JI(n,e){const t=fn(e,n);16&t[de]||(t[de]|=64)}(t,e.index)):3&e.type&&(r=function XI(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}function Yh(n,e,t,r){if(wy()){const i=null===r?null:{"":-1},s=function sP(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(Vm(e,o.selectors,!1))if(r||(r=[]),Hn(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Zh(n,e,a.length)}else r.unshift(o),Zh(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&N_(n,e,t,o,i,a),i&&function oP(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new P(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=yo(t.mergedAttrs,t.attrs)}function N_(n,e,t,r,i,s){for(let c=0;c<r.length;c++)Wd(bl(t,e),n,r[c].type);!function lP(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=qo(n,e,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];t.mergedAttrs=yo(t.mergedAttrs,u.hostAttrs),cP(n,t,e,l,u),aP(l,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function QI(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<i;u++){const d=s[u],h=t?t.get(d):null,v=h?h.outputs:null;l=x_(d.inputs,u,l,h?h.inputs:null),c=x_(d.outputs,u,c,v);const w=null===l||null===o||Bm(e)?null:hP(l,u,o);a.push(w)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,s)}function O_(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function QA(){return ie.lFrame.currentDirectiveIndex}();try{Ci(s);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];Fd(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&iP(l,c)}}finally{Ci(-1),Fd(o)}}function iP(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Zh(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function aP(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Hn(e)&&(t[""]=n)}}function cP(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=wi(i.type)),o=new Ao(s,Hn(i),F);n.blueprint[r]=o,t[r]=o,function tP(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function nP(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,qo(n,t,i.hostVars,ue),i)}function dP(n,e,t,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)F_(r,t,o[a++],o[a++],o[a++])}function F_(n,e,t,r,i){const s=kn(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{kn(s)}}function hP(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function L_(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function B_(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];Bd(t[r]),o.contentQueries(2,e[s],s)}}}function oc(n,e){return n[_o]?n[zm][jn]=e:n[_o]=e,n[zm]=e,e}function Xh(n,e,t){Bd(0);const r=kn(null);try{e(n,t)}finally{kn(r)}}function H_(n,e){const t=n[Zr],r=t?t.get(Ir,null):null;r&&r.handleError(e)}function Jh(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++];F_(n.data[o],e[o],r,a,i)}}function xr(n,e,t){const r=yl(e,n);!function mv(n,e,t){n.setValue(e,t)}(n[ce],r,t)}function fP(n,e){const t=fn(e,n),r=t[$];!function pP(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[tt];null!==i&&null===t[Er]&&(t[Er]=Rh(i,t[Zr])),ef(r,t,t[it])}function ef(n,e,t){Vd(e);try{const r=n.viewQuery;null!==r&&Xh(1,r,t);const i=n.template;null!==i&&k_(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&B_(n,e),n.staticViewQueries&&Xh(2,n.viewQuery,t);const s=n.components;null!==s&&function gP(n,e){for(let t=0;t<e.length;t++)fP(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[de]&=-5,Ud()}}let $_=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function AA(n,e,t){const r=Object.create(TA);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>Jm(r),run:()=>{if(r.dirty=!1,r.hasRun&&!ey(r))return;r.hasRun=!0;const o=Td(r);try{r.cleanupFn(),r.cleanupFn=ly,r.fn(i)}finally{kd(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(t,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=J({token:n,providedIn:"root",factory:()=>new n})}return n})();function ac(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=cd(i,a):2==s&&(r=cd(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Ko(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];null!==s&&r.push($e(s)),jt(s)&&z_(s,r);const o=t.type;if(8&o)Ko(n,e,t.child,r);else if(32&o){const a=ih(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=Ev(e,t);if(Array.isArray(a))r.push(...a);else{const l=Oo(e[st]);Ko(l[$],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function z_(n,e){for(let t=Et;t<n.length;t++){const r=n[t],i=r[$].firstChild;null!==i&&Ko(r[$],r,i,e)}n[sr]!==n[tt]&&e.push(n[sr])}function lc(n,e,t,r=!0){const i=e[Xi],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{G_(n,e,n.template,t)}catch(l){throw r&&H_(e,l),l}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function G_(n,e,t,r){const i=e[de];if(256!=(256&i)){e[Xi].effectManager?.flush(),Vd(e);try{gy(e),function by(n){return ie.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&k_(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&wl(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Cl(e,c,0,null),jd(e,0)}if(function vP(n){for(let e=fv(n);null!==e;e=pv(e)){if(!e[Wm])continue;const t=e[ts];for(let r=0;r<t.length;r++){BA(t[r])}}}(e),W_(e,2),null!==n.contentQueries&&B_(n,e),o){const c=n.contentCheckHooks;null!==c&&wl(e,c)}else{const c=n.contentHooks;null!==c&&Cl(e,c,1),jd(e,1)}!function $I(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=b_(e,bo);try{for(let i=0;i<t.length;i++){const s=t[i];if(s<0)Ci(~s);else{const o=s,a=t[++i],l=t[++i];ZA(a,o),r.dirty=!1;const c=Td(r);try{l(2,e[o])}finally{kd(r,c)}}}}finally{null===e[bo]&&D_(e,bo),Ci(-1)}}(n,e);const a=n.components;null!==a&&K_(e,a,0);const l=n.viewQuery;if(null!==l&&Xh(2,l,r),o){const c=n.viewCheckHooks;null!==c&&wl(e,c)}else{const c=n.viewHooks;null!==c&&Cl(e,c,2),jd(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[de]&=-73,my(e)}finally{Ud()}}}function W_(n,e){for(let t=fv(n);null!==t;t=pv(t))for(let r=Et;r<t.length;r++)q_(t[r],e)}function _P(n,e,t){q_(fn(e,n),t)}function q_(n,e){if(!function FA(n){return 128==(128&n[de])}(n))return;const t=n[$],r=n[de];if(80&r&&0===e||1024&r||2===e)G_(t,n,t.template,n[it]);else if(n[vo]>0){W_(n,1);const i=t.components;null!==i&&K_(n,i,1)}}function K_(n,e,t){for(let r=0;r<e.length;r++)_P(n,e[r],t)}class Yo{get rootNodes(){const e=this._lView,t=e[$];return Ko(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[it]}set context(e){this._lView[it]=e}get destroyed(){return 256==(256&this._lView[de])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[qe];if(jt(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Vl(e,r),Al(t,r))}this._attachedToViewContainer=!1}oh(this._lView[$],this._lView)}onDestroy(e){!function vy(n,e){if(256==(256&n[de]))throw new P(911,!1);null===n[Qr]&&(n[Qr]=[]),n[Qr].push(e)}(this._lView,e)}markForCheck(){Wo(this._cdRefInjectingView||this._lView)}detach(){this._lView[de]&=-129}reattach(){this._lView[de]|=128}detectChanges(){lc(this._lView[$],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function uk(n,e){Lo(n,e,e[ce],2,null,null)}(this._lView[$],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=e}}class wP extends Yo{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;lc(e[$],e,e[it],!1)}checkNoChanges(){}get context(){return null}}class Y_ extends tc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=_e(e);return new Zo(t,this.ngModule)}}function Z_(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class SP{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=cl(r);const i=this.injector.get(e,Fh,r);return i!==Fh||t===Fh?i:this.parentInjector.get(e,t,r)}}class Zo extends n_{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=Z_(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return Z_(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function lA(n){return n.map(aA).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof xn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new SP(e,s):e,a=o.get(zo,null);if(null===a)throw new P(407,!1);const d={rendererFactory:a,sanitizer:o.get(_I,null),effectManager:o.get($_,null),afterRenderEventManager:o.get($h,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",v=r?function GI(n,e,t,r){const s=r.get(__,!1)||t===Tn.ShadowDom,o=n.selectRootElement(e,s);return function WI(n){P_(n)}(o),o}(h,r,this.componentDef.encapsulation,o):Bl(h,f,function CP(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),k=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let E=null;null!==v&&(E=Rh(v,o,!0));const B=Kh(0,null,null,1,0,null,null,null,null,null,null),j=sc(null,B,null,k,null,null,d,h,o,null,E);let Y,ge;Vd(j);try{const fe=this.componentDef;let Ae,Je=null;fe.findHostDirectiveDefs?(Ae=[],Je=new Map,fe.findHostDirectiveDefs(fe,Ae,Je),Ae.push(fe)):Ae=[fe];const pt=function DP(n,e){const t=n[$],r=ye;return n[r]=e,Ts(t,r,2,"#host",null)}(j,v),ln=function EP(n,e,t,r,i,s,o){const a=i[$];!function MP(n,e,t,r){for(const i of n)e.mergedAttrs=yo(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(ac(e,e.mergedAttrs,!0),null!==t&&kv(r,t,e))}(r,n,e,o);let l=null;null!==e&&(l=Rh(e,i[Zr]));const c=s.rendererFactory.createRenderer(e,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const d=sc(i,I_(t),null,u,i[n.index],n,s,c,null,null,l);return a.firstCreatePass&&Zh(a,n,r.length-1),oc(i,d),i[n.index]=d}(pt,v,fe,Ae,j,d,h);ge=py(B,ye),v&&function TP(n,e,t,r){if(r)bd(n,t,["ng-version",wI.full]);else{const{attrs:i,classes:s}=function cA(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Un(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&bd(n,t,i),s&&s.length>0&&Tv(n,t,s.join(" "))}}(h,fe,v,r),void 0!==t&&function kP(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(ge,this.ngContentSelectors,t),Y=function AP(n,e,t,r,i,s){const o=At(),a=i[$],l=tn(o,i);N_(a,i,o,t,null,r);for(let u=0;u<t.length;u++)Ot(Si(i,a,o.directiveStart+u,o),i);O_(a,i,o),l&&Ot(l,i);const c=Si(i,a,o.directiveStart+o.componentOffset,o);if(n[it]=i[it]=c,null!==s)for(const u of s)u(c,e);return Gh(a,o,n),c}(ln,fe,Ae,Je,j,[IP]),ef(B,j,null)}finally{Ud()}return new bP(this.componentType,Y,Es(ge,j),j,ge)}}class bP extends fI{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new wP(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;Jh(s[$],s,i,e,t),this.previousInputValues.set(e,t),Wo(fn(this._tNode.index,s))}}get injector(){return new zt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function IP(){const n=At();_l(N()[$],n)}function Ie(n){let e=function Q_(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Hn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new P(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=cc(n.inputs),o.inputTransforms=cc(n.inputTransforms),o.declaredInputs=cc(n.declaredInputs),o.outputs=cc(n.outputs);const a=i.hostBindings;a&&NP(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&xP(n,l),c&&RP(n,c),rl(n.inputs,i.inputs),rl(n.declaredInputs,i.declaredInputs),rl(n.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),rl(o.inputTransforms,i.inputTransforms)),Hn(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Ie&&(t=!1)}}e=Object.getPrototypeOf(e)}!function PP(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=yo(i.hostAttrs,t=yo(t,i.hostAttrs))}}(r)}function cc(n){return n===nr?{}:n===Ce?[]:n}function xP(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function RP(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function NP(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function uc(n){return!!tf(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function tf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function dr(n,e,t){return n[e]=t}function Qo(n,e){return n[e]}function Ft(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Ei(n,e,t,r){const i=Ft(n,e,t);return Ft(n,e+1,r)||i}function Rn(n,e,t,r,i,s){const o=Ei(n,e,t,r);return Ei(n,e+2,i,s)||o}function Is(n,e,t,r){return Ft(n,ss(),t)?e+le(t)+r:ue}function Ps(n,e,t,r,i,s){const a=Ei(n,function Mr(){return ie.lFrame.bindingIndex}(),t,i);return Ar(2),a?e+le(t)+r+le(i)+s:ue}function x(n,e,t,r,i,s,o,a){const l=N(),c=we(),u=n+ye,d=c.firstCreatePass?function sx(n,e,t,r,i,s,o,a,l){const c=e.consts,u=Ts(e,n,4,o||null,Jr(c,a));Yh(e,t,u,Jr(c,l)),_l(e,u);const d=u.tView=Kh(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,s,o):c.data[u];ar(d,!1);const h=pw(c,l,d,n);vl()&&jl(c,l,h,d),Ot(h,l),oc(l,l[u]=L_(h,l,h,d)),pl(d)&&Wh(c,l,d),null!=o&&qh(l,d,a)}let pw=function gw(n,e,t,r){return ei(!0),e[ce].createComment("")};function Mi(n){return function rs(n,e){return n[e]}(function KA(){return ie.lFrame.contextLView}(),ye+n)}function C(n,e,t){const r=N();return Ft(r,ss(),e)&&yn(we(),Qe(),r,n,e,r[ce],t,!1),C}function cf(n,e,t,r,i){const o=i?"class":"style";Jh(n,t,e.inputs[o],o,r)}function m(n,e,t,r){const i=N(),s=we(),o=ye+n,a=i[ce],l=s.firstCreatePass?function cx(n,e,t,r,i,s){const o=e.consts,l=Ts(e,n,2,r,Jr(o,i));return Yh(e,t,l,Jr(o,s)),null!==l.attrs&&ac(l,l.attrs,!1),null!==l.mergedAttrs&&ac(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,e,t,r):s.data[o],c=mw(s,i,l,a,e,n);i[o]=c;const u=pl(l);return ar(l,!0),kv(a,c,l),32!=(32&l.flags)&&vl()&&jl(s,i,c,l),0===function UA(){return ie.lFrame.elementDepthCount}()&&Ot(c,i),function jA(){ie.lFrame.elementDepthCount++}(),u&&(Wh(s,i,l),Gh(s,l,i)),null!==r&&qh(i,l),m}function g(){let n=At();Nd()?Od():(n=n.parent,ar(n,!1));const e=n;(function $A(n){return ie.skipHydrationRootTNode===n})(e)&&function qA(){ie.skipHydrationRootTNode=null}(),function HA(){ie.lFrame.elementDepthCount--}();const t=we();return t.firstCreatePass&&(_l(t,n),Ed(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function lT(n){return 0!=(8&n.flags)}(e)&&cf(t,e,N(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function cT(n){return 0!=(16&n.flags)}(e)&&cf(t,e,N(),e.stylesWithoutHost,!1),g}function L(n,e,t,r){return m(n,e,t,r),g(),L}let mw=(n,e,t,r,i,s)=>(ei(!0),Bl(r,i,function Py(){return ie.lFrame.currentNamespace}()));function gc(n,e,t){const r=N(),i=we(),s=n+ye,o=i.firstCreatePass?function hx(n,e,t,r,i){const s=e.consts,o=Jr(s,r),a=Ts(e,n,8,"ng-container",o);return null!==o&&ac(a,o,!0),Yh(e,t,a,Jr(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];ar(o,!0);const a=vw(i,r,o,n);return r[s]=a,vl()&&jl(i,r,a,o),Ot(a,r),pl(o)&&(Wh(i,r,o),Gh(i,o,r)),null!=t&&qh(r,o),gc}function mc(){let n=At();const e=we();return Nd()?Od():(n=n.parent,ar(n,!1)),e.firstCreatePass&&(_l(e,n),Ed(n)&&e.queries.elementEnd(n)),mc}let vw=(n,e,t,r)=>(ei(!0),sh(e[ce],""));function ne(){return N()}function ta(n){return!!n&&"function"==typeof n.then}function _w(n){return!!n&&"function"==typeof n.subscribe}function U(n,e,t,r){const i=N(),s=we(),o=At();return function Cw(n,e,t,r,i,s,o){const a=pl(r),c=n.firstCreatePass&&function U_(n){return n.cleanup||(n.cleanup=[])}(n),u=e[it],d=function V_(n){return n[Qi]||(n[Qi]=[])}(e);let h=!0;if(3&r.type||o){const w=tn(r,e),M=o?o(w):w,k=d.length,E=o?j=>o($e(j[r.index])):r.index;let B=null;if(!o&&a&&(B=function gx(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[Qi],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==B)(B.__ngLastListenerFn__||B).__ngNextListenerFn__=s,B.__ngLastListenerFn__=s,h=!1;else{s=bw(r,e,u,s,!1);const j=t.listen(M,i,s);d.push(s,j),c&&c.push(i,E,k,k+1)}}else s=bw(r,e,u,s,!1);const f=r.outputs;let v;if(h&&null!==f&&(v=f[i])){const w=v.length;if(w)for(let M=0;M<w;M+=2){const Y=e[v[M]][v[M+1]].subscribe(s),ge=d.length;d.push(s,Y),c&&c.push(i,r.index,ge,-(ge+1))}}}(s,i,i[ce],o,n,e,r),U}function Sw(n,e,t,r){try{return or(6,e,t),!1!==t(r)}catch(i){return H_(n,i),!1}finally{or(7,e,t)}}function bw(n,e,t,r,i){return function s(o){if(o===Function)return r;Wo(n.componentOffset>-1?fn(n.index,e):e);let l=Sw(e,t,r,o),c=s.__ngNextListenerFn__;for(;c;)l=Sw(e,t,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&o.preventDefault(),l}}function A(n=1){return function JA(n){return(ie.lFrame.contextLView=function eT(n,e){for(;n>0;)e=e[Ji],n--;return e}(n,ie.lFrame.contextLView))[it]}(n)}function $n(n,e,t){return yc(n,"",e,"",t),$n}function yc(n,e,t,r,i){const s=N(),o=Is(s,e,t,r);return o!==ue&&yn(we(),Qe(),s,n,o,s[ce],i,!1),yc}function vc(n,e){return n<<17|e<<2}function ri(n){return n>>17&32767}function uf(n){return 2|n}function Ai(n){return(131068&n)>>2}function df(n,e){return-131069&n|e<<2}function hf(n){return 1|n}function xw(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?ri(s):Ai(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];Dx(n[a],e)&&(l=!0,n[a+1]=r?hf(u):uf(u)),a=r?ri(u):Ai(u)}l&&(n[t+1]=r?uf(s):hf(s))}function Dx(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&fs(n,e)>=0}function na(n,e,t){return zn(n,e,t,!1),na}function ra(n,e){return zn(n,e,null,!0),ra}function zn(n,e,t,r){const i=N(),s=we(),o=Ar(2);s.firstUpdatePass&&function Uw(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[$t()],o=function Vw(n,e){return e>=n.expandoStartIndex}(n,t);(function zw(n,e){return 0!=(n.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function Rx(n,e,t,r){const i=function Ld(n){const e=ie.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=ia(t=ff(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=ff(i,n,e,t,r),null===s){let l=function Nx(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Ai(r))return n[ri(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=ff(null,n,e,l[1],r),l=ia(l,e.attrs,r),function Ox(n,e,t,r){n[ri(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function Fx(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=ia(r,n[s].hostAttrs,t);return ia(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function Sx(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ri(o),l=Ai(o);n[r]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||fs(t,u)>0)&&(c=!0)):u=t,i)if(0!==l){const h=ri(n[a+1]);n[r+1]=vc(h,a),0!==h&&(n[h+1]=df(n[h+1],r)),n[a+1]=function wx(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=vc(a,0),0!==a&&(n[a+1]=df(n[a+1],r)),a=r;else n[r+1]=vc(l,0),0===a?a=r:n[l+1]=df(n[l+1],r),l=r;c&&(n[r+1]=uf(n[r+1])),xw(n,u,r,!0),xw(n,u,r,!1),function bx(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&fs(s,e)>=0&&(t[r+1]=hf(t[r+1]))}(e,u,n,r,s),o=vc(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==ue&&Ft(i,o,e)&&function Hw(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],u=function Cx(n){return 1==(1&n)}(c)?$w(l,e,t,i,Ai(c),o):void 0;_c(u)||(_c(s)||function _x(n){return 2==(2&n)}(c)&&(s=$w(l,null,t,i,a,o)),function wk(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:ti.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ti.Important),n.setStyle(t,r,i,s))}}(r,o,yl($t(),t),i,s))}(s,s.data[$t()],i,i[ce],n,i[o+1]=function Ux(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=mt(ni(n)))),n}(e,t),r,o)}function ff(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=ia(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function ia(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),pn(n,o,!!t||e[++s]))}return void 0===n?null:n}function $w(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[i+1];h===ue&&(h=d?Ce:void 0);let f=d?Yd(h,r):u===r?h:void 0;if(c&&!_c(f)&&(f=Yd(l,r)),_c(f)&&(a=f,o))return a;const v=n[i+1];i=o?ri(v):Ai(v)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=Yd(l,r))}return a}function _c(n){return void 0!==n}function S(n,e=""){const t=N(),r=we(),i=n+ye,s=r.firstCreatePass?Ts(r,i,1,e,null):r.data[i],o=Gw(r,t,s,e,n);t[i]=o,vl()&&jl(r,t,o,s),ar(s,!1)}let Gw=(n,e,t,r,i)=>(ei(!0),function Ll(n,e){return n.createText(e)}(e[ce],r));function dt(n){return Be("",n,""),dt}function Be(n,e,t){const r=N(),i=Is(r,n,e,t);return i!==ue&&xr(r,$t(),i),Be}function Ti(n,e,t,r,i){const s=N(),o=Ps(s,n,e,t,r,i);return o!==ue&&xr(s,$t(),o),Ti}const Us="en-US";let hC=Us;function mf(n,e,t,r,i){if(n=se(n),Array.isArray(n))for(let s=0;s<n.length;s++)mf(n[s],e,t,r,i);else{const s=we(),o=N(),a=At();let l=Di(n)?n:se(n.provide);const c=Yv(n),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Di(n)||!n.multi){const f=new Ao(c,i,F),v=vf(l,e,i?u:u+h,d);-1===v?(Wd(bl(a,o),s,l),yf(s,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(f),o.push(f)):(t[v]=f,o[v]=f)}else{const f=vf(l,e,u+h,d),v=vf(l,e,u,u+h),M=v>=0&&t[v];if(i&&!M||!i&&!(f>=0&&t[f])){Wd(bl(a,o),s,l);const k=function aN(n,e,t,r,i){const s=new Ao(n,t,F);return s.multi=[],s.index=e,s.componentProviders=0,LC(s,i,r&&!t),s}(i?oN:sN,t.length,i,r,c);!i&&M&&(t[v].providerFactory=k),yf(s,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(k),o.push(k)}else yf(s,n,f>-1?f:v,LC(t[i?v:f],c,!i&&r));!i&&r&&M&&t[v].componentProviders++}}}function yf(n,e,t,r){const i=Di(e),s=function Zk(n){return!!n.useClass}(e);if(i||s){const l=(s?se(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function LC(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function vf(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function sN(n,e,t,r){return _f(this.multi,[])}function oN(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Si(t,t[$],this.providerFactory.index,r);s=a.slice(0,o),_f(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],_f(i,s);return s}function _f(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Ke(n,e=[]){return t=>{t.providersResolver=(r,i)=>function iN(n,e,t){const r=we();if(r.firstCreatePass){const i=Hn(n);mf(t,r.data,r.blueprint,i,!0),mf(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Ii{}class BC{}class wf extends Ii{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Y_(this);const i=hn(e);this._bootstrapComponents=Pr(i.bootstrap),this._r3Injector=l_(e,t,[{provide:Ii,useValue:this},{provide:tc,useValue:this.componentFactoryResolver},...r],mt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Cf extends BC{constructor(e){super(),this.moduleType=e}create(e){return new wf(this.moduleType,e,[])}}class VC extends Ii{constructor(e){super(),this.componentFactoryResolver=new Y_(this),this.instance=null;const t=new ws([...e.providers,{provide:Ii,useValue:this},{provide:tc,useValue:this.componentFactoryResolver}],e.parent||Kl(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Sf(n,e,t=null){return new VC({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let uN=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=Gv(0,t.type),i=r.length>0?Sf([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=J({token:n,providedIn:"environment",factory:()=>new n(Z(xn))})}return n})();function UC(n){n.getStandaloneInjector=e=>e.get(uN).getOrCreateStandaloneInjector(n)}function Pi(n,e,t){const r=Ht()+n,i=N();return i[r]===ue?dr(i,r,t?e.call(t):e()):Qo(i,r)}function Wn(n,e,t,r){return function YC(n,e,t,r,i,s){const o=e+t;return Ft(n,o,i)?dr(n,o+1,s?r.call(s,i):r(i)):da(n,o+1)}(N(),Ht(),n,e,t,r)}function ua(n,e,t,r,i){return function ZC(n,e,t,r,i,s,o){const a=e+t;return Ei(n,a,i,s)?dr(n,a+2,o?r.call(o,i,s):r(i,s)):da(n,a+2)}(N(),Ht(),n,e,t,r,i)}function qC(n,e,t,r,i,s,o){return function XC(n,e,t,r,i,s,o,a,l){const c=e+t;return Rn(n,c,i,s,o,a)?dr(n,c+4,l?r.call(l,i,s,o,a):r(i,s,o,a)):da(n,c+4)}(N(),Ht(),n,e,t,r,i,s,o)}function da(n,e){const t=n[e];return t===ue?void 0:t}function RN(n,e,t,r=!0){const i=e[$];if(function hk(n,e,t,r){const i=Et+r,s=t.length;r>0&&(t[i-1][jn]=e),r<s-Et?(e[jn]=t[i],Wy(t,Et+r,e)):(t.push(e),e[jn]=null),e[qe]=t;const o=e[wo];null!==o&&t!==o&&function fk(n,e){const t=n[ts];e[st]!==e[qe][qe][st]&&(n[Wm]=!0),null===t?n[ts]=[e]:t.push(e)}(o,e);const a=e[ir];null!==a&&a.insertView(n),e[de]|=128}(i,e,n,t),r){const s=uh(t,n),o=e[ce],a=Ul(o,n[sr]);null!==a&&function ck(n,e,t,r,i,s){r[tt]=i,r[Nt]=e,Lo(n,r,t,1,i,s)}(i,n[Nt],o,e,a,s)}}Symbol;let Rr=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=FN}return n})();const NN=Rr,ON=class extends NN{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function xN(n,e,t,r){const i=e.tView,a=sc(n,i,t,4096&n[de]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[wo]=n[e.index];const c=n[ir];return null!==c&&(a[ir]=c.createEmbeddedView(i)),ef(i,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new Yo(i)}};function FN(){return Dc(At(),N())}function Dc(n,e){return 4&n.type?new ON(e,n,Es(n,e)):null}let qn=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=HN}return n})();function HN(){return function oS(n,e){let t;const r=e[n.index];return jt(r)?t=r:(t=L_(r,e,null,n),e[n.index]=t,oc(e,t)),aS(t,e,n,r),new iS(t,n,e)}(At(),N())}const $N=qn,iS=class extends $N{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Es(this._hostTNode,this._hostLView)}get injector(){return new zt(this._hostTNode,this._hostLView)}get parentInjector(){const e=Dl(this._hostTNode,this._hostLView);if($d(e)){const t=ko(e,this._hostLView),r=To(e);return new zt(t[$].data[r+8],t)}return new zt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=sS(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Et}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,t,r,i,s){const o=e&&!function Po(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const w=t||{};a=w.index,r=w.injector,i=w.projectableNodes,s=w.environmentInjector||w.ngModuleRef}const l=o?e:new Zo(_e(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const M=(o?c:this.parentInjector).get(xn,null);M&&(s=M)}_e(l.componentType??{});const f=l.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function LA(n){return jt(n[qe])}(i)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const c=i[qe],u=new iS(c,c[Nt],c[qe]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(t),a=this._lContainer;return RN(a,i,o,!r),e.attachToViewContainerRef(),Wy(Ef(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=sS(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Vl(this._lContainer,t);r&&(Al(Ef(this._lContainer),t),oh(r[$],r))}detach(e){const t=this._adjustIndex(e,-1),r=Vl(this._lContainer,t);return r&&null!=Al(Ef(this._lContainer),t)?new Yo(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function sS(n){return n[8]}function Ef(n){return n[8]||(n[8]=[])}let aS=function lS(n,e,t,r){if(n[sr])return;let i;i=8&t.type?$e(r):function zN(n,e){const t=n[ce],r=t.createComment(""),i=tn(e,n);return bi(t,Ul(t,i),r,function yk(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[sr]=i};function xi(n,e){return Dc(n,e)}const Ff=new K("Application Initializer");let Lf=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=q(Ff,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const s=i();if(ta(s))t.push(s);else if(_w(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),RS=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Nr=new K("LocaleId",{providedIn:"root",factory:()=>q(Nr,me.Optional|me.SkipSelf)||function wO(){return typeof $localize<"u"&&$localize.locale||Us}()});let NS=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Mn(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class bO{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let OS=(()=>{class n{compileModuleSync(t){return new Cf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Pr(hn(t).declarations).reduce((o,a)=>{const l=_e(a);return l&&o.push(new Zo(l)),o},[]);return new bO(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const VS=new K(""),Tc=new K("");let Hf,Uf=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Hf||(function GO(n){Hf=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Oe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||n)(Z(Oe),Z(jf),Z(Tc))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})(),jf=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Hf?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),ii=null;const US=new K("AllowMultipleToken"),$f=new K("PlatformDestroyListeners"),zf=new K("appBootstrapListener");class HS{constructor(e,t){this.name=e,this.token=t}}function zS(n,e,t=[]){const r=`Platform: ${e}`,i=new K(r);return(s=[])=>{let o=Gf();if(!o||o.injector.get(US,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function KO(n){if(ii&&!ii.get(US,!1))throw new P(400,!1);(function jS(){!function SA(n){iy=n}(()=>{throw new P(600,!1)})})(),ii=n;const e=n.get(WS);(function $S(n){n.get(Zv,null)?.forEach(t=>t())})(n)}(function GS(n=[],e){return mn.create({name:e,providers:[{provide:Sh,useValue:"platform"},{provide:$f,useValue:new Set([()=>ii=null])},...n]})}(a,r))}return function ZO(n){const e=Gf();if(!e)throw new P(401,!1);return e}()}}function Gf(){return ii?.get(WS)??null}let WS=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function QO(n="zone.js",e){return"noop"===n?new xI:"zone.js"===n?new Oe(e):n}(r?.ngZone,function qS(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function cN(n,e,t){return new wf(n,e,t)}(t.moduleType,this.injector,function XS(n){return[{provide:Oe,useFactory:n},{provide:jo,multi:!0,useFactory:()=>{const e=q(JO,{optional:!0});return()=>e.initialize()}},{provide:QS,useFactory:XO},{provide:f_,useFactory:p_}]}(()=>i)),o=s.injector.get(Ir,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{kc(this._modules,s),a.unsubscribe()})}),function KS(n,e,t){try{const r=t();return ta(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(Lf);return a.runInitializers(),a.donePromise.then(()=>(function fC(n){An(n,"Expected localeId to be defined"),"string"==typeof n&&(hC=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Nr,Us)||Us),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=YS({},r);return function WO(n,e,t){const r=new Cf(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Ri);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new P(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new P(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get($f,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||n)(Z(mn))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function YS(n,e){return Array.isArray(e)?e.reduce(YS,n):{...n,...e}}let Ri=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=q(QS),this.zoneIsStable=q(f_),this.componentTypes=[],this.components=[],this.isStable=q(NS).hasPendingTasks.pipe(tr(t=>t?ae(!1):this.zoneIsStable),function RM(n,e=qr){return n=n??NM,gt((t,r)=>{let i,s=!0;t.subscribe(ut(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}(),Sm()),this._injector=q(xn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof n_;if(!this._injector.get(Lf).done)throw!i&&function Zi(n){const e=_e(n)||Dt(n)||Ut(n);return null!==e&&e.standalone}(t),new P(405,!1);let o;o=i?t:this._injector.get(tc).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function qO(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Ii),c=o.create(mn.NULL,[],r||o.selector,a),u=c.location.nativeElement,d=c.injector.get(VS,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),kc(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new P(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;kc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(zf,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>kc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new P(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kc(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const QS=new K("",{providedIn:"root",factory:()=>q(Ir).handleError.bind(void 0)});function XO(){const n=q(Oe),e=q(Ir);return t=>n.runOutsideAngular(()=>e.handleError(t))}let JO=(()=>{class n{constructor(){this.zone=q(Oe),this.applicationRef=q(Ri)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let Ic=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=t2}return n})();function t2(n){return function n2(n,e,t){if(_i(n)&&!t){const r=fn(n.index,e);return new Yo(r,r)}return 47&n.type?new Yo(e[st],e):null}(At(),N(),16==(16&n))}class nb{constructor(){}supports(e){return uc(e)}create(e){return new l2(e)}}const a2=(n,e)=>e;class l2{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||a2}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<ib(r,i,s)?t:r,a=ib(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,v=f+h;u<=v&&v<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!uc(e))throw new P(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function jP(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new c2(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new rb),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rb),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class c2{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class u2{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class rb{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new u2,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ib(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class sb{constructor(){}supports(e){return e instanceof Map||tf(e)}create(){return new d2}}class d2{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||tf(e)))throw new P(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new h2(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class h2{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ob(){return new Rc([new nb])}let Rc=(()=>{class n{static#e=this.\u0275prov=J({token:n,providedIn:"root",factory:ob});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||ob()),deps:[[n,new Il,new kl]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new P(901,!1)}}return n})();function ab(){return new ga([new sb])}let ga=(()=>{class n{static#e=this.\u0275prov=J({token:n,providedIn:"root",factory:ab});constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||ab()),deps:[[n,new Il,new kl]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new P(901,!1)}}return n})();const g2=zS(null,"core",[]);let m2=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||n)(Z(Ri))};static#t=this.\u0275mod=rr({type:n});static#n=this.\u0275inj=Vn({})}return n})();let Qf=null;function si(){return Qf}class I2{}const on=new K("DocumentToken");let Xf=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:function(){return q(x2)},providedIn:"platform"})}return n})();const P2=new K("Location Initialized");let x2=(()=>{class n extends Xf{constructor(){super(),this._doc=q(on),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return si().getBaseHref(this._doc)}onPopState(t){const r=si().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=si().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function Jf(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function mb(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Or(n){return n&&"?"!==n[0]?"?"+n:n}let Oi=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:function(){return q(vb)},providedIn:"root"})}return n})();const yb=new K("appBaseHref");let vb=(()=>{class n extends Oi{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??q(on).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Jf(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Or(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Or(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Or(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(Z(Xf),Z(yb,8))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),R2=(()=>{class n extends Oi{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Jf(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Or(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Or(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(Z(Xf),Z(yb,8))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})(),ep=(()=>{class n{constructor(t){this._subject=new te,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function F2(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(mb(_b(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Or(r))}normalize(t){return n.stripTrailingSlash(function O2(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,_b(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Or(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Or(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=Or;static#t=this.joinWithSlash=Jf;static#n=this.stripTrailingSlash=mb;static#r=this.\u0275fac=function(r){return new(r||n)(Z(Oi))};static#i=this.\u0275prov=J({token:n,factory:function(){return function N2(){return new ep(Z(Oi))}()},providedIn:"root"})}return n})();function _b(n){return n.replace(/\/index.html$/,"")}const up=/\s+/,Tb=[];let Gs=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=Tb,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(up):Tb}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(up):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(up).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||n)(F(Rc),F(ga),F(gn),F(kr))};static#t=this.\u0275dir=oe({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class SF{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let kt=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new SF(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),Ib(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Ib(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(F(qn),F(Rr),F(Rc))};static#t=this.\u0275dir=oe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function Ib(n,e){n.context.$implicit=e.item}let at=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new bF,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Pb("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Pb("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(F(qn),F(Rr))};static#t=this.\u0275dir=oe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class bF{constructor(){this.$implicit=null,this.ngIf=null}}function Pb(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${mt(e)}'.`)}let Ws=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),o=-1===i.indexOf("-")?void 0:ti.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static#e=this.\u0275fac=function(r){return new(r||n)(F(gn),F(ga),F(kr))};static#t=this.\u0275dir=oe({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),Nb=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=rr({type:n});static#n=this.\u0275inj=Vn({})}return n})();function Fb(n){return"server"===n}let XF=(()=>{class n{static#e=this.\u0275prov=J({token:n,providedIn:"root",factory:()=>new JF(Z(on),window)})}return n})();class JF{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function eL(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class DL extends I2{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class yp extends DL{static makeCurrent(){!function k2(n){Qf||(Qf=n)}(new yp)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function EL(){return _a=_a||document.querySelector("base"),_a?_a.getAttribute("href"):null}();return null==t?null:function ML(n){qc=qc||document.createElement("a"),qc.setAttribute("href",n);const e=qc.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){_a=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function wF(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let qc,_a=null,TL=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();const vp=new K("EventManagerPlugins");let jb=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new P(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(Z(vp),Z(Oe))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();class Hb{constructor(e){this._doc=e}}const _p="ng-app-id";let $b=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Fb(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${_p}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(_p),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(_p,this.appId),o}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(Z(on),Z(Yl),Z(Xv,8),Z(Ss))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();const wp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Cp=/%COMP%/g,xL=new K("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Gb(n,e){return e.map(t=>t.replace(Cp,n))}let Sp=(()=>{class n{constructor(t,r,i,s,o,a,l,c=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Fb(a),this.defaultRenderer=new bp(t,o,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Tn.ShadowDom&&(r={...r,encapsulation:Tn.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof qb?i.applyToHost(t):i instanceof Dp&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Tn.Emulated:s=new qb(l,c,r,this.appId,u,o,a,d);break;case Tn.ShadowDom:return new FL(l,c,t,r,o,a,this.nonce,d);default:s=new Dp(l,c,r,u,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(Z(jb),Z($b),Z(Yl),Z(xL),Z(on),Z(Ss),Z(Oe),Z(Xv))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();class bp{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(wp[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Wb(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Wb(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new P(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=wp[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=wp[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ti.DashCase|ti.Important)?e.style.setProperty(t,r,i&ti.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ti.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=si().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Wb(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class FL extends bp{constructor(e,t,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Gb(i.id,i.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Dp extends bp{constructor(e,t,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?Gb(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class qb extends Dp{constructor(e,t,r,i,s,o,a,l){const c=i+"-"+r.id;super(e,t,r,s,o,a,l,c),this.contentAttr=function RL(n){return"_ngcontent-%COMP%".replace(Cp,n)}(c),this.hostAttr=function NL(n){return"_nghost-%COMP%".replace(Cp,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let LL=(()=>{class n extends Hb{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(Z(on))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();const Kb=["alt","control","meta","shift"],BL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},VL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let UL=(()=>{class n extends Hb{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>si().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),Kb.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=BL[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Kb.forEach(o=>{o!==i&&(0,VL[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(Z(on))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();const zL=zS(g2,"browser",[{provide:Ss,useValue:"browser"},{provide:Zv,useValue:function jL(){yp.makeCurrent()},multi:!0},{provide:on,useFactory:function $L(){return function Ek(n){fh=n}(document),document},deps:[]}]),GL=new K(""),Qb=[{provide:Tc,useClass:class AL{addToWindow(e){He.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new P(5103,!1);return s},He.getAllAngularTestabilities=()=>e.getAllTestabilities(),He.getAllAngularRootElements=()=>e.getAllRootElements(),He.frameworkStabilizers||(He.frameworkStabilizers=[]),He.frameworkStabilizers.push(r=>{const i=He.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?si().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:VS,useClass:Uf,deps:[Oe,jf,Tc]},{provide:Uf,useClass:Uf,deps:[Oe,jf,Tc]}],Xb=[{provide:Sh,useValue:"root"},{provide:Ir,useFactory:function HL(){return new Ir},deps:[]},{provide:vp,useClass:LL,multi:!0,deps:[on,Oe,Ss]},{provide:vp,useClass:UL,multi:!0,deps:[on]},Sp,$b,jb,{provide:zo,useExisting:Sp},{provide:class tL{},useClass:TL,deps:[]},[]];let Jb=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Yl,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(Z(GL,12))};static#t=this.\u0275mod=rr({type:n});static#n=this.\u0275inj=Vn({providers:[...Xb,...Qb],imports:[Nb,m2]})}return n})(),eD=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(Z(on))};static#t=this.\u0275prov=J({token:n,factory:function(r){let i=null;return i=r?new r:function qL(){return new eD(Z(on))}(),i},providedIn:"root"})}return n})();typeof window<"u"&&window;var b=function(n){return n[n.Instant=0]="Instant",n[n.Dodge=1]="Dodge",n[n.Repair=2]="Repair",n[n.Flying=3]="Flying",n[n.Fast=4]="Fast",n[n.Pacifist=5]="Pacifist",n[n.Sentry=6]="Sentry",n[n.Siege=7]="Siege",n[n.Momentum=8]="Momentum",n[n.Sharpen=9]="Sharpen",n[n.Armorer=10]="Armorer",n[n.Rascal=11]="Rascal",n[n.Medic=12]="Medic",n[n.Regenerate=13]="Regenerate",n[n.Ensnare=14]="Ensnare",n[n.WallBound=15]="WallBound",n[n.FullForward=16]="FullForward",n[n.Ambush=17]="Ambush",n[n.Learning=18]="Learning",n[n.Chaos=19]="Chaos",n}(b||{});class Kc{getTooltip(e){switch(e){case b.Instant:return"Play anytime";case b.Dodge:return"If this creature would die or take damage, instead remove a dodge token";case b.Repair:return"At the start of your turn, repair wall by x amount";case b.Flying:return"Flies over enemy walls and damages their life total directly.";case b.Fast:return"Attack the turn it comes in";case b.Pacifist:return"may not attack";case b.Sentry:return"Does not tap to attack";case b.Siege:return"Double damage to walls";case b.Momentum:return"Gains 1 speed every turn";case b.Sharpen:return"Gains 1 attack every turn";case b.Armorer:return"Gains 1 hp every turn";case b.Rascal:return"Must be blocked by 2 creatures";case b.Medic:return"Heals all of its controllers creatures at the end of the players turn";case b.Regenerate:return"Heal self at end of turn";case b.Ensnare:return"slows enemy creatures on block or blocking";case b.WallBound:return"dies if the wall dies";case b.Ambush:return"deals damage to Creatures using both attack and speed values";case b.Learning:return"Gains double XP from all actions";default:return"No tooltip found"}}getToolTipName(e){switch(e){case b.Instant:return"Instant";case b.Dodge:return"Dodge";case b.Repair:return"Repair";case b.Flying:return"Flying";case b.Fast:return"Fast";case b.Pacifist:return"Pacifist";case b.Sentry:return"Sentry";case b.Siege:return"Siege";case b.Momentum:return"Momentum";case b.Sharpen:return"Sharpen";case b.Armorer:return"Armorer";case b.Rascal:return"Rascal";case b.Medic:return"Medic";case b.Regenerate:return"Regenerate";case b.Ensnare:return"Ensnare";case b.WallBound:return"WallBound";case b.Ambush:return"Ambush";case b.Learning:return"Learning";default:return"No tooltip found"}}}var D=function(n){return n[n.Sun=0]="Sun",n[n.Earth=1]="Earth",n[n.Sky=2]="Sky",n[n.Neptune=3]="Neptune",n[n.MoonAndStars=4]="MoonAndStars",n[n.Colorless=5]="Colorless",n[n.Any=6]="Any",n}(D||{}),H=function(n){return n[n.None=0]="None",n[n.Attackers=1]="Attackers",n[n.Blockers=2]="Blockers",n[n.Main1=3]="Main1",n[n.Main2=4]="Main2",n[n.Start=5]="Start",n[n.DrawStep=6]="DrawStep",n[n.EndTurn=7]="EndTurn",n[n.DrawCard=8]="DrawCard",n[n.Attack=9]="Attack",n[n.Block=10]="Block",n[n.Unblocked=11]="Unblocked",n[n.Blocked=12]="Blocked",n[n.Enters=13]="Enters",n[n.Dies=14]="Dies",n[n.Awake=15]="Awake",n[n.Income=16]="Income",n[n.Exiled=17]="Exiled",n[n.Discarded=18]="Discarded",n[n.Mill=19]="Mill",n[n.WallRepair=20]="WallRepair",n[n.Any=21]="Any",n[n.SpellCast=22]="SpellCast",n[n.CreatureCast=23]="CreatureCast",n[n.HeroCast=24]="HeroCast",n[n.MineCast=25]="MineCast",n[n.MineCase=26]="MineCase",n[n.FortificationCast=27]="FortificationCast",n[n.StartFight=28]="StartFight",n[n.EndFight=29]="EndFight",n[n.CardCast=30]="CardCast",n}(H||{}),p=function(n){return n[n.Any=0]="Any",n[n.Opponent=1]="Opponent",n[n.Self=2]="Self",n}(p||{});class Yc{static toggleController(e){return e===p.Any?p.Any:e===p.Self?p.Opponent:p.Self}}var R=function(n){return n[n.Creature=0]="Creature",n[n.Tech=1]="Tech",n[n.Mine=2]="Mine",n[n.Wall=3]="Wall",n[n.Attachment=4]="Attachment",n[n.Spell=5]="Spell",n[n.Player=6]="Player",n[n.Hoard=7]="Hoard",n[n.Permanent=8]="Permanent",n[n.Building=9]="Building",n[n.Any=10]="Any",n[n.Hero=11]="Hero",n}(R||{}),O=function(n){return n[n.Single=0]="Single",n[n.Multiple=1]="Multiple",n[n.All=2]="All",n}(O||{}),ee=function(n){return n[n.start=0]="start",n[n.main=1]="main",n[n.main2=2]="main2",n[n.attackers=3]="attackers",n[n.blockers=4]="blockers",n[n.end=5]="end",n[n.combatResults=6]="combatResults",n[n.combatCleanup=7]="combatCleanup",n}(ee||{}),y=function(n){return n[n.hand=0]="hand",n[n.play=1]="play",n[n.discard=2]="discard",n[n.exile=3]="exile",n[n.deck=4]="deck",n[n.any=5]="any",n[n.hero=6]="hero",n}(y||{}),T=function(n){return n[n.Gold=0]="Gold",n[n.Ruby=1]="Ruby",n[n.Emerald=2]="Emerald",n[n.Sapphire=3]="Sapphire",n[n.Topaz=4]="Topaz",n[n.LionEye=5]="LionEye",n[n.Any=6]="Any",n}(T||{}),iD=function(n){return n[n.All=0]="All",n[n.PickOne=1]="PickOne",n[n.Random=2]="Random",n}(iD||{}),Fi=function(n){return n[n.Card=0]="Card",n[n.Relic=1]="Relic",n[n.Upgrade=2]="Upgrade",n}(Fi||{}),Pe=function(n){return n[n.Life=0]="Life",n[n.Gems=1]="Gems",n[n.Asleep=2]="Asleep",n[n.Awake=3]="Awake",n[n.Discard=4]="Discard",n[n.SacCreature=5]="SacCreature",n[n.CreatureCount=6]="CreatureCount",n}(Pe||{});function Ye(n,e){return Math.floor(Math.random()*(e-n))+n}class I{constructor(e,t,r,i,s,o){this.gold=1,this.ruby=0,this.sapphire=0,this.emerald=0,this.lionsEye=0,this.topaz=0,void 0!==e&&(this.gold=e),void 0!==t&&(this.ruby=t),void 0!==r&&(this.sapphire=r),void 0!==i&&(this.emerald=i),void 0!==s&&(this.lionsEye=s),void 0!==o&&(this.topaz=o)}getTotalCost(){return this.gold+this.ruby+this.emerald+this.sapphire+this.lionsEye+this.topaz}getGemCost(){return this.getTotalCost()-this.gold}canAfford(e){return this.gold>=e.gold&&this.ruby>=e.ruby&&this.sapphire>=e.sapphire&&this.emerald>=e.emerald&&this.lionsEye>=e.lionsEye&&this.topaz>=e.topaz}subtractCost(e){this.canAfford(e)&&(this.gold-=e.gold,this.ruby-=e.ruby,this.emerald-=e.emerald,this.sapphire-=e.sapphire,this.lionsEye-=e.lionsEye,this.topaz-=e.topaz)}clear(){this.gold=0,this.emerald=0,this.ruby=0,this.sapphire=0,this.lionsEye=0,this.topaz=0}resetIncome(){this.clear(),this.gold=1}resetStarting(e){this.clear(),this.gold=e}addBag(e){this.gold+=e.gold,this.ruby+=e.ruby,this.emerald+=e.emerald,this.lionsEye+=e.lionsEye,this.sapphire+=e.sapphire,this.topaz+=e.topaz}addSingle(e,t){switch(e){case T.Gold:this.gold+=t;break;case T.Emerald:this.emerald+=t;break;case T.Ruby:this.ruby+=t;break;case T.LionEye:this.lionsEye+=t;break;case T.Sapphire:this.sapphire+=t;break;case T.Topaz:this.topaz+=t;break;default:this.gold+=t}}getValue(e){switch(e){case T.Gold:return this.gold;case T.Emerald:return this.emerald;case T.Ruby:return this.ruby;case T.LionEye:return this.lionsEye;case T.Sapphire:return this.sapphire;case T.Topaz:return this.topaz;default:return this.gold}}isEmpty(){return this.gold<=0&&this.ruby<=0&&this.sapphire<=0&&this.emerald<=0&&this.lionsEye<=0&&this.topaz<=0}getImage(e){let t="assets/";switch(e){case T.Gold:return t+"Coin.png";case T.Emerald:return t+"Emerald.png";case T.Ruby:return t+"Ruby.png";case T.LionEye:return t+"eye.png";case T.Sapphire:return t+"Saphire.png";case T.Topaz:return t+"topaz.png";default:return t+"Coin.png"}}getImageByFaction(e){let t="assets/";switch(e){case D.Colorless:return t+"Coin.png";case D.Earth:return t+"Emerald.png";case D.Sun:return t+"Ruby.png";case D.MoonAndStars:return t+"eye.png";case D.Neptune:return t+"Saphire.png";case D.Sky:return t+"topaz.png";default:return t+"Coin.png"}}getAllTypes(){return[T.Gold,T.Emerald,T.Ruby,T.LionEye,T.Sapphire,T.Topaz]}getTypes(){let e=[];return this.gold>0&&e.push(T.Gold),this.ruby>0&&e.push(T.Ruby),this.emerald>0&&e.push(T.Emerald),this.topaz>0&&e.push(T.Topaz),this.lionsEye>0&&e.push(T.LionEye),this.sapphire>0&&e.push(T.Sapphire),e}}class Mp{getFaction(e){switch(e){case T.Gold:return D.Colorless;case T.Emerald:return D.Earth;case T.Ruby:return D.Sun;case T.LionEye:return D.MoonAndStars;case T.Sapphire:return D.Neptune;case T.Topaz:return D.Sky;default:return D.Colorless}}getGem(e){switch(e){case D.Colorless:return T.Gold;case D.Earth:return T.Emerald;case D.Sky:return T.Topaz;case D.MoonAndStars:return T.LionEye;case D.Neptune:return T.Sapphire;case D.Sun:return T.Ruby;default:return T.Gold}}}class qs{copyBag(e){return new I(e.gold,e.ruby,e.sapphire,e.emerald,e.lionsEye,e.topaz)}copyCreature(e){return new V(e.hp,e.hp,e.speed,e.name,this.copyBag(e.cost),e.image,e.text,e.instant,e.owner,e.zone,e.factions,e.abilities,e.keywords,e.isMinion)}copySpell(e){return new Ze(e.name,e.cost,e.image,e.text,e.abilities,e.instant,e.owner,e.zone,e.factions)}copyMine(e){let t=new _n(e.name,e.cost,e.incomeBag,e.image,e.text,e.owner,e.zone,e.factions,e.abilities,e.rarity);return t.incomeBag=this.copyBag(e.incomeBag),t.cost=this.copyBag(e.cost),t.abilities=[...e.abilities],t}copyRelic(e){return new an(e.name,e.cost,e.image,e.description,e.cardService,e.abilities,e.cost)}copyHero(e){return new lt(e.attack,e.hp,e.speed,e.name,this.copyBag(e.cost),e.image,e.text,e.owner,e.zone,e.factions,e.instant,e.abilities,e.keywords,e.rarity)}}class Ct{constructor(e,t,r,i,s,o,a,l,c){this.displayCards=!1,this.playerTargets=[],this.random=!1,this.cardService=e,this.quan=t,this.types=r,this.allowedZones=i,this.controller=s,this.targetsPlayer=o,this.targetsCards=a,void 0!==l&&(this.random=l),s===p.Opponent&&(l=!0),this.targetsWall=void 0!==c&&c}getWall(){let e=[],t=this.cardService.playerService.getPlayer(p.Any);for(let r=0;r<t.length;r++)e.push(t[r].wall);return e}getPlayer(){return this.playerTargets=[],this.playerTargets=this.cardService.playerService.getPlayer(O.Single===this.quan?this.controller:p.Any),this.playerTargets}getRandomTargetSingle(){let e=[],t=[];this.targetsPlayer&&(e=this.getPlayer()),this.targetsCards&&(t=this.cardService.getTargets(this));let r=[...e,...t];return r[Ye(0,r.length-1)]}isValidTarget(e){if(e instanceof V||e instanceof _n){let t=e,r=this.allowedZones.includes(t.zone),i=this.types.includes(t.type);return r&&i&&(t.owner===this.controller||this.controller===p.Any)}if(e instanceof ft){if(this.types.includes(R.Player)&&(this.controller===p.Self||this.controller===p.Any))return!0}else if(e instanceof mr&&this.types.includes(R.Player)&&(this.controller===p.Opponent||this.controller===p.Any))return!0;return!1}getTarget(){let e=this.cardService.getTargets(this);if(this.random)return[e[Ye(0,e.length)]];if(this.targetsCards){switch(this.quan){case O.All:return e;case O.Single:case O.Multiple:this.displayCards=!0}this.targetsPlayer&&this.getPlayer()}return e}}class ai{constructor(e){this.cardDb=[],this.keywordMapper=new sD,this.cardService=e}generateCardByName(e){return this.cardDb.find(t=>t.name===e)}getCard(e){}copyCard(e,t){}getDeck(e){}getMinesBulk(e,t){let r=[];for(let i=0;i<t;i++)r.push(this.generateBasicMine(e));return r}generateBasicMine(e){let t,r,i;switch(e){case T.Gold:t=new I(1,0,0,0,0,0),r=D.Colorless;break;case T.Emerald:t=new I(0,0,0,1,0,0),r=D.Earth;break;case T.Ruby:t=new I(0,1,0,0,0,0),r=D.Sun;break;case T.LionEye:t=new I(0,0,0,0,1,0),r=D.MoonAndStars;break;case T.Sapphire:t=new I(0,0,1,0,0,0),r=D.Neptune;break;case T.Topaz:t=new I(0,0,0,0,0,1),r=D.Sky;break;default:t=new I(1,0,0,0,0,0),r=D.Colorless}i=`add 1 ${T[e]} to your gem bag.`;let s=new We([new gr(e,1,this.cardService)],this.cardService);return new _n(T[e]+" Mine",new I(0,0,0,0,0,0),t,"assets//mine.png",i,p.Self,y.deck,[r],[s])}generateMultiColorMinesBulk(e,t,r){let i=[];for(let s=0;s<r;s++)i.push(this.generateMulticolorMine(e,t));return i}generateMulticolorMine(e,t){let r=new I(0,0,0,0,0,0);r.addSingle(e,1),r.addSingle(t,1);let i=this.getFactionFromManaType(e),s=this.getFactionFromManaType(t),o=`add 1 ${T[e]} and 1 ${T[t]} to your income bag.`;return new We([new gr(e,1,this.cardService),new gr(t,1,this.cardService)],this.cardService),new _n(`${T[e]}-${T[t]} Mine`,new I(0,0,0,0,0,0),r,"assets//mine.png",o,p.Self,y.deck,[i,s],[])}getFactionFromManaType(e){switch(e){case T.Gold:return D.Colorless;case T.Emerald:return D.Earth;case T.Ruby:return D.Sun;case T.LionEye:return D.MoonAndStars;case T.Sapphire:return D.Neptune;case T.Topaz:return D.Sky;default:return D.Colorless}}generateRandomCreature(e,t,r,i){let s=this.rollRandomNumber(1,t+1),o=this.rollRandomNumber(1,t+2)+1,a=this.rollRandomNumber(1,t+2),l=Math.ceil(.2*t),c=this.rollRandomNumber(l,t),d=new I(t-c,0,0,0,0,0);d.addSingle(e,c);let h=new Mp;return new V(o,s,a,"",d,"","",!1,r,i,[h.getFaction(e)])}genMultipleForFaction(e,t,r,i,s){let o=[];for(let a=0;a<s;a++)o.push(this.generateRandomCreatureForFaction(e,t,r,i));return o}generateRandomCreatureForFaction(e,t,r,i){let s=this.generateGemBag(t,e),a=(s.getGemCost(),e),l=1,c=e,u=1,d=e,f=this.generateKeywords(t,e,!1);switch(t){case D.Sun:u+=2,d+=2,a--;break;case D.Earth:a+=2,l+=2,d-=2;break;case D.Colorless:a+=1,d+=1,c+=1}let v=this.rollRandomNumber(u,c),w=this.rollRandomNumber(l,a),M=this.rollRandomNumber(1,d);v<=0&&(v=1),w<=0&&(w=1),M<=0&&(M=1);let k=new V(w,v,M,"Test ",s,"","",!1,r,i,[t],[],f);for(let E=0;E<f.length;E++)k.text+=b[f[E]],E<f.length-1&&(f[E]===b.Repair&&(k.repairAmount=Ye(e-1,e+1),k.text+=k.repairAmount),k.text+=", ");return f.length<=0&&(k.text="No abilities"),k}generateKeywords(e,t,r){let i=[];if(r){let s=Object.values(b),o=Ye(0,s.length-1);for(let a=0;a<o;a++){let l=Ye(0,s.length);i.includes(s[l])?a--:i.push(s[l])}}else{let s=this.keywordMapper.getKeywords(e),o=t+this.rollRandomNumber(-1,1);o<0&&(o=0);for(let a=0;a<o;a++){let c=s[this.rollRandomNumber(0,s.length-1)];i.includes(c)||i.push(c)}}return i}generateAiMinion(e,t,r){let i=this.rollRandomNumber(1,t+1),s=this.rollRandomNumber(1,t+2),o=this.rollRandomNumber(0,t+2),a=new I(0,0,0,0,0,0),l=new Mp;return new V(s,i,o,"Minion",a,"","",!1,p.Opponent,r,[l.getFaction(e)],[],[],!0)}generateAiBasicMinion(e,t,r){t<=0&&(t=1);let i=new I(0,0,0,0,0,0),s=new Mp;return new V(t,t,t,"Minion",i,"","",!1,p.Opponent,r,[s.getFaction(e)],[],[],!0)}generateGemBag(e,t){let r,i=this.rollRandomNumber(1,t),s=t-i;switch(e){case D.Colorless:r=new I(i+s,0,0,0,0,0);break;case D.Earth:r=new I(i,0,0,s,0,0);break;case D.Sun:r=new I(i,s,0,0,0,0);break;case D.Sky:r=new I(i,0,0,0,s,0);break;case D.Neptune:r=new I(i,0,s,0,0,0);break;case D.MoonAndStars:r=new I(i,0,0,0,0,s);break;default:r=new I(i+t,0,0,0,0,0)}return r}rollRandomNumber(e,t){return Math.floor(Math.random()*(t-e))+e}}class Ks{constructor(e,t){this.faction=e,this.keywords=t}}class sD{constructor(){this.items=[],Object.keys(b),this.items=[new Ks(D.Sun,[b.Fast,b.Dodge,b.Momentum,b.Sharpen,b.Siege,b.Flying,b.Ambush]),new Ks(D.Earth,[b.Armorer,b.Dodge,b.Siege,b.Repair]),new Ks(D.Colorless,[b.Armorer,b.Dodge,b.Fast,b.Flying,b.Instant,b.Medic,b.Momentum,b.Repair,b.Siege]),new Ks(D.MoonAndStars,[b.Sharpen,b.Dodge,b.Flying,b.Instant,b.Momentum]),new Ks(D.Neptune,[b.Sharpen,b.Dodge,b.Armorer,b.Regenerate]),new Ks(D.Sky,[b.Sharpen,b.Dodge,b.Instant,b.Flying,b.Momentum])]}getKeywords(e){let t=[];return t=this.items.filter(i=>i.faction===e)[0].keywords,t}}class Se{constructor(e,t,r,i,s,o,a,l,c,u){this.repeatable=!1,this.selfTarget=null,this.speedDiff=e,this.hpDiff=t,this.attackDiff=r,this.cardService=i,this.permanent=void 0!==u&&u,this.targetPlayer=c||s,this.targeting=new Ct(i,o,[R.Creature,R.Hero],[y.play],this.targetPlayer,!1,!0,s===p.Opponent&&o===O.Single),this.controller=s,this.repeatable=void 0!==l&&l}undoEffectSingle(e){if(e instanceof V){e.attack-=this.attackDiff,e.hp-=this.hpDiff,e.speed-=this.speedDiff;let t=e.currentEffects.indexOf(this);e.currentEffects.splice(t,1)}}doEffectSingle(e){if(e){let t;this.repeatable?t=!0:e.currentEffects&&(t=!e.currentEffects.includes(this)),(e instanceof V||e instanceof lt)&&(e.attack+=this.attackDiff,e.hp+=this.hpDiff,e.speed+=this.speedDiff,e.currentEffects.push(this)),e.hp<=0&&e.handleDeath()}}doEffect(){let e=this.targeting.getTarget();for(let t=0;t<e.length;t++)void 0!==e[t]&&this.doEffectSingle(e[t])}undoEffect(){let t=this.cardService.grabAffected(this);for(let r=0;r<t.length;r++)this.undoEffectSingle(t[r])}}class oD{constructor(e,t,r,i){let s;this.validTypes=[R.Creature,R.Hero],this.owner=t,s=t===p.Opponent,this.cardService=e;let o=Yc.toggleController(t);this.targeting=new Ct(this.cardService,r,i,[y.play],o,!1,!0,s)}undoEffectSingle(e){throw new Error("Method not implemented.")}doEffectSingle(e){(e instanceof V||e instanceof lt)&&e.zone===y.play&&(e.hp=0,e.handleDeath(),this.cardService.checkTriggers(H.Dies))}undoEffect(){throw new Error("Method not implemented.")}doEffect(){let e=this.targeting.getTarget();for(let t=0;t<e.length;t++)this.doEffectSingle(e[t])}}class Ap{constructor(e,t,r,i){this.amount=1,this.objCopier=new qs,this.controller=e,this.cardService=t,this.creatureToMake=r,void 0!==i&&(this.amount=i),this.targeting=new Ct(this.cardService,O.Single,[R.Player],[y.play],e,!0,!1)}undoEffectSingle(e){throw new Error("Method not implemented.")}doEffectSingle(e){let t=this.objCopier.copyCreature(this.creatureToMake);t.zone=y.play,this.cardService.cardList.push(t)}grabUnaffected(){throw new Error("Method not implemented.")}doEffect(){for(let e=0;e<this.amount;e++)this.doEffectSingle()}undoEffect(){throw new Error("Method not implemented.")}}class JL{constructor(e,t,r,i,s){this.objCopier=new qs,this.targeting=new Ct(e,O.Single,[R.Player],[y.play],i,!0,!1),this.cardService=e,this.spellToMake=t,this.destinationZone=r,this.player=i,this.amount=void 0===s?1:s}doEffect(){for(let e=0;e<this.amount;e++)this.doEffectSingle(1)}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){let t=this.objCopier.copySpell(this.spellToMake);t.zone=this.destinationZone,t.owner=this.player,this.cardService.cardList.push(t)}undoEffectSingle(e){throw new Error("Method not implemented.")}}class eB{constructor(e,t,r,i){this.objCopier=new qs,this.cardService=e,this.spells=t,this.controller=r,this.targeting=new Ct(this.cardService,O.Single,[R.Player],[i],r,!0,!1)}doEffect(){let e=this.targeting.getPlayer();console.log(e);for(let t=0;t<e.length;t++)this.doEffectSingle(e[t])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){let t=Math.floor(Math.random()*this.spells.length),r=this.objCopier.copySpell(this.spells[t]);r.zone=y.hand,r.owner=this.controller,this.cardService.cardList.push(r)}undoEffectSingle(e){throw new Error("Method not implemented.")}}class gr{constructor(e,t,r,i){this.manaType=e,this.amount=t,this.cardService=r,this.targeting=new Ct(this.cardService,O.Single,[R.Player],[],i,!0,!1),this.controller=i}undoEffectSingle(e){throw new Error("Method not implemented.")}doEffectSingle(e){e.gembag.addSingle(this.manaType,this.amount)}grabUnaffected(){throw new Error("Method not implemented.")}doEffect(){let e=this.targeting.getPlayer();e[0]instanceof ft&&e[0].gembag.addSingle(this.manaType,this.amount)}undoEffect(){throw new Error("Method not implemented.")}}class aD{constructor(e,t){this.cardService=e,this.targeting=new Ct(this.cardService,O.Single,[R.Player],[y.any],p.Self,!0,!1,!1),this.manaType=t}doEffect(){let e=new ai(this.cardService),t=this.targeting.getPlayer()[0];if(t instanceof ft){let r=e.generateBasicMine(this.manaType);this.cardService.cardList.push(r),t.incomeBag.addBag(r.incomeBag)}}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){throw new Error("Method not implemented.")}undoEffectSingle(e){throw new Error("Method not implemented.")}}class tB{constructor(e,t,r,i){this.validController=t,this.cardService=e,this.destinationZone=i,this.targeting=new Ct(this.cardService,r,[R.Any],[y.play],t,!1,!0)}doEffect(){let e=this.targeting.getTarget();for(let t=0;t<e.length;t++)this.doEffectSingle(e[t])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){this.cardService.setCardZoneByCard(e,this.destinationZone)}undoEffectSingle(e){throw new Error("Method not implemented.")}}class lD{constructor(e,t,r,i,s){this.amount=1,this.hasFlying=!1,this.hasSiege=!1,this.cardService=e,this.targeting={},this.target=r,this.amount=t,void 0!==i&&(this.hasFlying=i),void 0!==s&&(this.hasSiege=s)}doEffect(){let e=this.cardService.playerService.getPlayer(this.target);for(let t=0;t<e.length;t++)this.doEffectSingle(e[t])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){e instanceof mr&&e.takeDamage(this.amount,this.hasFlying,this.hasSiege),e instanceof ft&&(e.hp-=this.amount)}undoEffectSingle(e){throw new Error("Method not implemented.")}}class wa{constructor(e,t,r,i,s,o,a,l){this.amount=1,this.amount=e,this.cardService=t,void 0===o&&(o=!1),void 0===a&&(a=!1),void 0===l&&(l=!0),this.owner=i,this.targeting=new Ct(t,r,[R.Player,R.Creature],[y.play],s,a,l,o)}doEffect(){if(this.targeting.quan===O.Single){if(this.targeting.random){let e=this.targeting.getRandomTargetSingle();this.doEffectSingle(e)}else if(this.targeting.targetsPlayer&&!this.targeting.targetsCards){let e=this.targeting.getPlayer();for(let t=0;t<e.length;t++)this.doEffectSingle(e[t])}}else if(this.targeting.quan===O.All){let e=this.targeting.getTarget();for(let t=0;t<e.length;t++)this.doEffectSingle(e[t])}}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){if(console.log(e),e instanceof V){let t=e;t.hp-=this.amount,t.hp<=0&&(t.hp=0,t.handleDeath(),this.cardService.setCardZoneByCard(t,y.discard))}if(e instanceof Tp){let t=e;t.hp-=this.amount,t.hp<0&&(t.hp=0)}}undoEffectSingle(e){throw new Error("Method not implemented.")}}class Fn{constructor(e,t,r,i){this.amount=1,this.cardService=e,this.targeting=new Ct(this.cardService,t,[R.Player],[y.play],r,!0,!1),void 0!==i&&(this.amount=i)}doEffect(){let e=this.targeting.getPlayer();for(let t=0;t<e.length;t++)this.doEffectSingle(e[t])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){e instanceof mr?e.drawCardsFromEffect(this.amount):e instanceof ft&&e.drawCards(this.amount,!1)}undoEffectSingle(e){throw new Error("Method not implemented.")}}class cD{constructor(e,t,r){this.cardService=e,this.targeting=new Ct(this.cardService,r,[R.Creature],[y.play],t,!1,!0)}doEffect(){let e=this.targeting.getTarget();for(let t=0;t<e.length;t++)this.doEffectSingle(e[t])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){e instanceof V&&e.heal()}undoEffectSingle(e){throw new Error("Method not implemented.")}}class Fe{constructor(e,t,r,i,s){this.cardService=e,this.targeting=new Ct(this.cardService,t,[R.Creature],r,i,!1,!0),this.keywords=s}doEffect(){let e=this.targeting.getTarget();for(let t=0;t<e.length;t++)this.doEffectSingle(e[t])}undoEffect(){let e=this.targeting.getTarget();for(let t=0;t<e.length;t++)this.undoEffectSingle(e[t])}doEffectSingle(e){if(e instanceof V){let t=e;for(let r=0;r<this.keywords.length;r++){let i=this.keywords[r];t.keywords.includes(i)||(t.keywords.push(i),i===b.Repair?e.repairAmount=2:i===b.Dodge?e.dodgeAmount+=1:i===b.Ensnare&&(e.ensnareAmount+=1))}}}undoEffectSingle(e){if(e instanceof V){let t=e;for(let r=0;r<this.keywords.length;r++){let i=this.keywords[r];if(t.keywords.includes(i)){let s=t.keywords.indexOf(i);t.keywords.splice(s,1),i===b.Repair?e.repairAmount=0:i===b.Dodge?e.dodgeAmount=0:i===b.Ensnare&&(e.ensnareAmount=0)}}}}}class Ca{constructor(e,t,r){this.cardService=e,this.amount=t,this.targeting=new Ct(this.cardService,O.Single,[R.Player],[y.play],r,!0,!1)}doEffect(){let e=this.targeting.getPlayer();for(let t=0;t<e.length;t++)this.doEffectSingle(e[t])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){e instanceof ft&&(e.hp+=this.amount)}undoEffectSingle(e){e instanceof ft&&(e.hp-=this.amount)}}class uD{constructor(e,t){this.cardService=e,this.amount=t,this.targeting=new Ct(this.cardService,O.Single,[R.Wall],[],p.Self,!0,!1,!1,!0)}doEffect(){let e=this.targeting.getPlayer();e[0]instanceof ft&&(e[0].wall.hp+=this.amount)}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){throw new Error("Method not implemented.")}undoEffectSingle(e){throw new Error("Method not implemented.")}}class nB{constructor(e,t){this.amount=1,this.cardService=e,this.amount=t,this.targeting=new Ct(this.cardService,O.Single,[R.Player],[],p.Self,!0,!1)}doEffect(){let e=this.targeting.getPlayer();for(let t=0;t<e.length;t++)this.doEffectSingle(e[t])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){!(e instanceof mr)&&e instanceof ft&&(e.mineLimits+=this.amount)}undoEffectSingle(e){e instanceof ft&&(e.mineLimits-=this.amount)}}class Sa{constructor(e,t){this.cardService=e,this.targeting=new Ct(this.cardService,O.Single,[R.Player],[],p.Self,!0,!1),this.increase=t}doEffect(){throw new Error("Method not implemented.")}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){e.amount&&(e.amount+=this.increase)}undoEffectSingle(e){throw new Error("Method not implemented.")}}class rB{constructor(e,t,r,i,s){this.cardService=e,this.targeting=new Ct(this.cardService,r,i,s,p.Self,!0,!1),this.diffBag=t}doEffect(){let e=this.targeting.getTarget();for(let t=0;t<e.length;t++)this.doEffectSingle(e[t])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){e.cost.addBag(this.diffBag)}undoEffectSingle(e){throw new Error("Method not implemented.")}}var pe=function(n){return n[n.Common=0]="Common",n[n.Uncommon=1]="Uncommon",n[n.Rare=2]="Rare",n[n.SuperRare=3]="SuperRare",n}(pe||{});class an{constructor(e,t,r,i,s,o,a,l){if(this.abilities=[],this.targeting={},this.cost=0,this.image="",this.description="",this.name=e,this.image=r,this.description=i,this.cardService=s,void 0!==l&&(this.targeting=l),this.rarity=t,void 0!==o&&(this.abilities=o),void 0!==a)this.cost=a;else switch(t){case pe.Common:this.cost=Ye(50,100);break;case pe.Uncommon:this.cost=Ye(75,130);break;case pe.Rare:this.cost=Ye(100,200);break;case pe.SuperRare:this.cost=Ye(150,250)}}applyInitialEffects(){let e=this.abilities.filter(t=>t instanceof We);for(let t=0;t<e.length;t++)e[t].doEffects()}applyTriggeredEffects(e){}canBuy(e){return e>=this.cost}}class Zc{constructor(e){this.relics=[],this.cardService=e,this.cardGen=new ai(e);let t=new Se(1,1,1,e,p.Self,O.All),r=new Xe([t],e),i=new an("Buff",pe.Common,"test.png","All your creatures get +1/+1/+1",e,[r]);this.relics.push(i);let s=new V(1,1,1,"Spider",new I(1),"","",!1,p.Self,y.any,[D.Earth],[],[],!0),o=new Ap(p.Self,e,s,1),a=new xe([o],[H.Start],e,p.Self),l=new an("Swarm Amulet",pe.Uncommon,"amulet.png","At the start of your turn, create a 1/1/1 spider",e,[a]);this.relics.push(l);let c=new Fe(e,O.All,[y.play],p.Self,[b.Momentum]),u=new Xe([c],e),d=new an("Bowling Ball",pe.Rare,"bowlingBall.png","At the start of your turn, all your creatures gain 1 speed",e,[u]);this.relics.push(d);let h=new Fe(e,O.All,[y.play],p.Self,[b.Armorer,b.Pacifist,b.Regenerate]),f=new Xe([h],e),v=new an("Plate of Peace",pe.SuperRare,"plate.png","At the start of your turn all your creatures gain 1 more hp and then heal to max hp. Creatures you control may not attack",e,[f]);this.relics.push(v);let w=new Fn(e,O.Single,p.Self,2),M=new We([w],e),k=new Ze("Scrying Report",new I(4),"","Draw 2 Cards",[M],!1,p.Self,y.any,[D.Colorless]),E=new JL(e,k,y.hand,p.Self),B=new xe([E],[H.Start],e,p.Self,[y.play]),j=new an("Monocle of Insight",pe.Uncommon,"monocle.png","At the start of your turn, add a 4 gold cost draw spell to your hand",e,[B]);this.relics.push(j);let Y=new Fe(e,O.All,[y.play],p.Self,[b.Sharpen,b.FullForward]),ge=new Xe([Y],e),fe=new an("Sword of War",pe.SuperRare,"attackSymbol.png","At the start of your turn, all creatures you control gain +1/+0/+0. Creatures you control may not block",e,[ge]);this.relics.push(fe);let Ae=new Se(1,1,1,this.cardService,p.Self,O.Single,!0);Ae.repeatable=!0;let Je=new xe([Ae],[H.Dies],this.cardService,p.Any,[y.play]),ln=(new an("Blood Chalice",pe.Common,"bloodChalice.png","Whenever a creature dies, a random one of your creatures gets +1/+1/+1",this.cardService,[Je]),new Ca(this.cardService,2,p.Self)),_t=new xe([ln],[H.Start],this.cardService,p.Self,[y.play]),Yt=new an("Health Potion",pe.Common,"potion.png","At the start of your turn, gain 2 life",this.cardService,[_t]);this.relics.push(Yt);let Dn=new uD(this.cardService,10),Cr=new xe([Dn],[H.StartFight],this.cardService),z=new an("Cosmic Brick",pe.Common,"brick.png","At the start of each fight, your wall gains 10 extra Hp.",this.cardService,[Cr]);this.relics.push(z);let Q=new Fn(this.cardService,O.Single,p.Self,1),X=new xe([Q],[H.Start],this.cardService,p.Self),ve=new an("Crystal Ball",pe.Rare,"crystalBall.png","At the start of each turn, draw 1 card.",this.cardService,[X]);this.relics.push(ve);let rt=new uD(this.cardService,1),xt=new xe([rt],[H.Start],this.cardService,p.Self),Rt=new an("Repair Kit",pe.Common,"repairKit.png","At the end of each turn, your wall gains 1 HP.",this.cardService,[xt]);this.relics.push(Rt);let Zt=new Se(1,0,1,this.cardService,p.Self,O.All),Ue=new Xe([Zt],this.cardService),Gr=new an("War Banner",pe.Rare,"warBanner.png","All your creatures get +1/+0/+1.",this.cardService,[Ue]);this.relics.push(Gr);let Qa=new Se(0,2,0,this.cardService,p.Self,O.All),et=new Xe([Qa],this.cardService),Jn=new an("Heart of the Forest",pe.Rare,"heartOfTheForest.png","All your creatures get +0/+2/+0.",this.cardService,[et]);this.relics.push(Jn)}getRelicByName(e){return[]}getRelicByIndex(e){return this.relics[e]}getRelicsByRarity(e){return this.relics.filter(t=>t.rarity===e)}getAllRelics(){return this.relics}getRandomRelic(e){let t;return t=void 0!==e?this.getRelicsByRarity(e):this.getAllRelics(),t[this.cardGen.rollRandomNumber(0,t.length)]}}class ba{convertToCreature(e){return e}convertToMine(e){return e}convertToSpell(e){return e}convertToTech(e){return e}}class Li{constructor(e,t,r,i,s,o,a,l,c,u){this.type=R.Any,this.hover=!1,this.turned=!1,this.instant=!1,this.currentEffects=[],this.targetableCard=!1,this.isFlipping=!1,this.isMoving=!1,this.keywords=[],this.upgrades=[],this.level=1,this.maxLevel=3,this.name=e,this.cost=t,this.image=r,this.text=i,void 0!==u&&(this.upgrades=u),this.abilities=void 0!==l?l:[],this.rarity=void 0===c?pe.Common:c,this.owner=s,this.zone=o,this.factions=a}hasTargetedAbility(){return this.abilities.filter(t=>t instanceof wn).length>0}hasStaticAbility(){return this.abilities.filter(t=>t instanceof Xe).length>0}hasActivatedAbility(){return this.abilities.filter(t=>t instanceof St).length>0}getStaticAbilities(){return this.abilities.filter(e=>e instanceof Xe)}processAbilities(e){for(let t=0;t<this.abilities.length;t++){let r=this.abilities[t];r instanceof Xe?e.intialApplyStaticAbilities(r):(r instanceof We||r instanceof kp)&&r.doEffects()}}shouldDie(){return!0}applyUpgrades(){if(this.level<this.maxLevel){this.level++;for(let e=0;e<this.upgrades.length;e++)this.upgrades[e].applyUpgrade(this)}else console.log("Max level reached")}applyRandomUpgrade(e){0===this.upgrades.length?this instanceof V?(this.attack++,this.baseAttack++,this.hp++,this.baseHp++,this.speed++,this.baseSpeed++):this instanceof Ze&&(console.log("Not sure how to handle spell default upgrades"),this.cost.gold--,this.cost.gold<0&&(this.cost.gold=0)):this.upgrades[Math.floor(Math.random()*this.upgrades.length)].applyUpgrade(this)}}class V{constructor(e,t,r,i,s,o,a,l,c,u,d,h,f,v,w,M){this.hover=!1,this.type=R.Creature,this.turned=!1,this.attacking=!1,this.blocking=!1,this.blocked=!1,this.selected=!1,this.instant=!1,this.awake=!0,this.firstTurn=!0,this.currentEffects=[],this.keywords=[],this.repairAmount=0,this.isMinion=!1,this.dodgeAmount=0,this.targetableCard=!1,this.isFlipping=!1,this.isMoving=!1,this.ensnareAmount=0,this.upgrades=[],this.level=1,this.maxLevel=3,void 0!==M&&(this.upgrades=M),this.rarity=void 0===w?pe.Common:w,this.attack=t,this.baseAttack=t,this.hp=e,this.baseHp=e,this.speed=r,this.baseSpeed=r,this.name=i,this.cost=s,this.image=o,this.text=a,this.abilities=void 0!==h?h:[],this.keywords=void 0!==f?f:[],this.keywords.includes(b.Fast)&&(this.firstTurn=!1),this.instant=l,this.owner=c,this.zone=u,this.factions=d,void 0!==v&&(this.isMinion=v)}applyUpgrades(){Li.prototype.applyUpgrades.call(this)}applyRandomUpgrade(e){Li.prototype.applyRandomUpgrade.call(this,e)}hasActivatedAbility(){return this.abilities.filter(t=>t instanceof St).length>0}hasStaticAbility(){return this.abilities.filter(t=>t instanceof Xe).length>0}getStaticAbilities(){return this.abilities.filter(e=>e instanceof Xe)}handleDeath(){if(!1===this.isAlive()){this.resetStats();let e=this.getStaticAbilities();for(let t=0;t<e.length;t++)e[t].undoEffects();this.zone=this instanceof lt?y.hero:y.discard,this.firstTurn=!this.keywords.includes(b.FullForward)}}shouldDie(){return this.hp>0}resetStats(){this.hp<this.baseHp&&(this.hp=this.baseHp),this.attack<this.baseAttack&&(this.attack=this.baseAttack),this.speed<this.baseSpeed&&(this.speed=this.baseSpeed)}heal(){this.hp<this.baseHp&&(this.hp=this.baseHp)}processAbilities(e){for(let t=0;t<this.abilities.length;t++){let r=this.abilities[t];r instanceof Xe?e.intialApplyStaticAbilities(r):r instanceof We&&r.doEffects()}}hasTargetedAbility(){return this.abilities.filter(t=>t instanceof wn).length>0}isAlive(){return this.hp>0}resetHp(){this.hp=this.baseHp}addEffect(e){throw new Error("Method not implemented.")}removeEffect(e){throw new Error("Method not implemented.")}runEffects(){}canBlock(){return!this.keywords.includes(b.FullForward)&&!1===this.turned&&!1===this.blocking}}class Ze extends Li{constructor(e,t,r,i,s,o,a,l,c,u){super(e,t,r,i,a,l,c,s),this.type=R.Spell,this.targets=[],this.text=i,this.instant=o,this.intendedTarget=void 0!==u?u:p.Any}shouldDie(){return!0}runEffects(e){for(let t=0;t<this.abilities.length;t++);}resolve(){}}class Tp{constructor(e){this.hp=30,this.alive=!0,this.type=R.Wall,this.hp=e}isAlive(){return this.alive=this.hp>0,this.alive}takeDamage(e){this.hp-=e,this.hp<0&&(this.hp=0),this.isAlive()}}class iB extends Li{constructor(e,t,r,i,s,o,a,l){super(e,t,r,i,s,o,a,l),this.type=R.Building}wallIsAlive(e){return e.playerService.getPlayer(this.owner)[0].wall.hp>0}runEffects(){for(let e=0;e<this.abilities.length;e++)this.abilities[e].doEffects()}undoEffects(){for(let e=0;e<this.abilities.length;e++)this.abilities[e].undoEffects()}}class _n{constructor(e,t,r,i,s,o,a,l,c,u){this.type=R.Mine,this.hover=!1,this.turned=!1,this.instant=!1,this.currentEffects=[],this.targetableCard=!1,this.isFlipping=!1,this.isMoving=!1,this.keywords=[],this.upgrades=[],this.level=1,this.maxLevel=3,this.name=e,this.cost=t,this.incomeBag=r,this.image=i,this.text=s,this.abilities=void 0!==c?c:[],this.owner=o,this.zone=a,this.factions=l,this.incomeBag=r,this.rarity=void 0===u?pe.Common:u}hasActivatedAbility(){return this.abilities.filter(t=>t instanceof St).length>0}hasStaticAbility(){return this.abilities.filter(t=>t instanceof Xe).length>0}getStaticAbilities(){return this.abilities.filter(e=>e instanceof Xe)}shouldDie(){return!1}processAbilities(e){throw new Error("Method not implemented.")}hasTargetedAbility(){return this.abilities.filter(t=>t instanceof wn).length>0}mine(e){e.gold+=this.incomeBag.gold,e.ruby+=this.incomeBag.ruby,e.emerald+=this.incomeBag.emerald,e.sapphire+=this.incomeBag.sapphire,e.lionsEye+=this.incomeBag.lionsEye,e.topaz+=this.incomeBag.topaz}addEffect(e){throw new Error("Method not implemented.")}removeEffect(e){throw new Error("Method not implemented.")}runEffects(){throw new Error("Method not implemented.")}applyUpgrades(){Li.prototype.applyUpgrades.call(this)}applyRandomUpgrade(e){Li.prototype.applyRandomUpgrade.call(this,e)}}class lt extends V{constructor(e,t,r,i,s,o,a,l,c,u,d,h,f,v,w,M){super(t,e,r,i,s,o,a,d,l,c,u,h,f,!1,v),this.timesDied=0,this.type=R.Hero,this.xp=0,this.level=1,this.xpNextLevel=10,this.levelingUp=!1,this.affinities=[],this.affinityBonus=2,this.baseCost=s,this.currentCost=s,this.zone=y.hero,void 0!==M&&(this.xp=M),void 0!==w&&(this.affinities=w)}addXP(e,t){if(t)for(let r=0;r<t.length;r++)this.affinities.includes(t[r])&&(e*=this.affinityBonus);this.keywords.includes(b.Learning)&&(e*=2),this.xp+=e,this.xp>=this.xpNextLevel&&(this.xp=0,this.levelingUp=!0,this.xpNextLevel=this.getXpToNextLevel())}getXpToNextLevel(){return this.level*this.level+10}handleDeath(){this.zone=y.hero,this.timesDied++,this.currentCost.gold++,this.resetStats();for(let e=0;e<this.abilities.length;e++)this.abilities[e].undoEffects()}resetGoldCost(){this.cost=this.baseCost}}class wn{constructor(e,t,r,i,s,o,a){this.effects=[],this.allowedTargets=[R.Creature,R.Hero],this.allowedZones=[],this.targetNumber=1,this.possibleTargets=[],this.target=null,this.allEffectsToOne=!1,this.allowedTargets=e,this.targetNumber=i,this.effects=s,this.allowedZones=r,this.allowedPlayer=t,this.cardService=o,void 0!==a&&(this.allEffectsToOne=a)}undoEffects(){throw new Error("Method not implemented.")}checkTargetValid(e){return this.allowedTargets.includes(e)}setTargetByIndex(e){if(this.possibleTargets.length>0&&e<this.possibleTargets.length&&e>=0){let t=this.possibleTargets[e];this.checkTargetValid(t.type)&&(this.target=t)}}doEffects(){for(let e=0;e<this.effects.length;e++)this.effects[e].doEffect()}}class Xe{constructor(e,t){this.zoneAffected=y.play,this.effects=e,this.cardService=t}undoEffects(){this.undoAll()}doEffects(){for(let e=0;e<this.effects.length;e++)this.effects[e].doEffect()}undoAll(){for(let e=0;e<this.effects.length;e++)this.effects[e].undoEffect()}}class xe{constructor(e,t,r,i,s,o){this.triggerZones=[],this.triggersPerTurn=1e4,this.effects=e,this.triggerTimes=t,this.cardService=r,this.controller=void 0===i?p.Any:i,void 0===s?this.triggerZones.push(y.play):this.triggerZones=s,void 0!==o&&(this.triggersPerTurn=o)}undoEffects(){throw new Error("Method not implemented.")}checkTriggers(e,t){void 0===t&&(t=p.Any);let r=this.controller===t||this.controller===p.Any,i=this.triggerTimes.includes(e);r&&i&&this.doEffects()}doEffects(){for(let e=0;e<this.effects.length;e++)this.effects[e].doEffect()}}class We{constructor(e,t){this.effects=e,this.cardService=t}undoEffects(){throw new Error("Method not implemented.")}doEffects(){for(let e=0;e<this.effects.length;e++)this.effects[e].doEffect()}}class It{constructor(e,t,r){this.cost=e,this.amount=t,this.color=void 0!==r?r:T.Any}}class St{constructor(e,t,r,i,s){this.costMaps=[],this.needsTarget=!1,this.costMaps=t,this.cardService=e,this.effects=r,this.user=i,void 0!==s&&(this.needsTarget=s)}doEffects(){let e=this.cardService.playerService.getPlayer(p.Self)[0];if(this.canAffordCosts(this.user,e)){this.payCosts();for(let r=0;r<this.effects.length;r++)this.effects[r].doEffect()}}undoEffects(){for(let e=0;e<this.effects.length;e++)this.effects[e].undoEffect()}payCosts(){let e=this.cardService.playerService.getPlayer(p.Self)[0];for(let t=0;t<this.costMaps.length;t++){let r=this.costMaps[t],s=r.amount;switch(r.cost){case Pe.Life:e.hp>s&&(e.hp-=s);break;case Pe.Gems:switch(r.color){case T.Gold:e.gembag.gold-=s;break;case T.Ruby:e.gembag.ruby-=s;break;case T.Sapphire:e.gembag.sapphire-=s;break;case T.Emerald:e.gembag.emerald-=s;break;case T.LionEye:e.gembag.lionsEye-=s;break;case T.Topaz:e.gembag.topaz-=s;break;default:e.gembag.gold-=s}break;case Pe.Discard:if(this.user instanceof ft){let l=this.user.getHand();for(let c=0;c<s;c++){let u=l.pop();u&&this.cardService.setCardZoneByCard(u,y.discard)}}break;case Pe.SacCreature:this.user instanceof ft&&e.getCreatures();break;case Pe.Asleep:let o=this.user;o.awake=!1,this.user=o}}}canCardAffordCosts(e){for(let t=0;t<this.costMaps.length;t++){let r=this.costMaps[t],i=r.cost,s=r.amount;if(void 0!==i)switch(i){case Pe.Life:if(e instanceof V&&e.hp<s)return!1;break;case Pe.Asleep:if(e instanceof V)return e.awake}}return!0}canPlayerAffordCosts(e){for(let t=0;t<this.costMaps.length;t++){let r=this.costMaps[t],s=r.amount;switch(r.cost){case Pe.Life:if(e.hp<s)return!1;break;case Pe.Gems:if(e.gembag.getValue(r.color)<s)return!1;break;case Pe.Discard:if(e.getHand().length<s)return!1;break;case Pe.SacCreature:if(e.getCreatures().length<s)return!1}}return!0}canAffordCosts(e,t){let r=!0,i=!0;return void 0!==e&&(i=this.canCardAffordCosts(e)),void 0!==t&&(r=this.canPlayerAffordCosts(t)),r&&i}}class kp{constructor(e,t,r,i,s){this.effects=e,this.cardService=t,this.targeting=new Ct(t,O.Single,r,i,s,!0,!1)}doEffects(){let e=this.targeting.getTarget();if(e.length>0){let r=e[Math.floor(Math.random()*e.length)];for(let i=0;i<this.effects.length;i++)this.effects[i].doEffectSingle(r)}}undoEffects(){throw new Error("Method not implemented.")}}class dD{static income(){let e=new Audio("C:/Users/thoma/Desktop/Cards/CardApp/src/sounds/pickupCoin.wav");e.load(),e.play().catch(t=>console.error("Error playing sound:",t))}}class ft{constructor(e){this.isAi=!1,this.name="human",this.hp=40,this.drawPerTurn=1,this.attacking=!1,this.pickingBlockers=!1,this.showFights=!1,this.defending=!1,this.targeting=!1,this.possibleTargets=[],this.wall=new Tp(20),this.staticAbilities=[],this.cardConverter=new ba,this.startingGold=5,this.gembag=new I(this.startingGold,0,0,0,0,0),this.incomeBag=new I(2,0,0,0,0,0),this.currentEffects=[],this.mineLimits=1,this.minesPlayed=0,this.effectStack=[],this.pickStack=[],this.controller=p.Self,this.stopPhases=!1,this.currentPos=0,this.buildingSlots=3,this.relics=[],this.buildings=[],this.marketEnabled=!1,this.cardService=e,this.gembag.gold=this.startingGold}applyStaticAbilities(){for(let e=0;e<this.staticAbilities.length;e++)this.staticAbilities[e].doEffects();for(let e=0;e<this.relics.length;e++){let t=this.relics[e];for(let r=0;r<t.abilities.length;r++){let i=t.abilities[r];i instanceof Xe&&i.doEffects()}}}unapplyStaticAbilities(){for(let e=0;e<this.staticAbilities.length;e++)this.staticAbilities[e].undoEffects();for(let e=0;e<this.relics.length;e++){let t=this.relics[e];for(let r=0;r<t.abilities.length;r++){let i=t.abilities[r];i instanceof Xe&&i.undoEffects()}}}getAllCards(){return this.cardService.getCards(y.any,this.controller)}checkIfPlayable(e,t){if(e.owner===p.Opponent)return!0;if(e instanceof lt){let l=t.currentPhase===ee.main||t.currentPhase===ee.main2,c=t.currentTurn===this||e.instant,u=e.zone===y.hero,d=this.gembag.canAfford(e.cost);return l&&c&&u&&d}let s,r=this.cardService.getCards(y.hand,p.Self,R.Any),i=t.currentPhase===ee.main||t.currentPhase===ee.main2;return e instanceof _n?!!(this.minesPlayed<this.mineLimits&&(i||e.instant)):(s=r.includes(e),!!this.gembag.canAfford(e.cost)&&!!(e.instant||i&&t.currentTurn===this&&e.zone===y.hand))}hasPlayableCards(e){let t=this.cardService.getCards(y.hand,p.Self,R.Any),i=!1;for(let s=0;s<t.length;s++)if(this.checkIfPlayable(t[s],e)){i=!0;break}return i}hasRelic(e){return this.relics.filter(r=>r.name===e).length>0}playCard(e,t){if(this.checkIfPlayable(e,t)){if(this.gembag.subtractCost(e.cost),[R.Creature,R.Wall,R.Mine,R.Building,R.Tech,R.Hero].includes(e.type)){let i=this.cardService.hero;console.log("XP Animation goes here");let s=[];if(e instanceof lt&&s.push(H.HeroCast),e instanceof _n&&s.push(H.MineCast),e instanceof V&&s.push(H.CreatureCast),this.controller===p.Self&&i.addXP(1,s),this.cardService.checkTriggers(H.Enters,p.Self),this.cardService.setCardZoneByCard(e,y.play),e.type===R.Mine&&(this.incomeBag.addBag(e.incomeBag),this.minesPlayed++,this.cardService.checkTriggers(H.MineCast,this.controller)),e.type===R.Building)if(this.buildings.includes(e)){let a=this.buildings.findIndex(l=>l.name===e.name);this.buildings[a].level++}else this.buildings.push(e)}else e.type===R.Spell&&this.playSpell(e,t);this.applyExistingAbilities(e),this.applyStaticAbilities(),this.processAbilities(e)}}playSpell(e,t){this.cardService.checkTriggers(H.SpellCast),this.cardService.setCardZoneByCard(e,y.discard),this.controller===p.Self&&this.cardService.hero.addXP(1,[H.SpellCast])}addRelic(e){this.relics.push(e),this.processAbilities(e)}processAbilities(e){for(let t=0;t<e.abilities.length;t++){let r=e.abilities[t];if(r instanceof wn){let i=r;for(let s=0;s<i.effects.length;s++){let o=i.effects[s],a=o.targeting.getTarget();if(o.targeting.random&&i.allowedPlayer===p.Opponent)o.doEffectSingle(a[0]);else if(a){for(let l=0;l<a.length;l++)a[l].targetableCard=!0;this.effectStack.push(o)}}}else if(r instanceof St){let i=r;if(e instanceof Li&&i.canAffordCosts(e)&&i.needsTarget)for(let s=0;s<i.effects.length;s++){let o=i.effects[s];if(o.targeting.random){let a=o.targeting.getRandomTargetSingle();o.doEffectSingle(a)}else{let a=o.targeting.getTarget();for(let l=0;l<a.length;l++)a[l]&&(a[l].targetableCard=!0);this.effectStack.push(o)}}}else r instanceof Xe?this.cardService.intialApplyStaticAbilities(r):r instanceof xe?this.cardService.triggeredEffects.push(r):r.doEffects()}}applyExistingAbilities(e){for(let t=0;this.cardService.staticEffects.length>t;t++)this.cardService.staticEffects[t].doEffects()}killCardByIndex(e){this.cardService.setCardZone(e,y.discard)}killCardBySearch(e){let t=this.cardService.getCardIndex(e);this.cardService.setCardZone(t,y.discard)}getMines(){return this.cardService.getCards(y.play,p.Self,R.Mine)}earnIncome(){this.gembag.addBag(this.incomeBag),new dD,dD.income()}drawCards(e,t){let r=[];void 0===t&&(t=!0);let i=this.cardService.getCards(y.deck,p.Self,R.Any);if(i.length>=e)for(let s=0;s<e;s++){let o=i[s];o.zone=y.hand,this.cardService.checkTriggers(H.DrawCard),r.push(o),(this.controller===p.Self||this.controller===p.Any)&&(t||this.cardService.hero.addXP(1,[H.DrawCard]))}return r}canAttack(){let e;if(e=this.cardService.getCreatures(this.isAi?p.Opponent:p.Self),this.isAi)return e.length>0;for(let r=0;r<e.length;r++){let i=e[r];if(i.awake&&!i.firstTurn)return!0}return!1}getAttackers(){let e=this.cardService.getCreatures(p.Self).filter(t=>t.attacking);for(let t=0;t<e.length;t++){let r=e[t];r.attacking&&(r.keywords.includes(b.Sentry)||(r.awake=!1))}return e}attack(){this.cardService.checkTriggers(H.Attack),this.attacking=!0}defend(){this.defending=!0}clearCombat(){this.defending=!1,this.attacking=!1;let e=this.cardService.getCreatures(p.Any),t=this.cardService.hero;t.blocking=!1,t.blocked=!1,t.attacking=!1;for(let r=0;r<e.length;r++){let i=e[r];i.attacking=!1,i.blocked=!1,i.blocking=!1}this.checkDead()}doneDefending(){this.defending=!1}doneAttacking(){this.attacking=!1}dealDamage(e){let t=this.getAttackersUnblocked();for(let s=0;s<t.length;s++){let o=t[s],a=o.keywords.includes(b.Flying),l=o.keywords.includes(b.Siege);e.takeDamage(o.attack,l,a)}}takeDamage(e,t,r){r?this.hp-=e:this.wall.isAlive()?(t&&(e*=2),this.wall.hp-=e,this.clearWallBound()):this.hp-=e}clearWallBound(){if(this.wall.hp<=0){let e=this.getCreatures().filter(i=>i.keywords.includes(b.WallBound));for(let i=0;i<e.length;i++)e[i].zone=y.discard;let r=this.cardService.getCards(y.play,p.Self,R.Building).filter(i=>i.keywords.includes(b.WallBound));for(let i=0;i<r.length;i++)r[i].zone=y.discard}}getAttackersUnblocked(){let e=[],t=this.cardService.getCreatures(p.Self),r=[];for(let i=0;i<t.length;i++)r.push(t[i]);for(let i=0;i<r.length;i++){let s=r[i];s.attacking&&!s.blocked&&e.push(s)}return e}resetMines(){this.minesPlayed=0}checkDead(){let e=this.getCreatures().filter(t=>!t.isAlive());for(let t=0;t<e.length;t++){let r=e[t];if(r instanceof lt){let i=r;this.cardService.checkTriggers(H.Dies),i.handleDeath()}else r.isAlive()||(r.zone=y.discard,this.cardService.checkTriggers(H.Dies),r.handleDeath());r.resetStats()}}isAlive(){return this.cardService.getCards(y.deck,p.Self,R.Any).length>0&&this.hp>0}getCreatures(){return this.cardService.getCards(y.play,this.controller,R.Creature)}getHand(){return this.cardService.getCards(y.hand,p.Self,R.Any)}awakeAll(){let e=this.getCreatures();for(let t=0;t<e.length;t++)e[t].turned=!1,e[t].awake=!0,e[t].firstTurn=!1}getBlockers(){return this.hasBlockers()?this.getCreatures().filter(t=>t.awake):[]}hasBlockers(){let e=this.getCreatures();return 0!==e.length&&e.filter(r=>r.awake).length>0}hasMedic(){let e=this.getCreatures();for(let t=0;t<e.length;t++)if(e[t].keywords.includes(b.Medic))return!0;return!1}}class mr extends ft{constructor(e){super(e),this.currentSpell=null,this.currentTargets=[],this.isAi=!0,this.name="Horde",this.controller=p.Opponent,this.wall=new Tp(10),this.pullsPerTurn=1,this.pullsThisTurn=0}drawCardsFromEffect(e){this.cardService.checkTriggers(H.DrawCard);let t=this.cardService.getCards(y.deck,p.Opponent,R.Any);for(let r=0;r<e;r++){let i=t.pop();i instanceof V?(i.firstTurn=!1,this.playCreature(i),this.processAbilities(i)):i instanceof Ze&&(this.currentSpell=i,this.stopPhases=!0)}}playCards(){let e=this.cardService.getCards(y.deck,p.Opponent,R.Any);if(e.length>0&&this.pullsThisTurn<this.pullsPerTurn){let t=e[0];if(t.type===R.Creature){let r=t;if(this.playCreature(r),r.isMinion)this.playCards();else{if(this.pullsThisTurn++,this.pullsPerTurn===this.pullsThisTurn)return void(this.pullsThisTurn=0);this.pullsThisTurn<this.pullsPerTurn&&this.playCards()}}else t.type===R.Spell&&(this.currentSpell=t,this.stopPhases=!0)}else this.pullsThisTurn=0}playCreature(e){let t=this.cardService.getCardIndex(e);this.cardService.setCardZone(t,y.play),this.processAbilities(e)}playSpell(e){this.processAbilities(e),this.cardService.setCardZoneByCard(e,y.discard)}runCurrentSpell(e){this.currentSpell&&(this.playSpell(this.currentSpell),this.cardService.setCardZoneByCard(this.currentSpell,y.discard),this.currentSpell=null,this.stopPhases=!1)}getDeck(){return this.cardService.getCards(y.deck,p.Opponent,R.Any)}millCard(e){let t=this.cardService.getCards(y.deck,p.Opponent,R.Any);e>t.length&&(e=t.length);for(let r=0;r<e;r++)t[r].zone=y.discard}attack(){let e=this.cardService.getCreatures(p.Opponent);this.attacking=!0;for(let t=0;t<e.length;t++)e[t].turned=!0,e[t].attacking=!0,e[t].awake=!1}getAttackers(){return this.cardService.getCreatures(p.Opponent)}clearWallBound(){if(this.wall.hp<=0){let e=this.getCreatures().filter(i=>i.keywords.includes(b.WallBound));for(let i=0;i<e.length;i++)e[i].zone=y.discard;let r=this.cardService.getCards(y.play,p.Self,R.Building).filter(i=>i.keywords.includes(b.WallBound));for(let i=0;i<r.length;i++)r[i].zone=y.discard}}getAttackersUnblocked(){let e=[],t=this.cardService.getCreatures(p.Opponent);for(let r=0;r<t.length;r++){let i=t[r];i.attacking&&!i.blocked&&e.push(i)}return e}takeDamage(e,t,r){r?this.millCard(e):this.wall.isAlive()?(t&&(e*=2),this.wall.hp-=e,this.clearWallBound()):this.millCard(e)}defend(){let e=this.cardService.getCreatures(p.Self).filter(i=>i.attacking),t=0;for(let i=0;i<e.length;i++)t+=e[i].attack;let r=this.cardService.getCards(y.deck,p.Opponent,R.Any);r.length>t&&(t=r.length);for(let i=0;i<t;i++)r.pop()}isAlive(){return 0===this.cardService.getCards(y.deck,p.Opponent,R.Any).length}}class sB{constructor(e,t){this.player=e,this.opponent=t}getPlayer(e){return e===p.Any?[this.player,this.opponent]:e===p.Opponent?[this.opponent]:[this.player]}}class hD{constructor(){this.cardList=[],this.staticEffects=[],this.triggeredEffects=[],this.playerService={},this.relicsManager=new Zc(this),this.currentPos=0,this.difficultyMods="",this.selectedFactions=[D.Any],this.nodePos=0,this.difficulty=0,this.hero=new lt(0,1,1,"Hero Boy",new I,"","",p.Self,y.play,[D.Sun],!1,[],[],pe.Rare),this.shuffleDeck(this.cardList)}deleteCardsByController(e){this.cardList=this.cardList.filter(t=>void 0!==t),this.cardList=this.cardList.filter(t=>t.owner!==e)}clearDiscardPile(e){for(let t=0;t<this.cardList.length;t++){let r=this.cardList[t];r.zone===y.discard&&r.owner===e&&(r.zone=y.deck)}}makePlayerService(e,t){this.playerService=new sB(e,t)}getCount(e,t,r,i){return void 0===r&&(r=R.Any),void 0===t&&(t=p.Any),void 0===i&&(i=D.Any),void 0===e&&(e=y.any),this.getCards(e,t,r,[i]).length}countMultiple(e,t,r,i){let s=0;void 0===r&&(r=[R.Any]),void 0===t&&(t=p.Any),void 0===i&&(i=[D.Any]),void 0===e&&(e=[y.any]);for(const o of e)for(const a of i)for(const l of r)s+=this.getCount(o,t,l,a);return s}getCardsWithStatics(){return this.getCards().filter(t=>t.hasStaticAbility())}checkTriggers(e,t){void 0===t&&(t=p.Self);let r=this.getCards(y.any,t,R.Any,[D.Any],!0);for(let o=0;o<r.length;o++){let a=r[o];for(let l=0;l<a.abilities.length;l++){let c=a.abilities[l];c instanceof xe&&c.triggerZones.includes(a.zone)&&c.checkTriggers(e,t)}}let s=this.playerService.getPlayer(p.Self)[0].relics;for(let o=0;o<s.length;o++){let a=s[o];for(let l=0;l<r.length;l++){let c=a.abilities[l];c instanceof xe&&c.checkTriggers(e,t)}}e===H.Enters&&this.getCardsWithStatics()}intialApplyStaticAbilities(e){e.doEffects(),this.staticEffects.push(e)}staticDestroy(e){if(this.staticEffects.includes(e)){e.undoAll();let t=this.staticEffects.indexOf(e);this.staticEffects.splice(t,1)}}shuffleDeck(e){let r,t=e.length;for(;t>0;)r=Math.floor(Math.random()*t),t--,[e[t],e[r]]=[e[r],e[t]];return e}checkZoneTriggers(e,t){e===y.exile&&this.checkTriggers(H.Exiled),t===y.play&&e===y.discard&&this.checkTriggers(H.Dies),t===y.hand&&(e===y.play?this.checkTriggers(H.Enters):e===y.discard&&this.checkTriggers(H.Discarded)),t===y.deck&&e===y.discard&&this.checkTriggers(H.Mill)}setCardZoneByCard(e,t){this.checkZoneTriggers(t,e.zone);for(let r=0;r<this.staticEffects.length;r++){let i=this.staticEffects[r];e.abilities.includes(i)&&i.undoAll()}e.zone=t,e instanceof V&&(e.awake=!0,e.owner===p.Opponent&&this.hero.addXP(1,[H.Dies]))}setCardZone(e,t){let r=this.cardList[e];this.checkZoneTriggers(t,r.zone);for(let s=0;s<this.staticEffects.length;s++);this.cardList[e].zone=t,r instanceof V&&(r.awake=!0)}setCardZoneObj(e,t){let r=this.getCardIndex(e);r>=0&&r<this.cardList.length&&(this.cardList[r].zone=t)}setCardOwner(e,t){this.cardList[t].owner=e}getCardIndex(e){return this.cardList.findIndex(r=>r===e)}getCardName(e,t){return this.cardList.filter(i=>i.name===e&&i.owner===t)[0]}getCard(e){return this.cardList[e]}getCreatures(e){let t=this.getCards(y.play,e,R.Creature);return(this.hero.owner===e||this.hero.owner===p.Any&&this.hero.zone===y.play)&&t.push(this.hero),t}getBuildings(e){return this.getCards(y.play,e,R.Building)}getTechs(e){return void 0===e&&(e=p.Any),this.getCards(y.play,e,R.Tech)}filterByKeyword(e,t){return void 0===t&&(t=p.Any),this.getCreatures(t).filter(i=>i.keywords.includes(e))}getCardsWithTriggers(e,t,r,i){return void 0===r&&(r=R.Any),void 0===t&&(t=p.Any),void 0===i&&(i=D.Any),void 0===e&&(e=y.any),this.getCards(e,t,r,[i]).filter(a=>a.abilities.filter(l=>l instanceof xe))}getCards(e,t,r,i,s){let o=[];void 0===r&&(r=R.Any),void 0===t&&(t=p.Any),void 0===i&&(i=[D.Any]),void 0===e&&(e=y.any),void 0===s&&(s=!1),s&&o.push(this.hero),this.hero.zone===e&&(r===R.Creature||r===R.Hero||R.Any)&&(t===this.hero.owner||t===p.Any)&&o.push(this.hero),this.cardList=this.cardList.filter(a=>void 0!==a);for(let a=0;a<this.cardList.length;a++){let l=this.cardList[a],c=this.getMatchingFactions(l.factions,i);(l.owner===t||t==p.Any)&&(l.zone===e||e===y.any)&&(r===l.type||r===R.Any)&&(c.length>0||i.includes(D.Any))&&o.push(l)}return o}getMatchingFactions(e,t){let r=[];for(let i=0;i<e.length;i++)t.includes(e[i])&&r.push(e[i]);return r}getDeck(e){return this.cardList.filter(t=>t.owner==e&&t.zone==y.deck)}clearList(e){this.cardList=this.cardList.filter(t=>t.owner!==e)}resetCreatures(){this.staticEffects=[];for(let e=this.cardList.length-1;e>=0;e--){let t=this.cardList[e];if(t instanceof V)if(t.zone===y.play&&(t.zone=y.deck),t.isMinion){this.cardList.splice(e,1);for(let r=0;r<t.abilities.length;r++){let i=t.abilities[r];i instanceof Xe&&i.undoAll()}}else t.resetStats(),this.cardList[e]=t}}reset(){this.clearList(p.Opponent),this.playerService.player.wall.hp=20,this.playerService.opponent.wall.hp=10,this.playerService.player.gembag.resetStarting(this.playerService.player.startingGold),this.playerService.player.incomeBag.resetIncome();for(let e=0;e<this.staticEffects.length;e++)this.staticEffects[e].undoAll();for(let e=0;e<this.cardList.length;e++)if(this.cardList[e].zone=y.deck,this.playerService.player.applyExistingAbilities(this.cardList[e]),this.cardList[e]instanceof V){let t=this.cardList[e];t.resetStats(),t.isMinion&&this.cardList.splice(e,1),t.firstTurn=!0,t.resetStats()}}drawInitialHand(){this.playerService.player.drawCards(6,!0);let e=this.getCards(y.deck,p.Self,R.Mine);for(let t=0;t<e.length;t++){let r=e[t];if(r.factions.includes(D.Colorless)){r.zone=y.hand;break}}}getTargets(e){let t=e.allowedZones,r=e.controller,i=e.types,s=i.includes(R.Any),o=t.includes(y.any);s&&(i=Object.values(R)),o&&(t=Object.values(y));let a=[];for(let l=0;l<this.cardList.length;l++){let c=this.cardList[l],u=t.includes(c.zone),d=i.includes(c.type);u&&d&&(c.owner===r||r===p.Any)&&a.push(c)}return i.includes(R.Creature)&&this.hero.zone===y.play&&a.push(this.hero),a}grabUnaffected(e,t){void 0===t&&(t=R.Any);let r=e.targeting.getTarget();return t!==R.Any&&(r=r.filter(s=>s.type===t)),r.filter(s=>!s.currentEffects.includes(e))}grabAffected(e,t){void 0===t&&(t=R.Any);let r=e.targeting.getTarget();return t!==R.Any&&(r=r.filter(s=>s.type===t)),r.filter(s=>s.currentEffects.includes(e))}}class oB{constructor(e){this.showTurnPlayer=!1,this.showTurnEnemy=!1,this.game=e}getPhaseText(){switch(this.game.currentPhase){case ee.main||ee.main2:return"You may play a mine and as many other cards as you can afford. If it is your first main phase, you gain income from your mines.";case ee.attackers:return"Pick what creatures you want to attack. For a hoard, all creature always attack.";case ee.blockers:return"Choose which creatures from the horde you want to block. The hoard will never block.";case ee.combatResults:return"See the results of each block in combat. Greyed out creatures are set to die";case ee.end:return"The end of the turn. Until end of turn effects wear off here.";case ee.start:return"The start of a battle.";default:return""}}resetPhase(){this.game.currentPhase=ee.main,this.game.phaseDisplay=ee[this.game.currentPhase],this.game.currentTurn=this.game.player}nextPhase(){this.game.currentTurn.isAi?this.handleAIPhases():this.handlePlayerPhases(),this.game.phaseDisplay=ee[this.game.currentPhase]}handlePlayerPhases(){switch(this.game.currentPhase){case ee.start:this.game.cardService.checkTriggers(H.Start,p.Self),this.game.currentPhase=ee.main;break;case ee.main:this.handleMainPhase();break;case ee.attackers:this.game.combatManager.runBlocks(),this.game.combatManager.runUnblocked(),this.game.combatManager.clearCombat(),this.game.currentPhase=ee.main2;break;case ee.main2:this.endTurn()}}handleAIPhases(){switch(this.game.currentPhase){case ee.main:this.handleAIMainPhase();break;case ee.attackers:this.game.player.hasBlockers()?(this.game.combatManager.runUnblocked(),this.game.combatManager.runBlocks(),this.game.currentPhase=ee.combatResults):(this.game.combatManager.runUnblocked(),this.game.combatManager.clearCombat(),this.game.currentPhase=ee.end,this.game.cardService.checkTriggers(H.EndTurn,p.Opponent));break;case ee.blockers:this.game.currentPhase=ee.combatResults,this.game.combatManager.runUnblocked(),this.game.combatManager.runBlocks();break;case ee.combatResults:this.game.combatManager.clearCombat(),this.game.cardService.checkTriggers(H.EndTurn,p.Opponent),this.game.cardService.checkTriggers(H.Start,p.Self),this.game.cardService.checkTriggers(H.Awake,p.Opponent),this.endTurn();break;case ee.end:this.game.cardService.checkTriggers(H.Start,p.Self),this.game.cardService.checkTriggers(H.Awake,p.Opponent),this.endTurn()}}handleMainPhase(){this.endTurn()}handleAIMainPhase(){this.game.currentTurn.canAttack()?(this.game.currentPhase=ee.attackers,this.game.combatManager.runAttack()):this.game.currentPhase=ee.end}endTurn(){this.game.currentPhase=ee.main,this.game.cardService.checkTriggers(H.EndTurn,p.Self);let e=this.game.player.getCreatures();for(let t=0;t<e.length;t++){let r=e[t];r.keywords.includes(b.Regenerate)&&r.heal()}this.game.currentTurn===this.game.player&&[ee.main,ee.main2,ee.start,ee.end].includes(this.game.currentPhase),this.game.currentPhase=ee.main,this.game.phaseDisplay=ee[this.game.currentPhase],this.swapCurrent(),this.runUpkeep(),this.game.cardService.checkTriggers(H.Start,p.Opponent),this.game.cardService.checkTriggers(H.Awake,p.Opponent)}runUpkeep(){this.game.currentTurn.awakeAll();const e=this.game.getCurrentTurnController();this.game.currentTurn instanceof mr?this.game.processKeywords(p.Opponent,this.game.currentTurn.wall):this.game.currentTurn instanceof ft&&(this.game.player.minesPlayed=0,this.game.player.earnIncome(),this.game.processKeywords(p.Self,this.game.player.wall)),this.game.runDraw(),this.game.cardService.checkTriggers(H.Awake,e)}swapCurrent(){this.game.currentTurn=this.game.currentTurn.controller===p.Opponent?this.game.player:this.game.enemy}passTurn(){this.game.currentTurn===this.game.player&&(this.game.currentPhase===ee.main||this.game.currentPhase===ee.main2||this.game.currentPhase===ee.start)&&this.game.currentTurn===this.game.player&&(this.swapCurrent(),this.runUpkeep(),this.game.currentPhase=ee.main,this.game.phaseDisplay=ee[this.game.currentPhase])}}class aB{constructor(e,t){this.attacker={},this.blocker={},this.attacker=e,this.blocker=t}fight(){let e=this.attacker.keywords.includes(b.Dodge)&&this.attacker.dodgeAmount>0,t=this.blocker.keywords.includes(b.Dodge)&&this.blocker.dodgeAmount>0,r=this.attacker.keywords.includes(b.Ensnare)&&this.attacker.ensnareAmount>0,i=this.blocker.keywords.includes(b.Ensnare)&&this.blocker.ensnareAmount>0;r&&(this.blocker.speed-=this.attacker.ensnareAmount),i&&(this.attacker.speed-=this.blocker.ensnareAmount),this.attacker.speed>this.blocker.speed?(t?this.blocker.dodgeAmount--:(this.blocker.hp-=this.attacker.attack,this.attacker.keywords.includes(b.Ambush)&&(this.blocker.hp-=this.attacker.speed)),this.blocker.hp>0&&(e?this.attacker.dodgeAmount--:(this.attacker.hp-=this.blocker.attack,this.blocker.keywords.includes(b.Ambush)&&(this.attacker.hp-=this.blocker.speed)))):this.attacker.speed<this.blocker.speed?(e?this.attacker.dodgeAmount--:(this.attacker.hp-=this.blocker.attack,this.blocker.keywords.includes(b.Ambush)&&(this.attacker.hp-=this.blocker.speed)),this.attacker.hp>0&&(t?this.blocker.dodgeAmount--:(this.blocker.hp-=this.attacker.attack,this.attacker.keywords.includes(b.Ambush)&&(this.blocker.hp-=this.attacker.speed)))):(e?this.attacker.dodgeAmount--:(this.attacker.hp-=this.blocker.attack,this.blocker.keywords.includes(b.Ambush)&&(this.attacker.hp-=this.blocker.speed)),t?this.blocker.dodgeAmount--:(this.blocker.hp-=this.attacker.attack,this.attacker.keywords.includes(b.Ambush)&&(this.blocker.hp-=this.attacker.speed)))}}class lB{constructor(e,t){this.fights=[],this.selectedAttacker=null,this.selectedBlocker=null,this.game=e,this.animationManager=t}inCombat(e){return e===ee.attackers||e===ee.blockers||e===ee.combatCleanup}runAttack(){const e=this.game.getCurrentTurnController();this.game.cardService.checkTriggers(H.Attack,e),this.game.currentTurn.isAi?(this.game.currentTurn.attack(),this.game.player.defend()):this.game.player.attack()}runBlocks(){let e=this.game.getCurrentTurnController()===p.Self?p.Opponent:p.Self;e=e===p.Opponent?p.Self:p.Opponent,this.runFights(),this.game.cardService.checkTriggers(H.Blockers,e)}runFights(){for(let e=0;e<this.fights.length;e++)this.fights[e].fight()}runUnblocked(){this.game.currentTurn.isAi?this.game.enemy.dealDamage(this.game.player):this.game.player.dealDamage(this.game.enemy)}clearCombat(){this.game.player.clearCombat(),this.game.enemy.clearCombat(),this.clearFights()}isFighting(e){return this.fights.some(t=>t.attacker===e||t.blocker===e)}cancelFight(e){const t=this.fights.indexOf(e);t>=0&&this.fights.splice(t,1),this.selectedAttacker&&this.selectedBlocker&&(this.selectedAttacker.blocked=!1,this.selectedBlocker.blocking=!1)}setAttacker(e){this.selectedAttacker=e,this.checkFight()}setBlocker(e){this.selectedBlocker=e,this.checkFight()}unsetBlocker(e){if(this.isFighting(e)){let t=this.getFightByCreature(e);t.attacker.blocked=!1,t.blocker.blocking=!1;let r=this.fights.indexOf(t);this.fights.splice(r,1)}this.selectedBlocker=null,this.selectedAttacker=null}checkFight(){this.selectedAttacker&&this.selectedBlocker&&(this.selectedAttacker.blocked=!0,this.selectedBlocker.blocking=!0,this.createFight(this.selectedAttacker,this.selectedBlocker),this.selectedAttacker=null,this.selectedBlocker=null)}createFight(e,t){let r=new aB(e,t);this.fights.push(r),this.selectedAttacker=null,this.selectedBlocker=null}clearFights(){this.game.player.checkDead(),this.game.enemy.checkDead(),this.fights=[]}getFightByCreature(e){return this.fights.filter(r=>r.attacker===e||r.blocker===e)[0]}}class cB{constructor(e){this.cardService=e}drawCardPlayer(e,t,r){}drawCardEnemy(e,t,r){}playSpell(e,t,r){}playCreature(e,t,r){}playMine(e,t,r){}playBuilding(e,t,r){}discardFromHand(e,t,r){}discardFromPlay(e,t,r){}block(e,t,r){}}class Qc{constructor(e,t,r){this.currentTurn={},this.fights=[],this.currentPhase=ee.main,this.phaseDisplay=ee[this.currentPhase],this.selectedBlocker=null,this.selectedAttacker=null,this.selectPlayer=null,this.possibleCardTargets=[],this.spellStack=[],this.phaseManager=new oB(this),this.cardService=r,this.enemy=t,this.player=e,this.currentTurn=this.player,this.cardService.makePlayerService(this.player,this.enemy),this.animationManager=new cB(this.cardService),this.combatManager=new lB(this,this.animationManager)}pickFirst(){this.currentTurn=2*Math.random()==0?this.player:this.enemy}getCurrentTurnController(){let e=p.Any;return this.currentTurn===this.player?e=p.Self:this.currentTurn===this.enemy&&(e=p.Opponent),e}runUpkeep(){this.currentTurn.awakeAll();let e=this.getCurrentTurnController();this.runDraw(),this.cardService.checkTriggers(H.Start,e),this.cardService.checkTriggers(H.Awake,e),this.currentTurn instanceof mr?this.processKeywords(p.Opponent,this.currentTurn.wall):this.currentTurn instanceof ft&&(this.player.minesPlayed=0,this.player.earnIncome(),this.processKeywords(p.Self,this.player.wall))}processKeywords(e,t){let r=this.cardService.getCreatures(e);for(let i=0;i<r.length;i++){let s=r[i];if(s.keywords.includes(b.Momentum)&&s.speed++,s.keywords.includes(b.Sharpen)&&s.attack++,s.keywords.includes(b.Armorer)&&s.hp++,s.keywords.includes(b.Repair)&&(t.hp+=s.repairAmount,this.cardService.checkTriggers(H.WallRepair)),s.keywords.includes(b.Medic)){let o=this.currentTurn.getCreatures();for(let a=0;a<o.length;a++)o[a].heal()}}}runDraw(){let e=this.getCurrentTurnController();if(this.cardService.checkTriggers(H.DrawStep,e),this.cardService.checkTriggers(H.DrawCard,e),this.currentTurn.isAi)this.currentTurn.playCards();else{let r=this.currentTurn.drawCards(1);for(let i=0;i<r.length;i++){let s=r[i];s.isFlipping=!0,s.isMoving=!0,setTimeout(()=>{s.isFlipping=!1,s.isMoving=!1},1e3)}}}mainPhase(){let e=this.getCurrentTurnController();this.cardService.checkTriggers(H.Main1,e)}runAttack(){let e=this.getCurrentTurnController();this.cardService.checkTriggers(H.Attack,e),this.currentTurn.isAi?(this.currentTurn.attack(),this.player.defend()):this.player.attack()}}class fD{}class uB{}const Br="*";function Bi(n,e){return{type:7,name:n,definitions:e,options:{}}}function Vr(n,e=null){return{type:4,styles:e,timings:n}}function pD(n,e=null){return{type:2,steps:n,options:e}}function Pt(n){return{type:6,styles:n,offset:null}}function Xc(n,e,t){return{type:0,name:n,styles:e,options:t}}function Jc(n){return{type:5,steps:n}}function Ur(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class Da{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class gD{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Cn{constructor(){this.animationSubject=new En,this.animation$=this.animationSubject.asObservable()}static#e=this.drawCard=Bi("drawCard",[Ur(":enter",[Vr("1s ease-in-out",Jc([Pt({transform:"translateY(0)",opacity:0,offset:0}),Pt({transform:"translateY(-50px)",opacity:.5,offset:.5}),Pt({transform:"translateY(0)",opacity:1,offset:1})]))])]);static#t=this.moveCard=Bi("moveCard",[Ur(":enter",[Vr("1s ease-in-out",Jc([Pt({transform:"translateX(0)",opacity:0,offset:0}),Pt({transform:"translateX(-250px)",opacity:.5,offset:.5}),Pt({transform:"translateX(-500px)",opacity:1,offset:1})]))])]);static#n=this.rapidMoveRight=Bi("rapidMoveRight",[Ur(":enter",[Vr("1s ease-in-out",Jc([Pt({transform:"translateX(-50%)",opacity:.4,offset:0}),Pt({transform:"translateX(-25%)",opacity:.8,offset:.5}),Pt({transform:"translateX(0%)",opacity:1,offset:1})]))])]);static#r=this.zoomIn=Bi("zoomIn",[Ur(":enter",[Vr("10s ease-in-out",Jc([Pt({transform:"scale(0.1)",opacity:.5,offset:0}),Pt({transform:"scale(1)",opacity:1,offset:1})]))])]);triggerAnimation(e){this.animationSubject.next(e)}static#i=this.\u0275fac=function(t){return new(t||Cn)};static#s=this.\u0275prov=J({token:Cn,factory:Cn.\u0275fac,providedIn:"root"})}class Ys{constructor(e,t,r,i,s,o,a,l){this.name="",this.effects=[],this.quantity=O.Single,this.repeatable=!1,this.targets=[],this.name=e,this.cardService=t,this.effects=r,this.level=i,this.rarity=s,this.description=o,this.repeatable=a,this.quantity=null!=l?l:O.Single}applyUpgrade(e){e.level++,this.effects.forEach(t=>{t.doEffectSingle(e)})}applyMassUpgrade(e){e.forEach(t=>{this.applyUpgrade(t)})}}class Pp{constructor(e){this.kTip=new Kc,this.usedUpgrades=new Set,this.cardService=e,this.keywordMapper=new sD}getUniqueRandomUpgrade(e){let t=[];for(let s=0;s<e.factions.length;s++){let o=this.keywordMapper.getKeywords(e.factions[s]);for(let a=0;a<o.length;a++){let l=this.getKeywordUpgrade(o[a]);t.some(c=>c.name===l.name)||t.push(l)}}t=t.filter(s=>!this.usedUpgrades.has(s.name));for(let s=0;s<10;s++){let o=this.getRandomCreatureUpgrade(10);t.push(...o)}if(0===t.length)return null;const i=t[Math.floor(Math.random()*t.length)];return this.usedUpgrades.add(i.name),i}getRandomUpgradeBulk(e,t){let r=[];for(let i=0;i<e;i++)if(100*Math.random()+1<50){let o=this.getUniqueRandomUpgrade(this.cardService.hero);null!=o&&r.push(o)}else{let o=this.getRandomCreatureUpgrade(e);if(o.length>0){let a=Math.floor(Math.random()*o.length);r.push(o[a])}}return r}getRandomCreatureUpgrade(e){let t=[],r=this.cardService.getCards(y.any,p.Self,R.Creature);for(let i=0;i<e;i++){let s=Math.floor(Math.random()*r.length),a=this.getStatUpgrades(r[s]);t.push(a)}return t}getRandomUniversalUpgrade(){const e=this.getUniversalUpgrades();return e[Math.floor(Math.random()*e.length)]}getUniversalUpgrades(){let e=[];const t=Object.values(b);for(let o=0;o<t.length;o++)t[o]!==b.WallBound&&e.push(this.getKeywordUpgrade(o));e.push(this.getStatUpgrades(this.cardService.hero)),e.push(this.getStatUpgrades(this.cardService.hero)),e.push(this.getStatUpgrades(this.cardService.hero));const r=this.cardService.getCreatures(p.Self),i=Math.floor(Math.random()*r.length);return e.push(this.getStatUpgrades(r[i])),e}getRandomKeywordUpgrade(){const e=Object.values(b),t=e[Math.floor(Math.random()*e.length)];return this.getKeywordUpgrade(t)}getKeywordUpgrade(e){let t=new Fe(this.cardService,O.Single,[y.play],p.Self,[e]);return new Ys(this.kTip.getToolTipName(e),this.cardService,[t],1,1,"Grants the "+this.kTip.getToolTipName(e)+" keyword",!1)}getStatDisplay(e,t,r){let i="";return i+=`+${e} ATK/ `,i+=`+${t} HP /`,i+=`+${r} SPD `,i}getStatUpgrades(e){let t=e.factions,r=0,i=0,s=0,o=33,a=33,l=33;for(let M=0;M<t.length;M++)switch(t[M]){case D.Earth:a+=22,l-=11;break;case D.Sun:o+=22,l+=11,a-=22;break;case D.Neptune:a+=22,o-=11;break;case D.MoonAndStars:break;case D.Sky:l+=22,o+=11,a-=22}let c="";c+=e instanceof lt?"Your hero gets: ":"All copies of "+e.name+" gain: ";let u=Math.floor(100*Math.random())+1,d=Math.floor(100*Math.random())+1,h=Math.floor(100*Math.random())+1;if(e instanceof lt)u>=o?(r=Math.floor(2*Math.random())+1,c+="+"+r+"/"):c+="+0/",d>=a?(i=Math.floor(2*Math.random())+1,c+="+"+i+"/"):c+="+0/",h>=l?(s=Math.floor(2*Math.random())+1,c+="+"+s):c+="+0";else if(e instanceof V){let M=Math.floor(2*Math.random());u>=o&&(r=M),d>=a&&(i=M),h>=l&&(s=M)}c="Your "+e.name+" gains: ",0==r&&0==i&&0==s?(c+="CRITICAL UPGRADE",r=Math.floor(2*Math.random())+1,i=Math.floor(2*Math.random())+1,s=Math.floor(2*Math.random())+1,c+=" +"+r+"/+"+i+"/+"+s):c+=this.getStatDisplay(r,i,s);let f=new Se(s,i,r,this.cardService,p.Self,O.Single,!1),v=new Ys("Stat Upgrades",this.cardService,[f],1,1,c,!0),w=this.cardService.getCards(y.any,p.Self,R.Creature);return v.targets=w.filter(M=>M.name===e.name),e instanceof lt?v.quantity=O.Single:e instanceof V&&(v.quantity=O.All),v}getStatUpgrade(e,t,r){let i=new Se(r,t,e,this.cardService,p.Self,O.Single,!1);return new Ys("Stat Upgrade",this.cardService,[i],1,1,"Your creature gains: "+this.getStatDisplay(e,t,r),!0)}getUpgradesForDeck(e){let t=[],i=this.cardService.getCards(y.any,p.Self,R.Any).filter(s=>s.upgrades.length>0&&s.level<s.maxLevel);if(0===i.length)return t;i.length<e&&(e=i.length);for(let s=0;s<e;s++){let a=i[Math.floor(Math.random()*i.length)],l=a.upgrades[Math.floor(Math.random()*a.upgrades.length)];t.includes(l)||t.push(l)}return t}getRandomUniqueUpgrades(){let e=[],t=[],r=this.cardService.getCards(y.any,p.Self,R.Creature);for(let i=0;i<r.length;i++)e.push(...r[i].upgrades);for(;t.length<3;){let i=Math.floor(Math.random()*e.length),s=e[i];if(t.includes(s)||(t.push(s),e.slice(i,1)),0===e.length||t.length>=3)break}return t}getAllUpgrades(){let e=[],t=this.getStatUpgrade(1,3,0);t.name="Shield Mate";let r=new Fe(this.cardService,O.Single,[y.play],p.Self,[b.Regenerate]);t.effects.push(r),t.description="This creature gains +1 ATK and +3 HP. This creature gains Regenerate.",e.push(t);let i=this.getStatUpgrade(0,5,0);i.name="Shield Mate";let s=new Fe(this.cardService,O.Single,[y.play],p.Self,[b.Dodge]);i.effects.push(s),i.description="This creature gains +5 HP and gains Dodge 1.",e.push(i);let o=this.getStatUpgrade(0,1,1),a=new Sa(this.cardService,1);o.effects.push(a),o.name="Wandering Priest",o.description="This creatures gain +0/+1/+1 and taps for an additional 1 life.",e.push(o);let l=this.getStatUpgrade(1,1,0);l.name="Wandering Priest",l.description="This creatures gain +1/+1/+0 and gains sentry";let c=new Fe(this.cardService,O.Single,[y.play],p.Self,[b.Sentry]);l.effects.push(c);let u=new Fe(this.cardService,O.Single,[y.play],p.Self,[b.Ensnare]),d=this.getStatUpgrade(1,0,1);d.effects.push(u),d.name="Pikeman",d.description="This creature gains +1 ATK and +1 SPD. Increase this creatures ensare amount by 1.",e.push(d);let h=this.getStatUpgrade(0,1,2);h.name="Pikeman",h.description="This creature gains +0/+1/+2",e.push(h);let f=this.getStatUpgrade(1,3,0);f.name="Ironclad Mercenary",e.push(f);let v=this.getStatUpgrade(3,1,0);v.name="Ironclad Mercenary",e.push(v);let w=this.getStatUpgrade(1,1,0);w.name="Squire",e.push(w);let M=this.getStatUpgrade(0,2,0);M.name="Squire",e.push(M);let k=this.getStatUpgrade(2,0,1);k.name="Fire Raptor",e.push(k);let E=this.getStatUpgrade(0,0,3);E.name="Fire Raptor",e.push(E);let B=this.getStatUpgrade(2,2,0),j=new Fe(this.cardService,O.Single,[y.play],p.Self,[b.Armorer]);B.effects.push(j),B.name="Troll Warrior",B.description="This creature gains +2 ATK and +2 HP. Also this creature gains Armorer.",e.push(B);let Y=this.getStatUpgrade(0,3,1);Y.name="Troll Warrior",e.push(Y);let ge=this.getStatUpgrade(3,3,1);ge.name="Dead Diety",e.push(ge);let fe=this.getStatUpgrade(2,0,3),Ae=new Fe(this.cardService,O.Single,[y.play],p.Self,[b.Flying]);fe.effects.push(Ae),fe.name="Dead Diety",fe.description="This creature gains +2/+0/+3. This creature gains Flying.",fe.effects.push(Ae),e.push(fe);let Je=this.getStatUpgrade(0,5,0);Je.name="Ice Rune Wall",e.push(Je);let pt=new Sa(this.cardService,1),ln=new Ys("Ice Rune Wall",this.cardService,[pt],1,1,"Ice Rune Wall draws and additional card every turn",!1);e.push(ln);let _t=this.getStatUpgrade(2,2,2),Yt=new Fe(this.cardService,O.Single,[y.play],p.Self,[b.Armorer,b.Momentum]);_t.effects.push(Yt),_t.name="King Serpent",_t.description="This creature gains +2/+2/+2. This creature gains Armorer and Momentum.",e.push(_t);let Dn=this.getStatUpgrade(3,0,3);Dn.name="King Serpent";let Cr=new Fe(this.cardService,O.Single,[y.play],p.Self,[b.Flying]);Dn.effects.push(Cr),Dn.description="This creature gains +3/+0/+3. This creature gains Flying.",e.push(Dn);let z=new Ys("Merchant",this.cardService,[],1,1,"Merchant",!1),Q=new Sa(this.cardService,1);z.effects.push(Q),z.name="Merchant",z.description="This creatures gives you 1 extra gold per draw",e.push(z);let X=new Ys("Merchant",this.cardService,[],1,1,"Merchant",!1),ve=new I(-1,0,0,0,0,0),rt=new rB(this.cardService,ve,O.All,[R.Any],[y.any]);X.effects.push(rt),X.description="This creatures reduces the cost of all cards by 1 gold",e.push(X);let xt=this.getStatUpgrade(1,3,0),Rt=new Fe(this.cardService,O.Single,[y.play],p.Self,[b.Regenerate]);xt.effects.push(Rt),xt.name="Deep Sea Yeti",xt.description="This creature gains +1/+3/+0 and gains Regenerate.",e.push(xt);let Zt=this.getStatUpgrade(2,0,2),Ue=new Fe(this.cardService,O.Single,[y.play],p.Self,[b.Dodge]);Zt.effects.push(Ue),Zt.name="Deep Sea Yeti",Zt.description="This creature gains +2/+0/+2 and gains Dodge 1.",e.push(Zt);let Gr=this.getStatUpgrade(1,1,2);Gr.name="Great Bird Monk";let Qa=new Fe(this.cardService,O.Single,[y.play],p.Self,[b.Dodge]);Gr.effects.push(Qa),Gr.description="This creature gains +1/+1/+2. This creature gains +1 Dodge.",e.push(Gr);let et=this.getStatUpgrade(2,0,0);et.name="Great Bird Monk";let Jn=new Fe(this.cardService,O.Single,[y.play],p.Self,[b.Sharpen]);et.effects.push(Jn),et.description="This creature gains +2/+0/+0. This creature gains Sharpen.",e.push(et);let Qt=this.getStatUpgrade(1,1,1);Qt.name="Sky Knight",e.push(Qt);let Wr=this.getStatUpgrade(0,2,0);Wr.name="Sky Knight";let Xa=new Fe(this.cardService,O.Single,[y.play],p.Self,[b.Sentry]);Wr.effects.push(Xa),Wr.description="This creature gains +0/+2/+0. This creature gains Sentry.",e.push(Wr);let Kg=this.getStatUpgrade(2,0,2),N5=new Fe(this.cardService,O.Single,[y.play],p.Self,[b.Flying,b.Ambush]);Kg.effects.push(N5),Kg.name="Wind Dancer",e.push(Kg);let k1=this.getStatUpgrade(3,0,0);k1.name="Wind Dancer",e.push(k1);let Gu=this.getStatUpgrade(2,2,1),O5=new Fe(this.cardService,O.Single,[y.play],p.Self,[b.Sentry]);Gu.effects.push(O5),Gu.name="Battle Dwarf",Gu.description="This creature gains +2/+2/+1. This creature gains Sentry.",e.push(Gu);let Wu=this.getStatUpgrade(0,4,0);Wu.name="Battle Dwarf";let F5=new Fe(this.cardService,O.Single,[y.play],p.Self,[b.Dodge]);Wu.effects.push(F5),Wu.description="This creature gains +0/+4/+0. This creature gains Dodge 1.",e.push(Wu);let qu=this.getStatUpgrade(1,1,0),L5=new Fe(this.cardService,O.Single,[y.play],p.Self,[b.Repair]);qu.effects.push(L5),qu.name="Dwarf Engineer",qu.description="This creature gains +1/+1/+0. This creature gains +1 Repair.",e.push(qu);let Ku=this.getStatUpgrade(0,2,0);Ku.name="Dwarf Engineer";let B5=new Fe(this.cardService,O.Single,[y.play],p.Self,[b.Medic]);Ku.effects.push(B5),Ku.description="This creature gains +0/+2/+0 and gains Medic.",e.push(Ku);let I1=this.getStatUpgrade(1,1,1);I1.name="Dwarf Soldier",e.push(I1);let P1=this.getStatUpgrade(2,2,-2);P1.name="Dwarf Soldier",e.push(P1);let x1=this.getStatUpgrade(1,2,0);x1.name="Prospector",e.push(x1);let R1=this.getStatUpgrade(2,3,-3);R1.name="Prospector",e.push(R1);let Yu=this.getStatUpgrade(2,1,1);Yu.name="Verdant Warrior";let V5=new Sa(this.cardService,1);Yu.effects.push(V5),Yu.description="This creature gains +2/+1/+1 and grants an additional Emerald on enter.",e.push(Yu);let Yg=this.getStatUpgrade(1,3,0);Yg.name="Verdant Warrior";let U5=new Fe(this.cardService,O.Single,[y.play],p.Self,[b.Dodge]);Yg.effects.push(U5),e.push(Yg);let Zu=this.getStatUpgrade(2,0,1),j5=new Sa(this.cardService,1);Zu.effects.push(j5),Zu.name="Loyal Hawk",Zu.description="This creature gains +2/+0/+1. Loyal Hawk draws a card on enter.",e.push(Zu);let N1=this.getStatUpgrade(0,0,5);return N1.name="Loyal Hawk",e.push(N1),e}getUpgradeByName(e){return this.getAllUpgrades().find(i=>i.name===e)||null}getAllUpgradesForCard(e){let r=[];return r=this.getAllUpgrades().filter(i=>i.name===e),r}}class eu{constructor(e){this.enemyDeck=[],this.difficulty=0,this.description="",this.cardService=e}applyDifficultyNormalBoosters(e,t){for(let r=0;r<t.length;r++){let i=t[r],s=Ye(1,e);for(;i.level<s;)i.applyRandomUpgrade(s),i.level++}}applyDifficultyBossBoosters(e,t){for(let r=0;r<e;r++)switch(Ye(1,7)){case 1:this.extraPull(),this.description+="Every turn, the enemy flips over cards a second time. ";break;case 2:this.moreSpeed(this.difficulty),this.description+="All enemy creatures get +2 speed. ";break;case 3:this.moreAttack(this.difficulty),this.description+="All enemy creatures get +2 attack. ";break;case 4:this.moreHp(this.difficulty),this.description+="All enemy creatures get +2 HP. ";break;case 5:this.moreMinions(2*this.difficulty,t),this.description+="The enemy deck has more minions. ";break;case 6:this.addBoss(4,t),this.description+="The enemy deck has 4 extra elite creatures. ";break;case 7:this.addRandomKeyword(),this.description+="Enemy creatures all have a random extra keyword. "}this.cardService.difficultyMods=this.description}extraPull(){this.cardService.playerService.opponent.pullsPerTurn++}moreSpeed(e){let t=this.cardService.getCards(y.any,p.Opponent,R.Creature);for(let r=0;r<t.length;r++)t[r].speed+=e}moreAttack(e){let t=this.cardService.getCards(y.any,p.Opponent,R.Creature);for(let r=0;r<t.length;r++)t[r].attack+=e}moreHp(e){let t=this.cardService.getCards(y.any,p.Opponent,R.Creature);for(let r=0;r<t.length;r++){let i=t[r];i.baseHp+=e,i.hp=i.baseHp}}addBoss(e,t){let r=new ai(this.cardService);for(let i=0;i<e;i++){let s=Ye(5,8),o=r.generateAiMinion(t,s,y.deck);o.isMinion=!1,o.name="Elite",o.owner=p.Opponent,this.cardService.cardList.push(o)}}moreMinions(e,t){let r=new ai(this.cardService);for(let i=0;i<e;i++){let s=Ye(0,5+this.difficulty),o=r.generateAiBasicMinion(t,s,y.deck);o.owner=p.Opponent,this.cardService.cardList.push(o)}}addRandomKeyword(){let e=this.cardService.getCards(y.any,p.Opponent,R.Creature);for(let t=0;t<e.length;t++){let r=Ye(0,15),i=e[t];i.keywords.includes(r)||i.keywords.push(r)}}}class jr{constructor(e){this.cardAmount=4,this.colorCardAmount=2,this.mineAmount=4,this.goldMineAmount=3,this.cardService=e,this.cardFactory=new ai(e),this.upgradeStorage=new Pp(e)}addMinesToStarterDeck(e,t){this.cardFactory.getMinesBulk(t,5),this.cardFactory.getMinesBulk(T.Gold,4)}getAllMultiColorCards(e){let t=[],r=new V(5,4,3,"Veteran Dwarf",new I(1,1,1),"","",!1,e,y.deck,[D.Earth,D.Sun],[],[b.Armorer]);return t.push(r),t}getAllFireCards(e){let t=this.fireDeck(e).filter(_t=>_t.type!==R.Mine),r=new V(5,5,2,"Troll Warrior",new I(0,3),"","",!1,e,y.deck,[D.Sun],[],[b.Regenerate]),i=new gr(T.Ruby,2,this.cardService),s=new xe([i],[H.Dies],this.cardService,e),o=new V(1,3,3,"Fire Gem Miner",new I(1,1),"","When this dies, add 2 Rubies to your gembag",!1,e,y.deck,[D.Sun],[s]),a=new V(5,10,7,"T-Rex",new I(5,2),"","",!1,e,y.deck,[D.Sun],[],[b.Siege]),l=new V(3,4,4,"Sun Knight",new I(2,1),"assets//fireKnight.png","",!1,e,y.deck,[D.Sun],[],[b.Sentry,b.Sharpen]),c=new wa(7,this.cardService,O.All,e,Yc.toggleController(e),!1,!1,!0),u=new We([c],this.cardService),d=new Ze("Wild Inferno",new I(5,2),"","Deal 7 damage to all enemy creatures",[u],!0,e,y.deck,[D.Sun]),h=new _n("Big Ruby Mine",new I(3),new I(0,2),"","",e,y.deck,[D.Colorless],[],pe.Uncommon),f=new wa(2,this.cardService,O.All,e,Yc.toggleController(e),!1,!0,!1),v=new We([f],this.cardService),w=new Ze("Fire Storm",new I(3,1),"","Deal 2 damage to all enemy creatures",[v],!0,e,y.deck,[D.Sun]);t.push(r,o,a,l,d,h,w);let M=new Se(0,1,0,this.cardService,p.Self,O.Single),k=new xe([M],[H.CreatureCast],this.cardService,p.Self,[y.play]),E=new V(1,1,5,"Arsonist",new I(0,1),"","When you play a creature, that creature gets +1/+0/+0",!1,e,y.deck,[D.Sun],[k]);t.push(E);let B=new lD(this.cardService,2,p.Opponent),j=new St(this.cardService,[new It(Pe.Gems,1,T.Ruby)],[B],{}),Y=new V(2,2,3,"Fire Mage",new I(1,1),"","Pay 1 Ruby: Deal 2 damage to the enemy player",!1,e,y.deck,[D.Sun],[j]);j.user=Y,t.push(Y);let ge=new Se(0,0,2,this.cardService,p.Self,O.Single);ge.repeatable=!0;let fe=new St(this.cardService,[new It(Pe.Gems,2,T.Ruby)],[ge],{}),Ae=new V(6,6,6,"Ruby Dragon",new I(3,2),"","Pay 2 Rubies: This creature gets +2 attack",!1,e,y.deck,[D.Sun],[],[b.Flying]);fe.user=Ae,Ae.abilities.push(fe);let Je=new wa(1,this.cardService,O.Single,e,Yc.toggleController(e),!1,!0,!0),pt=new St(this.cardService,[new It(Pe.Asleep,0)],[Je],{},!0),ln=new V(1,1,1,"Fire Imp",new I(0,1),"","Turn: Deal 1 damage to any creature",!1,e,y.deck,[D.Sun],[pt]);return t.push(ln),t.push(Ae),t}getAllEarthCards(e){let t=new Se(0,5,3,this.cardService,e,O.All),r=new We([t],this.cardService),i=new Ze("Dig In",new I(2,0,0,2),"","All your creatures gain +3/+5/+0",[r],!1,e,y.deck,[D.Earth]),s=this.earthDeck(e).filter(Cr=>Cr.type!==R.Mine),o=new V(15,15,2,"Stone Tyrant",new I(5,0,0,3),"","",!1,e,y.deck,[D.Earth],[],[b.Repair],!1,pe.Rare);o.repairAmount=5;let a=new aD(this.cardService,T.Emerald),l=new Fn(this.cardService,O.Single,e),c=new xe([l,a],[H.Start],this.cardService,p.Self,[y.play]),u=new V(3,3,3,"Miner Major",new I(3,0,0,2),"","At the start of each turn, add a mine and draw a card",!1,e,y.deck,[D.Earth],[c],[],!1,pe.SuperRare),d=new V(20,0,0,"Sturdy Barricade",new I(2,0,0,2),"","",!1,p.Self,y.deck,[D.Earth]),h=new V(8,4,2,"Flex Tank",new I(0,0,0,4),"","",!1,p.Self,y.deck,[D.Earth],[],[b.Siege,b.Armorer,b.Repair]);h.repairAmount=4;let f=new V(6,6,5,"Hammer Squad",new I(3,0,0,1),"","",!1,p.Self,y.deck,[D.Earth],[],[b.Siege]),v=new Se(0,2,0,this.cardService,p.Self,O.All),w=new Xe([v],this.cardService),M=new V(9,6,4,"Master Armorer",new I(5,0,0,2),"","All your creatures get +0/+2/+0",!1,p.Self,y.deck,[D.Earth],[w]),k=new V(3,3,3,"Dwarf Soldier",new I(1,0,0,1),"","",!1,p.Self,y.deck,[D.Earth]),E=new _n("Big Emerald Mine",new I(2),new I(0,0,0,2),"","",e,y.deck,[D.Colorless],[],pe.Uncommon),B=new Se(1,1,1,this.cardService,e,O.Single,!1,!0),j=new xe([B],[H.Enters],this.cardService,e,[y.play]),Y=new V(3,1,1,"Mine Chief",new I(2,0,0,1),"","Gets +1/+1/+1 when you play a mine",!1,e,y.hand,[D.Earth],[j],[],!1,pe.Rare),ge=new gr(T.Emerald,1,this.cardService),fe=new St(this.cardService,[new It(Pe.Asleep,1)],[ge],{}),Ae=new V(3,1,1,"Emerald Miner",new I(0,0,0,1),"","Turn: Add an Emerald to your gembag",!1,e,y.deck,[D.Earth],[fe]);fe.user=Ae;let Je=new Se(0,0,2,this.cardService,e,O.Single),pt=new St(this.cardService,[new It(Pe.Gems,1,T.Emerald)],[Je],{},!0),ln=new V(2,2,2,"Dwarf Shield",new I(1,0,0,1),"","",!1,e,y.deck,[D.Earth],[pt],[b.Armorer,b.Repair]);pt.user=ln;let _t=new Se(-3,3,3,this.cardService,e,O.Single,!1,!0),Yt=new wn([R.Creature],e,[y.play],1,[_t],this.cardService),Dn=new Ze("Stone Form",new I(0,0,0,1),"","Target creature gets +3/+3/-3",[Yt],!0,e,y.deck,[D.Earth]);return s.push(Dn),s.push(u,o,d,h,f,M,k,E,Y,i,Ae,ln),s}getAllAirCards(e){let t=[],r=new Fe(this.cardService,O.All,[y.play],e,[b.Flying,b.Sentry]),i=new Se(2,0,2,this.cardService,e,O.All),s=new We([r,i],this.cardService),o=new Ze("Divine Wind",new I(3,0,0,0,0,2),"","All your creatures gain flying, sentry, and +2/+0/+2",[s],!1,e,y.deck,[D.Sky]),a=new V(3,5,5,"Air Elemental",new I(3,0,0,0,0,1),"","",!1,e,y.deck,[D.Sky],[],[b.Flying]),l=new V(1,1,1,"Bee Swarm",new I(0,0,0,0,0,3),"","At the start of each of your turns, this gains +1/+1/+1",!1,e,y.deck,[D.Sky],[],[b.Armorer,b.Momentum,b.Sharpen,b.Flying,b.Sentry]),c=new V(2,2,2,"Chaotic Clone",new I(4,0,0,0,0,1),"","At the start of each of your turns, make a 1/1/1 copy of this creature",!1,e,y.deck,[D.Sky]),u=new Ap(e,this.cardService,c),d=new xe([u],[H.Start],this.cardService,e,[y.play]),h=new V(2,2,2,"Chaotic Clone",new I(4,0,0,0,0,1),"","At the start of each of your turns, make a 1/1/1 copy of this creature",!1,e,y.deck,[D.Sky],[d]);c.abilities.push(d);let f=new _n("Big Topaz Mine",new I(3),new I(0,0,0,0,0,2),"","",e,y.deck,[D.Colorless],[],pe.Uncommon),v=new Fn(this.cardService,O.Single,e,1),w=new Se(0,1,1,this.cardService,p.Any,O.Single),M=new xe([w],[H.DrawCard],this.cardService,e,[y.play]),k=new St(this.cardService,[new It(Pe.Asleep,1)],[v],{}),E=new V(2,2,2,"Air Scout",new I(2,0,0,0,0,1),"","Turn: Draw a card. Whenever you draw a card this creature gets +1/+0/+1",!1,e,y.deck,[D.Sky],[M,k],[b.Flying],!1,pe.Rare);k.user=E;let B=new Se(2,0,2,this.cardService,e,O.Single,!1,!0),j=new Fe(this.cardService,O.Single,[y.play],e,[b.Flying]),Y=new wn([R.Creature],e,[y.play],1,[B,j],this.cardService),ge=new Ze("Gust",new I(0,0,0,0,0,1),"","Target creature gets +2/+0/+2 and gains Flying",[Y],!0,e,y.deck,[D.Sky]);return t.push(ge),t.push(...this.airDeck(e),l,h,f,o,a,E),t}getAllWaterCards(e){let t=[];t.push(...this.waterDeck(e));let r=new V(3,1,1,"Sea Snail",new I(0,0,1),"","",!1,e,y.deck,[D.Neptune],[],[b.Ensnare]);r.ensnareAmount=2;let i=new Fn(this.cardService,O.Single,p.Self,1),s=new xe([i],[H.MineCase],this.cardService,e,[y.play]),o=new V(3,2,3,"Otter Diver",new I(3,0,1),"","Whenever you play a mine, draw a card",!1,e,y.deck,[D.Neptune],[s]),a=new _n("Big Sapphire Mine",new I(3),new I(0,0,0,0,0,2),"","",e,y.deck,[D.Colorless],[],pe.Uncommon),l=new Se(0,0,-5,this.cardService,p.Any,O.All),c=new We([l],this.cardService),u=new Ze("Mass Freeze",new I(3,0,1),"","All enemy creatures gets -5/-0/-0",[c],!0,e,y.deck,[D.Neptune]),d=new Se(1,1,1,this.cardService,e,O.Single),h=new xe([d],[H.DrawCard],this.cardService,e,[y.play]),f=new V(2,2,2,"Flooding Fish",new I(1,0,1),"","Whenever you draw a card, this creature gets +1/+1/+1",!1,e,y.deck,[D.Neptune],[h]);return t.push(f),t.push(r,o,a,u),t}getAllStarCards(e){let r,t=[];r=e===p.Self?p.Opponent:p.Self;let i=new Ca(this.cardService,1,e),s=new xe([i],[H.CreatureCast,H.Start],this.cardService,e,[y.play]),o=new V(1,1,1,"Life Magician",new I(0,0,0,0,1),"","At the start of your turn, gain 1 life. Whenever you play a creature, gain 1 life",!1,e,y.deck,[D.MoonAndStars],[s]),a=new Ca(this.cardService,3,e),l=new Fn(this.cardService,O.Single,e,3),c=new We([a,l],this.cardService),u=new Ze("Divine Eyes",new I(3,0,0,0,1),"","Draw 3 cards, gain 3 life",[c],!1,e,y.deck,[D.MoonAndStars]),d=new Se(1,1,1,this.cardService,p.Any,O.Single),h=new xe([d],[H.Dies],this.cardService,p.Any,[y.play]),f=new V(2,2,2,"Walker of Voids",new I(1,0,0,0,2),"","Whenever a creature dies, this creature gets +1/+1/+1 permanently",!1,e,y.deck,[D.MoonAndStars],[h]),v=new tB(this.cardService,e,O.Single,y.hand),w=new xe([v],[H.Dies],this.cardService,e,[y.discard]),M=new V(6,8,5,"Dead Deity",new I(3,0,0,0,3),"","If this is in your discard pile, return it to your hand whenever a creature dies",!1,e,y.deck,[D.MoonAndStars],[w],[b.Sentry]),k=new gr(T.Gold,1,this.cardService),E=new xe([k],[H.Dies],this.cardService,p.Any,[y.play]),B=new iB("House of the Dead",new I(2,0,0,0,2),"","Whenever a creature dies gain 1 gold",e,y.hand,[D.Colorless],[E]),j=new _n("Big LionsEye Mine",new I(3),new I(0,0,0,0,2,0),"","",e,y.deck,[D.Colorless],[],pe.Uncommon);return t.push(...this.starDeck(e),o,u,f,M,B,j),t}fireDeck(e){let t=[],r=0;for(;r<this.colorCardAmount;){let i=new V(5,5,4,"Great Dragon",new I(3,2,0,0,0,0),"","",!1,e,y.deck,[D.Sun],[],[b.Sharpen,b.Flying]),s=new lD(this.cardService,3,p.Opponent),o=new We([s],this.cardService),a=new V(1,3,3,"Blast Boy",new I(1,1),"","When played, deal 3 damage to the enemy player",!1,p.Self,y.deck,[D.Sun],[o]),l=new V(3,4,5,"Fire Raptor",new I(2,1),"assets//fire raptor.png","",!0,e,y.deck,[D.Sun]),c=new Se(2,0,2,this.cardService,e,O.Single,!1,!0),u=new wn([R.Creature],e,[y.play],1,[c],this.cardService),d=new Ze("Haste",new I(0,2),"","Target creature gets +2/+0/+2 ",[u],!0,e,y.deck,[D.Sun]),h=new Se(0,0,1,this.cardService,p.Self,O.Single),f=new St(this.cardService,[new It(Pe.Gems,1,T.Ruby)],[h],{},!0),v=new V(3,6,6,"Fire Elemental",new I(5,1),"","Pay one Ruby: gain +1/+0/+0",!1,p.Self,y.deck,[D.Sun],[f],[b.Momentum,b.Sharpen]),w=new gr(T.Ruby,1,this.cardService),M=new xe([w],[H.Start],this.cardService,p.Self,[y.play]),k=new V(1,1,1,"Fire Scavenger",new I(0,1),"","Gain 1 ruby per turn",!1,e,y.deck,[D.Sun],[M]);t.push(i,l,v,k,a,d),r++}return t.push(...this.cardFactory.getMinesBulk(T.Ruby,this.mineAmount)),t.push(...this.cardFactory.getMinesBulk(T.Gold,this.goldMineAmount)),t}earthDeck(e){let t=0,r=[];for(;t<this.colorCardAmount;){let i=new Se(-3,-3,0,this.cardService,e,O.Single,!1,!0,p.Any),s=new wn([R.Creature],p.Any,[y.play],1,[i],this.cardService),o=new Ze("Slow",new I(1,0,0,1),"assets//slow.png","Target creature gets -0/-3/-3",[s],!0,e,y.deck,[D.Earth]),a=new gr(T.Emerald,2,this.cardService),l=new We([a],this.cardService),c=new V(3,4,3,"Verdant Warrior",new I(2,0,0,1),"","Adds 2 Emeralds on enter",!1,e,y.deck,[D.Earth],[l]),u=new V(2,2,1,"Dwarf Engineer",new I(0,0,0,1),"assets//engineer.png","",!1,e,y.deck,[D.Earth],[],[b.Repair]);u.repairAmount=3;let d=new V(6,6,3,"Battle Dwarf",new I(2,0,0,2,0,0),"assets//dwarf.png","",!1,e,y.deck,[D.Earth],[]),h=new V(7,8,4,"Stone Golem",new I(3,0,0,3),"","",!1,e,y.deck,[D.Earth],[],[b.Regenerate,b.Siege]),f=new nB(this.cardService,1),v=new We([f],this.cardService),w=new V(4,2,2,"Prospector",new I(2,0,0,1),"","You may play one additional mine per turn",!1,e,y.deck,[D.Earth],[v]);r.push(o,c,u,d,h,w),t++}return r.push(...this.cardFactory.getMinesBulk(T.Emerald,this.mineAmount)),r.push(...this.cardFactory.getMinesBulk(T.Gold,this.goldMineAmount)),r}airDeck(e){let t=0,r=[];for(;t<this.colorCardAmount;){let i=new Fn(this.cardService,O.Single,e,1),s=new We([i],this.cardService),o=new V(1,2,2,"Loyal Hawk",new I(1,0,0,0,0,1),"","On Enter, Draw a card",!1,e,y.deck,[D.Sky],[s],[b.Flying]),a=new V(2,2,1,"Agile Monk",new I(0,0,0,0,0,1),"","",!1,e,y.deck,[D.Sky],[],[]);a.dodgeAmount=1;let l=new Fn(this.cardService,O.Single,e,2),c=new We([l],this.cardService),u=new Ze("Scout",new I(0,0,0,0,0,2),"","Draw 2 cards",[c],!1,e,y.deck,[D.Sky]),d=new V(5,5,4,"Great Bird Monk",new I(2,0,0,0,0,2),"","",!1,e,y.deck,[D.Sky],[],[b.Flying]),h=new V(2,3,3,"Sky Knight",new I(1,0,0,0,0,1),"","",!1,e,y.deck,[D.Sky],[],[b.Flying]),f=new V(2,4,4,"Wind Dancer",new I(2,0,0,0,0,1),"","",!1,e,y.deck,[D.Sky],[],[b.Momentum]);r.push(o,a,u,d,h,f),t++}return r.push(...this.cardFactory.getMinesBulk(T.Topaz,this.mineAmount)),r.push(...this.cardFactory.getMinesBulk(T.Gold,this.goldMineAmount)),r}waterDeck(e){let t=0,r=[];for(;t<this.colorCardAmount;){let i=new Se(-3,0,-3,this.cardService,e,O.Single,!1,!1,p.Opponent),s=new wn([R.Creature],e,[y.play],1,[i],this.cardService),o=new Ze("Freeze",new I(0,0,1),"","Target creature gets -3/-0/-3",[s],!0,e,y.deck,[D.Neptune]),a=new Fn(this.cardService,O.Single,e,1),l=new xe([a],[H.Start],this.cardService,e),c=new V(15,0,3,"Ice Rune Wall",new I(2,0,1),"","Draw a card at the start of each of your turns",!1,e,y.deck,[D.Neptune],[l]),u=new cD(this.cardService,p.Self,O.All),d=new We([u],this.cardService),h=new V(4,3,2,"Aqua Healer",new I(1,0,1),"","On enter, heal all of your creatures, fast - may be played at any time",!0,p.Self,y.deck,[D.Neptune],[d]),f=new V(6,6,6,"King Serpent",new I(4,0,2),"","",!1,p.Self,y.deck,[D.Neptune],[],[b.Regenerate]),v=new V(5,3,3,"Deep Sea Yeti",new I(1,0,2),"","",!1,p.Self,y.deck,[D.Neptune],[],[b.Siege]),w=new aD(this.cardService,T.Sapphire),M=new We([w],this.cardService),k=new V(3,2,2,"Fish Man",new I(1,0,1),"","On enter, add a Sapphire mine",!1,p.Self,y.deck,[D.Neptune],[M]),E=new cD(this.cardService,e,O.Single),B=new Se(0,1,0,this.cardService,e,O.Single);B.repeatable=!0;let j=new St(this.cardService,[new It(Pe.Gems,2,T.Sapphire)],[B,E],{}),Y=new V(5,4,4,"Water Guardian",new I(2,0,2),"","Pay 2 Sapphires: Increase this creature's HP by 1 and heal it to full health",!1,e,y.deck,[D.Neptune],[j]);j.user=Y,r.push(Y),r.push(o,c,h,f,v,k),t++}return r.push(...this.cardFactory.getMinesBulk(T.Sapphire,this.mineAmount)),r.push(...this.cardFactory.getMinesBulk(T.Gold,this.goldMineAmount)),r}starDeck(e){let t=0,r=[];for(;t<this.colorCardAmount;){let i=new Se(-2,-2,0,this.cardService,p.Any,O.All),s=new We([i],this.cardService),o=new Ze("Cull the Weak",new I(1,0,0,0,2),"","All creatures get -0/-2/-2",[s],!1,e,y.deck,[D.MoonAndStars]);r.push(o);let a=new oD(this.cardService,e,O.Single,[R.Creature]),l=new wn([R.Creature],e,[y.play],1,[a],this.cardService),c=new Ze("Death Beam",new I(0,0,0,0,2,0),"","Kill Target Creature an opponent controls",[l],!0,e,y.deck,[D.MoonAndStars]),u=new oD(this.cardService,p.Any,O.All,[R.Creature]),d=new We([u],this.cardService),h=new Ze("Wrath of the Stars",new I(3,0,0,0,2),"","Destroy all creatures",[d],!1,e,y.deck,[D.MoonAndStars]),f=new V(1,1,3,"Wolf of the Stars",new I(0,0,0,0,1),"","Gain +1/+1/+0 each turn",!1,e,y.deck,[D.MoonAndStars],[],[b.Armorer,b.Sharpen]),v=new V(4,4,0,"Moon Healer",new I(2,0,0,0,1),"","Medic - Heal all other units you control at the start of your turn.",!1,e,y.deck,[D.MoonAndStars],[],[b.Medic]),w=new V(3,2,4,"Comet Trooper",new I(0,0,0,0,2),"","",!1,e,y.deck,[D.MoonAndStars],[],[b.Flying]),M=new V(3,3,3,"Time Sprite",new I(1,0,0,0,1),"","Flying. Gain +1/+1/+1 at the start of your turn.",!1,e,y.any,[D.MoonAndStars],[],[b.Armorer,b.Sharpen,b.Momentum,b.Flying],!0),k=new Ap(e,this.cardService,M,3),E=new Fe(this.cardService,O.All,[y.play],e,[b.Armorer,b.Sharpen,b.Momentum]),B=new We([k,E],this.cardService),j=new Ze("Summon Star Squad",new I(1,0,0,0,4),"","Summon 3 3/3/3 sprites. All creatures you control gain +1/+1/+1 at the start of each of your turns.",[B],!1,e,y.deck,[D.MoonAndStars]);r.push(c,f,v,w,j,h),t++}return r.push(...this.cardFactory.getMinesBulk(T.LionEye,this.mineAmount)),r.push(...this.cardFactory.getMinesBulk(T.Gold,this.goldMineAmount)),r}getAllNeutralCards(e){let t=[],r=new Ca(this.cardService,1,e),i=new It(Pe.Asleep,1),s=new It(Pe.Gems,1,T.Gold),o=new St(this.cardService,[i,s],[r],{}),a=new V(1,3,3,"Wandering Priest",new I(2,0,0,0,0),"","Pay 1 gold and turn to gain 1 life",!1,e,y.deck,[D.Colorless],[o]);o.user=a;let l=new V(6,3,4,"Shield Mate",new I(3,0,0,0,0,0),"","",!1,e,y.deck,[D.Colorless],[],[b.Sentry]),c=new Se(1,1,1,this.cardService,e,O.Single);c.repeatable=!0;let u=new xe([c],[H.DrawCard],this.cardService,e,[y.play]),d=new V(2,2,2,"Flooding Fish",new I(1,0,1),"","Whenever you draw a card, this creature gets +1/+1/+1",!1,e,y.deck,[D.Neptune]);d.abilities.push(u);let h=new gr(T.Gold,1,this.cardService),f=new xe([h],[H.DrawCard],this.cardService,e,[y.play]),v=new V(1,1,1,"Merchant",new I(2),"","Whenever you draw a card, gain 1 gold",!1,e,y.deck,[D.Colorless],[f]);return t.push(v),t.push(...this.neutralCards(e),l,a,d),t}getRandomCards(e,t){let r=[];for(let i=0;i<t;i++){let s=Ye(0,e.length);r.push(e[s])}return r}getRandomNeutralCards(e){let t=this.getAllNeutralCards(e),r=new Fn(this.cardService,O.Single,e,2),i=new We([r],this.cardService),s=new Ze("Find Loot",new I(3),"","Draw 2 cards",[i],!1,e,y.deck,[D.Colorless]),o=this.getRandomCards(t,2),a=[];return a.push(s,...o),a}neutralCards(e){let t=[],r=0;for(;r<this.cardAmount;){let i=new wa(2,this.cardService,O.Single,e,p.Opponent),s=new wn([R.Creature],p.Any,[y.play],1,[i],this.cardService),a=(new Ze("Arrow Volley",new I(0,0,0,0,0,0),"","Deal 1 damage per tower building level to target creature",[s],!1,e,y.deck,[D.Colorless]),new Fn(this.cardService,O.Single,e,2)),l=new We([a],this.cardService),c=new Ze("Find Loot",new I(3),"assets//find loot.png","Draw 2 cards",[l],!1,e,y.deck,[D.Colorless]),u=new V(3,3,2,"Pikeman",new I(2),"assets//pikeman.png","",!1,e,y.deck,[D.Colorless],[],[b.Sentry,b.Ensnare]);u.ensnareAmount=2;let d=new V(7,7,2,"Ironclad Mercenary",new I(4),"assets//Ironclad.png","",!1,e,y.deck,[D.Colorless],[],[b.WallBound]),h=new V(2,2,2,"Squire",new I(1),"assets//squire.png","",!1,e,y.deck,[D.Colorless],[]),f=new We([new gr(T.Gold,2,this.cardService)],this.cardService),v=new _n("Big Mine",new I(4),new I(2),"","Gain 2 gold on enter",e,y.deck,[D.Colorless],[f],pe.Uncommon),w=new Ca(this.cardService,1,e),M=new It(Pe.Asleep,1),k=new It(Pe.Gems,1,T.Gold),E=new St(this.cardService,[M,k],[w],{}),B=new V(3,1,3,"Wandering Priest",new I(2,0,0,0,0),"","Pay 1 gold and turn to gain 1 life",!1,e,y.deck,[D.Colorless],[E]);E.user=B,t.push(c,u,h,v,d),r++}return t}getEnemyDeck(e,t,r){void 0===r&&(r=[T.Emerald,T.Ruby,T.LionEye,T.Sapphire,T.Topaz,T.Gold][Math.floor(5*Math.random())]);let i=[];void 0===t&&(t=0);let s=new eu(this.cardService);switch(r){case T.Gold:i.push(...this.neutralCards(p.Opponent));break;case T.Emerald:i.push(...this.earthDeck(p.Opponent));break;case T.Ruby:i.push(...this.fireDeck(p.Opponent));break;case T.LionEye:i.push(...this.starDeck(p.Opponent));break;case T.Sapphire:i.push(...this.waterDeck(p.Opponent));break;case T.Topaz:i.push(...this.airDeck(p.Opponent))}let o=1;for(;o<e+1;){let l=this.cardFactory.generateAiBasicMinion(r,o,y.deck),c=this.cardFactory.generateAiMinion(r,o+1,y.deck);i.push(l,c),o++}for(let l=0;l<i.length;l++)i[l].owner=p.Opponent;let a=["Fire Bolt","Freeze","Haste","Stone Form","Gust"];i=i.filter(l=>l.type!==R.Mine),i=i.filter(l=>l.type!==R.Building),i=i.filter(l=>!a.includes(l.name)),i.push(this.getCardByName("Find Loot",p.Opponent));for(let l=0;l<2*e;l++){let c=this.getCardByName("Death Beam",p.Opponent),u=this.getCardByName("Cull the Weak",p.Opponent);i.push(c,u)}return s.applyDifficultyNormalBoosters(e+1,i),this.cardService.shuffleDeck(i),i}getAllCards(e){let t=[];return t.push(...this.getAllFireCards(e)),t.push(...this.getAllEarthCards(e)),t.push(...this.getAllStarCards(e)),t.push(...this.getAllWaterCards(e)),t.push(...this.getAllAirCards(e)),t.push(...this.getAllNeutralCards(e)),this.fillInUpgrades(t),t}getRandomFactionCards(e){const t=[this.getAllFireCards,this.getAllEarthCards,this.getAllStarCards,this.getAllWaterCards,this.getAllAirCards];return t[Math.floor(Math.random()*t.length)].call(this,e)}getStarterDeck(e,t){let r=[];r.push(...this.getAllNeutralCards(e));for(let i=0;i<t.length;i++)switch(t[i]){case D.Any:r.push(...this.getAllCards(e));break;case D.Sun:r.push(...this.getAllFireCards(e));break;case D.Earth:r.push(...this.getAllEarthCards(e));break;case D.MoonAndStars:r.push(...this.getAllStarCards(e));break;case D.Neptune:r.push(...this.getAllWaterCards(e));break;case D.Sky:r.push(...this.getAllAirCards(e))}return r}getCardByName(e,t){let i=["Death Beam","Slow","Freeze"],o=this.getAllCards(t).find(a=>a.name.toLowerCase()===e.toLowerCase());if(void 0!==o&&t===p.Opponent&&o.type===R.Spell)for(let a=0;a<o.abilities.length;a++){let l=o.abilities[a];if(l instanceof wn){let u=new kp(l.effects,this.cardService,l.allowedTargets,l.allowedZones,p.Opponent);u.targeting.controller=i.includes(o.name)?p.Self:p.Opponent,o.abilities[a]=u}}return o}getHeroDeck(e){let t=[];switch(e.name){case"Solara the Radiant":t.push(...this.getSolaraDeck());break;case"Ser Grimith the bland":t.push(...this.getGrimithDeck());break;case"Lunara the Tidal":t.push(...this.getLunaraDeck());break;case"King Aves":t.push(...this.getAvesDeck());break;case"Terra the Grounded":t.push(...this.getTerraDeck());break;case"Buck Bumble":t.push(...this.getBuckDeck());break;case"Mystic with No Name":t.push(...this.getMysticDeck())}return t}getMysticDeck(){let e=[];for(let r=0;r<this.cardAmount;r++){let i=this.getCardByName("Fire Bolt",p.Self);e.push(i);let s=this.getCardByName("Freeze",p.Self);e.push(s);let o=this.getCardByName("Death Beam",p.Self);e.push(o);let a=this.getCardByName("Merchant",p.Self);e.push(a);let l=this.getCardByName("Find Loot",p.Self);e.push(l);let c=this.getCardByName("Ice Rune Wall",p.Self);e.push(c);let u=this.getCardByName("Divine Eyes",p.Self);e.push(u);let d=this.getCardByName("King Serpent",p.Self);e.push(d)}let t=[];return t.push(...this.cardFactory.getMinesBulk(T.Gold,2)),t.push(...this.cardFactory.getMinesBulk(T.LionEye,2)),t.push(...this.cardFactory.getMinesBulk(T.Sapphire,2)),t.push(...this.cardFactory.getMinesBulk(T.Ruby,2)),t.push(...this.cardFactory.generateMultiColorMinesBulk(T.LionEye,T.Ruby,2)),t.push(...this.cardFactory.generateMultiColorMinesBulk(T.Sapphire,T.LionEye,1)),t.push(...this.cardFactory.generateMultiColorMinesBulk(T.Sapphire,T.Ruby,2)),e.push(...t),e}getBuckDeck(){let e=[];for(let r=0;r<this.cardAmount;r++){let i=this.getCardByName("Stone Form",p.Self);e.push(i);let s=this.getCardByName("Loyal Hawk",p.Self);e.push(s);let o=this.getCardByName("Scout",p.Self);e.push(o);let a=this.getCardByName("Prospector",p.Self);e.push(a);let l=this.getCardByName("Gust",p.Self);e.push(l);let c=this.getCardByName("Battle Dwarf",p.Self);e.push(c)}let t=[];return t.push(...this.cardFactory.getMinesBulk(T.Gold,3)),t.push(...this.cardFactory.getMinesBulk(T.Emerald,3)),t.push(...this.cardFactory.getMinesBulk(T.Topaz,3)),t.push(...this.cardFactory.generateMultiColorMinesBulk(T.Topaz,T.Emerald,3)),e.push(...t),e}getTerraDeck(){let e=[];for(let r=0;r<this.cardAmount;r++){let i=this.getCardByName("Verdant Warrior",p.Self);e.push(i);let s=this.getCardByName("Dwarf Soldier",p.Self);e.push(s);let o=this.getCardByName("Battle Dwarf",p.Self);e.push(o);let a=this.getCardByName("Prospector",p.Self);e.push(a);let l=this.getCardByName("Dwarf Engineer",p.Self);e.push(l)}let t=[];return t.push(...this.cardFactory.getMinesBulk(T.Gold,6)),t.push(...this.cardFactory.getMinesBulk(T.Emerald,6)),e.push(...t),e}getLunaraDeck(){let e=[];for(let r=0;r<this.cardAmount;r++){let i=this.getCardByName("Freeze",p.Self);e.push(i);let s=this.getCardByName("Ice Rune Wall",p.Self);e.push(s);let o=this.getCardByName("Death Beam",p.Self);e.push(o);let a=this.getCardByName("Find Loot",p.Self);e.push(a);let l=this.getCardByName("Merchant",p.Self);e.push(l);let c=this.getCardByName("King Serpent",p.Self);e.push(c);let u=this.getCardByName("Dead Deity",p.Self);e.push(u)}let t=[];return t.push(...this.cardFactory.getMinesBulk(T.Gold,3)),t.push(...this.cardFactory.getMinesBulk(T.Sapphire,3)),t.push(...this.cardFactory.getMinesBulk(T.LionEye,3)),t.push(...this.cardFactory.generateMultiColorMinesBulk(T.LionEye,T.Sapphire,3)),e.push(...t),e}getGrimithDeck(){let e=[];for(let r=0;r<this.cardAmount;r++){let i=this.getCardByName("Pikeman",p.Self);e.push(i);let s=this.getCardByName("Find Loot",p.Self);e.push(s);let o=this.getCardByName("Squire",p.Self);e.push(o);let a=this.getCardByName("Shield Mate",p.Self);e.push(a)}let t=[];return t.push(...this.cardFactory.getMinesBulk(T.Gold,9)),e.push(...t),e}getSolaraDeck(){let e=[];for(let r=0;r<this.cardAmount;r++){let i=this.getCardByName("Fire Bolt",p.Self);e.push(i);let s=this.getCardByName("Squire",p.Self);e.push(s);let o=this.getCardByName("Haste",p.Self);e.push(o);let a=this.getCardByName("Troll Warrior",p.Self);e.push(a);let l=this.getCardByName("Fire Raptor",p.Self);void 0!==l&&e.push(l)}let t=[];return t.push(...this.cardFactory.getMinesBulk(T.Gold,6)),t.push(...this.cardFactory.getMinesBulk(T.Ruby,6)),e.push(...t),e}getAvesDeck(){let e=[];for(let r=0;r<this.cardAmount;r++){let i=this.getCardByName("Scout",p.Self);e.push(i);let s=this.getCardByName("Sky Knight",p.Self);e.push(s);let o=this.getCardByName("Wind Dancer",p.Self);e.push(o);let a=this.getCardByName("King Serpent",p.Self);e.push(a);let l=this.getCardByName("Deep Sea Yeti",p.Self);e.push(l);let c=this.getCardByName("Great Bird Monk",p.Self);e.push(c)}let t=[];return t.push(...this.cardFactory.getMinesBulk(T.Gold,3)),t.push(...this.cardFactory.getMinesBulk(T.Sapphire,3)),t.push(...this.cardFactory.getMinesBulk(T.Topaz,3)),t.push(...this.cardFactory.generateMultiColorMinesBulk(T.Topaz,T.Sapphire,2)),e.push(...t),e}fillInUpgrades(e){let t=new Pp(this.cardService);for(let r=0;r<e.length;r++){let i=e[r],s=t.getAllUpgradesForCard(i.name);null!==s&&i.upgrades.push(...s)}}}let mD=(()=>{class n{constructor(){}getBgColor(t){switch(t){case D.Colorless:return"#888888";case D.Earth:return"#787235";case D.Neptune:return"#1a58a3";case D.Sky:return"#02aed6";case D.Sun:return"#cc4304";case D.MoonAndStars:return"#373737";default:return"white"}}getFgColor(t){switch(t){case D.Colorless:return"#DDDDDD";case D.Earth:return"#77c589";case D.Neptune:return"#6ea9f0";case D.Sky:return"#c3dde3";case D.Sun:return"#e8736b";case D.MoonAndStars:return"#e0ce7e";default:return"white"}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dB(n,e){if(1&n&&L(0,"img",7),2&n){const t=A(2).$implicit,r=A();na("width",r.imgWidth,"px"),$n("src",r.bag.getImage(t),cr)}}const xp=function(){return[]};function hB(n,e){if(1&n&&(m(0,"span"),x(1,dB,1,3,"img",6),g()),2&n){const t=A().$implicit,r=A();_(1),C("ngForOf",Pi(1,xp).constructor(r.bag.getValue(t)))}}function fB(n,e){if(1&n&&(m(0,"p",8),S(1),L(2,"img",9),g()),2&n){const t=A().$implicit,r=A();_(1),Be("",Pi(4,xp).constructor(r.bag.getValue(t)).length,"X "),_(1),na("width",r.imgWidth,"px"),$n("src",r.bag.getImage(t),cr)}}function pB(n,e){if(1&n&&(m(0,"span",3),x(1,hB,2,2,"span",4),x(2,fB,3,5,"ng-template",null,5,xi),g()),2&n){const t=e.$implicit,r=Mi(3),i=A();_(1),C("ngIf",Pi(2,xp).constructor(i.bag.getValue(t)).length<5)("ngIfElse",r)}}function gB(n,e){1&n&&L(0,"span",3)}let Ea=(()=>{class n{constructor(){this.bag=new I,this.imgWidth=16,this.manaTypes=[]}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-gembag"]],inputs:{bag:"bag",imgWidth:"imgWidth"},decls:3,vars:2,consts:[[1,""],["style","margin-left: 3px;",4,"ngFor","ngForOf"],["style","margin-left: 3px;",4,"ngIf"],[2,"margin-left","3px"],[4,"ngIf","ngIfElse"],["tooMany",""],["class","icon",3,"src","width",4,"ngFor","ngForOf"],[1,"icon",3,"src"],[1,"whiteFont",2,"font-size","0.7rem"],[1,"gemDimensions",3,"src"]],template:function(r,i){1&r&&(m(0,"div",0),x(1,pB,4,3,"span",1),g(),x(2,gB,1,0,"span",2)),2&r&&(_(1),C("ngForOf",i.bag.getTypes()),_(1),C("ngIf",i.bag.isEmpty()))},dependencies:[kt,at],styles:[".icon[_ngcontent-%COMP%]{transition:transform .5s ease-in-out}.icon[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_pulse 2s infinite,rotate 5s linear infinite;transform:rotate(360deg)}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.2)}to{transform:scale(1)}}"]})}return n})(),yD=(()=>{class n{constructor(){this.title="",this.text="",this.popupVisible=!1,this.popupX=100,this.popupY=100}showPopup(t){this.popupVisible=!0,this.updatePopupPosition(t)}movePopup(t){this.updatePopupPosition(t)}hidePopup(){this.popupVisible=!1}updatePopupPosition(t){this.popupX=t.clientX+10,this.popupY=t.clientY+10}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-tool-tip"]],inputs:{title:"title",text:"text"},decls:5,vars:2,consts:[[1,"toolTipMargin"],[1,"toolTipHeader"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"h2",1),S(2),g(),m(3,"p"),S(4),g()()),2&r&&(_(2),dt(i.title),_(2),dt(i.text))},styles:[".toolTipHeader[_ngcontent-%COMP%]{color:#f3e712;font-size:16px}.toolTipMargin[_ngcontent-%COMP%]{margin:10px}"]})}return n})();function mB(n,e){if(1&n&&(m(0,"div"),L(1,"app-tool-tip",16),g()),2&n){const t=e.$implicit,r=A(3);_(1),C("title",r.kTip.getToolTipName(t))("text",r.kTip.getTooltip(t))}}const yB=function(){return{"top.px":0,"left.px":125}};function vB(n,e){if(1&n&&(m(0,"div",15),x(1,mB,2,2,"div",14),g()),2&n){const t=A(2);C("ngStyle",Pi(2,yB)),_(1),C("ngForOf",t.card.keywords)}}const tu=function(n){return{backgroundColor:n}};function _B(n,e){if(1&n&&(m(0,"div",3),L(1,"app-gembag",17),g()),2&n){const t=A(2);C("ngStyle",Wn(2,tu,t.fgColor)),_(1),C("bag",t.card.cost)}}function wB(n,e){1&n&&L(0,"img",18),2&n&&$n("src",A(2).card.image,cr)}function CB(n,e){1&n&&L(0,"div",19)}function SB(n,e){if(1&n&&(gc(0),m(1,"span",21),S(2),g(),S(3," |"),m(4,"span",21),S(5),g(),S(6," |"),m(7,"span",21),S(8),g(),mc()),2&n){const t=A(3);_(1),C("ngStyle",t.getStatStyle(t.card,"atk")),_(1),Be("ATK:",t.creature.attack," "),_(2),C("ngStyle",t.getStatStyle(t.card,"hp")),_(1),Be("HP: ",t.creature.hp," "),_(2),C("ngStyle",t.getStatStyle(t.card,"spd")),_(1),Be(" SPD:",t.creature.speed,"")}}function bB(n,e){if(1&n&&(m(0,"div")(1,"p",20),x(2,SB,9,6,"ng-container",12),g()()),2&n){const t=A(2);_(2),C("ngIf",t.creature)}}function DB(n,e){if(1&n&&(m(0,"span")(1,"p",20),S(2,"INCOME: "),L(3,"app-gembag",17),g()()),2&n){const t=A(2);_(3),C("bag",t.converter.convertToMine(t.card).incomeBag)}}function EB(n,e){if(1&n&&(m(0,"span")(1,"p",22),S(2),g()()),2&n){const t=A(2);_(2),Ti("Turns left: ",t.converter.convertToTech(t.card).researchLevel,"/",t.converter.convertToTech(t.card).researchTime,"")}}function MB(n,e){1&n&&(m(0,"p"),S(1,"Fast - You may play this card at any time"),g())}function AB(n,e){if(1&n&&(m(0,"p"),S(1),g()),2&n){const t=A(3);_(1),Be("Dodge: ",t.creature.dodgeAmount,"")}}function TB(n,e){if(1&n&&(m(0,"p"),S(1),g()),2&n){const t=A(3);_(1),Be("Ensnare: ",t.creature.ensnareAmount,"")}}function kB(n,e){if(1&n&&(m(0,"p"),S(1),g()),2&n){const t=A(3);_(1),Be("Repair: ",t.creature.repairAmount,"")}}function IB(n,e){if(1&n&&(m(0,"div"),x(1,AB,2,1,"p",12),x(2,TB,2,1,"p",12),x(3,kB,2,1,"p",12),g()),2&n){const t=A(2);_(1),C("ngIf",t.creature.dodgeAmount>0),_(1),C("ngIf",t.creature.ensnareAmount>0),_(1),C("ngIf",t.creature.repairAmount>0)}}function PB(n,e){if(1&n&&(m(0,"p"),S(1),g()),2&n){const t=A().$implicit,r=A(2);_(1),dt(r.kTip.getToolTipName(t))}}function xB(n,e){if(1&n&&(m(0,"div"),x(1,PB,2,1,"p",12),g()),2&n){const t=e.$implicit;_(1),C("ngIf",16!==t&&1!==t&&3!==t)}}const RB=function(n,e,t,r){return{playable:n,notPlayable:e,awake:t,asleep:r}},NB=function(){return{backgroundColor:"black"}};function OB(n,e){if(1&n){const t=ne();m(0,"div",1),U("mouseover",function(i){return G(t),W(A().showPopup(i))})("mousemove",function(i){return G(t),W(A().movePopup(i))})("mouseout",function(){return G(t),W(A().hidePopup())}),x(1,vB,2,3,"div",2),m(2,"div",3)(3,"p",4),S(4),g()(),x(5,_B,2,4,"div",5),m(6,"div",6),x(7,wB,1,1,"img",7),x(8,CB,1,0,"ng-template",null,8,xi),g(),m(10,"div",9)(11,"p",10),S(12),g()(),m(13,"div",11),x(14,bB,3,1,"div",12),x(15,DB,4,1,"span",12),x(16,EB,3,2,"span",12),x(17,MB,2,0,"p",12),m(18,"p",13),S(19),g(),x(20,IB,4,3,"div",12),x(21,xB,2,1,"div",14),g()()}if(2&n){const t=Mi(9),r=A();C("@rapidMoveRight",void 0)("@.disabled",!r.animateEnter)("ngClass",qC(21,RB,r.playable&&(0===r.card.zone||6===r.card.zone),!r.playable&&(0===r.card.zone||6===r.card.zone),0===r.card.type&&!0===r.creature.awake,!1===r.creature.awake))("ngStyle",Wn(26,tu,r.bgColor)),_(1),C("ngIf",r.popupVisible&&void 0!==r.card.keywords&&r.card.keywords.length>0),_(1),C("ngStyle",Pi(28,NB)),_(2),Be("",r.card.name," "),_(1),C("ngIf",2===r.card.owner),_(1),C("ngStyle",Wn(29,tu,r.fgColor)),_(1),C("ngIf",""!==r.card.image&&void 0!==r.card.image)("ngIfElse",t),_(5),Ti("Level ",r.card.level," - ",r.getTypeString(r.card.type)," "),_(1),C("ngStyle",Wn(31,tu,r.fgColor)),_(1),C("ngIf",0===r.card.type||11===r.card.type),_(1),C("ngIf",2===r.card.type),_(1),C("ngIf",1===r.card.type&&1===r.card.zone),_(1),C("ngIf",r.card.instant),_(2),Be(" ",r.card.text,""),_(1),C("ngIf",0===r.card.type||11===r.card.type),_(1),C("ngForOf",r.card.keywords)}}let Zn=(()=>{class n{constructor(t,r){this.fcs=t,this.animationService=r,this.card={},this.compareCard={},this.playable=void 0,this.cardEmitter=new te,this.flipped=!0,this.animateEnter=!1,this.bgColor="grey",this.fgColor="#cccccc",this.gradientColor="radialGradient(bgColor, gradientColor)",this.type=R[this.card.type],this.selected=!1,this.converter=new ba,this.kTip=new Kc,this.popupVisible=!1,this.popupX=0,this.popupY=0,this.creature={}}ngOnInit(){(this.card instanceof lt||this.card instanceof V)&&(this.creature=this.card),void 0!==this.card&&void 0!==this.card.factions&&this.card.factions.length>0&&(this.bgColor=this.fcs.getBgColor(this.card.factions[0]),this.fgColor=this.fcs.getFgColor(this.card.factions[0]),this.gradientColor=`radialGradient(${this.bgColor}, ${this.fgColor})`)}clickCard(){this.cardEmitter.emit(this.card)}getTypeString(t){return R[t]}getCompareStyle(t,r){let i=this.compareCard;if("atk"===r){if(i.attack>t.attack)return{color:"red"};if(i.attack<t.attack)return{color:"green"}}else if("hp"===r){if(i.hp>t.hp)return{color:"red"};if(i.hp<t.hp)return{color:"green"}}else if("spd"===r){if(i.speed>t.speed)return{color:"red"};if(i.speed<t.speed)return{color:"green"}}return{color:"white"}}getStatStyle(t,r){const i=this.converter.convertToCreature(t);if(void 0!==this.compareCard&&this.compareCard instanceof V)return this.getCompareStyle(t,r);let o=0,a=0;switch(r){case"hp":o=i.baseHp,a=i.hp;break;case"atk":o=i.baseAttack,a=i.attack;break;case"spd":o=i.baseSpeed,a=i.speed}return a>o?{color:"rgb(98, 219, 98);"}:a<o?{color:"red"}:{color:"white"}}showPopup(t){this.popupVisible=!0,this.updatePopupPosition(t)}movePopup(t){this.updatePopupPosition(t)}hidePopup(){this.popupVisible=!1}updatePopupPosition(t){this.popupX=t.clientX,this.popupY=t.clientY}static#e=this.\u0275fac=function(r){return new(r||n)(F(mD),F(Cn))};static#t=this.\u0275cmp=be({type:n,selectors:[["app-card"]],inputs:{card:"card",compareCard:"compareCard",playable:"playable",flipped:"flipped",animateEnter:"animateEnter"},outputs:{cardEmitter:"cardEmitter"},decls:1,vars:1,consts:[["id","BlackFont","class","cardBorder hoverZoom cardDimensions",3,"ngClass","ngStyle","mouseover","mousemove","mouseout",4,"ngIf"],["id","BlackFont",1,"cardBorder","hoverZoom","cardDimensions",3,"ngClass","ngStyle","mouseover","mousemove","mouseout"],["class","popup toolTip",3,"ngStyle",4,"ngIf"],[1,"mainFont","titleBoxWidth","cardOutline",3,"ngStyle"],[1,"titleText"],["class","mainFont titleBoxWidth cardOutline",3,"ngStyle",4,"ngIf"],["id","PlaceHolder",1,"cardOutline",3,"ngStyle"],["class","centerElement cardImage ",3,"src",4,"ngIf","ngIfElse"],["fake",""],[1,"typeBox","cardOutline"],[1,"typeText"],[1,"textBox","cardOutline","mainFont","cardText",3,"ngStyle"],[4,"ngIf"],[1,"mainFont"],[4,"ngFor","ngForOf"],[1,"popup","toolTip",3,"ngStyle"],[3,"title","text"],[3,"bag"],[1,"centerElement","cardImage",3,"src"],[1,"centerElement","cardImage"],[1,"statDisplay"],[3,"ngStyle"],[1,"whiteFont","statDisplay"]],template:function(r,i){1&r&&x(0,OB,22,33,"div",0),2&r&&C("ngIf",void 0!==i.card)},dependencies:[Gs,kt,at,Ws,Ea,yD],styles:['.cardOutline[_ngcontent-%COMP%]{border:solid 1px black;border-radius:5%;margin:1px}#PlaceHolder[_ngcontent-%COMP%]{min-height:40px}.titleText[_ngcontent-%COMP%]{font-family:Tahoma,sans-serif;font-weight:700;font-size:60%;text-align:center;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.titleBoxWidth[_ngcontent-%COMP%]{width:93%;margin-left:auto;margin-right:auto}.flexBox[_ngcontent-%COMP%]{display:flex}.flexSpace[_ngcontent-%COMP%]{justify-content:space-between}.foregroundColor[_ngcontent-%COMP%]{opacity:.9}.typeText[_ngcontent-%COMP%]{color:#fff;text-align:center;font-size:90%}.typeBox[_ngcontent-%COMP%]{height:17px;margin-top:2px;margin-bottom:2px;font-size:13px;font-family:Arial,Helvetica,sans-serif;background:rgba(30,30,30,.5);opacity:1}.typeBoxBg[_ngcontent-%COMP%]{background-color:"#373737"}.textBox[_ngcontent-%COMP%]{min-height:4rem;text-align:center;font-family:Arial,Helvetica,sans-serif}.cardText[_ngcontent-%COMP%]{font-size:45%}.statDisplay[_ngcontent-%COMP%]{border-bottom:ridge 2px #737373;margin-bottom:2px;background-color:#000;color:#fff}.playable[_ngcontent-%COMP%]{border-radius:5%;box-shadow:0 0 25px #f7f7f7e6}.notPlayable[_ngcontent-%COMP%]{border:1px solid red;border-radius:5%}.playable[_ngcontent-%COMP%], .notPlayable[_ngcontent-%COMP%]{margin:-2px}.hoverZoom[_ngcontent-%COMP%]:hover{z-index:10;transform:scale(1.3);transition:transform .3s ease-in-out;animation-delay:1ms;position:relative}.hoverZoom[_ngcontent-%COMP%]{transform:scale(1);margin-bottom:0;transition:transform .4s ease-in-out;animation-delay:2ms;cursor:pointer}#BlackFont[_ngcontent-%COMP%]{color:#000}.toolTip[_ngcontent-%COMP%]{position:absolute;z-index:1000}.blackBg[_ngcontent-%COMP%]{background-color:#000}'],data:{animation:[Cn.rapidMoveRight,Cn.zoomIn]}})}return n})();function FB(n,e){1&n&&L(0,"app-card",2),2&n&&C("card",e.$implicit)}let vD=(()=>{class n{constructor(){this.deck=[],this.display=!1}sortDeck(){return this.deck.sort((r,i)=>r.name.localeCompare(i.name))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-deck-viewer"]],inputs:{deck:"deck",display:"display"},decls:2,vars:1,consts:[[1,"cardRow","scrollBar"],["class","card",3,"card",4,"ngFor","ngForOf"],[1,"card",3,"card"]],template:function(r,i){1&r&&(m(0,"div",0),x(1,FB,1,1,"app-card",1),g()),2&r&&(_(1),C("ngForOf",i.sortDeck()))},dependencies:[kt,Zn],styles:[".cardRow[_ngcontent-%COMP%]{flex-wrap:wrap}.card[_ngcontent-%COMP%]{margin:10px 5px;flex:0 0 10%;border-radius:5%;width:94%}.scrollBar[_ngcontent-%COMP%]{min-height:500px;max-width:90%;overflow-y:scroll}"]})}return n})();function LB(n,e){if(1&n){const t=ne();m(0,"button",4),U("click",function(){return G(t),W(A().nextStep())}),S(1," Next Slide"),g()}}function BB(n,e){if(1&n){const t=ne();m(0,"button",4),U("click",function(){return G(t),W(A().prevStep())}),S(1,"Previous Slide"),g()}}function VB(n,e){1&n&&(m(0,"div")(1,"h3"),S(2,"Super Gembag Wars"),g(),L(3,"br"),m(4,"p"),S(5,"This is a game about surviving a horde of enemies knocking at your wall. Your goal is to destroy the enemy deck while keeping your life above 0. "),g(),L(6,"br"),m(7,"p"),S(8,"To protect your life, you have a wall that will absorb attacks until it reach 0. Each square of wall represents 5 wall hp rounded up. "),g(),L(9,"br"),m(10,"p"),S(11,"When you attack the hoard, for each 1 damage you deal, the hoard discards a card from their deck."),g(),L(12,"img",5),g())}function UB(n,e){if(1&n&&(m(0,"div")(1,"h3"),S(2,"Understanding a Card"),g(),L(3,"app-card",6),m(4,"p"),S(5,"Every non-mine card has a cost consisting of Gems and gold."),g(),m(6,"p"),S(7,"You gain resources by playing mines"),g(),m(8,"p"),S(9,"This card costs 1 ruby and 1 gold"),g(),L(10,"app-card",6),m(11,"p"),S(12,"This is a basic mine. It will give you one gem right away and 1 gem at the start of each of your turns"),g(),m(13,"p"),S(14,"Basic mines are free to play, BUT you may only play one mine per turn"),g(),m(15,"p"),S(16,"You start the game with 4 gold and 1 basic gold mine"),g(),L(17,"img",7),m(18,"h3"),S(19,"Controls"),g(),m(20,"p"),S(21,"To play a card from your hand, double click on it. If a card is currently playable (it is the right time and you can afford it), then it will be highlighted in green. "),g(),m(22,"p"),S(23,"If a card is not playable, it will be highlighted in red."),g()()),2&n){const t=A();_(3),C("card",t.spell),_(7),C("card",t.mine)}}function jB(n,e){if(1&n&&(m(0,"div")(1,"p"),S(2,"Factions"),g(),L(3,"app-gembag",8),m(4,"p"),S(5,"In this game there are 5 factions each with their own gem. The 6th resource, gold, is used by all factions "),g(),m(6,"p"),S(7,"These icons are used to represent costs, current resources and income for the player"),g(),m(8,"p"),S(9,"For now, all cards will have a single faction."),g(),m(10,"p"),S(11,"Here's a little bit about the strengths and weaknesses of each faction:"),g(),L(12,"br")(13,"img",9),m(14,"p"),S(15,"Sun "),g(),m(16,"p"),S(17,"Strengths: Good attack and speed on creatures. Lots of damage."),g(),m(18,"p"),S(19,"Weaknesses: low HP creatures, good at destroying other's walls, bad at maintaining theirs"),g(),L(20,"br")(21,"img",10),m(22,"p"),S(23,"Ocean"),g(),m(24,"p"),S(25,"Strengths: Good healing and card draw, high HP creatures"),g(),m(26,"p"),S(27,"Weaknesses: Poor offensive creatures, lack of removal"),g(),L(28,"br")(29,"img",11),m(30,"p"),S(31,"Sky"),g(),m(32,"p"),S(33,"Strengths: Lots of flying, speedy, and dodging, good card draw"),g(),m(34,"p"),S(35,"Weaknesses: Low Hp creatures, low attack/hp creatures"),g(),L(36,"br")(37,"img",12),m(38,"p"),S(39,"Earth"),g(),m(40,"p"),S(41,"Strengths: High HP and Attack Creatures, good at getting gems"),g(),m(42,"p"),S(43,"Weaknesses: Low speed Creatures, no card draw"),g(),L(44,"br")(45,"img",13),m(46,"p"),S(47,"Moon and Stars"),g(),m(48,"p"),S(49,"Strengths: Kill enemy creatures, revive your own. Speedy creatures, Healing -however, not as good as Ocean "),g(),m(50,"p"),S(51,"Weaknesses: Creatures that start with low stats and buff up over time, no card draw "),g()()),2&n){const t=A();_(3),C("bag",t.gembag)("imgWidth",48)}}function HB(n,e){if(1&n&&(m(0,"div")(1,"p"),S(2,"Creature Stats"),g(),L(3,"app-card",6),m(4,"p"),S(5,"Each Creature has 3 stats:"),g(),L(6,"img",14),m(7,"p"),S(8," Attack - this determines how much damage the creature deals"),g(),L(9,"br")(10,"img",15),m(11,"p"),S(12,"HP - this determines how much damage a creature can take before dying"),g(),L(13,"br")(14,"img",16),m(15,"p"),S(16,"Speed - when fighting another creature this determines who goes first. In case of a tie, creaute deal damage simultaneously"),g(),L(17,"br"),m(18,"p"),S(19,"Any changes to stats are permanent, whether through spells or combat. Certain abilities can heal creatures, however."),g()()),2&n){const t=A();_(3),C("card",t.creature)}}function $B(n,e){if(1&n&&(m(0,"div")(1,"h2"),S(2,"Card Types"),g(),m(3,"div",17),L(4,"app-card",6)(5,"app-card",6)(6,"app-card",6),g(),m(7,"p"),S(8,"In this demo there are 3 card types: "),g(),m(9,"ul")(10,"li"),S(11,"Creatures - attacks, blocks, and has various abilities"),g(),m(12,"li"),S(13,"Spells - does a one use effect"),g(),m(14,"li"),S(15,"Mines - produces resources"),g()(),m(16,"p"),S(17,"More types are planned as the game is built out!"),g()()),2&n){const t=A();_(4),C("card",t.creature),_(1),C("card",t.spell),_(1),C("card",t.mine)}}function zB(n,e){1&n&&(m(0,"div")(1,"h2"),S(2,"Horde Phases"),g(),m(3,"p"),S(4,"Each Turn consists of several phases."),g(),m(5,"p"),S(6,"These phases different between the horde and the player. The horde's turns are automatic. Let's look at the horde first:"),g(),L(7,"br"),m(8,"p"),S(9,"Main - the horde draws and plays cards. The horde deck has 2 types of cards: Regular ones and minions"),g(),L(10,"img",18),m(11,"p"),S(12,"When drawing, the horde draws and plays minion cards until it draws and plays a regular card"),g(),L(13,"br"),m(14,"p"),S(15,"Combat - The horde will attack with all of its creatures. All horde creatures may attack right away. Attacking is signifier in 2 ways the card is rotated 90 degrees and the red sword appears over the card. "),g(),L(16,"img",19),m(17,"p"),S(18,"If the player chooses to block an attacker, the blocking creature will have a shield appear over them."),g(),L(19,"img",20),m(20,"p"),S(21,"The player may block horde creatures to prevent damage to themselves."),g(),m(22,"p"),S(23,"Blockers - the player may decide to block the horde's creatures. A blocked creature will not damage a player's wall or HP"),g(),L(24,"br"),m(25,"p"),S(26,"Combat Results - displays how much damage creatures have taken. If a creature becomes faded, it has taken enough damage to die."),g(),L(27,"img",21)(28,"br"),m(29,"p"),S(30,"End - any until end of turn effects wear off here. Some cards will activate here as well."),g(),m(31,"p"),S(32,"Should the horde play a card that requires any kind of decision making, it will choose targets randomly. "),g()())}function GB(n,e){1&n&&(m(0,"div")(1,"h2"),S(2,"Player Phases"),g(),m(3,"p"),S(4,"Now let's get into the player's phases:"),g(),m(5,"p"),S(6,"Main 1 - At the start of this phase you gain your income from your mines and all of your creatures turn upright, ready to attack again. You may play any cards you can afford during this phase. Anything you can play will be highlighted with a green border. Anything you cannot play will be highlighted in red."),g(),L(7,"br"),m(8,"p"),S(9,"Combat - This is more straight forward than the the horde. Pick what creatures you want to attack and they will damage the enemy's wall, and then once that's destroyed, their deck. However, any rotated creature may NOT block, so measure the risk/reward carefully. "),g(),L(10,"br"),m(11,"p"),S(12,"Main 2 - This occurs only when you attacked. No income, but you may play cards following the same rules as the previous main phase. When you are done with this phase, it swaps to the enemy's turn"),g()())}function WB(n,e){1&n&&(m(0,"div")(1,"h2"),S(2,"Heroes"),g(),m(3,"p"),S(4,"Each deck will be lead by a hero. Heroes start in the hero zone and may be cast during your turn."),g(),m(5,"p"),S(6,"When a hero dies, it returns to the hero zone. They may be recast, but their cost increases by 1 gold each casting."),g()())}function qB(n,e){1&n&&(m(0,"div")(1,"h2"),S(2,"Experience"),g(),m(3,"p"),S(4,"Heroes will gain experience and level up. 2 things happen on each level: the hero automatically gains a randomized stat increase and you may select an upgrade for a card in your deck"),g(),m(5,"p"),S(6,"The following actions will gain your hero 1 experience point:"),g(),m(7,"ul")(8,"li"),S(9,"Playing a card"),g(),m(10,"li"),S(11,"Destroying an enemy creature"),g(),m(12,"li"),S(13,"Drawing a card"),g()(),m(14,"h2"),S(15,"Experience Formula"),g(),m(16,"p"),S(17,"The formula for the experience needed to level up is as follows: current level * current level + 10 "),g(),m(18,"p"),S(19,"Here's a chart for the first several levels"),g(),m(20,"ul")(21,"li"),S(22,"Level 1: 0 xp"),g(),m(23,"li"),S(24,"Level 2: 10 xp"),g(),m(25,"li"),S(26,"Level 3 : 11 xp"),g(),m(27,"li"),S(28,"Level 4: 14 xp"),g(),m(29,"li"),S(30,"Level 5: 19 xp"),g(),m(31,"li"),S(32,"Level 6: 26 xp"),g(),m(33,"li"),S(34,"Level 7: 35 xp"),g(),m(35,"li"),S(36,"Level 8: 46 xp"),g()()())}let _D=(()=>{class n{constructor(){this.step=0,this.cardService={},this.gembag=new I(1,1,1,1,1,1),this.tutorialDone=new te,this.cardFa=new ai(this.cardService),this.dmgEffect=new wa(4,this.cardService,O.Single,p.Opponent,p.Self,!1,!0),this.targeted=new wn([R.Creature,R.Player],p.Opponent,[y.play],1,[this.dmgEffect],this.cardService),this.spell=new Ze("Fire Blast",new I(1,1),"","Deal 4 damage to any opponent or opponent's creature",[this.targeted],!0,p.Self,y.any,[D.Sun]),this.mine=this.cardFa.generateBasicMine(T.LionEye),this.creature=new V(2,2,2,"Goblin",new I(1,1),"","",!1,p.Self,y.any,[D.Sun])}nextStep(){this.step++}prevStep(){this.step--,this.step<0&&(this.step=0)}done(){this.tutorialDone.emit()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-tutorial"]],inputs:{cardService:"cardService"},outputs:{tutorialDone:"tutorialDone"},decls:16,vars:11,consts:[[1,"mapColors","centerElement","mainMargins","tutorialHeight","blackFont"],[2,"float","right","margin","15px",3,"click"],[3,"click",4,"ngIf"],[4,"ngIf"],[3,"click"],["src","assets/LifeTotals.png"],[3,"card"],["src","assets/Income.png"],[3,"bag","imgWidth"],["width","64px","src","assets/Ruby.png"],["width","64px","src","assets/Saphire.png"],["width","64px","src","assets/topaz.png"],["width","64px","src","assets/Emerald.png"],["width","64px","src","assets/eye.png"],["height","64px","src","assets/attackSymbol.png"],["height","64px","src","assets/HP Symbol.png"],["height","64px","src","assets/Speed Symbol.png"],[1,"cardRow"],["src","assets/Minions.png"],["src","assets/Attacking.png"],["src","assets/Blocking.png"],["src","assets/Result.png"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"button",1),U("click",function(){return i.done()}),S(2,"X"),g(),m(3,"h2"),S(4,"Glossary"),g(),x(5,LB,2,0,"button",2),x(6,BB,2,0,"button",2),x(7,VB,13,0,"div",3),x(8,UB,24,2,"div",3),x(9,jB,52,2,"div",3),x(10,HB,20,1,"div",3),x(11,$B,18,3,"div",3),x(12,zB,33,0,"div",3),x(13,GB,13,0,"div",3),x(14,WB,7,0,"div",3),x(15,qB,37,0,"div",3),g()),2&r&&(_(5),C("ngIf",i.step<8),_(1),C("ngIf",i.step>0),_(1),C("ngIf",0===i.step),_(1),C("ngIf",1===i.step),_(1),C("ngIf",2===i.step),_(1),C("ngIf",3===i.step),_(1),C("ngIf",4===i.step),_(1),C("ngIf",5===i.step),_(1),C("ngIf",6===i.step),_(1),C("ngIf",7===i.step),_(1),C("ngIf",8===i.step))},dependencies:[at,Zn,Ea],styles:[".centerText[_ngcontent-%COMP%]{text-align:center}.alignCard[_ngcontent-%COMP%]{margin-left:50%}.windowDimensions[_ngcontent-%COMP%]{width:80%;height:90%;padding:10px}p[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], .margin[_ngcontent-%COMP%]{margin-left:15px}"]})}return n})();const KB=function(n,e){return{"top.px":n,"left.px":e}};function YB(n,e){if(1&n&&(m(0,"div",2)(1,"p",3),S(2),g(),m(3,"p"),S(4),g()()),2&n){const t=A();C("ngStyle",ua(3,KB,t.popupY,t.popupX)),_(2),dt(t.relic.name),_(2),dt(t.relic.description)}}let wD=(()=>{class n{constructor(){this.relic={},this.prefix="assets",this.popupVisible=!1,this.popupX=100,this.popupY=100}getImageSrc(){return"assets/"+this.relic.image}showPopup(t){this.popupVisible=!0,this.updatePopupPosition(t)}movePopup(t){this.updatePopupPosition(t)}hidePopup(){this.popupVisible=!1}updatePopupPosition(t){this.popupX=t.clientX+10,this.popupY=t.clientY+10}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-relic"]],inputs:{relic:"relic"},decls:2,vars:2,consts:[["width","64px","height","64px","alt","Your Image",1,"relic",3,"src","mouseover","mousemove","mouseout"],["class","popUp","class","popup",3,"ngStyle",4,"ngIf"],[1,"popup",3,"ngStyle"],[1,"relicHeader"]],template:function(r,i){1&r&&(m(0,"img",0),U("mouseover",function(o){return i.showPopup(o)})("mousemove",function(o){return i.movePopup(o)})("mouseout",function(){return i.hidePopup()}),g(),x(1,YB,5,6,"div",1)),2&r&&($n("src",i.getImageSrc(),cr),_(1),C("ngIf",i.popupVisible))},dependencies:[at,Ws],styles:[".relicHeader[_ngcontent-%COMP%]{color:#f3e712}"]})}return n})(),ZB=(()=>{class n{constructor(){this.hero={}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-xpbar"]],inputs:{hero:"hero"},decls:6,vars:6,consts:[["id","XPBar"],["id","HeroText",1,"whiteFont"],["id","HeroText",1,"whiteFont",2,"float","left"],["id","BarWidth",3,"value","max"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"p",1),S(2),g(),m(3,"p",2),S(4),g(),L(5,"progress",3),g()),2&r&&(_(2),Ti("",i.hero.name," Level ",i.hero.level," "),_(2),Ti("Experience: ",i.hero.xp,"/",i.hero.xpNextLevel,""),_(1),$n("value",i.hero.xp),$n("max",i.hero.xpNextLevel))},styles:["#XPBar[_ngcontent-%COMP%]{width:25%;z-index:1000;background-color:#000;float:left}#HeroText[_ngcontent-%COMP%]{font-size:70%}"]})}return n})();function QB(n,e){1&n&&L(0,"app-xpbar",8),2&n&&C("hero",A().cardService.hero)}function XB(n,e){1&n&&L(0,"app-relic",10),2&n&&C("relic",A().$implicit)}function JB(n,e){if(1&n&&(m(0,"div"),x(1,XB,1,1,"app-relic",9),g()),2&n){const t=e.$implicit;_(1),C("ngIf",void 0!==t)}}function eV(n,e){if(1&n&&(m(0,"div")(1,"p",11),S(2),g(),m(3,"p",11),S(4),g()()),2&n){const t=A();_(2),Be("Difficulty Level: ",t.cardService.difficulty,""),_(2),Be("Max Level: ",t.cardService.hero.maxLevel,"")}}function tV(n,e){if(1&n){const t=ne();m(0,"div",12)(1,"button",13),U("click",function(){return G(t),W(A().toggleShowDeck())}),S(2,"X"),g(),L(3,"app-deck-viewer",14),g()}if(2&n){const t=A();_(3),C("deck",t.deck)}}function nV(n,e){if(1&n){const t=ne();m(0,"div",12)(1,"button",13),U("click",function(){return G(t),W(A().toggleShowEnemyDeck())}),S(2,"X"),g(),L(3,"app-deck-viewer",14),g()}if(2&n){const t=A();_(3),C("deck",t.enemyDeck)}}function rV(n,e){if(1&n){const t=ne();m(0,"div",12)(1,"button",13),U("click",function(){return G(t),W(A().toggleDisplayHelp())}),S(2,"X"),g(),L(3,"app-tutorial"),g()}}let iV=(()=>{class n{constructor(){this.showDeck=!1,this.showEnemyDeck=!1,this.displayHelp=!1,this.deck=[],this.enemyDeck=[],this.relics=[],this.cardService={}}ngOnInit(){}toggleShowDeck(){this.showDeck=!this.showDeck,this.displayHelp=!1}toggleShowEnemyDeck(){this.showEnemyDeck=!this.showEnemyDeck,this.displayHelp=!1}toggleDisplayHelp(){this.displayHelp=!this.displayHelp,this.showDeck=!1}backToMainMenu(){location.reload()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-header"]],inputs:{deck:"deck",enemyDeck:"enemyDeck",relics:"relics",cardService:"cardService"},decls:20,vars:6,consts:[[1,"wrapper"],[3,"hero",4,"ngIf"],["id","MenuButtons"],[3,"click"],["id","Header"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","paneBg whiteFont popUp scrollBar",4,"ngIf"],[3,"hero"],[3,"relic",4,"ngIf"],[3,"relic"],[1,"whiteFont","centerText"],[1,"paneBg","whiteFont","popUp","scrollBar"],[1,"xButton",3,"click"],[1,"popUp",3,"deck"]],template:function(r,i){1&r&&(m(0,"div",0),x(1,QB,1,1,"app-xpbar",1),m(2,"span",2)(3,"button",3),U("click",function(){return i.toggleShowDeck()}),m(4,"p"),S(5,"Show your Deck"),g()(),m(6,"button",3),U("click",function(){return i.toggleShowEnemyDeck()}),m(7,"p"),S(8,"Show the enemy Deck"),g()(),m(9,"button",3),U("click",function(){return i.toggleDisplayHelp()}),m(10,"p"),S(11,"Glossary"),g()(),m(12,"button",3),U("click",function(){return i.backToMainMenu()}),S(13," Back to Main Menu "),g()(),m(14,"div",4),x(15,JB,2,1,"div",5),g(),x(16,eV,5,2,"div",6),x(17,tV,4,1,"div",7),x(18,nV,4,1,"div",7),x(19,rV,4,0,"div",7),g()),2&r&&(_(1),C("ngIf","Hero Boy"!==i.cardService.hero.name),_(14),C("ngForOf",i.relics),_(1),C("ngIf",""!==i.cardService.difficultyMods),_(1),C("ngIf",i.showDeck),_(1),C("ngIf",i.showEnemyDeck),_(1),C("ngIf",i.displayHelp))},dependencies:[kt,at,vD,_D,wD,ZB],styles:["#HowToPlay[_ngcontent-%COMP%]{position:fixed;left:auto;right:auto;width:80%;top:50px}.popUp[_ngcontent-%COMP%]{position:absolute;top:50px;z-index:999;scroll-behavior:auto;left:12%;right:12%;height:90%;width:80%}h3[_ngcontent-%COMP%]{margin-top:15px;font-size:30px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.scrollBar[_ngcontent-%COMP%]{overflow-y:auto}.xButton[_ngcontent-%COMP%]{position:absolute;z-index:1000;top:5px;right:5px}#Header[_ngcontent-%COMP%]{display:flex;min-height:64px}#MenuButtons[_ngcontent-%COMP%]{float:right}.wrapper[_ngcontent-%COMP%]{background-color:#0c0303;box-shadow:0 4px 2px -2px #7e7d7d}"]})}return n})();class CD{constructor(e){this.cardService=e,this.deckStorage=new jr(e)}getHeroes(){let e=[],t=new Se(1,1,1,this.cardService,p.Self,O.All),r=new Xe([t],this.cardService),i=new lt(2,2,2,"Ser Grimith the bland",new I(2),"","All your creatures get +1/+1/+1",p.Self,y.hero,[D.Colorless],!1,[r],[b.Repair],pe.Common);i.repairAmount=2,e.push(i);let s=new Se(2,0,0,this.cardService,p.Self,O.All),o=new Xe([s],this.cardService),a=new Fe(this.cardService,O.All,[y.play],p.Self,[b.Ambush]),l=new Xe([a],this.cardService),c=new lt(2,4,4,"Solara the Radiant",new I(1,2,0,0),"Sun","All your creatures get +0/+0/+2 and gain Ambush",p.Self,y.hero,[D.Sun],!1,[o,l],[],pe.Rare);e.push(c);let u=new Se(1,1,1,this.cardService,p.Self,O.All),h=(new xe([u],[H.DrawCard],this.cardService,p.Self,[y.play]),new Se(-1,-1,-1,this.cardService,p.Opponent,O.All,!1,!0));h.repeatable=!0;let f=new It(Pe.Gems,1,T.Sapphire),v=new It(Pe.Gems,1,T.LionEye),w=new St(this.cardService,[f,v],[h],{}),M=new lt(4,4,4,"Lunara the Tidal",new I(2,0,1,0,1),"","Pay 1 Sapphire and 1 Lion's Eye Diamond: All enemy creatures get -1/-1/-1",p.Self,y.hero,[D.Neptune,D.MoonAndStars],!1,[w],[],pe.SuperRare);e.push(M),w.user=M;let k=new It(Pe.Gems,2,T.Gold),E=new Fn(this.cardService,O.Single,p.Self),B=new St(this.cardService,[k],[E],{}),j=new lt(3,4,2,"King Aves",new I(1,0,1,0,0,1),"","Pay 2 Gold: Draw a card",p.Self,y.hero,[D.Sky,D.Neptune],!1,[B],[b.Flying],pe.SuperRare);e.push(j);let Y=new Se(0,3,0,this.cardService,p.Self,O.All),ge=new Fe(this.cardService,O.All,[y.play],p.Self,[b.Regenerate]),fe=new Xe([Y,ge],this.cardService),Ae=new lt(5,6,4,"Terra the Grounded",new I(2,0,0,3),"","All your creatures get +3 HP and gain Regenerate",p.Self,y.hero,[D.Earth],!1,[fe],[],pe.Rare);i.repairAmount=2,e.push(Ae),new Se(0,0,0,this.cardService,p.Self,O.All),new It(Pe.Gems,5,T.Sapphire),new It(Pe.Gems,5,T.Emerald);let _t=new lt(4,4,4,"Buck Bumble",new I(0,0,0,2,0,2),"Sky, Earth","",p.Self,y.hero,[D.Sky,D.Earth],!1,[],[b.Flying,b.Armorer,b.Sharpen,b.Momentum,b.Ensnare,b.Sentry],pe.Rare);_t.ensnareAmount=3,e.push(_t);let Yt=this.deckStorage.getCardByName("fire bolt",p.Self),Dn=this.deckStorage.getCardByName("freeze",p.Self),Cr=this.deckStorage.getCardByName("divine eyes",p.Self),z=new eB(this.cardService,[Yt,Dn,Cr],p.Self,y.hand),Q=new xe([z],[H.Start],this.cardService,p.Self,[y.play]),X=new lt(5,4,8,"Mystic with No Name",new I(1,1,1,0,1),"Moon, Fire, Water","At the start of your turn, add a random spell to your hand",p.Self,y.hero,[D.MoonAndStars,D.Sun,D.Neptune],!1,[Q],[],pe.Rare);return e.push(X),e}getHeroDecks(e){return[]}getHeroByIndex(e){return this.getHeroes()[e]}getHeroByName(e){return this.getHeroes().find(t=>t.name===e)}}class sV{constructor(e,t){this.hero=e,this.deck=t}}function oV(n,e){if(1&n&&L(0,"img",8),2&n){const t=e.$implicit;$n("src",A(2).gemBag.getImageByFaction(t),cr)}}function aV(n,e){if(1&n){const t=ne();m(0,"button",6),U("click",function(){const s=G(t).$implicit;return W(A().swapHeroView(s))}),x(1,oV,1,1,"img",7),m(2,"p"),S(3),g()()}if(2&n){const t=e.$implicit;_(1),C("ngForOf",t.hero.factions),_(2),dt(t.hero.name)}}function lV(n,e){1&n&&L(0,"app-card",9),2&n&&C("card",A().selectedHero)}let SD=(()=>{class n{constructor(){this.cardService={},this.player={},this.enemy={},this.decks={},this.heroStorage={},this.selectedDeck=[],this.selectedHero={},this.heroDecks=[],this.selectDeckEvent=new te,this.showEarth=!1,this.showFire=!1,this.showAir=!1,this.showMoon=!1,this.showWater=!1,this.blurb="",this.gemBag=new I}ngOnInit(){this.heroStorage=new CD(this.cardService),this.decks=new jr(this.cardService);let t=this.heroStorage.getHeroes();for(let r=0;r<t.length;r++){let i=t[r],s=this.decks.getHeroDeck(i),o=new sV(i,s);this.heroDecks.push(o)}}swapHeroView(t){this.blurb=this.getBlurb(t.hero.factions)+" ",this.selectedDeck=t.deck,console.log(t.hero),this.selectedHero=t.hero,this.cardService.selectedFactions=t.hero.factions,console.log("remember to remove this once the hero images are added"),t.hero.image="",this.cardService.hero=t.hero}getBlurb(t){let r="";for(let i=0;i<t.length;i++)switch(t[i]){case D.Sky:r+="Air is the faction of wisdom, flexibility, and flight. Air values freedom.";break;case D.Neptune:r+="Water is the faction of logic, knowledge, and change. Water values truth.";break;case D.Sun:r+="Fire is the faction of offense, impulse, and emotion. Fire values passion.";break;case D.MoonAndStars:r+="Moon and Stars is the faction of life, death, and the cosmos. They value mystery and paradox.";break;case D.Earth:r+="Earth is the faction of loyalty, hardiness, and mining. Earth values order.";break;default:r+="Colorless is neutral and mercenary. They pretty much only care about gold."}return r}swapView(t){switch(this.showAir=!1,this.showEarth=!1,this.showFire=!1,this.showWater=!1,this.showMoon=!1,t){case"air":this.showAir=!0,this.cardService.selectedFactions=[D.Sky],this.selectedDeck=this.decks.airDeck(p.Self),this.blurb="Air is the faction of wisdom, flexibility, and flight. Air values freedom.";break;case"water":this.showWater=!0,this.cardService.selectedFactions=[D.Neptune],this.selectedDeck=this.decks.waterDeck(p.Self),this.blurb="Water is the faction of logic, knowledge, and change. Water values truth.";break;case"fire":this.showFire=!0,this.cardService.selectedFactions=[D.Sun],this.selectedDeck=this.decks.fireDeck(p.Self),this.blurb="Fire is the faction of offense, impulse, and emotion. Fire values passion.";break;case"moon":this.showMoon=!0,this.cardService.selectedFactions=[D.MoonAndStars],this.selectedDeck=this.decks.starDeck(p.Self),this.blurb="Moon and Stars is the faction of life, death, and the cosmos. They value mystery and paradox.";break;case"earth":this.showEarth=!0,this.cardService.selectedFactions=[D.Earth],this.selectedDeck=this.decks.earthDeck(p.Self),this.blurb="Earth is the faction of loyalty, hardiness, and mining. Earth values order."}this.selectedDeck.push(...this.decks.getRandomNeutralCards(p.Self))}showDeck(){return this.showFire||this.showAir||this.showEarth||this.showMoon||this.showWater}deckChoosen(){this.selectDeckEvent.emit(this.selectedDeck)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-deck-picker"]],inputs:{cardService:"cardService",player:"player",enemy:"enemy"},outputs:{selectDeckEvent:"selectDeckEvent"},decls:11,vars:4,consts:[[1,"centerText"],[1,"iconRow","centerElement"],[3,"click",4,"ngFor","ngForOf"],[1,"centerElement",3,"click"],["class","centerElement","id","HeroDisplay",3,"card",4,"ngIf"],[1,"centerElement",2,"width","fit-content",3,"deck"],[3,"click"],["class","iconDimensions",3,"src",4,"ngFor","ngForOf"],[1,"iconDimensions",3,"src"],["id","HeroDisplay",1,"centerElement",3,"card"]],template:function(r,i){1&r&&(m(0,"h2",0),S(1,"Select which deck you want to play"),g(),m(2,"div",1),x(3,aV,4,2,"button",2),g(),m(4,"div")(5,"button",3),U("click",function(){return i.deckChoosen()}),S(6,"Select this deck"),g(),x(7,lV,1,1,"app-card",4),g(),m(8,"p",0),S(9),g(),L(10,"app-deck-viewer",5)),2&r&&(_(3),C("ngForOf",i.heroDecks),_(4),C("ngIf",i.selectedHero),_(2),dt(i.blurb),_(1),C("deck",i.selectedDeck))},dependencies:[kt,at,Zn,vD],styles:[".popUp[_ngcontent-%COMP%]{position:fixed;top:50px;z-index:999999;scroll-behavior:auto;left:7%;right:15%}button[_ngcontent-%COMP%]{margin-bottom:10px}.iconDimensions[_ngcontent-%COMP%]{width:2rem}.iconRow[_ngcontent-%COMP%]{display:flex;justify-content:center}#HeroDisplay[_ngcontent-%COMP%]{width:150px;font-size:medium}"]})}return n})();var Me=function(n){return n[n.Random=0]="Random",n[n.Event=1]="Event",n[n.Battle=2]="Battle",n[n.Relic=3]="Relic",n[n.Pack=4]="Pack",n[n.Boss=5]="Boss",n}(Me||{});class uV{constructor(e,t){this.nodes=[],this.columnPos=e,this.nodes=t}}class Lt{constructor(e,t,r,i,s){this.nextNodes=[],this.rewards=[],this.image="",this.description="",this.nodeType=e,this.difficulty=t,this.nodePos=i,void 0!==s&&(this.rewards=s),this.image=this.getImage(),this.cardService=r,this.decks=new jr(this.cardService),this.setDescription()}setDescription(){switch(this.nodeType){case Me.Random:this.description="Random - Anything can happen";break;case Me.Battle:this.description="Battle - Fight a horde, get a reward";break;case Me.Relic:this.description="Relic Chest - Gain a permanent passive buff";break;case Me.Boss:this.description="Boss Battle - A harder fight, bosses gain randomized boosts";break;case Me.Event:this.description="Event - Anything can happen";break;case Me.Pack:this.description="Pack - Choose 1 of 6 cards"}}getImage(){let e="assets/";switch(this.nodeType){case Me.Random||Me.Event:return e+"random.png";case Me.Battle:return e+"battle.png";case Me.Relic:return e+"chest.png";case Me.Boss:return e+"boss.png";case Me.Pack:return e+"pack.png";default:return""}}makeEnemyDeck(){let e=this.cardService.difficulty,t=Math.floor(6*Math.random());this.decks.cardAmount=2;let r=this.decks.getEnemyDeck(e,1,t);this.decks.cardAmount=4,new eu(this.cardService),this.cardService.cardList.push(...r)}makeBossDeck(){let e=this.cardService.difficulty,t=new eu(this.cardService),r=Math.floor(6*Math.random()),i=this.decks.getEnemyDeck(e,1,r);this.cardService.cardList.push(...i),t.applyDifficultyBossBoosters(3,r)}Visit(e){switch(this.nodeType){case Me.Random:break;case Me.Battle:this.makeEnemyDeck();break;case Me.Relic:break;case Me.Boss:this.makeBossDeck()}}}function dV(n,e){if(1&n&&(m(0,"div",15),S(1),g()),2&n){const t=A().$implicit;_(1),Be(" ",t.description," ")}}const hV=function(n,e){return{nodeImage:n,prevNode:e}};function fV(n,e){if(1&n){const t=ne();m(0,"div",12),U("click",function(){const s=G(t).$implicit,o=A().$implicit,a=A(2);return W(o.columnPos===a.cardService.currentPos?a.selectNode(s):null)})("mouseenter",function(){const s=G(t).$implicit;return W(A(3).showDescription=s.description)})("mouseleave",function(){return G(t),W(A(3).showDescription="")}),L(1,"img",13),x(2,dV,2,1,"div",14),g()}if(2&n){const t=e.$implicit,r=A().$implicit,i=A(2);C("ngClass",ua(3,hV,r.columnPos===i.cardService.currentPos,r.columnPos<i.cardService.currentPos)),_(1),C("src",t.image,cr),_(1),C("ngIf",i.showDescription===t.description)}}function pV(n,e){if(1&n&&(m(0,"div"),x(1,fV,3,6,"div",11),g()),2&n){const t=e.$implicit;_(1),C("ngForOf",t.nodes)}}function gV(n,e){if(1&n&&(m(0,"div",9),x(1,pV,2,1,"div",10),g()),2&n){const t=A();_(1),C("ngForOf",t.displayNodes)}}function mV(n,e){1&n&&(m(0,"div",16)(1,"h2",6),S(2,"You Win the game! Thanks for playing!"),g()())}let yV=(()=>{class n{constructor(){this.player={},this.cardService={},this.enemyDeckEvent=new te,this.packSelectEvent=new te,this.relicSelectEvent=new te,this.enemyDeck=[],this.currentPos=0,this.nodes=[],this.displayNodes=[],this.showDescription=""}ngOnInit(){this.player.cardService=this.cardService,this.nodes=[new Lt(Me.Relic,1,this.cardService,0),new Lt(Me.Pack,1,this.cardService,0),new Lt(Me.Battle,1,this.cardService,1),new Lt(Me.Pack,1,this.cardService,2),new Lt(Me.Battle,1,this.cardService,3),new Lt(Ye(2,4),1,this.cardService,4),new Lt(Ye(2,4),1,this.cardService,4),new Lt(Ye(2,4),1,this.cardService,5),new Lt(Ye(2,4),1,this.cardService,5),new Lt(Ye(2,4),1,this.cardService,6),new Lt(Ye(2,4),1,this.cardService,6),new Lt(Ye(2,4),1,this.cardService,6),new Lt(Me.Battle,1,this.cardService,7),new Lt(Me.Relic,1,this.cardService,8),new Lt(Ye(1,5),1,this.cardService,9),new Lt(Me.Boss,1,this.cardService,10)],this.getDisplayNodes()}getDisplayNodes(){let t=Math.max(...this.nodes.map(r=>r.nodePos),0);for(let r=0;r<=t;r++){let i=this.nodes.filter(s=>s.nodePos===r);this.displayNodes.push(new uV(r,i))}}selectNode(t){t.nodePos===this.cardService.currentPos&&(t.Visit(this.player),this.cardService.currentPos++,t.nodeType===Me.Battle?this.enemyDeckEvent.emit():t.nodeType===Me.Relic?this.relicSelectEvent.emit():t.nodeType===Me.Boss?this.enemyDeckEvent.emit():t.nodeType===Me.Pack&&this.packSelectEvent.emit())}getFutureNodes(){return this.nodes.filter(r=>r.nodePos>this.player.currentPos)}getCurrentNodes(){return this.nodes.filter(r=>r.nodePos===this.player.currentPos)}getPreviousNodes(){return this.nodes.filter(r=>r.nodePos<this.player.currentPos)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-map"]],inputs:{player:"player",cardService:"cardService",currentPos:"currentPos"},outputs:{enemyDeckEvent:"enemyDeckEvent",packSelectEvent:"packSelectEvent",relicSelectEvent:"relicSelectEvent"},decls:28,vars:2,consts:[[1,"mapColors","legend"],["src","assets/battle.png",1,"centerElement"],["src","assets/random.png",1,"centerElement"],["src","assets/chest.png",1,"centerElement"],["src","assets/pack.png",1,"centerElement"],["src","assets/boss.png",1,"centerElement"],[1,"whiteFont","centerText"],["class","mapColors cardRow","style","margin-left: auto; margin-right: auto; width: 70%;",4,"ngIf","ngIfElse"],["youWin",""],[1,"mapColors","cardRow",2,"margin-left","auto","margin-right","auto","width","70%"],[4,"ngFor","ngForOf"],["class","node-container",3,"ngClass","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],[1,"node-container",3,"ngClass","click","mouseenter","mouseleave"],[3,"src"],["class","node-popup",4,"ngIf"],[1,"node-popup"],[1,"mapColors"]],template:function(r,i){if(1&r&&(m(0,"div",0)(1,"h2"),S(2,"Legend"),g(),L(3,"br"),m(4,"p"),S(5,"Battle"),g(),L(6,"img",1)(7,"br"),m(8,"p"),S(9,"Random Event"),g(),L(10,"img",2)(11,"br"),m(12,"p"),S(13,"Relics"),g(),L(14,"img",3)(15,"br"),m(16,"p"),S(17,"Card Pack"),g(),L(18,"img",4)(19,"br"),m(20,"p"),S(21,"Boss Battle"),g(),L(22,"img",5),g(),m(23,"h2",6),S(24,"Select where you want to go on the map"),g(),x(25,gV,2,1,"div",7),x(26,mV,3,0,"ng-template",null,8,xi)),2&r){const s=Mi(27);_(25),C("ngIf",i.currentPos<11)("ngIfElse",s)}},dependencies:[Gs,kt,at],styles:[".prevNode[_ngcontent-%COMP%]{opacity:.3}.legend[_ngcontent-%COMP%]{border:solid 5px black;padding:10px;float:right;width:10rem;text-align:center}.nodeImage[_ngcontent-%COMP%]{cursor:pointer;animation:_ngcontent-%COMP%_shrinkGrow 1.5s infinite ease-in-out;transition:transform .3s ease}@keyframes _ngcontent-%COMP%_shrinkGrow{0%{transform:scale(1.4)}50%{transform:scale(1)}to{transform:scale(1.4)}}.column[_ngcontent-%COMP%]{flex-direction:column}.node-container[_ngcontent-%COMP%]{position:relative}.node-popup[_ngcontent-%COMP%]{position:absolute;top:50px;left:50%;transform:translate(-50%);background-color:#fff;border:1px solid #ccc;z-index:10;width:200px;box-shadow:0 4px 8px #0003;font-size:14px;display:none;font-size:.7rem;width:10rem;height:auto;border:white solid 2px;background-image:linear-gradient(to bottom left,rgb(0,0,0),rgb(87,87,87));color:#fff;padding:5px 10px;border-radius:5px;font-family:Verdana,Geneva,Tahoma,sans-serif}.node-container[_ngcontent-%COMP%]:hover   .node-popup[_ngcontent-%COMP%]{display:block}"]})}return n})(),vV=(()=>{class n{constructor(){this.tutorialEvent=new te,this.newGameEvent=new te,this.debugEvent=new te,this.glossaryEvent=new te,this.survivalEvent=new te,this.gemBag=new I(0,1,1,1,1,1)}tutorial(){this.tutorialEvent.emit()}newGame(){this.newGameEvent.emit()}debug(){this.debugEvent.emit()}glossary(){this.glossaryEvent.emit()}survival(){this.survivalEvent.emit()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-main-menu"]],outputs:{tutorialEvent:"tutorialEvent",newGameEvent:"newGameEvent",debugEvent:"debugEvent",glossaryEvent:"glossaryEvent",survivalEvent:"survivalEvent"},decls:13,vars:2,consts:[[1,"mapColors","centerElement","mainMenuWidth"],[1,"cardRow",2,"justify-content","center"],[1,"gemIcon",3,"bag","imgWidth"],["id","mainTitle",1,"centerText"],["id","NewGameButton",1,"centerElement","buttonWidth",3,"click"],[1,"centerElement","buttonWidth",3,"click"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1),L(2,"app-gembag",2),g(),m(3,"h1",3),S(4,"Super Gem Bag Wars"),g(),L(5,"br"),m(6,"button",4),U("click",function(){return i.survival()}),S(7,"New Game"),g(),L(8,"br"),m(9,"button",5),U("click",function(){return i.glossary()}),S(10,"Tutorial"),g(),L(11,"br")(12,"br"),g()),2&r&&(_(2),C("bag",i.gemBag)("imgWidth",96))},dependencies:[Ea],styles:[".mainMenuWidth[_ngcontent-%COMP%]{width:80%;padding:10% 10px}.buttonWidth[_ngcontent-%COMP%]{width:10%}#mainTitle[_ngcontent-%COMP%]{font-size:200%;font-weight:700;text-shadow:6px 2px 1px #52470a66}#NewGameButton[_ngcontent-%COMP%]{width:13%}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}"]})}return n})();const{isArray:_V}=Array,{getPrototypeOf:wV,prototype:CV,keys:SV}=Object;function bD(n){if(1===n.length){const e=n[0];if(_V(e))return{args:e,keys:null};if(function bV(n){return n&&"object"==typeof n&&wV(n)===CV}(e)){const t=SV(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:DV}=Array;function DD(n){return Le(e=>function EV(n,e){return DV(e)?n(...e):n(e)}(n,e))}function ED(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let MD=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(F(kr),F(gn))};static#t=this.\u0275dir=oe({type:n})}return n})(),Vi=(()=>{class n extends MD{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Tt(n)))(i||n)}}();static#t=this.\u0275dir=oe({type:n,features:[Ie]})}return n})();const yr=new K("NgValueAccessor"),TV={provide:yr,useExisting:je(()=>Rp),multi:!0},IV=new K("CompositionEventMode");let Rp=(()=>{class n extends MD{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function kV(){const n=si()?si().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(F(kr),F(gn),F(IV,8))};static#t=this.\u0275dir=oe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&U("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Ke([TV]),Ie]})}return n})();const Bt=new K("NgValidators"),ci=new K("NgAsyncValidators");function LD(n){return null!=n}function BD(n){return ta(n)?wt(n):n}function VD(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function UD(n,e){return e.map(t=>t(n))}function jD(n){return n.map(e=>function xV(n){return!n.validate}(e)?e:t=>e.validate(t))}function Np(n){return null!=n?function HD(n){if(!n)return null;const e=n.filter(LD);return 0==e.length?null:function(t){return VD(UD(t,e))}}(jD(n)):null}function Op(n){return null!=n?function $D(n){if(!n)return null;const e=n.filter(LD);return 0==e.length?null:function(t){return function MV(...n){const e=vm(n),{args:t,keys:r}=bD(n),i=new ct(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;un(t[u]).subscribe(ut(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?ED(r,a):a),s.complete())}))}});return e?i.pipe(DD(e)):i}(UD(t,e).map(BD)).pipe(Le(VD))}}(jD(n)):null}function zD(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Fp(n){return n?Array.isArray(n)?n:[n]:[]}function ru(n,e){return Array.isArray(n)?n.includes(e):n===e}function qD(n,e){const t=Fp(e);return Fp(n).forEach(i=>{ru(t,i)||t.push(i)}),t}function KD(n,e){return Fp(e).filter(t=>!ru(n,t))}class YD{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Np(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Op(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Kt extends YD{get formDirective(){return null}get path(){return null}}class ui extends YD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ZD{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let QD=(()=>{class n extends ZD{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(F(ui,2))};static#t=this.\u0275dir=oe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&ra("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ie]})}return n})();const Ma="VALID",su="INVALID",Zs="PENDING",Aa="DISABLED";function ou(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class t0{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ma}get invalid(){return this.status===su}get pending(){return this.status==Zs}get disabled(){return this.status===Aa}get enabled(){return this.status!==Aa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(qD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(qD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(KD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(KD(e,this._rawAsyncValidators))}hasValidator(e){return ru(this._rawValidators,e)}hasAsyncValidator(e){return ru(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Zs,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Aa,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ma,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ma||this.status===Zs)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Aa:Ma}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Zs,this._hasOwnPendingAsyncValidator=!0;const t=BD(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new te,this.statusChanges=new te}_calculateStatus(){return this._allControlsDisabled()?Aa:this.errors?su:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zs)?Zs:this._anyControlsHaveStatus(su)?su:Ma}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ou(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function LV(n){return Array.isArray(n)?Np(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function BV(n){return Array.isArray(n)?Op(n):n||null}(this._rawAsyncValidators)}}const Qs=new K("CallSetDisabledState",{providedIn:"root",factory:()=>au}),au="always";function Ta(n,e,t=au){(function Hp(n,e){const t=function GD(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(zD(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function WD(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(zD(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();uu(e._rawValidators,i),uu(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function jV(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&n0(n,e)})}(n,e),function $V(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function HV(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&n0(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function UV(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function uu(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function n0(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function o0(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function a0(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const l0=class extends t0{constructor(e=null,t,r){super(function Vp(n){return(ou(n)?n.validators:n)||null}(t),function Up(n,e){return(ou(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ou(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=a0(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){o0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){o0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){a0(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},QV={provide:ui,useExisting:je(()=>qp)},d0=(()=>Promise.resolve())();let qp=(()=>{class n extends ui{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new l0,this._registered=!1,this.name="",this.update=new te,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Gp(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Rp?t=s:function WV(n){return Object.getPrototypeOf(n.constructor)===Vi}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function zp(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ta(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){d0.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&function $s(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}(r);d0.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function lu(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(r){return new(r||n)(F(Kt,9),F(Bt,10),F(ci,10),F(yr,10),F(Ic,8),F(Qs,8))};static#t=this.\u0275dir=oe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ke([QV]),Ie,In]})}return n})(),f0=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=rr({type:n});static#n=this.\u0275inj=Vn({})}return n})();const l3={provide:yr,useExisting:je(()=>hu),multi:!0};function w0(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let hu=(()=>{class n extends Vi{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=w0(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function c3(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Tt(n)))(i||n)}}();static#t=this.\u0275dir=oe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&U("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ke([l3]),Ie]})}return n})(),C0=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(w0(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||n)(F(gn),F(kr),F(hu,9))};static#t=this.\u0275dir=oe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})();const u3={provide:yr,useExisting:je(()=>Qp),multi:!0};function S0(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Qp=(()=>{class n extends Vi{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function d3(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Tt(n)))(i||n)}}();static#t=this.\u0275dir=oe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&U("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ke([u3]),Ie]})}return n})(),b0=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(S0(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(S0(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||n)(F(gn),F(kr),F(Qp,9))};static#t=this.\u0275dir=oe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})(),w3=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=rr({type:n});static#n=this.\u0275inj=Vn({imports:[f0]})}return n})(),S3=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Qs,useValue:t.callSetDisabledState??au}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=rr({type:n});static#n=this.\u0275inj=Vn({imports:[w3]})}return n})();function b3(n,e){if(1&n&&(m(0,"option",4),S(1),g()),2&n){const t=e.$implicit;C("value",e.index),_(1),dt(t.name)}}function D3(n,e){if(1&n&&(m(0,"option",4),S(1),g()),2&n){const t=e.$implicit;C("value",e.index),_(1),dt(t.name)}}function E3(n,e){if(1&n&&(m(0,"option",4),S(1),g()),2&n){const t=e.$implicit;C("value",e.index),_(1),dt(t.name)}}function M3(n,e){if(1&n&&(m(0,"option",4),S(1),g()),2&n){const t=e.$implicit;C("value",e.index),_(1),dt(t.name)}}let R0=(()=>{class n{constructor(){this.cardService={},this.deckStorage={},this.relicStorage={},this.heroStorage={},this.filterText="",this.selectedCard={},this.selectedRelic={},this.selectedHero={},this.selectedIndex=0,this.selectedRelicIndex=0,this.selectedHeroIndex=0,this.allCards=[],this.allRelics=[],this.allHeroes=[]}ngOnInit(){this.deckStorage=new jr(this.cardService),this.relicStorage=new Zc(this.cardService),this.heroStorage=new CD(this.cardService),this.allCards=this.deckStorage.getAllCards(p.Any),this.allRelics=this.relicStorage.getAllRelics(),this.allHeroes=this.heroStorage.getHeroes()}addHero(){this.selectedHero=this.allHeroes[this.selectedHeroIndex];let t={};this.selectedHero&&(t=(new qs).copyHero(this.selectedHero),t.cost=new I(0,0,0,0,0,0),t.zone=y.hero,t.owner=p.Self,this.cardService.hero=t)}addCard(t){this.selectedCard=this.allCards[this.selectedIndex];let r={};if(this.selectedCard){let i=new qs;switch(this.selectedCard.type){case R.Creature:r=i.copyCreature(this.selectedCard);break;case R.Spell:r=i.copySpell(this.selectedCard);break;case R.Mine:r=i.copyMine(this.selectedCard)}r.cost=new I(0,0,0,0,0,0),r.owner=t,r.zone=t==p.Self?y.hand:y.deck,this.cardService.cardList.push(r)}}addRelic(){let t=this.allRelics[this.selectedRelicIndex],r=this.cardService.playerService.player,i=new qs;r.addRelic(i.copyRelic(t))}filterCards(t){return""==t?this.allCards:this.allCards.filter(r=>r.name.toLowerCase().includes(t.toLowerCase()))}increaseXp(){this.cardService.hero.addXP(10)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-debug"]],inputs:{cardService:"cardService"},decls:25,vars:8,consts:[[1,"whiteFont"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"click"],[3,"value"]],template:function(r,i){1&r&&(m(0,"div")(1,"p",0),S(2,"Add to player"),g(),m(3,"select",1),U("ngModelChange",function(o){return i.selectedRelicIndex=o}),x(4,b3,2,2,"option",2),g(),m(5,"button",3),U("click",function(){return i.addRelic()}),S(6,"Add Relic"),g(),L(7,"br"),m(8,"select",1),U("ngModelChange",function(o){return i.selectedIndex=o}),x(9,D3,2,2,"option",2),g(),m(10,"button",3),U("click",function(){return i.addCard(2)}),S(11,"Add Card"),g(),m(12,"select",1),U("ngModelChange",function(o){return i.selectedHeroIndex=o}),x(13,E3,2,2,"option",2),g(),m(14,"button",3),U("click",function(){return i.addHero()}),S(15,"Add Hero"),g(),m(16,"button",3),U("click",function(){return i.increaseXp()}),S(17,"Increase XP"),g()(),m(18,"div")(19,"p",0),S(20,"Add to Enemy Deck"),g(),m(21,"select",1),U("ngModelChange",function(o){return i.selectedIndex=o}),x(22,M3,2,2,"option",2),g(),m(23,"button",3),U("click",function(){return i.addCard(1)}),S(24,"Add Card"),g()()),2&r&&(_(3),C("ngModel",i.selectedRelicIndex),_(1),C("ngForOf",i.allRelics),_(4),C("ngModel",i.selectedIndex),_(1),C("ngForOf",i.allCards),_(3),C("ngModel",i.selectedHeroIndex),_(1),C("ngForOf",i.allHeroes),_(8),C("ngModel",i.selectedIndex),_(1),C("ngForOf",i.allCards))},dependencies:[kt,C0,b0,hu,QD,qp]})}return n})();function A3(n,e){if(1&n){const t=ne();m(0,"app-relic",5),U("click",function(){const s=G(t).$implicit;return W(A(2).selectRelic(s))}),g()}2&n&&C("relic",e.$implicit)}function T3(n,e){if(1&n&&(m(0,"div"),x(1,A3,1,1,"app-relic",4),g()),2&n){const t=A();_(1),C("ngForOf",t.relics)}}let k3=(()=>{class n{constructor(){this.cardService={},this.factions=[],this.mode=iD.Random,this.rewardTypes=[],this.selectedRelic=new te,this.proceed=new te,this.relicManager={},this.cardFactory=new ai(this.cardService),this.rewards=[],this.showRelics=!1,this.relics=[]}ngOnInit(){this.relicManager=new Zc(this.cardService),this.getRelics()}getRelics(){this.relics=[];for(let t=0;t<3;t++){let r=this.relicManager.getRandomRelic();this.relics.includes(r)?t--:this.relics.push(r)}}selectRelic(t){this.getRelics(),this.selectedRelic.emit(t)}done(){this.relics=[],this.getRelics(),this.proceed.emit()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-chest"]],inputs:{cardService:"cardService",factions:"factions",mode:"mode",rewardTypes:"rewardTypes",showRelics:"showRelics"},outputs:{selectedRelic:"selectedRelic",proceed:"proceed"},decls:5,vars:1,consts:[[1,"mainMargins","mapColors","centerElement"],[1,"centerElement","relicBar"],[1,"centerText"],[4,"ngIf"],["class","relic",3,"relic","click",4,"ngFor","ngForOf"],[1,"relic",3,"relic","click"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"h2",2),S(3,"Select a new Relic"),g(),x(4,T3,2,1,"div",3),g()()),2&r&&(_(4),C("ngIf",!0===i.showRelics))},dependencies:[kt,at,wD],styles:[".relic[_ngcontent-%COMP%]{cursor:pointer;margin-left:15px;margin-right:15px}.relicBar[_ngcontent-%COMP%]{width:26%}"]})}return n})();function I3(n,e){if(1&n){const t=ne();m(0,"app-card",5),U("click",function(){const s=G(t).$implicit;return W(A(2).selectCard(s))}),g()}2&n&&C("card",e.$implicit)}function P3(n,e){if(1&n&&(m(0,"div")(1,"h2",2),S(2,"Select a new card for your deck"),g(),m(3,"div",3),x(4,I3,1,1,"app-card",4),g()()),2&n){const t=A();_(4),C("ngForOf",t.displayCards)}}let x3=(()=>{class n{constructor(){this.cardservice={},this.cardAmount=6,this.faction=D.Any,this.showCards=!0,this.cardSelectedEvent=new te,this.proceed=new te,this.deckStorage={},this.displayCards=[]}ngOnInit(){this.deckStorage=new jr(this.cardservice),this.getCards(),this.showCards=!0}getCards(){this.displayCards=[];let t=this.deckStorage.getStarterDeck(p.Self,this.cardservice.selectedFactions);for(let r=0;r<this.cardAmount;r++){let i=Ye(0,t.length),s=t[i];this.displayCards.includes(s)||(this.displayCards.push(s),t.slice(i,1))}}selectCard(t){this.cardservice.cardList.push(t),this.getCards(),this.cardSelectedEvent.emit(t),this.done()}done(){this.proceed.emit()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-pack"]],inputs:{cardservice:"cardservice",cardAmount:"cardAmount",faction:"faction",showCards:"showCards"},outputs:{cardSelectedEvent:"cardSelectedEvent",proceed:"proceed"},decls:2,vars:1,consts:[[1,"mapColors"],[4,"ngIf"],[1,"centerText"],["id","PackCenter",1,"selectCard","cardRow"],[3,"card","click",4,"ngFor","ngForOf"],[3,"card","click"]],template:function(r,i){1&r&&(m(0,"div",0),x(1,P3,5,1,"div",1),g()),2&r&&(_(1),C("ngIf",i.showCards))},dependencies:[kt,at,Zn],styles:[".selectCard[_ngcontent-%COMP%]:hover{cursor:pointer}.packHeight[_ngcontent-%COMP%]{min-height:80%}#PackCenter[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:80%}"]})}return n})(),N0=(()=>{class n{constructor(){this.cardService={},this.upgrade={},this.selected=new te,this.displayCard={},this.upgradedCard={},this.deckstorage=new jr(this.cardService),this.kTip=new Kc}ngOnInit(){this.displayCard=this.cardService.getCardName(this.upgrade.name,p.Self),this.upgradedCard.abilities=this.displayCard.abilities,this.upgradedCard=this.deckstorage.getCardByName(this.displayCard.name,p.Self),this.upgradedCard instanceof V&&this.displayCard instanceof V&&(this.upgradedCard.attack=this.displayCard.attack,this.upgradedCard.hp=this.displayCard.hp,this.upgradedCard.speed=this.displayCard.speed,this.upgradedCard.keywords=this.displayCard.keywords),this.upgrade.applyUpgrade(this.upgradedCard)}select(){this.selected.emit(this.upgrade)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-upgrade"]],inputs:{cardService:"cardService",upgrade:"upgrade"},outputs:{selected:"selected"},decls:12,vars:5,consts:[[1,"centerText",2,"color","yellow"],[1,"row","centerElement"],[1,"",3,"card"],[1,""],[1,"",3,"card","compareCard"],[3,"click"]],template:function(r,i){1&r&&(m(0,"p",0),S(1),g(),m(2,"p"),S(3),g(),m(4,"div",1),L(5,"app-card",2),m(6,"p",3),S(7," ==>"),g(),L(8,"app-card",4),g(),m(9,"button",5),U("click",function(){return i.select()}),S(10,"Upgrade"),g(),L(11,"br")),2&r&&(_(1),dt(i.upgrade.name),_(2),dt(i.upgrade.description),_(2),C("card",i.displayCard),_(3),C("card",i.upgradedCard)("compareCard",i.displayCard))},dependencies:[Zn],styles:[".row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-evenly}.row-center[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center}.row-start[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.row-end[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-end}"]})}return n})();function R3(n,e){if(1&n){const t=ne();m(0,"div")(1,"app-chest",3),U("selectedRelic",function(i){return G(t),W(A(2).outputRelic(i))}),g()()}if(2&n){const t=A(2);_(1),C("showRelics",1===t.currentReward)("factions",t.factions)("cardService",t.cardService)}}function N3(n,e){if(1&n){const t=ne();m(0,"div")(1,"app-pack",4),U("cardSelectedEvent",function(i){return G(t),W(A(2).outputCard(i))}),g()()}if(2&n){const t=A(2);_(1),C("showCards",0===t.currentReward)("cardservice",t.cardService)}}function O3(n,e){if(1&n&&(m(0,"div"),L(1,"app-upgrade",5),g()),2&n){const t=A(2);_(1),C("cardService",t.cardService)}}function F3(n,e){if(1&n&&(m(0,"div")(1,"p",2),S(2),g(),m(3,"p",2),S(4),g(),x(5,R3,2,3,"div",0),x(6,N3,2,2,"div",0),x(7,O3,2,1,"div",0),g()),2&n){const t=A();_(2),Ti("Reward Number: ",t.rewardsReceived+1,"/",t.rewardMax,""),_(2),Be("Reward Roll: ",t.currentReward,""),_(1),C("ngIf",1===t.currentReward),_(1),C("ngIf",0===t.currentReward),_(1),C("ngIf",2===t.currentReward)}}let O0=(()=>{class n{constructor(){this.cardService={},this.rewardMax=3,this.rewardsReceived=0,this.factions=[],this.currentReward=Fi.Card,this.proceed=new te,this.relicSelected=new te,this.cardSelected=new te}selectRandomReward(){Math.floor(2*Math.random()),this.currentReward=1}reset(){this.rewardsReceived=0}outputRelic(t){this.relicSelected.emit(t),this.done()}outputCard(t){this.cardSelected.emit(t),this.done()}done(){this.rewardsReceived<this.rewardMax?(this.rewardsReceived++,this.selectRandomReward(),this.rewardsReceived>=this.rewardMax&&this.proceed.emit()):this.proceed.emit()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-reward"]],inputs:{cardService:"cardService",rewardMax:"rewardMax",factions:"factions",currentReward:"currentReward"},outputs:{proceed:"proceed",relicSelected:"relicSelected",cardSelected:"cardSelected"},decls:3,vars:1,consts:[[4,"ngIf"],[1,"centerElement",3,"click"],[1,"whiteFont",2,"text-align","center"],[3,"showRelics","factions","cardService","selectedRelic"],[3,"showCards","cardservice","cardSelectedEvent"],[3,"cardService"]],template:function(r,i){1&r&&(x(0,F3,8,6,"div",0),m(1,"button",1),U("click",function(){return i.done()}),S(2,"Skip"),g()),2&r&&C("ngIf",i.rewardsReceived<i.rewardMax)},dependencies:[at,k3,x3,N0]})}return n})(),L3=(()=>{class n{constructor(){this.step=0,this.cardService=new hD,this.player=new ft(this.cardService),this.enemy=new mr(this.cardService),this.game=new Qc(this.player,this.enemy,this.cardService),this.tutorialDone=new te,this.cardFactory=new ai(this.cardService),this.cardService.makePlayerService(new ft(this.cardService),new mr(this.cardService)),this.decks=new jr(this.cardService),this.displayCard=this.decks.getCardByName("Battle Dwarf",p.Self),this.displayMine=this.cardFactory.generateBasicMine(T.Ruby);let t=this.decks.getCardByName("Squire",p.Self);t.zone=y.hand;let r=this.decks.getCardByName("Squire",p.Self);r.zone=y.play,r.owner=p.Opponent;let i=this.decks.getCardByName("Squire",p.Self);i.zone=y.play,i.owner=p.Self;let s=this.decks.getCardByName("fire bolt",p.Self);s.zone=y.hand;let o=this.decks.getCardByName("dwarf soldier",p.Opponent);o.zone=y.deck,this.cardService.cardList.push(t,r,i,s,o);let a=this.cardFactory.generateBasicMine(T.Ruby);a.zone=y.hand,a.owner=p.Self,this.cardService.cardList.push(a)}nextStep(){this.step++}prevStep(){this.step--,this.step<0&&(this.step=0)}openPopup(t){document.getElementById("popup-image"),document.getElementById("")}done(){this.tutorialDone.emit()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-interactive-tutorial"]],outputs:{tutorialDone:"tutorialDone"},decls:3,vars:0,consts:[["width","560","height","315","src","https://www.youtube.com/embed/W2PkelDGUYA?si=Cu-r95SValCXUe5r","title","YouTube video player","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","referrerpolicy","strict-origin-when-cross-origin","allowfullscreen","",1,"centerElement",2,"margin-top","10%"],[1,"centerElement",3,"click"]],template:function(r,i){1&r&&(L(0,"iframe",0),m(1,"button",1),U("click",function(){return i.done()}),S(2,"Back to Main Menu"),g())},styles:[".popup[_ngcontent-%COMP%]{display:none;position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:#0006}.popup-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:15% auto;padding:20px;border:1px solid #888;width:80%;max-width:600px;text-align:center}.close-btn[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700}.close-btn[_ngcontent-%COMP%]:hover, .close-btn[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}#popup-image[_ngcontent-%COMP%]{max-width:100%;height:auto}"]})}return n})();function B3(n,e){if(1&n){const t=ne();m(0,"div")(1,"app-card",3),U("click",function(){return G(t),W(A().toggleShowDiscard())}),g()()}if(2&n){const t=A();_(1),C("card",t.discardedCards[t.discardedCards.length-1])}}function V3(n,e){1&n&&L(0,"app-card",9),2&n&&C("card",e.$implicit)}function U3(n,e){if(1&n){const t=ne();m(0,"div",4)(1,"p",5),S(2,"Discard Pile"),g(),m(3,"button",6),U("click",function(){return G(t),W(A().toggleShowDiscard())}),S(4,"X"),g(),m(5,"div",7),x(6,V3,1,1,"app-card",8),g()()}if(2&n){const t=A();_(6),C("ngForOf",t.discardedCards)}}let F0=(()=>{class n{constructor(){this.showDiscard=!1,this.controller=p.Any,this.cardService={},this.discardedCards=[]}toggleShowDiscard(){this.showDiscard=!this.showDiscard}getGraveyard(){return this.discardedCards}getTopCard(){return this.discardedCards.length>0?this.discardedCards[this.discardedCards.length-1]:{}}isEmpty(){return 0===this.discardedCards.length}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-discard-pile"]],inputs:{controller:"controller",cardService:"cardService",discardedCards:"discardedCards"},decls:3,vars:2,consts:[[1,"cardDimensions","discardPile"],[4,"ngIf"],["class"," uiPanel","id","DiscardPane",4,"ngIf"],[3,"card","click"],["id","DiscardPane",1,"uiPanel"],[1,"whiteFont"],[3,"click"],[1,"cardRow"],["style","padding: 5px;",3,"card",4,"ngFor","ngForOf"],[2,"padding","5px",3,"card"]],template:function(r,i){1&r&&(m(0,"div",0),x(1,B3,2,1,"div",1),g(),x(2,U3,7,1,"div",2)),2&r&&(_(1),C("ngIf",i.discardedCards.length>0),_(1),C("ngIf",i.showDiscard))},dependencies:[kt,at,Zn],styles:[".pileDimensions[_ngcontent-%COMP%]{min-height:230px;width:auto;min-width:165px;max-width:auto;z-index:1001;border-radius:3%}.emptyWidth[_ngcontent-%COMP%]{width:165px}.cardMargin[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}.cardRow[_ngcontent-%COMP%]{flex-wrap:wrap}#DiscardPane[_ngcontent-%COMP%]{position:fixed;top:0%;left:0%;border:solid 1px white;background-color:#000;padding:12px;z-index:100}"]})}return n})();function j3(n,e){1&n&&L(0,"img",3)}const H3=function(n){return{width:n}};function $3(n,e){if(1&n&&(m(0,"div",1),x(1,j3,1,0,"img",2),g()),2&n){const t=A();C("ngStyle",Wn(2,H3,t.getWallLength())),_(1),C("ngForOf",t.calcDisplay())}}let L0=(()=>{class n{constructor(){this.wall={}}calcDisplay(){let t=this.wall.hp/5;return t=Math.ceil(t),t<0&&(t=0),Array(t).fill(0)}getWallLength(){return 24*Math.ceil(this.wall.hp/5)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-wall"]],inputs:{wall:"wall"},decls:4,vars:2,consts:[["class","cardRow wallSpacing",3,"ngStyle",4,"ngIf"],[1,"cardRow","wallSpacing",3,"ngStyle"],["class","","width","24px","height","24px","src","assets/wall.png",4,"ngFor","ngForOf"],["width","24px","height","24px","src","assets/wall.png",1,""]],template:function(r,i){1&r&&(m(0,"div")(1,"p"),S(2),g(),x(3,$3,2,4,"div",0),g()),2&r&&(_(2),Be("Wall HP: ",i.wall.hp,""),_(1),C("ngIf",i.calcDisplay().length>0))},dependencies:[kt,at,Ws],styles:[".wallSpacing[_ngcontent-%COMP%]{justify-content:center}"]})}return n})();function z3(n,e){if(1&n&&(m(0,"div"),L(1,"app-tool-tip",15),g()),2&n){const t=e.$implicit,r=A(2);_(1),C("title",r.kToolTip.getToolTipName(t))("text",r.kToolTip.getTooltip(t))}}const G3=function(n,e){return{"top.px":n,"left.px":e}};function W3(n,e){if(1&n&&(m(0,"div",14),x(1,z3,2,2,"div",13),g()),2&n){const t=A();C("ngStyle",ua(2,G3,t.popupY1,t.popupX1)),_(1),C("ngForOf",t.card.keywords)}}function q3(n,e){1&n&&L(0,"img",16),2&n&&$n("src",A().card.image,cr)}function K3(n,e){if(1&n&&(m(0,"span",17),L(1,"img",18),S(2,": "),m(3,"span",19),S(4),g(),L(5,"img",20),S(6,": "),m(7,"span",19),S(8),g(),L(9,"img",21),S(10,": "),m(11,"span",19),S(12),g()()),2&n){const t=A();_(3),C("ngStyle",t.getStatStyle(t.card,"atk")),_(1),dt(t.converter.convertToCreature(t.card).attack),_(3),C("ngStyle",t.getStatStyle(t.card,"hp")),_(1),dt(t.converter.convertToCreature(t.card).hp),_(3),C("ngStyle",t.getStatStyle(t.card,"spd")),_(1),Be(" ",t.converter.convertToCreature(t.card).speed,"")}}function Y3(n,e){if(1&n&&(m(0,"span")(1,"p",17),S(2,"INCOME: "),L(3,"app-gembag",22),g()()),2&n){const t=A();_(3),C("bag",t.converter.convertToMine(t.card).incomeBag)}}function Z3(n,e){1&n&&L(0,"img",23)}function Q3(n,e){1&n&&L(0,"img",24)}function X3(n,e){if(1&n){const t=ne();m(0,"button",25),U("click",function(){return G(t),W(A().select())}),S(1),g()}if(2&n){const t=A();_(1),Be("Target ",t.card.name,"")}}function J3(n,e){if(1&n){const t=ne();m(0,"button",28),U("click",function(){return G(t),W(A().$implicit.doEffects())}),S(1,"Ability"),g()}}function eU(n,e){1&n&&(m(0,"button",30),S(1,"Ability"),g())}function tU(n,e){1&n&&x(0,eU,2,0,"button",29),2&n&&C("ngIf",1!==A(2).card.owner)}function nU(n,e){if(1&n&&(m(0,"div"),x(1,J3,2,0,"button",26),x(2,tU,1,1,"ng-template",null,27,xi),g()),2&n){const t=e.$implicit,r=Mi(3),i=A();_(1),C("ngIf",i.card.hasActivatedAbility()&&t.canAffordCosts(i.card)&&2===i.card.owner)("ngIfElse",r)}}const B0=function(n){return{backgroundColor:n}},rU=function(n,e,t,r,i){return{awake:n,asleep:e,dead:t,blocked:r,blocking:i}},iU=function(){return{backgroundColor:"black"}};let V0=(()=>{class n{constructor(t){this.fcs=t,this.card={},this.cardEmitter=new te,this.bgColor="grey",this.fgColor="#cccccc",this.gradientColor="radialGradient(bgColor, gradientColor)",this.type=R[this.card.type],this.selected=!1,this.kToolTip=new Kc,this.converter=new ba,this.popupVisible=!1,this.popupX1=100,this.popupY1=100}ngOnInit(){this.bgColor=this.fcs.getBgColor(this.card.factions[0]),this.fgColor=this.fcs.getFgColor(this.card.factions[0]),this.gradientColor=`radialGradient(${this.bgColor}, ${this.fgColor})`}select(){this.cardEmitter.emit(this.card)}getTypeString(t){return R[t]}getStatStyle(t,r){const i=this.converter.convertToCreature(t);let s=0,o=0;switch(r){case"hp":s=i.baseHp,o=i.hp;break;case"atk":s=i.baseAttack,o=i.attack;break;case"spd":s=i.baseSpeed,o=i.speed}return o>s?{color:"#44e36e"}:o<s?{color:"red"}:{color:"white"}}getActivatedAbilities(){return this.card.abilities.filter(r=>r instanceof St),this.card.abilities.filter(r=>r instanceof St)}showPopup(t){this.popupVisible=!0,this.updatePopupPosition(t)}movePopup(t){this.updatePopupPosition(t)}hidePopup(){this.popupVisible=!1}updatePopupPosition(t){this.popupX1=t.clientX,this.popupY1=t.clientY}static#e=this.\u0275fac=function(r){return new(r||n)(F(mD))};static#t=this.\u0275cmp=be({type:n,selectors:[["app-card-small"]],inputs:{card:"card"},outputs:{cardEmitter:"cardEmitter"},decls:15,vars:25,consts:[["class","popup toolTip",3,"ngStyle",4,"ngIf"],[1,"smallCardContainer"],[1,"largeCard",3,"card"],[1,"cardBorder","hoverZoom",3,"ngStyle","ngClass","mouseover","mousemove","mouseout"],[1,"mainFont","titleBoxWidth",3,"ngStyle"],[1,"titleText"],[1,"cardOutline","cardImageSmall",2,"margin","3px",3,"ngStyle"],["class","centerElement","height","auto","width","103px",3,"src",4,"ngIf"],["class","statDisplay blackBg",4,"ngIf"],[4,"ngIf"],["class","attackingIcon","src","assets/attackSymbol.png","height","auto","width","50%",4,"ngIf"],["class","blockingIcon","src","assets/HP Symbol.png","height","auto","width","50%",4,"ngIf"],[3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"popup","toolTip",3,"ngStyle"],[3,"title","text"],["height","auto","width","103px",1,"centerElement",3,"src"],[1,"statDisplay","blackBg"],["src","assets/attackSymbol.png","width","16px","height","auto",1,"statIcon"],[3,"ngStyle"],["src","assets/HP Symbol.png","width","16px","height","auto",1,"statIcon"],["src","assets/Speed Symbol.png","width","16px","height","auto",1,"statIcon"],[3,"bag"],["src","assets/attackSymbol.png","height","auto","width","50%",1,"attackingIcon"],["src","assets/HP Symbol.png","height","auto","width","50%",1,"blockingIcon"],[3,"click"],["class","centerElement",3,"click",4,"ngIf","ngIfElse"],["greyButton",""],[1,"centerElement",3,"click"],["style","opacity: 50%;","class","centerElement","disabled","",4,"ngIf"],["disabled","",1,"centerElement",2,"opacity","50%"]],template:function(r,i){1&r&&(x(0,W3,2,5,"div",0),m(1,"div",1),L(2,"app-card",2),m(3,"div",3),U("mouseover",function(o){return i.showPopup(o)})("mousemove",function(o){return i.movePopup(o)})("mouseout",function(){return i.hidePopup()}),m(4,"div",4)(5,"p",5),S(6),g()(),m(7,"div",6),x(8,q3,1,1,"img",7),x(9,K3,13,6,"span",8),x(10,Y3,4,1,"span",9),g(),x(11,Z3,1,0,"img",10),x(12,Q3,1,0,"img",11),g()(),x(13,X3,2,1,"button",12),x(14,nU,4,2,"div",13)),2&r&&(C("ngIf",i.popupVisible&&i.card.keywords.length>0),_(2),C("card",i.card),_(1),C("ngStyle",Wn(14,B0,i.bgColor))("ngClass",function KC(n,e,t,r,i,s,o,a){const l=Ht()+n,c=N(),u=Rn(c,l,t,r,i,s);return Ft(c,l+4,o)||u?dr(c,l+5,a?e.call(a,t,r,i,s,o):e(t,r,i,s,o)):Qo(c,l+5)}(16,rU,0===i.card.type&&!0===i.converter.convertToCreature(i.card).awake,!1===i.converter.convertToCreature(i.card).awake,i.converter.convertToCreature(i.card).hp<=0,i.converter.convertToCreature(i.card).blocked,i.converter.convertToCreature(i.card).blocking)),_(1),C("ngStyle",Pi(22,iU)),_(2),Be("",i.card.name," "),_(1),C("ngStyle",Wn(23,B0,i.fgColor)),_(1),C("ngIf",""!==i.card.image&&void 0!==i.card.image),_(1),C("ngIf",0===i.card.type||11===i.card.type),_(1),C("ngIf",2===i.card.type),_(1),C("ngIf",0===i.card.type&&i.converter.convertToCreature(i.card).attacking),_(1),C("ngIf",0===i.card.type&&i.converter.convertToCreature(i.card).blocking),_(1),C("ngIf",i.card.targetableCard),_(1),C("ngForOf",i.getActivatedAbilities()))},dependencies:[Gs,kt,at,Ws,Zn,Ea,yD],styles:['p[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;font-weight:700}.cardBorder[_ngcontent-%COMP%]{border-radius:4%;width:6rem;padding:3px;margin-right:auto}.cardOutline[_ngcontent-%COMP%]{border:solid 1px black;border-radius:5%;margin:1px}.titleText[_ngcontent-%COMP%]{font-family:Verdana,Tahoma,sans-serif;font-weight:700;font-size:63%;text-align:center;color:#fff}.titleBoxWidth[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;min-height:20px}.flexBox[_ngcontent-%COMP%]{display:flex}.flexSpace[_ngcontent-%COMP%]{justify-content:space-between}.cardImage[_ngcontent-%COMP%]{min-height:100px;height:75%}.blackBg[_ngcontent-%COMP%]{background-color:#000}.foregroundColor[_ngcontent-%COMP%]{opacity:.9}.typeText[_ngcontent-%COMP%]{color:#fff;text-align:center}.typeBox[_ngcontent-%COMP%]{height:17px;margin-top:2px;margin-bottom:2px;font-size:13px;font-family:Arial,Helvetica,sans-serif;background:rgba(30,30,30,.5);opacity:1}.typeBoxBg[_ngcontent-%COMP%]{background-color:"#373737"}.textBox[_ngcontent-%COMP%]{height:100px;text-align:center;font-family:Arial,Helvetica,sans-serif}.centerElement[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.cardText[_ngcontent-%COMP%]{font-size:12px}.statDisplay[_ngcontent-%COMP%]{border:ridge 2px #737373;border-radius:10%;margin-bottom:2px;font-size:.6em;font-weight:700;font-family:Arial,Helvetica,sans-serif;text-align:center;color:#fff;position:absolute;bottom:1px;left:5px;right:5px;overflow:hidden;white-space:nowrap}.whiteFont[_ngcontent-%COMP%]{color:#fff}.asleep[_ngcontent-%COMP%]{transform:rotate(90deg);margin-bottom:18px}.largeCard[_ngcontent-%COMP%]{visibility:hidden;position:fixed;z-index:1;opacity:0;left:0;top:36%;transition:visibility .2s linear .2s;-webkit-user-select:none;user-select:none;transform:scale(1)}.toolTip[_ngcontent-%COMP%]{position:fixed}.smallCardContainer[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;transition-delay:.1s;position:relative}@media screen and (max-width: 1250px){.smallCardContainer[_ngcontent-%COMP%]{bottom:80%}}#Hand[_ngcontent-%COMP%]:hover   .largeCard[_ngcontent-%COMP%]{visibility:visible;opacity:1;transform:scale(1.1);transition:transform .5s ease-in-out;transition:opacity .3s ease-in-out;transform:translate(0);transition-delay:2s;z-index:99999}.smallCardContainer[_ngcontent-%COMP%]:hover   .largeCard[_ngcontent-%COMP%]{visibility:visible;opacity:1;transition:opacity .3s ease-in-out;transform:translateY(20px);transition-delay:.1s}.smallCardContainer[_ngcontent-%COMP%]:hover{border:1px solid #281cae;border-radius:4%;margin-bottom:0}.smallCardContainer[_ngcontent-%COMP%]:hover, .attackingIcon[_ngcontent-%COMP%]:hover, .blockingIcon[_ngcontent-%COMP%]:hover{opacity:1}.statIcon[_ngcontent-%COMP%]{margin:0 2px;width:16%}.asleep[_ngcontent-%COMP%], .awake[_ngcontent-%COMP%]{transition:width 2s,height 2s,transform .3s}.asleep[_ngcontent-%COMP%]{transform:rotate(90deg)}.awake[_ngcontent-%COMP%]{transform:rotate(0)}.dead[_ngcontent-%COMP%]{opacity:.5}.combatIcon[_ngcontent-%COMP%]{display:none}.blocking[_ngcontent-%COMP%]:hover   .combatIcon[_ngcontent-%COMP%]{display:block;position:relative;top:-100px}.attackingIcon[_ngcontent-%COMP%], .blockingIcon[_ngcontent-%COMP%]{position:absolute;bottom:1rem;left:2rem;opacity:.7}.canCast[_ngcontent-%COMP%]{border:1px solid green}.cantCast[_ngcontent-%COMP%]{border:1px solid red}']})}return n})();function sU(n,e){if(1&n){const t=ne();m(0,"app-card",1),U("dblclick",function(){return G(t),W(A().playHero())}),g()}if(2&n){const t=A();C("card",t.hero)("playable",t.player.checkIfPlayable(t.hero,t.game))}}let oU=(()=>{class n{constructor(){this.hero={},this.cardService={},this.player={},this.game={}}ngOnInit(){}playHero(){this.hero.resetStats(),this.player.playCard(this.hero,this.game),console.log(this.hero)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-hero"]],inputs:{hero:"hero",cardService:"cardService",player:"player",game:"game"},decls:1,vars:1,consts:[["class","heroPane",3,"card","playable","dblclick",4,"ngIf"],[1,"heroPane",3,"card","playable","dblclick"]],template:function(r,i){1&r&&x(0,sU,1,2,"app-card",0),2&r&&C("ngIf",6===i.hero.zone)},dependencies:[at,Zn],styles:[".heroPane[_ngcontent-%COMP%]{position:absolute;bottom:0;right:14%}"]})}return n})();function aU(n,e){if(1&n&&(m(0,"div",11),L(1,"app-wall",12),m(2,"p",13),S(3),g()()),2&n){const t=A();_(1),C("wall",t.Player.wall),_(2),Be("Your Life: ",t.Player.hp,"")}}function lU(n,e){if(1&n&&L(0,"app-hero",14),2&n){const t=A();C("player",t.Player)("game",t.game)("hero",t.Player.cardService.hero)("player",t.Player)("cardService",t.Player.cardService)}}function cU(n,e){if(1&n){const t=ne();m(0,"button",19),U("click",function(){G(t);const i=A(2).index;return W(A().toggleAttack(i))}),S(1,"Attack"),g()}}function uU(n,e){if(1&n&&(m(0,"div"),x(1,cU,2,0,"button",18),g()),2&n){const t=A().$implicit,r=A();_(1),C("ngIf",!t.attacking&&!t.keywords.includes(7)&&r.game.currentTurn===r.Player&&2!==r.game.currentPhase)}}function dU(n,e){if(1&n){const t=ne();m(0,"button",19),U("click",function(){G(t);const i=A().index;return W(A().toggleAttack(i))}),S(1,"X Cancel Attack"),g()}}function hU(n,e){if(1&n){const t=ne();m(0,"button",19),U("click",function(){G(t);const i=A(2).$implicit;return W(A().game.combatManager.setBlocker(i))}),S(1,"Block"),g()}}function fU(n,e){if(1&n){const t=ne();m(0,"button",21),U("click",function(){G(t);const i=A(2).$implicit;return W(A().game.combatManager.unsetBlocker(i))}),S(1,"Cancel Block"),g()}}function pU(n,e){if(1&n&&(m(0,"div"),x(1,hU,2,0,"button",18),x(2,fU,2,0,"button",20),g()),2&n){const t=A().$implicit,r=A();_(1),C("ngIf",r.cardConverter.convertToCreature(t).canBlock()),_(1),C("ngIf",r.cardConverter.convertToCreature(t).blocking)}}function gU(n,e){if(1&n){const t=ne();m(0,"div",null,15)(2,"app-card-small",16),U("cardEmitter",function(i){return G(t),W(A().targetSelected(i))}),g(),x(3,uU,2,1,"div",17),x(4,dU,2,0,"button",18),x(5,pU,3,2,"div",17),g()}if(2&n){const t=e.$implicit,r=e.index,i=A();_(2),ra("attacker",i.game.combatManager.isFighting(t)&&i.game.currentTurn===i.Player)("blocker",i.game.combatManager.isFighting(t)&&i.game.currentTurn!==i.Player),yc("id","player",r,""),C("card",t),_(1),C("ngIf",t.awake&&!t.firstTurn),_(1),C("ngIf",t.attacking),_(1),C("ngIf",i.Player.defending&&!0===i.cardConverter.convertToCreature(t).awake&&!1===i.cardConverter.convertToCreature(t).attacking)}}function mU(n,e){if(1&n&&(m(0,"div"),L(1,"app-card-small",22),g()),2&n){const t=e.$implicit;_(1),C("card",t)}}function yU(n,e){1&n&&L(0,"img",23)}function vU(n,e){if(1&n){const t=ne();m(0,"div",24)(1,"app-card",25),U("dblclick",function(){const s=G(t).$implicit,o=A();return W(o.Player.playCard(s,o.game))}),g()()}if(2&n){const t=e.$implicit,r=A();_(1),C("card",t)("playable",r.Player.checkIfPlayable(t,r.game))("animateEnter",!0)}}let _U=(()=>{class n{handleKeyboardA(t){let r=this.Player.getCreatures();if(this.Player.canAttack()&&this.game.currentTurn===this.Player&&this.game.currentPhase===ee.main)for(let i=0;i<r.length;i++){let s=r[i];!s.firstTurn&&!s.keywords.includes(7)&&this.toggleAttack(i)}}constructor(t){this.animationService=t,this.Player={},this.game={},this.rotStart=355,this.rotEnd=365,this.targetingMode=!1,this.selected={},this.possibleTargets=[],this.drawnCards=[],this.cardConverter=new ba,this.showMarket=!1,this.popupVisible=!1,this.popupX=100,this.popupY=100}ngOnInit(){}toggleMarket(){this.showMarket=!this.showMarket}selectTarget(t){this.selected=this.possibleTargets[t]}toggleAttack(t){let r=this.Player.getCreatures()[t];r.attacking=!r.attacking,r.awake=!!r.keywords.includes(b.Sentry)||!r.awake,r.blocking=!1,this.Player.attacking=this.Player.getAttackers().length>0,this.game.currentPhase=this.Player.attacking?ee.attackers:ee.main,this.game.phaseDisplay=ee[this.game.currentPhase]}targetSelected(t){this.Player.effectStack.length>0&&(this.Player.effectStack[0].doEffectSingle(t),this.Player.effectStack.splice(0,1),this.turnOffTargetting(this.Player.getCreatures()))}playSelected(t){this.Player.playCard(t,this.game),this.Player.effectStack=[]}turnOnTargetting(t){for(let r=0;r<t.length;r++)t[r].targetableCard=!0}turnOffTargetting(t){for(let r=0;r<t.length;r++)t[r].targetableCard=!1}getRotAmount(t){return(this.rotEnd-this.rotStart)/this.Player.getHand().length*t}showPopup(t){this.popupVisible=!0,this.updatePopupPosition(t)}movePopup(t){this.updatePopupPosition(t)}hidePopup(){this.popupVisible=!1}updatePopupPosition(t){this.popupX=t.clientX+10,this.popupY=t.clientY+10}static#e=this.\u0275fac=function(r){return new(r||n)(F(Cn))};static#t=this.\u0275cmp=be({type:n,selectors:[["app-player"]],hostBindings:function(r,i){1&r&&U("keyup.a",function(o){return i.handleKeyboardA(o)},0,nc)},inputs:{Player:"Player",game:"game"},decls:12,vars:9,consts:[["class","uiPanel paneBg","id","LifeDisplay",4,"ngIf"],[3,"player","game","hero","cardService",4,"ngIf"],[1,"cardRow","creatureDisplay","uiPanel"],[4,"ngFor","ngForOf"],[1,"cardRow"],["id","",1,"flexCenter"],[2,"float","left"],[3,"discardedCards","controller","cardService"],["id","CardBack","class","cardDimensions","src","assets/back2.webp",4,"ngIf"],["id","Hand",1,"cardRow"],["class","handMargin",4,"ngFor","ngForOf"],["id","LifeDisplay",1,"uiPanel","paneBg"],[1,"centerElement","whiteFont",3,"wall"],[1,"whiteFont",2,"margin-bottom",".5rem"],[3,"player","game","hero","cardService"],["cardElement",""],[1,"creature",3,"id","card","cardEmitter"],[4,"ngIf"],["class","centerElement combatButton",3,"click",4,"ngIf"],[1,"centerElement","combatButton",3,"click"],["class","centerElement",3,"click",4,"ngIf"],[1,"centerElement",3,"click"],[3,"card"],["id","CardBack","src","assets/back2.webp",1,"cardDimensions"],[1,"handMargin"],[1,"card",3,"card","playable","animateEnter","dblclick"]],template:function(r,i){1&r&&(x(0,aU,4,2,"div",0),x(1,lU,1,5,"app-hero",1),m(2,"div",2),x(3,gU,6,9,"div",3),g(),m(4,"div",4),x(5,mU,2,1,"div",3),g(),m(6,"div",5)(7,"div",6),L(8,"app-discard-pile",7),x(9,yU,1,0,"img",8),g(),m(10,"div",9),x(11,vU,2,3,"div",10),g()()),2&r&&(C("ngIf",!i.Player.stopPhases&&!i.game.enemy.stopPhases),_(1),C("ngIf",6===i.Player.cardService.hero.zone),_(2),C("ngForOf",i.Player.getCreatures()),_(2),C("ngForOf",i.Player.cardService.getBuildings(1)),_(3),C("discardedCards",i.Player.cardService.getCards(2,2))("controller",2)("cardService",i.Player.cardService),_(1),C("ngIf",i.Player.cardService.getDeck(2).length>0),_(2),C("ngForOf",i.Player.getHand()))},dependencies:[kt,at,Zn,F0,L0,V0,oU],styles:["#Hand[_ngcontent-%COMP%]{display:flex;margin-left:auto;margin-right:auto;position:fixed;justify-content:center;left:20%;right:20%;bottom:-15%}#CardBack[_ngcontent-%COMP%]{margin-bottom:0}.playButton[_ngcontent-%COMP%]{max-width:120px}.creatureArea[_ngcontent-%COMP%]{height:150px}.creatureDisplay[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;margin-bottom:0;min-height:10%;flex-wrap:wrap;max-width:60%}.gemBagDisplay[_ngcontent-%COMP%]{position:fixed;right:0;bottom:15%;border-radius:5%;padding:5px;font-size:.7rem}#LifeDisplay[_ngcontent-%COMP%]{position:fixed;right:0;border-radius:5%;font-size:1rem;min-width:186px;text-align:center;bottom:50%;padding:2px}@media screen and (max-width: 1050px){.gemBagDisplay[_ngcontent-%COMP%]{padding:2px}}.creature[_ngcontent-%COMP%]{max-width:100%;flex:1 1 auto;box-sizing:border-box;overflow:hidden}.discardDisplay[_ngcontent-%COMP%]{border-radius:3%}.wallDisplay[_ngcontent-%COMP%]{margin-left:auto;width:25%;margin-bottom:10px;padding:6px}.handMargin[_ngcontent-%COMP%]{margin:0px -.5rem}.card[_ngcontent-%COMP%]{transform-origin:bottom center;transition:transform .1s ease-in-out}.card[_ngcontent-%COMP%]:hover{transform:rotate(0);transition:transform .1s ease-in-out;z-index:1000;margin-bottom:30%}.attacker[_ngcontent-%COMP%], .blocker[_ngcontent-%COMP%]{display:inline-block;transition:transform .3s ease-in-out}.attacker[_ngcontent-%COMP%]{border-color:#f75d5d}.blocker[_ngcontent-%COMP%]{border-color:#4ecdf8}.fighting[_ngcontent-%COMP%]{transform:translateY(50px)}.flexCenter[_ngcontent-%COMP%]{justify-content:center;position:fixed;bottom:0}.player-cards[_ngcontent-%COMP%]{position:relative}canvas[_ngcontent-%COMP%]{position:absolute;top:0;left:0;pointer-events:none}"],data:{animation:[Cn.drawCard,Cn.moveCard,Cn.rapidMoveRight,Bi("show",[Xc("void",Pt({opacity:0})),Ur(":enter,:leave",[Vr("500ms ease-in-out")])]),Bi("show2",[Xc("void",Pt({opacity:1})),Ur("hidden => visible",[Vr("500ms ease-in-out")]),Ur("visible => hidden",[Vr("500ms ease-in-out")])])]}})}return n})();function wU(n,e){1&n&&L(0,"img",8)}function CU(n,e){if(1&n){const t=ne();m(0,"button",11),U("click",function(){G(t);const i=A().$implicit;return W(A().game.combatManager.setAttacker(i))}),S(1," Block this Attacker"),g()}}function SU(n,e){if(1&n){const t=ne();m(0,"div")(1,"app-card-small",9),U("cardEmitter",function(i){return G(t),W(A().targetSelected(i))}),g(),x(2,CU,2,0,"button",10),g()}if(2&n){const t=e.$implicit,r=A();_(1),C("card",t),_(1),C("ngIf",r.hoard.attacking&&!1===r.creatureConverter.convertToCreature(t).blocked&&r.opponentHasBlockers())}}function bU(n,e){if(1&n){const t=ne();m(0,"div")(1,"button",14),U("click",function(){G(t);const i=A(2);return W(i.hoard.runCurrentSpell(i.game))}),S(2,"Run Spell"),g()()}}function DU(n,e){if(1&n&&(m(0,"div",12),L(1,"app-card",13),x(2,bU,3,0,"div",4),g()),2&n){const t=A();_(1),C("card",t.hoard.currentSpell),_(1),C("ngForOf",t.hoard.currentSpell.abilities)}}let EU=(()=>{class n{constructor(){this.hoard={},this.game={},this.blockedCreature=new te,this.creatureConverter=new ba}block(t){this.hoard.cardService.getCreatures(1)}opponentHasBlockers(){return this.hoard.cardService.getCards(y.play,p.Self,R.Creature).filter(i=>i.awake&&!i.blocking).length>0}targetSelected(t){let r=this.game.cardService.playerService.getPlayer(p.Self)[0];r.effectStack.length>0&&(r.effectStack[0].doEffectSingle(t),r.effectStack.splice(0,1));let i=this.game.cardService.playerService.getPlayer(p.Opponent)[0];this.turnOffTargetting(r.getCreatures()),this.turnOffTargetting(i.getCreatures())}turnOnTargetting(t){for(let r=0;r<t.length;r++)t[r].targetableCard=!0}turnOffTargetting(t){for(let r=0;r<t.length;r++)t[r].targetableCard=!1}showDiscardArea(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-ai"]],inputs:{hoard:"hoard",game:"game"},outputs:{blockedCreature:"blockedCreature"},decls:10,vars:8,consts:[[1,"cardRow","uiPanel"],[3,"discardedCards","cardService","controller"],["id","CardBack","class","cardDimensions","src","assets/back2.webp",4,"ngIf"],["id","CreaturePane",1,"cardRow"],[4,"ngFor","ngForOf"],["id","HpPane",1,"paneBg","whiteFont","uiPanel","centerText","lifePanel"],[3,"wall"],["id","RunSpellPane",4,"ngIf"],["id","CardBack","src","assets/back2.webp",1,"cardDimensions"],[3,"card","cardEmitter"],["class","centerElement combatButton",3,"click",4,"ngIf"],[1,"centerElement","combatButton",3,"click"],["id","RunSpellPane"],[3,"card"],[3,"click"]],template:function(r,i){1&r&&(m(0,"div",0),L(1,"app-discard-pile",1),x(2,wU,1,0,"img",2),m(3,"div",3),x(4,SU,3,2,"div",4),g()(),m(5,"div",5),L(6,"app-wall",6),m(7,"p"),S(8),g()(),x(9,DU,3,2,"div",7)),2&r&&(_(1),C("discardedCards",i.hoard.cardService.getCards(2,1))("cardService",i.hoard.cardService)("controller",1),_(1),C("ngIf",i.hoard.cardService.getDeck(2).length>0),_(2),C("ngForOf",i.hoard.cardService.getCreatures(1)),_(2),C("wall",i.hoard.wall),_(2),Be("Horde Deck: ",i.hoard.cardService.getDeck(1).length,""),_(1),C("ngIf",null!==i.hoard.currentSpell))},dependencies:[kt,at,Zn,F0,L0,V0],styles:[".cardRow[_ngcontent-%COMP%]{display:flex;flex-flow:row;justify-content:center}#Enemies[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap}.lifePanel[_ngcontent-%COMP%]{width:25%;padding:5px}.discardPos[_ngcontent-%COMP%]{position:absolute;top:0;left:0}#HpPane[_ngcontent-%COMP%]{position:fixed;top:4.5rem;right:0}#CreaturePane[_ngcontent-%COMP%]{min-height:150px;left:35%;right:35%}#RunSpellPane[_ngcontent-%COMP%]{position:fixed;right:0;top:35%}"]})}return n})();function MU(n,e){if(1&n){const t=ne();m(0,"button",3),U("click",function(){G(t);const i=A(2).$implicit;return W(A(2).buyGem(i))}),S(1,"Buy for 2 gold"),g()}}function AU(n,e){1&n&&(m(0,"button",11),S(1,"Buy for 2 gold"),g())}function TU(n,e){if(1&n){const t=ne();m(0,"button",3),U("click",function(){G(t);const i=A(2).$implicit;return W(A(2).sellGem(i))}),S(1,"Sell for 1 gold"),g()}}function kU(n,e){1&n&&(m(0,"button",11),S(1,"Sell for 1 gold"),g())}function IU(n,e){if(1&n&&(m(0,"span"),x(1,MU,2,0,"button",8),x(2,AU,2,0,"ng-template",null,9,xi),x(4,TU,2,0,"button",8),x(5,kU,2,0,"ng-template",null,10,xi),g()),2&n){const t=Mi(3),r=Mi(6),i=A().$implicit,s=A(2);_(1),C("ngIf",s.gembag.gold>=2)("ngIfElse",t),_(3),C("ngIf",s.gembag.getValue(i)>=1)("ngIfElse",r)}}function PU(n,e){if(1&n&&(m(0,"span",5)(1,"span")(2,"p"),S(3),L(4,"img",6),g(),x(5,IU,7,4,"span",7),g()()),2&n){const t=e.$implicit,r=A(2);_(3),Be("",r.gembag.getValue(t)," "),_(1),na("width",16,"px"),$n("src",r.gembag.getImage(t),cr),_(1),C("ngIf",0!==t)}}function xU(n,e){if(1&n){const t=ne();m(0,"div",2)(1,"button",3),U("click",function(){return G(t),W(A().toggleShowMarket())}),S(2,"X"),g(),x(3,PU,6,5,"span",4),g()}if(2&n){const t=A();_(3),C("ngForOf",t.gembag.getAllTypes())}}let RU=(()=>{class n{constructor(){this.gembag={},this.showMarket=!1,this.gemCost=2,this.getSellCost=1}toggleShowMarket(){this.showMarket=!this.showMarket}buyGem(t){if(this.gembag.gold>=this.gemCost)switch(this.gembag.gold-=this.gemCost,t){case T.Ruby:this.gembag.ruby+=1;break;case T.Sapphire:this.gembag.sapphire+=1;break;case T.Emerald:this.gembag.emerald+=1;break;case T.LionEye:this.gembag.lionsEye+=1;break;case T.Topaz:this.gembag.topaz+=1}}sellGem(t){this.gembag.getValue(t)>0&&(this.gembag.gold+=this.getSellCost,this.gembag.addSingle(t,-1))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-market"]],inputs:{gembag:"gembag"},decls:3,vars:1,consts:[[1,"centerElement",3,"click"],["id","Market","class","paneBg whiteFont popUp scrollBar",4,"ngIf"],["id","Market",1,"paneBg","whiteFont","popUp","scrollBar"],[3,"click"],["class","marketCard",4,"ngFor","ngForOf"],[1,"marketCard"],[1,"gemDimensions",3,"src"],[4,"ngIf"],[3,"click",4,"ngIf","ngIfElse"],["noGold",""],["noGems",""],["disabled","",1,"disabledButton"]],template:function(r,i){1&r&&(m(0,"button",0),U("click",function(){return i.toggleShowMarket()}),S(1,"Show Market"),g(),x(2,xU,4,1,"div",1)),2&r&&(_(2),C("ngIf",i.showMarket))},dependencies:[kt,at],styles:["#Market[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:1;padding:15px;display:flex;flex-direction:row}.marketCard[_ngcontent-%COMP%]{padding:10px}.disabledButton[_ngcontent-%COMP%]{opacity:.5}"],data:{animation:[Bi("toggleShowMarket",[Xc("true",Pt({transform:"translateX(0)"})),Xc("false",Pt({transform:"translateX(-100%)"})),Ur("false => true",[Vr("300ms ease-in")]),Ur("true => false",[Vr("300ms ease-out")])])]}})}return n})();function NU(n,e){if(1&n&&(m(0,"div"),L(1,"app-debug",11),g()),2&n){const t=A();_(1),C("cardService",t.cardService)}}const OU=function(n){return{glow:n}};function FU(n,e){if(1&n){const t=ne();m(0,"button",21),U("click",function(){return G(t),W(A(3).game.phaseManager.nextPhase())}),S(1,"Next Phase"),g()}if(2&n){const t=A(3);C("ngClass",Wn(1,OU,!t.player.hasPlayableCards(t.game)&&t.game.currentTurn===t.player))}}function LU(n,e){if(1&n){const t=ne();m(0,"button",22),U("click",function(){G(t);const i=A(3);return i.game.phaseManager.passTurn(),W(i.hidePopup())}),S(1,"Pass Turn"),g()}}function BU(n,e){if(1&n){const t=ne();m(0,"button",23),U("click",function(){G(t);const i=A(3);return i.game.phaseManager.nextPhase(),W(i.hidePopup())}),S(1," Run Attack "),g()}}function VU(n,e){if(1&n){const t=ne();m(0,"div",14),U("mouseover",function(i){return G(t),W(A(2).showPopup(i))})("mousemove",function(i){return G(t),W(A(2).movePopup(i))})("mouseout",function(){return G(t),W(A(2).hidePopup())}),m(1,"h3"),S(2),g(),m(3,"h3"),S(4),g(),x(5,FU,2,3,"button",15),x(6,LU,2,0,"button",16),x(7,BU,2,0,"button",17),m(8,"h3",18),S(9,"Resources:"),g(),L(10,"app-gembag",19),m(11,"h3",18),S(12,"Income:"),g(),L(13,"app-gembag",19)(14,"app-market",20),g()}if(2&n){const t=A(2);_(2),Be("Current Turn: ",t.game.currentTurn.name,""),_(2),Be("Current Phase: ",t.game.phaseDisplay,""),_(1),C("ngIf",t.game.currentTurn===t.game.enemy),_(1),C("ngIf",t.isPassableTime()&&!t.player.attacking),_(1),C("ngIf",t.player.attacking),_(3),C("bag",t.player.gembag),_(3),C("bag",t.player.incomeBag),_(1),C("gembag",t.player.gembag)}}function UU(n,e){if(1&n&&(m(0,"div",12),x(1,VU,15,8,"div",13),g()),2&n){const t=A();_(1),C("ngIf",t.player.hp>0&&t.player.cardService.getCards(4,1).length>0)}}function jU(n,e){if(1&n){const t=ne();m(0,"div",6)(1,"h3"),S(2,"You lose!"),g(),m(3,"button",0),U("click",function(){return G(t),W(A().battleDone())}),S(4,"Back to Main Menu"),g()()}}function HU(n,e){if(1&n){const t=ne();m(0,"div",24)(1,"h3"),S(2,"You Win!"),g(),m(3,"button",0),U("click",function(){return G(t),W(A().battleDone())}),S(4,"Get Rewards"),g()()}}let U0=(()=>{class n{constructor(){this.showBattle=!1,this.cardService={},this.player={},this.enemy={},this.game={},this.showDebug=!1,this.doneEvent=new te,this.skipToReward=new te,this.popupVisible=!1,this.popupX=100,this.popupY=100}battleDone(){this.showBattle=!1,this.player.hp<=0?this.doneEvent.emit(!0):0===this.enemy.getDeck().length&&this.doneEvent.emit(!1)}isPassableTime(){return(1===this.game.currentPhase||2===this.game.currentPhase||3===this.game.currentPhase||4===this.game.currentPhase||5===this.game.currentPhase)&&this.game.currentTurn===this.game.player}showPopup(t){this.popupVisible=!0,this.updatePopupPosition(t)}movePopup(t){this.updatePopupPosition(t)}hidePopup(){this.popupVisible=!1}fakeWin(){this.cardService.deleteCardsByController(p.Opponent),this.battleDone()}updatePopupPosition(t){this.popupX=t.clientX+10,this.popupY=t.clientY+10}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-battle"]],inputs:{cardService:"cardService",player:"player",enemy:"enemy",game:"game"},outputs:{doneEvent:"doneEvent",skipToReward:"skipToReward"},decls:17,vars:8,consts:[[3,"click"],[4,"ngIf"],["id","PhasePanel","class","centerText",4,"ngIf"],["id","PhasePanel"],["class","uiPanel paneBg turnDisplay whiteFont noMargin",4,"ngIf"],["style","padding: 4px;","class","uiPanel paneBg turnDisplay whiteFont noMargin",4,"ngIf"],[1,"uiPanel","paneBg","turnDisplay","whiteFont","noMargin"],[1,"fireColors"],[1,"playerArea"],[1,"noMargin",3,"hoard","game"],[1,"noMargin",3,"Player","game"],[3,"cardService"],["id","PhasePanel",1,"centerText"],["class","uiPanel paneBg turnDisplay whiteFont noMargin",3,"mouseover","mousemove","mouseout",4,"ngIf"],[1,"uiPanel","paneBg","turnDisplay","whiteFont","noMargin",3,"mouseover","mousemove","mouseout"],["class","centerElement",3,"ngClass","click",4,"ngIf"],["class","centerElement faint-gray-glow",3,"click",4,"ngIf"],["class","centerElement",3,"click",4,"ngIf"],[1,"whiteFont"],[3,"bag"],[3,"gembag"],[1,"centerElement",3,"ngClass","click"],[1,"centerElement","faint-gray-glow",3,"click"],[1,"centerElement",3,"click"],[1,"uiPanel","paneBg","turnDisplay","whiteFont","noMargin",2,"padding","4px"]],template:function(r,i){1&r&&(m(0,"button",0),U("click",function(){return i.showDebug=!i.showDebug}),S(1,"Debug"),g(),x(2,NU,2,1,"div",1),x(3,UU,2,1,"div",2),m(4,"div",3),x(5,jU,5,0,"div",4),x(6,HU,5,0,"div",5),g(),m(7,"div",6)(8,"h3"),S(9,"Fake win"),g(),m(10,"button",0),U("click",function(){return i.fakeWin()}),S(11,"Get Rewards"),g()(),m(12,"div",7)(13,"div",8),L(14,"app-ai",9),g(),m(15,"div",8),L(16,"app-player",10),g()()),2&r&&(_(2),C("ngIf",i.showDebug),_(1),C("ngIf",!i.player.stopPhases&&!i.enemy.stopPhases),_(2),C("ngIf",i.player.hp<=0),_(1),C("ngIf",i.player.cardService.getCards(4,1).length<=0),_(8),C("hoard",i.enemy)("game",i.game),_(2),C("Player",i.player)("game",i.game))},dependencies:[Gs,at,_U,EU,Ea,RU,R0],styles:["#PhasePanel[_ngcontent-%COMP%]{position:absolute;bottom:0%;right:0;min-width:10%}.faint-gray-glow[_ngcontent-%COMP%]{box-shadow:0 0 25px 6px #f7f7f7e6}"]})}return n})();function $U(n,e){if(1&n&&(m(0,"div",5)(1,"h1",6),S(2),g()()),2&n){const t=A();_(2),Be("Wave ",t.waveCount,"")}}function zU(n,e){if(1&n){const t=ne();m(0,"app-deck-picker",7),U("selectDeckEvent",function(i){return G(t),W(A().setPlayerDeck(i))}),g()}if(2&n){const t=A();C("cardService",t.cardService)("enemy",t.enemy)("player",t.player)}}function GU(n,e){if(1&n){const t=ne();m(0,"app-battle",8),U("doneEvent",function(i){return G(t),W(A().battleDoneEvent(i))})("skipToReward",function(){G(t);const i=A();return i.showBattle=!1,i.showReward=!0,W(i.setEnemyDeck())})("enemyReadyEvent",function(){return G(t),W(A().enemyReady())}),g()}if(2&n){const t=A();C("player",t.player)("enemy",t.enemy)("game",t.game)("cardService",t.cardService)}}function WU(n,e){if(1&n){const t=ne();m(0,"app-reward",9),U("proceed",function(){return G(t),W(A().rewardDoneEvent())})("cardSelected",function(i){return G(t),W(A().addCard(i))})("relicSelected",function(i){return G(t),W(A().addRelic(i))}),g()}2&n&&C("cardService",A().cardService)}let qU=(()=>{class n{constructor(){this.cardService={},this.player={},this.enemy={},this.game={},this.showDebug=!1,this.decks={},this.doneEvent=new te,this.showPicker=!0,this.showBattle=!1,this.showReward=!1,this.difficulty=1,this.increasePull=1,this.extraPulls=0,this.waveCount=1,this.diffMod={}}ngOnInit(){this.cardService&&(this.cardService.makePlayerService(this.player,this.enemy),this.decks=new jr(this.cardService),this.diffMod=new eu(this.cardService))}setPlayerDeck(t){this.cardService.cardList.push(...t),this.setEnemyDeck(),this.cardService.shuffleDeck(this.cardService.cardList),this.showPicker=!1,this.showBattle=!0,this.player.drawCards(5,!0);const r=this.cardService.cardList.filter(i=>i instanceof _n);for(let i=0;i<2&&r.length>0;i++){const s=Math.floor(Math.random()*r.length);this.cardService.setCardZoneByCard(r[s],y.hand)}}clearEnemyDeck(){this.cardService.deleteCardsByController(p.Opponent),this.cardService.difficultyMods="",this.enemy.wall.hp=20}setEnemyDeck(){this.clearEnemyDeck();let t=this.decks.getEnemyDeck(this.waveCount);this.diffMod.applyDifficultyNormalBoosters(this.cardService.hero.maxLevel,t),this.cardService.cardList.push(...t),this.diffMod.moreAttack(this.difficulty);const i=Object.values(T)[Math.floor(Math.random()*Object.values(T).length)];this.diffMod.moreMinions(this.difficulty*this.difficulty,i),this.difficulty%this.increasePull==0&&this.extraPulls++;for(let s=0;s<this.extraPulls;s++)this.diffMod.extraPull();this.cardService.shuffleDeck(this.cardService.cardList)}resetPlayerDiscard(){this.cardService.clearDiscardPile(p.Self)}backToMenu(){this.player=new ft(this.cardService),this.cardService.hero.resetGoldCost(),this.cardService.cardList=[],this.player.relics=[],this.cardService.playerService.player.relics=[],this.player.resetMines(),this.cardService.makePlayerService(this.player,this.enemy),this.cardService.nodePos=0,this.showBattle=!1,this.showPicker=!0,this.cardService.cardList=[],this.player.hp=40,this.player.wall.hp=20,this.game.currentTurn=this.player,this.cardService.currentPos=0,this.cardService.difficultyMods="",this.difficulty=0,this.waveCount=1,this.player.minesPlayed=0,this.player.mineLimits=1}battleDoneEvent(t){if(this.game.phaseManager.resetPhase(),this.player.hp<=0)this.difficulty=0,this.cardService.cardList=[],window.location.reload();else if(0===this.enemy.getDeck().length){this.showBattle=!1,this.showReward=!0,this.player.drawCards(3,!0),this.difficulty++,this.waveCount++,this.enemy.drawPerTurn++;let r=this.player.getCreatures(),i=this.player.relics.filter(s=>"Cosmic Brick"===s.name).length;this.player.wall.hp=20+10*i;for(let s=0;s<r.length;s++){let o=r[s];o.heal(),o.firstTurn=!0,o.awake=!0,o.turned=!1,o.zone=o instanceof lt?y.hero:y.deck}this.cardService.shuffleDeck(this.cardService.cardList)}}rewardDoneEvent(){this.showReward=!1,this.setEnemyDeck(),this.resetPlayerDiscard(),this.showBattle=!0}addRelic(t){this.player.addRelic(t)}addCard(t){this.cardService.cardList.push(t)}enemyReady(){this.cardService.shuffleDeck(this.cardService.cardList);let t=this.player.relics;this.cardService.checkTriggers(H.StartFight),this.cardService.checkTriggers(H.Start);for(let r=0;r<t.length;r++)this.player.processAbilities(t[r]);this.showPicker=!1,this.showBattle=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-survival-mode"]],inputs:{cardService:"cardService",player:"player",enemy:"enemy",game:"game"},outputs:{doneEvent:"doneEvent"},decls:5,vars:4,consts:[["class","paneBg centerElement","style","width: 10%; border-radius: 3%;",4,"ngIf"],[1,"whiteFont"],[3,"cardService","enemy","player","selectDeckEvent",4,"ngIf"],[3,"player","enemy","game","cardService","doneEvent","skipToReward","enemyReadyEvent",4,"ngIf"],[3,"cardService","proceed","cardSelected","relicSelected",4,"ngIf"],[1,"paneBg","centerElement",2,"width","10%","border-radius","3%"],[1,"centerText","whiteFont"],[3,"cardService","enemy","player","selectDeckEvent"],[3,"player","enemy","game","cardService","doneEvent","skipToReward","enemyReadyEvent"],[3,"cardService","proceed","cardSelected","relicSelected"]],template:function(r,i){1&r&&(x(0,$U,3,1,"div",0),m(1,"div",1),x(2,zU,1,3,"app-deck-picker",2),g(),x(3,GU,1,4,"app-battle",3),x(4,WU,1,1,"app-reward",4)),2&r&&(C("ngIf",i.showBattle||i.showReward),_(2),C("ngIf",i.showPicker),_(1),C("ngIf",i.showBattle),_(1),C("ngIf",i.showReward))},dependencies:[at,SD,O0,U0]})}return n})();function KU(n,e){if(1&n){const t=ne();m(0,"div",3)(1,"app-upgrade",4),U("selected",function(){const s=G(t).$implicit;return W(A().selectUpgrade(s))}),g()()}if(2&n){const t=e.$implicit,r=A();_(1),C("upgrade",t)("cardService",r.cardService)}}let YU=(()=>{class n{constructor(){this.hero={},this.cardService={},this.upgrades=[],this.selectedUpgrade=new te,this.skipUpgrade=new te,this.upgradeStorage={},this.upStatDesc=""}ngOnInit(){this.upgradeStorage=new Pp(this.cardService),this.upgrades=this.upgradeStorage.getRandomUniqueUpgrades();let t=this.upgradeStorage.getStatUpgrades(this.hero);this.upStatDesc=t.description,t.applyUpgrade(this.hero)}selectUpgrade(t){this.selectedUpgrade.emit(t),this.upgrades=this.upgradeStorage.getRandomUniqueUpgrades()}skip(){this.skipUpgrade.emit()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-hero-upgrade"]],inputs:{hero:"hero",cardService:"cardService"},outputs:{selectedUpgrade:"selectedUpgrade",skipUpgrade:"skipUpgrade"},decls:12,vars:3,consts:[[1,"row"],["class","upgradeSpacing",4,"ngFor","ngForOf"],[3,"click"],[1,"upgradeSpacing"],[3,"upgrade","cardService","selected"]],template:function(r,i){1&r&&(m(0,"p"),S(1,"LEVEL UP"),g(),m(2,"p"),S(3),g(),m(4,"p"),S(5),g(),m(6,"h2"),S(7,"Select an upgrade"),g(),m(8,"div",0),x(9,KU,2,2,"div",1),g(),m(10,"button",2),U("click",function(){return i.skip()}),S(11,"Skip"),g()),2&r&&(_(3),Be("Your Hero is now level ",i.hero.level,""),_(2),dt(i.upStatDesc),_(4),C("ngForOf",i.upgrades))},dependencies:[kt,N0],styles:[".row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-evenly}.upgradeSpacing[_ngcontent-%COMP%]{margin:15px}"]})}return n})();const j0=function(n){return{fadeIn:n}};function ZU(n,e){if(1&n&&(m(0,"div",8)(1,"p"),S(2,"Your Turn"),g()()),2&n){const t=A();C("ngClass",Wn(1,j0,t.game.phaseManager.showTurnPlayer))}}function QU(n,e){if(1&n&&(m(0,"div",9)(1,"p"),S(2,"Enemy Turn"),g()()),2&n){const t=A();C("ngClass",Wn(1,j0,t.game.phaseManager.showTurnEnemy))}}function XU(n,e){if(1&n){const t=ne();m(0,"app-tutorial",13),U("tutorialDone",function(){return G(t),W(A(2).tutorialDone())}),g()}}function JU(n,e){if(1&n){const t=ne();m(0,"div",14)(1,"app-deck-picker",15),U("selectDeckEvent",function(i){return G(t),W(A(2).setPlayerDeck(i))}),g(),L(2,"br"),g()}if(2&n){const t=A(2);_(1),C("cardService",t.cardService)("enemy",t.enemy)("player",t.player)}}function ej(n,e){if(1&n&&(m(0,"div",10)(1,"div",10),x(2,XU,1,0,"app-tutorial",11),g(),x(3,JU,3,3,"div",12),g()),2&n){const t=A();_(2),C("ngIf",t.showGlossary&&!t.showBattle),_(1),C("ngIf",!(t.showBattle||t.showTutorial||t.showGlossary||t.showReward||t.showMenu||t.showSurvival||t.cardService.hero.levelingUp))}}function tj(n,e){if(1&n){const t=ne();m(0,"div")(1,"app-interactive-tutorial",13),U("tutorialDone",function(){return G(t),W(A().tutorialDone())}),g()()}}function nj(n,e){if(1&n){const t=ne();m(0,"div")(1,"app-battle",16),U("doneEvent",function(i){return G(t),W(A().battleDoneEvent(i))})("enemyReadyEvent",function(){return G(t),W(A().enemyReady())}),g()()}if(2&n){const t=A();_(1),C("player",t.player)("enemy",t.enemy)("game",t.game)}}function rj(n,e){if(1&n){const t=ne();m(0,"div")(1,"app-survival-mode",17),U("doneEvent",function(i){return G(t),W(A().battleDoneEvent(i))})("enemyReadyEvent",function(){return G(t),W(A().enemyReady())}),g()()}if(2&n){const t=A();_(1),C("player",t.player)("enemy",t.enemy)("game",t.game)("cardService",t.cardService)}}function ij(n,e){if(1&n){const t=ne();m(0,"div")(1,"app-map",18),U("enemyDeckEvent",function(){return G(t),W(A().enemyReady())})("packSelectEvent",function(){return G(t),W(A().packEvent())})("relicSelectEvent",function(){return G(t),W(A().relicEvent())}),g()()}if(2&n){const t=A();_(1),C("player",t.player)("cardService",t.cardService)}}function sj(n,e){if(1&n){const t=ne();m(0,"app-reward",19),U("proceed",function(){return G(t),W(A().backToMap())})("cardSelected",function(i){return G(t),W(A().addCard(i))})("relicSelected",function(i){return G(t),W(A().addRelic(i))}),g()}if(2&n){const t=A();C("cardService",t.cardService)("factions",t.cardService.selectedFactions)("currentReward",t.currentReward)("rewardMax",t.rewardMax)}}function oj(n,e){if(1&n){const t=ne();m(0,"div")(1,"app-main-menu",20),U("newGameEvent",function(){return G(t),W(A().showMenu=!1)})("glossaryEvent",function(){G(t);const i=A();return i.showGlossary=!0,W(i.showMenu=!1)})("tutorialEvent",function(){G(t);const i=A();return i.showTutorial=!0,W(i.showMenu=!1)})("survivalEvent",function(){G(t);const i=A();return i.showSurvival=!0,W(i.showMenu=!1)})("debugEvent",function(){return G(t),W(A().debugGame())}),g()()}}function aj(n,e){if(1&n&&(m(0,"div"),L(1,"app-debug",21),g()),2&n){const t=A();_(1),C("cardService",t.cardService)}}const lj=function(n,e){return{"top.px":n,"left.px":e}};function cj(n,e){if(1&n&&(m(0,"div",22)(1,"p"),S(2),g(),m(3,"p"),S(4),g()()),2&n){const t=A();C("ngStyle",ua(3,lj,t.popupY,t.popupX)),_(2),dt(t.game.phaseDisplay),_(2),dt(t.game.phaseManager.getPhaseText())}}function uj(n,e){if(1&n){const t=ne();m(0,"app-hero-upgrade",23),U("selectedUpgrade",function(i){return G(t),W(A().heroUpgradeDone(i))})("skipUpgrade",function(){return G(t),W(A().skipUpgrade())}),g()}if(2&n){const t=A();C("hero",t.cardService.hero)("cardService",t.cardService)}}let H0=(()=>{class n{ngOnInit(){this.player=new ft(this.cardService),this.enemy=new mr(this.cardService),this.cardService.makePlayerService(this.player,this.enemy),this.game=new Qc(this.player,this.enemy,this.cardService),this.cardService.cardList.push(...this.playerDeck),this.player.cardService=this.cardService,this.enemy.cardService=this.cardService,new Zc(this.cardService),this.player.applyStaticAbilities()}constructor(t){this.animationService=t,this.winner=!1,this.spellNeedsTargets=!1,this.showBattle=!1,this.showTutorial=!1,this.showMap=!1,this.showReward=!1,this.showMenu=!0,this.showDebug=!1,this.showGlossary=!1,this.showSurvival=!1,this.rewardMax=1,this.rewardsReceived=0,this.cardService=new hD,this.player={},this.enemy=new mr(this.cardService),this.game={},this.playerDeck=[],this.drawnCards=[],this.currentReward=Fi.Relic,this.popupVisible=!1,this.popupX=100,this.popupY=100}handleKeyboardE(t){this.canProgressTurn()&&this.game.phaseManager.nextPhase()}handleKeyboardSpace(t){this.canProgressTurn()&&this.game.phaseManager.nextPhase()}canProgressTurn(){return!this.player.stopPhases&&!this.enemy.stopPhases&&this.player.hp>0&&this.enemy.getAllCards().length>0}isPassableTime(){return(1===this.game.currentPhase||2===this.game.currentPhase||3===this.game.currentPhase||4===this.game.currentPhase||5===this.game.currentPhase)&&this.game.currentTurn===this.game.player}setPlayerDeck(t){this.cardService.cardList.push(...t),this.cardService.shuffleDeck(this.cardService.cardList),this.showMap=!0,this.player.drawCards(6,!0);let r=this.cardService.getCards(y.deck,p.Self,R.Mine);for(let i=0;i<r.length;i++){let s=r[i];if(s.factions.includes(D.Colorless)){s.zone=y.hand;break}}}enemyReady(){this.cardService.shuffleDeck(this.cardService.cardList);let t=this.player.relics;this.cardService.checkTriggers(H.StartFight),this.cardService.checkTriggers(H.Start);for(let r=0;r<t.length;r++)this.player.processAbilities(t[r]);this.showMap=!1,this.showBattle=!0}survivalReady(){this.cardService.shuffleDeck(this.cardService.cardList);let t=this.player.relics;this.cardService.checkTriggers(H.StartFight),this.cardService.checkTriggers(H.Start);for(let r=0;r<t.length;r++)this.player.processAbilities(t[r]);this.showSurvival=!0}rewardReady(){this.showReward=!0}rewardEvent(){}packEvent(){this.rewardMax=1,this.currentReward=Fi.Card,this.showReward=!0,this.showMap=!1}relicEvent(){this.rewardMax=1,this.currentReward=Fi.Relic,this.showReward=!0,this.showMap=!1}battleDoneEvent(t){this.cardService.resetCreatures(),this.rewardsReceived=0,this.rewardMax=2;const r=[Fi.Relic,Fi.Card];this.currentReward=r[Math.floor(Math.random()*r.length)],this.showReward=!0,this.showBattle=!1,this.showMap=!1,t?this.randomReward():window.location.reload()}debugGame(){let t=new jr(this.cardService),r=t.getRandomFactionCards(p.Self);this.setPlayerDeck(r);let i=[];i.push(t.getCardByName("gust",p.Opponent)),i.push(t.getCardByName("haste",p.Opponent));let s=t.getCardByName("squire",p.Opponent);s.zone=y.play,i.push(s),this.cardService.cardList.push(...i),this.enemyReady(),this.game.currentPhase=ee.main,this.showDebug=!0,this.showBattle=!0,this.showMenu=!1,this.showGlossary=!1}randomReward(){this.rewardsReceived<this.rewardMax?(this.showBattle=!1,this.hidePopup(),this.cardService.resetCreatures(),this.showReward=!0):this.backToMap()}backToMap(){this.showMap=!0,this.showBattle=!1,this.showReward=!1,this.popupVisible=!1,this.cardService.difficulty++,this.cardService.reset(),this.cardService.hero.resetGoldCost(),this.cardService.shuffleDeck(this.cardService.cardList),this.cardService.drawInitialHand(),this.game.phaseManager.resetPhase(),this.cardService.resetCreatures(),this.cardService.difficultyMods="",this.player.currentPos++,this.player.minesPlayed=0,this.player.mineLimits=1,this.player.applyStaticAbilities(),this.hidePopup()}backToMenu(){this.player=new ft(this.cardService),this.cardService.hero.resetGoldCost(),this.cardService.cardList=[],this.player.resetMines(),this.cardService.makePlayerService(this.player,this.enemy),this.cardService.nodePos=0,this.showBattle=!1,this.showMap=!1,this.cardService.cardList=[],this.player.hp=40,this.player.wall.hp=20,this.game.currentTurn=this.player,this.game.phaseManager.resetPhase(),this.cardService.currentPos=0,this.cardService.difficultyMods="",this.cardService.difficulty=0,this.popupVisible=!1,this.player.minesPlayed=0,this.player.mineLimits=1,this.hidePopup()}addRelic(t){this.player.addRelic(t)}addCard(t){this.cardService.cardList.push(t)}tutorialDone(){this.showTutorial=!1,this.showGlossary=!1,this.showMenu=!0}showPopup(t){this.popupVisible=!0,this.updatePopupPosition(t)}movePopup(t){this.updatePopupPosition(t)}hidePopup(){this.popupVisible=!1}updatePopupPosition(t){this.popupX=t.clientX+10,this.popupY=t.clientY+10}animateDrawnCards(t){this.drawnCards=t,setTimeout(()=>{this.drawnCards=[]},1e3)}heroUpgradeDone(t){let r=this.cardService.hero,i=this.cardService.cardList.filter(s=>s.owner===p.Self&&s.name===t.name);t.applyMassUpgrade(i),r.level%5==0&&(r.maxLevel++,this.cardService.getCards(y.any,p.Self,R.Any).forEach(o=>{o.maxLevel++})),r.levelingUp=!1,this.showSurvival=!0}skipUpgrade(){let t=this.cardService.hero;t.levelingUp=!1,this.showSurvival=!0,t.level%5==0&&(t.maxLevel++,this.cardService.getCards(y.any,p.Self,R.Any).forEach(i=>{i.maxLevel++}))}static#e=this.\u0275fac=function(r){return new(r||n)(F(Cn))};static#t=this.\u0275cmp=be({type:n,selectors:[["app-game"]],hostBindings:function(r,i){1&r&&U("keyup.e",function(o){return i.handleKeyboardE(o)},0,nc)("keyup.space",function(o){return i.handleKeyboardSpace(o)},!1,nc)},inputs:{playerDeck:"playerDeck"},decls:14,vars:16,consts:[[3,"relics","deck","cardService","enemyDeck"],["class","turnPopUp whiteFont fadeIn",3,"ngClass",4,"ngIf"],["class","turnPopUp whiteFont",3,"ngClass",4,"ngIf"],["class","",4,"ngIf"],[4,"ngIf"],[3,"cardService","factions","currentReward","rewardMax","proceed","cardSelected","relicSelected",4,"ngIf"],["class","popUp","class","popup",3,"ngStyle",4,"ngIf"],["class","whiteFont levelUpPopUp",3,"hero","cardService","selectedUpgrade","skipUpgrade",4,"ngIf"],[1,"turnPopUp","whiteFont","fadeIn",3,"ngClass"],[1,"turnPopUp","whiteFont",3,"ngClass"],[1,""],[3,"tutorialDone",4,"ngIf"],["class","centerElement mapColors mainMargins",4,"ngIf"],[3,"tutorialDone"],[1,"centerElement","mapColors","mainMargins"],[3,"cardService","enemy","player","selectDeckEvent"],[3,"player","enemy","game","doneEvent","enemyReadyEvent"],[3,"player","enemy","game","cardService","doneEvent","enemyReadyEvent"],[3,"player","cardService","enemyDeckEvent","packSelectEvent","relicSelectEvent"],[3,"cardService","factions","currentReward","rewardMax","proceed","cardSelected","relicSelected"],[3,"newGameEvent","glossaryEvent","tutorialEvent","survivalEvent","debugEvent"],[3,"cardService"],[1,"popup",3,"ngStyle"],[1,"whiteFont","levelUpPopUp",3,"hero","cardService","selectedUpgrade","skipUpgrade"]],template:function(r,i){1&r&&(L(0,"app-header",0),x(1,ZU,3,3,"div",1),x(2,QU,3,3,"div",2),x(3,ej,4,2,"div",3),x(4,tj,2,0,"div",4),x(5,nj,2,3,"div",4),x(6,rj,2,4,"div",4),x(7,ij,2,2,"div",4),x(8,sj,1,4,"app-reward",5),x(9,oj,2,0,"div",4),x(10,aj,2,1,"div",4),x(11,cj,5,6,"div",6),m(12,"div"),x(13,uj,1,2,"app-hero-upgrade",7),g()),2&r&&(C("relics",i.player.relics)("deck",i.player.getAllCards())("cardService",i.cardService)("enemyDeck",i.enemy.getAllCards()),_(1),C("ngIf",i.game.phaseManager.showTurnPlayer),_(1),C("ngIf",i.game.phaseManager.showTurnEnemy),_(1),C("ngIf",!i.showBattle&&!i.showMap&&!i.showReward),_(1),C("ngIf",i.showTutorial),_(1),C("ngIf",i.showBattle&&!i.cardService.hero.levelingUp),_(1),C("ngIf",i.showSurvival),_(1),C("ngIf",i.showMap),_(1),C("ngIf",i.showReward),_(1),C("ngIf",i.showMenu),_(1),C("ngIf",i.showDebug),_(1),C("ngIf",i.popupVisible),_(2),C("ngIf",i.cardService.hero.levelingUp))},dependencies:[Gs,at,Ws,iV,SD,_D,yV,vV,R0,O0,L3,U0,qU,YU],styles:[".displayRow[_ngcontent-%COMP%]{display:flex;flex-flow:row;justify-content:space-between}.turnDisplay[_ngcontent-%COMP%]{position:fixed;padding:10px;bottom:25%;right:0;top:50%}.glow[_ngcontent-%COMP%]{box-shadow:0 0 25px 8px #baa237e6}@media screen and (min-width: 1300px){.turnDisplay[_ngcontent-%COMP%]{position:fixed;padding:10px;bottom:auto;right:0;top:50%}}@media screen and (max-width: 1100px){.turnDisplay[_ngcontent-%COMP%]{position:fixed;bottom:auto;top:40%}}.turnPopUp[_ngcontent-%COMP%]{position:absolute;border:2px solid white;background-color:#000;width:95%;left:2.5%;right:2.5%;text-align:center;top:50%;padding:3px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}.fighting[_ngcontent-%COMP%]{transform:translateY(50px)}.attacker[_ngcontent-%COMP%], .blocker[_ngcontent-%COMP%]{display:inline-block;transition:transform .3s ease-in-out}.attacker[_ngcontent-%COMP%]{border-color:#f6a5a5}.blocker[_ngcontent-%COMP%]{border-color:#6b81ff}.battleBg[_ngcontent-%COMP%]{background-color:#90ff7991}.fireGradient[_ngcontent-%COMP%]{background-image:linear-gradient(rgb(8,8,8),rgb(141,79,42));background-size:100% 200%;animation:_ngcontent-%COMP%_fireFlare 30s infinite ease-in-out}@keyframes _ngcontent-%COMP%_fireFlare{0%{background-position:0% 0%;background-image:linear-gradient(rgb(8,8,8),rgb(141,79,42))}25%{background-position:0% 100%;background-image:linear-gradient(rgb(8,8,8),rgb(192,88,52))}50%{background-position:0% 0%;background-image:linear-gradient(rgb(8,8,8),rgb(171,69,32))}75%{background-position:0% 100%;background-image:linear-gradient(rgb(8,8,8),rgb(141,79,42))}to{background-position:0% 0%;background-image:linear-gradient(rgb(8,8,8),rgb(192,88,52))}}@keyframes _ngcontent-%COMP%_flip{0%{transform:perspective(600px) rotateY(0)}50%{transform:perspective(600px) rotateY(180deg)}to{transform:perspective(600px) rotateY(360deg)}}@keyframes _ngcontent-%COMP%_moveToPlayArea{0%{transform:translate(0)}to{transform:translate(300px,200px)}}.card[_ngcontent-%COMP%]{transition:transform 1s;transform-style:preserve-3d}.flip[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_flip 1s forwards}.move[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_moveToPlayArea 1s forwards}.levelUpPopUp[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#000;border:2px solid white;padding:20px;text-align:center;z-index:1000}"],data:{animation:[Cn.drawCard]}})}return n})(),dj=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&L(0,"app-game")},dependencies:[H0]})}return n})();function Jp(...n){const e=fo(n),t=vm(n),{args:r,keys:i}=bD(n);if(0===r.length)return wt([],e);const s=new ct(function fj(n,e,t=qr){return r=>{$0(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)$0(e,()=>{const c=wt(n[l],e);let u=!1;c.subscribe(ut(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>ED(i,o):qr));return t?s.pipe(DD(t)):s}function $0(n,e,t){n?Sr(t,n,e):e()}const fu=co(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function eg(...n){return function pj(){return Ki(1)}()(wt(n,fo(n)))}function z0(n){return new ct(e=>{un(n()).subscribe(e)})}function Ia(n,e){const t=Ne(n)?n:()=>n,r=i=>i.error(t());return new ct(e?i=>e.schedule(r,0,i):r)}function tg(){return gt((n,e)=>{let t=null;n._refCount++;const r=ut(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class G0 extends ct{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,rm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new cn;const t=this.getSubject();e.add(this.source.subscribe(ut(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=cn.EMPTY)}return e}refCount(){return tg()(this)}}function Xs(n){return n<=0?()=>er:gt((e,t)=>{let r=0;e.subscribe(ut(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function di(n,e){return gt((t,r)=>{let i=0;t.subscribe(ut(r,s=>n.call(e,s,i++)&&r.next(s)))})}function pu(n){return gt((e,t)=>{let r=!1;e.subscribe(ut(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function W0(n=mj){return gt((e,t)=>{let r=!1;e.subscribe(ut(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function mj(){return new fu}function ji(n,e){const t=arguments.length>=2;return r=>r.pipe(n?di((i,s)=>n(i,s,r)):qr,Xs(1),t?pu(e):W0(()=>new fu))}function Pa(n,e){return Ne(e)?bt(n,e,1):bt(n,1)}function Vt(n,e,t){const r=Ne(n)||e||t?{next:n,error:e,complete:t}:n;return r?gt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ut(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):qr}function Hi(n){return gt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(ut(t,void 0,void 0,o=>{s=un(n(o,Hi(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function ng(n){return n<=0?()=>er:gt((e,t)=>{let r=[];e.subscribe(ut(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function rg(n){return gt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const he="primary",xa=Symbol("RouteTitle");class Sj{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Js(n){return new Sj(n)}function bj(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function vr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!q0(n[i],e[i]))return!1;return!0}function q0(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function K0(n){return n.length>0?n[n.length-1]:null}function hi(n){return function hj(n){return!!n&&(n instanceof ct||Ne(n.lift)&&Ne(n.subscribe))}(n)?n:ta(n)?wt(Promise.resolve(n)):ae(n)}const Ej={exact:function Q0(n,e,t){if(!$i(n.segments,e.segments)||!gu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Q0(n.children[r],e.children[r],t))return!1;return!0},subset:X0},Y0={exact:function Mj(n,e){return vr(n,e)},subset:function Aj(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>q0(n[t],e[t]))},ignored:()=>!0};function Z0(n,e,t){return Ej[t.paths](n.root,e.root,t.matrixParams)&&Y0[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function X0(n,e,t){return J0(n,e,e.segments,t)}function J0(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!$i(i,t)||e.hasChildren()||!gu(i,t,r))}if(n.segments.length===t.length){if(!$i(n.segments,t)||!gu(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!X0(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!($i(n.segments,i)&&gu(n.segments,i,r)&&n.children[he])&&J0(n.children[he],e,s,r)}}function gu(n,e,t){return e.every((r,i)=>Y0[t](n[i].parameters,r.parameters))}class eo{constructor(e=new Re([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Js(this.queryParams)),this._queryParamMap}toString(){return Ij.serialize(this)}}class Re{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mu(this)}}class Ra{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Js(this.parameters)),this._parameterMap}toString(){return nE(this)}}function $i(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Na=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:function(){return new ig},providedIn:"root"})}return n})();class ig{parse(e){const t=new jj(e);return new eo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Oa(e.root,!0)}`,r=function Rj(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${yu(t)}=${yu(i)}`).join("&"):`${yu(t)}=${yu(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Pj(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Ij=new ig;function mu(n){return n.segments.map(e=>nE(e)).join("/")}function Oa(n,e){if(!n.hasChildren())return mu(n);if(e){const t=n.children[he]?Oa(n.children[he],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==he&&r.push(`${i}:${Oa(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function kj(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===he&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==he&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===he?[Oa(n.children[he],!1)]:[`${i}:${Oa(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[he]?`${mu(n)}/${t[0]}`:`${mu(n)}/(${t.join("//")})`}}function eE(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yu(n){return eE(n).replace(/%3B/gi,";")}function sg(n){return eE(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vu(n){return decodeURIComponent(n)}function tE(n){return vu(n.replace(/\+/g,"%20"))}function nE(n){return`${sg(n.path)}${function xj(n){return Object.keys(n).map(e=>`;${sg(e)}=${sg(n[e])}`).join("")}(n.parameters)}`}const Nj=/^[^\/()?;#]+/;function og(n){const e=n.match(Nj);return e?e[0]:""}const Oj=/^[^\/()?;=#]+/,Lj=/^[^=?&#]+/,Vj=/^[^&#]+/;class jj{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[he]=new Re(e,t)),r}parseSegment(){const e=og(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(e),new Ra(vu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Fj(n){const e=n.match(Oj);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=og(this.remaining);i&&(r=i,this.capture(r))}e[vu(t)]=vu(r)}parseQueryParam(e){const t=function Bj(n){const e=n.match(Lj);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function Uj(n){const e=n.match(Vj);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=tE(t),s=tE(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=og(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new P(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=he);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[he]:new Re([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new P(4011,!1)}}function rE(n){return n.segments.length>0?new Re([],{[he]:n}):n}function iE(n){const e={};for(const r of Object.keys(n.children)){const s=iE(n.children[r]);if(r===he&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Hj(n){if(1===n.numberOfChildren&&n.children[he]){const e=n.children[he];return new Re(n.segments.concat(e.segments),e.children)}return n}(new Re(n.segments,e))}function zi(n){return n instanceof eo}function sE(n){let e;const i=rE(function t(s){const o={};for(const l of s.children){const c=t(l);o[l.outlet]=c}const a=new Re(s.url,o);return s===n&&(e=a),a}(n.root));return e??i}function oE(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return ag(i,i,i,t,r);const s=function zj(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new lE(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new lE(t,e,r)}(e);if(s.toRoot())return ag(i,i,new Re([],{}),t,r);const o=function Gj(n,e,t){if(n.isAbsolute)return new wu(e,!0,0);if(!t)return new wu(e,!1,NaN);if(null===t.parent)return new wu(t,!0,0);const r=_u(n.commands[0])?0:1;return function Wj(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new P(4005,!1);i=r.segments.length}return new wu(r,!1,i-s)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(s,i,n),a=o.processChildren?La(o.segmentGroup,o.index,s.commands):cE(o.segmentGroup,o.index,s.commands);return ag(i,o.segmentGroup,a,t,r)}function _u(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Fa(n){return"object"==typeof n&&null!=n&&n.outlets}function ag(n,e,t,r,i){let o,s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),o=n===e?t:aE(n,e,t);const a=rE(iE(o));return new eo(a,s,i)}function aE(n,e,t){const r={};return Object.entries(n.children).forEach(([i,s])=>{r[i]=s===e?t:aE(s,e,t)}),new Re(n.segments,r)}class lE{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&_u(r[0]))throw new P(4003,!1);const i=r.find(Fa);if(i&&i!==K0(r))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wu{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function cE(n,e,t){if(n||(n=new Re([],{})),0===n.segments.length&&n.hasChildren())return La(n,e,t);const r=function Kj(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Fa(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!dE(l,c,o))return s;r+=2}else{if(!dE(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Re(n.segments.slice(0,r.pathIndex),{});return s.children[he]=new Re(n.segments.slice(r.pathIndex),n.children),La(s,0,i)}return r.match&&0===i.length?new Re(n.segments,{}):r.match&&!n.hasChildren()?lg(n,e,t):r.match?La(n,0,i):lg(n,e,t)}function La(n,e,t){if(0===t.length)return new Re(n.segments,{});{const r=function qj(n){return Fa(n[0])?n[0].outlets:{[he]:n}}(t),i={};if(Object.keys(r).some(s=>s!==he)&&n.children[he]&&1===n.numberOfChildren&&0===n.children[he].segments.length){const s=La(n.children[he],e,t);return new Re(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=cE(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Re(n.segments,i)}}function lg(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Fa(s)){const l=Yj(s.outlets);return new Re(r,l)}if(0===i&&_u(t[0])){r.push(new Ra(n.segments[e].path,uE(t[0]))),i++;continue}const o=Fa(s)?s.outlets[he]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&_u(a)?(r.push(new Ra(o,uE(a))),i+=2):(r.push(new Ra(o,{})),i++)}return new Re(r,{})}function Yj(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=lg(new Re([],{}),0,r))}),e}function uE(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function dE(n,e,t){return n==t.path&&vr(e,t.parameters)}const Ba="imperative";class _r{constructor(e,t){this.id=e,this.url=t}}class Cu extends _r{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fi extends _r{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Va extends _r{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class to extends _r{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Su extends _r{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hE extends _r{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zj extends _r{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qj extends _r{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Xj extends _r{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jj extends _r{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eH{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class tH{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class nH{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rH{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iH{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sH{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fE{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class cg{}class ug{constructor(e){this.url=e}}class oH{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ua,this.attachRef=null}}let Ua=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new oH,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class pE{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=dg(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=dg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=hg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return hg(e,this._root).map(t=>t.value)}}function dg(n,e){if(n===e.value)return e;for(const t of e.children){const r=dg(n,t);if(r)return r}return null}function hg(n,e){if(n===e.value)return[e];for(const t of e.children){const r=hg(n,t);if(r.length)return r.unshift(e),r}return[]}class Hr{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function no(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class gE extends pE{constructor(e,t){super(e),this.snapshot=t,fg(this,e)}toString(){return this.snapshot.toString()}}function mE(n,e){const t=function aH(n,e){const o=new bu([],{},{},"",{},he,e,null,{});return new vE("",new Hr(o,[]))}(0,e),r=new Mn([new Ra("",{})]),i=new Mn({}),s=new Mn({}),o=new Mn({}),a=new Mn(""),l=new ro(r,i,o,a,s,he,e,t.root);return l.snapshot=t.root,new gE(new Hr(l,[]),t)}class ro{constructor(e,t,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Le(c=>c[xa]))??ae(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Le(e=>Js(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Le(e=>Js(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yE(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function lH(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class bu{get title(){return this.data?.[xa]}constructor(e,t,r,i,s,o,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Js(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Js(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class vE extends pE{constructor(e,t){super(t),this.url=e,fg(this,t)}toString(){return _E(this._root)}}function fg(n,e){e.value._routerState=n,e.children.forEach(t=>fg(n,t))}function _E(n){const e=n.children.length>0?` { ${n.children.map(_E).join(", ")} } `:"";return`${n.value}${e}`}function pg(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,vr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),vr(e.params,t.params)||n.paramsSubject.next(t.params),function Dj(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!vr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),vr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function gg(n,e){const t=vr(n.params,e.params)&&function Tj(n,e){return $i(n,e)&&n.every((t,r)=>vr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||gg(n.parent,e.parent))}let wE=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=he,this.activateEvents=new te,this.deactivateEvents=new te,this.attachEvents=new te,this.detachEvents=new te,this.parentContexts=q(Ua),this.location=q(qn),this.changeDetector=q(Ic),this.environmentInjector=q(xn),this.inputBinder=q(Du,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new P(4013,!1);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new cH(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=oe({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[In]})}return n})();class cH{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ro?this.route:e===Ua?this.childContexts:this.parent.get(e,t)}}const Du=new K("");let CE=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=Jp([r.queryParams,r.params,r.data]).pipe(tr(([s,o,a],l)=>(a={...s,...o,...a},0===l?ae(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const o=function T2(n){const e=_e(n);if(!e)return null;const t=new Zo(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();function ja(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function dH(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ja(n,r,i);return ja(n,r)})}(n,e,t);return new Hr(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ja(n,a)),o}}const r=function hH(n){return new ro(new Mn(n.url),new Mn(n.params),new Mn(n.queryParams),new Mn(n.fragment),new Mn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>ja(n,s));return new Hr(r,i)}}const mg="ngNavigationCancelingError";function SE(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=zi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=bE(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function bE(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[mg]=!0,r.cancellationCode=e,t&&(r.url=t),r}function DE(n){return n&&n[mg]}let EE=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["ng-component"]],standalone:!0,features:[UC],decls:1,vars:0,template:function(r,i){1&r&&L(0,"router-outlet")},dependencies:[wE],encapsulation:2})}return n})();function yg(n){const e=n.children&&n.children.map(yg),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==he&&(t.component=EE),t}function Qn(n){return n.outlet||he}function Ha(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class wH{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),pg(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=no(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=no(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=no(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=no(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new sH(s.value.snapshot))}),e.children.length&&this.forwardEvent(new rH(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(pg(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),pg(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Ha(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class ME{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Eu{constructor(e,t){this.component=e,this.route=t}}function CH(n,e,t){const r=n._root;return $a(r,e?e._root:null,t,[r.value])}function io(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function jM(n){return null!==sl(n)}(n)?e.get(n):n:r}function $a(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=no(e);return n.children.forEach(o=>{(function bH(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function DH(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!$i(n.url,e.url);case"pathParamsOrQueryParamsChange":return!$i(n.url,e.url)||!vr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gg(n,e)||!vr(n.queryParams,e.queryParams);default:return!gg(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new ME(r)):(s.data=o.data,s._resolvedData=o._resolvedData),$a(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Eu(a.outlet.component,o))}else o&&za(e,a,i),i.canActivateChecks.push(new ME(r)),$a(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>za(a,t.getContext(o),i)),i}function za(n,e,t){const r=no(n),i=n.value;Object.entries(r).forEach(([s,o])=>{za(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Eu(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ga(n){return"function"==typeof n}function AE(n){return n instanceof fu||"EmptyError"===n?.name}const Mu=Symbol("INITIAL_VALUE");function so(){return tr(n=>Jp(n.map(e=>e.pipe(Xs(1),function gj(...n){const e=fo(n);return gt((t,r)=>{(e?eg(n,t,e):eg(n,t)).subscribe(r)})}(Mu)))).pipe(Le(e=>{for(const t of e)if(!0!==t){if(t===Mu)return Mu;if(!1===t||t instanceof eo)return t}return!0}),di(e=>e!==Mu),Xs(1)))}function TE(n){return function $1(...n){return em(n)}(Vt(e=>{if(zi(e))throw SE(0,e)}),Le(e=>!0===e))}class Au{constructor(e){this.segmentGroup=e||null}}class kE{constructor(e){this.urlTree=e}}function oo(n){return Ia(new Au(n))}function IE(n){return Ia(new kE(n))}class zH{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new P(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ae(r);if(i.numberOfChildren>1||!i.children[he])return Ia(new P(4e3,!1));i=i.children[he]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new eo(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new Re(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new P(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const vg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function GH(n,e,t,r,i){const s=_g(n,e,t);return s.matched?(r=function pH(n,e){return n.providers&&!n._injector&&(n._injector=Sf(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function jH(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?ae(i.map(o=>{const a=io(o,n);return hi(function IH(n){return n&&Ga(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(so(),TE()):ae(!0)}(r,e,t).pipe(Le(o=>!0===o?s:{...vg}))):ae(s)}function _g(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...vg}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||bj)(t,n,e);if(!i)return{...vg};const s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function PE(n,e,t,r){return t.length>0&&function KH(n,e,t){return t.some(r=>Tu(n,e,r)&&Qn(r)!==he)}(n,t,r)?{segmentGroup:new Re(e,qH(r,new Re(t,n.children))),slicedSegments:[]}:0===t.length&&function YH(n,e,t){return t.some(r=>Tu(n,e,r))}(n,t,r)?{segmentGroup:new Re(n.segments,WH(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Re(n.segments,n.children),slicedSegments:t}}function WH(n,e,t,r,i){const s={};for(const o of r)if(Tu(n,t,o)&&!i[Qn(o)]){const a=new Re([],{});s[Qn(o)]=a}return{...i,...s}}function qH(n,e){const t={};t[he]=e;for(const r of n)if(""===r.path&&Qn(r)!==he){const i=new Re([],{});t[Qn(r)]=i}return t}function Tu(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class JH{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new zH(this.urlSerializer,this.urlTree)}noMatchError(e){return new P(4002,!1)}recognize(){const e=PE(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,he).pipe(Hi(t=>{if(t instanceof kE)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Au?this.noMatchError(t):t}),Le(t=>{const r=new bu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},he,this.rootComponentType,null,{}),i=new Hr(r,t),s=new vE("",i),o=function $j(n,e,t=null,r=null){return oE(sE(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,he).pipe(Hi(r=>{throw r instanceof Au?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=yE(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return wt(i).pipe(Pa(s=>{const o=r.children[s],a=function vH(n,e){const t=n.filter(r=>Qn(r)===e);return t.push(...n.filter(r=>Qn(r)!==e)),t}(t,s);return this.processSegmentGroup(e,a,o,s)}),function vj(n,e){return gt(function yj(n,e,t,r,i){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(ut(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(n,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),pu(null),function _j(n,e){const t=arguments.length>=2;return r=>r.pipe(n?di((i,s)=>n(i,s,r)):qr,ng(1),t?pu(e):W0(()=>new fu))}(),bt(s=>{if(null===s)return oo(r);const o=xE(s);return function e$(n){n.sort((e,t)=>e.value.outlet===he?-1:t.value.outlet===he?1:e.value.outlet.localeCompare(t.value.outlet))}(o),ae(o)}))}processSegment(e,t,r,i,s,o){return wt(t).pipe(Pa(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,s,o).pipe(Hi(l=>{if(l instanceof Au)return ae(null);throw l}))),ji(a=>!!a),Hi(a=>{if(AE(a))return function QH(n,e,t){return 0===e.length&&!n.children[t]}(r,i,s)?ae([]):oo(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,s,o,a){return function ZH(n,e,t,r){return!!(Qn(n)===r||r!==he&&Tu(e,t,n))&&("**"===n.path||_g(e,n,t).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o):oo(i):oo(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?IE(s):this.applyRedirects.lineralizeSegments(r,s).pipe(bt(o=>{const a=new Re(o,{});return this.processSegment(e,t,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=_g(t,i,s);if(!a)return oo(t);const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?IE(d):this.applyRedirects.lineralizeSegments(i,d).pipe(bt(h=>this.processSegment(e,r,t,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a;if("**"===r.path){const l=i.length>0?K0(i).parameters:{};a=ae({snapshot:new bu(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,RE(r),Qn(r),r.component??r._loadedComponent??null,r,NE(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=GH(t,r,i,e).pipe(Le(({matched:l,consumedSegments:c,remainingSegments:u,parameters:d})=>l?{snapshot:new bu(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,RE(r),Qn(r),r.component??r._loadedComponent??null,r,NE(r)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(tr(l=>null===l?oo(t):this.getChildConfig(e=r._injector??e,r,i).pipe(tr(({routes:c})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=l,{segmentGroup:v,slicedSegments:w}=PE(t,h,f,c);if(0===w.length&&v.hasChildren())return this.processChildren(u,c,v).pipe(Le(k=>null===k?null:[new Hr(d,k)]));if(0===c.length&&0===w.length)return ae([new Hr(d,[])]);const M=Qn(r)===s;return this.processSegment(u,c,v,w,M?he:s,!0).pipe(Le(k=>[new Hr(d,k)]))}))))}getChildConfig(e,t,r){return t.children?ae({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ae({routes:t._loadedRoutes,injector:t._loadedInjector}):function UH(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?ae(!0):ae(i.map(o=>{const a=io(o,n);return hi(function MH(n){return n&&Ga(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(so(),TE())}(e,t,r).pipe(bt(i=>i?this.configLoader.loadChildren(e,t).pipe(Vt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function $H(n){return Ia(bE(!1,3))}())):ae({routes:[],injector:e})}}function t$(n){const e=n.value.routeConfig;return e&&""===e.path}function xE(n){const e=[],t=new Set;for(const r of n){if(!t$(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=xE(r.children);e.push(new Hr(r.value,i))}return e.filter(r=>!t.has(r))}function RE(n){return n.data||{}}function NE(n){return n.resolve||{}}function OE(n){return"string"==typeof n.title||null===n.title}function wg(n){return tr(e=>{const t=n(e);return t?wt(t).pipe(Le(()=>e)):ae(e)})}const ao=new K("ROUTES");let Cg=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=q(OS)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ae(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=hi(t.loadComponent()).pipe(Le(FE),Vt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),rg(()=>{this.componentLoaders.delete(t)})),i=new G0(r,()=>new En).pipe(tg());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ae({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function l$(n,e,t,r){return hi(n.loadChildren()).pipe(Le(FE),bt(i=>i instanceof BC||Array.isArray(i)?ae(i):wt(e.compileModuleAsync(i))),Le(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(t).injector,o=s.get(ao,[],{optional:!0,self:!0}).flat()),{routes:o.map(yg),injector:s}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(rg(()=>{this.childrenLoaders.delete(r)})),o=new G0(s,()=>new En).pipe(tg());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function FE(n){return function c$(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let ku=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new En,this.transitionAbortSubject=new En,this.configLoader=q(Cg),this.environmentInjector=q(xn),this.urlSerializer=q(Na),this.rootContexts=q(Ua),this.inputBindingEnabled=null!==q(Du,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ae(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new tH(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new eH(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new Mn({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ba,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(di(s=>0!==s.id),Le(s=>({...s,extractedUrl:t.urlHandlingStrategy.extract(s.rawUrl)})),tr(s=>{this.currentTransition=s;let o=!1,a=!1;return ae(s).pipe(Vt(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),tr(l=>{const c=l.currentBrowserUrl.toString(),u=!t.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const h="";return this.events.next(new to(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),er}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ae(l).pipe(tr(h=>{const f=this.transitions?.getValue();return this.events.next(new Cu(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?er:Promise.resolve(h)}),function n$(n,e,t,r,i,s){return bt(o=>function XH(n,e,t,r,i,s,o="emptyOnly"){return new JH(n,e,t,r,i,o,s).recognize()}(n,e,t,r,o.extractedUrl,i,s).pipe(Le(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Vt(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new hE(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:f,source:v,restoredState:w,extras:M}=l,k=new Cu(h,this.urlSerializer.serialize(f),v,w);this.events.next(k);const E=mE(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:E,urlAfterRedirects:f,extras:{...M,skipLocationChange:!1,replaceUrl:!1}},ae(s)}{const h="";return this.events.next(new to(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),er}}),Vt(l=>{const c=new Zj(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Le(l=>(this.currentTransition=s={...l,guards:CH(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function xH(n,e){return bt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?ae({...t,guardsResult:!0}):function RH(n,e,t,r){return wt(n).pipe(bt(i=>function VH(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ae(s.map(a=>{const l=Ha(e)??i,c=io(a,l);return hi(function kH(n){return n&&Ga(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):l.runInContext(()=>c(n,e,t,r))).pipe(ji())})).pipe(so()):ae(!0)}(i.component,i.route,t,e,r)),ji(i=>!0!==i,!0))}(o,r,i,n).pipe(bt(a=>a&&function EH(n){return"boolean"==typeof n}(a)?function NH(n,e,t,r){return wt(e).pipe(Pa(i=>eg(function FH(n,e){return null!==n&&e&&e(new nH(n)),ae(!0)}(i.route.parent,r),function OH(n,e){return null!==n&&e&&e(new iH(n)),ae(!0)}(i.route,r),function BH(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function SH(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>z0(()=>ae(o.guards.map(l=>{const c=Ha(o.node)??t,u=io(l,c);return hi(function TH(n){return n&&Ga(n.canActivateChild)}(u)?u.canActivateChild(r,n):c.runInContext(()=>u(r,n))).pipe(ji())})).pipe(so())));return ae(s).pipe(so())}(n,i.path,t),function LH(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ae(!0);const i=r.map(s=>z0(()=>{const o=Ha(e)??t,a=io(s,o);return hi(function AH(n){return n&&Ga(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(ji())}));return ae(i).pipe(so())}(n,i.route,t))),ji(i=>!0!==i,!0))}(r,s,n,e):ae(a)),Le(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Vt(l=>{if(s.guardsResult=l.guardsResult,zi(l.guardsResult))throw SE(0,l.guardsResult);const c=new Qj(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),di(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),wg(l=>{if(l.guards.canActivateChecks.length)return ae(l).pipe(Vt(c=>{const u=new Xj(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),tr(c=>{let u=!1;return ae(c).pipe(function r$(n,e){return bt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ae(t);let s=0;return wt(i).pipe(Pa(o=>function i$(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!OE(i)&&(s[xa]=i.title),function s$(n,e,t,r){const i=function o$(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return ae({});const s={};return wt(i).pipe(bt(o=>function a$(n,e,t,r){const i=Ha(e)??r,s=io(n,i);return hi(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(ji(),Vt(a=>{s[o]=a}))),ng(1),function wj(n){return Le(()=>n)}(s),Hi(o=>AE(o)?er:Ia(o)))}(s,n,e,r).pipe(Le(o=>(n._resolvedData=o,n.data=yE(n,t).resolve,i&&OE(i)&&(n.data[xa]=i.title),null)))}(o.route,r,n,e)),Vt(()=>s++),ng(1),bt(o=>s===i.length?ae(t):er))})}(t.paramsInheritanceStrategy,this.environmentInjector),Vt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",2)}}))}),Vt(c=>{const u=new Jj(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),wg(l=>{const c=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Vt(h=>{u.component=h}),Le(()=>{})));for(const h of u.children)d.push(...c(h));return d};return Jp(c(l.targetSnapshot.root)).pipe(pu(),Xs(1))}),wg(()=>this.afterPreactivation()),Le(l=>{const c=function uH(n,e,t){const r=ja(n,e._root,t?t._root:void 0);return new gE(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},s}),Vt(()=>{this.events.next(new cg)}),((n,e,t,r)=>Le(i=>(new wH(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Xs(1),Vt({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new fi(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),function Cj(n){return gt((e,t)=>{un(n).subscribe(ut(t,()=>t.complete(),Qu)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe(Vt(l=>{throw l}))),rg(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Hi(l=>{if(a=!0,DE(l))this.events.next(new Va(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function fH(n){return DE(n)&&zi(n.url)}(l)?this.events.next(new ug(l.url)):s.resolve(!1);else{this.events.next(new Su(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(l))}catch(c){s.reject(c)}}return er}))}))}cancelNavigationTransition(t,r,i){const s=new Va(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function LE(n){return n!==Ba}let BE=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===he);return r}getResolvedTitleForRoute(t){return t.data[xa]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:function(){return q(u$)},providedIn:"root"})}return n})(),u$=(()=>{class n extends BE{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(Z(eD))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),d$=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:function(){return q(f$)},providedIn:"root"})}return n})();class h${shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let f$=(()=>{class n extends h${static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Tt(n)))(i||n)}}();static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Iu=new K("",{providedIn:"root",factory:()=>({})});let p$=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:function(){return q(g$)},providedIn:"root"})}return n})(),g$=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Wa=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Wa||{});function VE(n,e){n.events.pipe(di(t=>t instanceof fi||t instanceof Va||t instanceof Su||t instanceof to),Le(t=>t instanceof fi||t instanceof to?Wa.COMPLETE:t instanceof Va&&(0===t.code||1===t.code)?Wa.REDIRECTING:Wa.FAILED),di(t=>t!==Wa.REDIRECTING),Xs(1)).subscribe(()=>{e()})}function m$(n){throw n}function y$(n,e,t){return e.parse("/")}const v$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ln=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=q(RS),this.isNgZoneEnabled=!1,this._events=new En,this.options=q(Iu,{optional:!0})||{},this.pendingTasks=q(NS),this.errorHandler=this.options.errorHandler||m$,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||y$,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=q(p$),this.routeReuseStrategy=q(d$),this.titleStrategy=q(BE),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=q(ao,{optional:!0})?.flat()??[],this.navigationTransitions=q(ku),this.urlSerializer=q(Na),this.location=q(ep),this.componentInputBindingEnabled=!!q(Du,{optional:!0}),this.eventsSubscription=new cn,this.isNgZoneEnabled=q(Oe)instanceof Oe&&Oe.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new eo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=mE(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(UE(r)&&this._events.next(r));if(r instanceof Cu)LE(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof to)this.rawUrlTree=i.rawUrl;else if(r instanceof hE){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof cg)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Va)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof ug){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||LE(i.source)};this.scheduleNavigation(s,Ba,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Su&&this.restoreHistory(i,!0),r instanceof fi&&(this.navigated=!0),UE(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ba,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(yg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:o;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{d=sE(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return oE(d,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=zi(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Ba,null,r)}navigate(t,r={skipLocationChange:!1}){return function w$(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new P(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...v$}:!1===r?{..._$}:r,zi(t))return Z0(this.currentUrlTree,t,i);const s=this.parseUrl(t);return Z0(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,l=h});const u=this.pendingTasks.add();return VE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function UE(n){return!(n instanceof cg||n instanceof ug)}class jE{}let b$=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(di(t=>t instanceof fi),Pa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Sf(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return wt(i).pipe(Ki())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ae(null);const s=i.pipe(bt(o=>null===o?ae(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?wt([s,this.loader.loadComponent(r)]).pipe(Ki()):s})}static#e=this.\u0275fac=function(r){return new(r||n)(Z(Ln),Z(OS),Z(xn),Z(jE),Z(Cg))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const bg=new K("");let HE=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Cu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof fi?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof to&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof fE&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new fE(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function T_(){throw new Error("invalid")}()};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();function $r(n,e){return{\u0275kind:n,\u0275providers:e}}function zE(){const n=q(mn);return e=>{const t=n.get(Ri);if(e!==t.components[0])return;const r=n.get(Ln),i=n.get(GE);1===n.get(Dg)&&r.initialNavigation(),n.get(WE,null,me.Optional)?.setUpPreloading(),n.get(bg,null,me.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const GE=new K("",{factory:()=>new En}),Dg=new K("",{providedIn:"root",factory:()=>1}),WE=new K("");function A$(n){return $r(0,[{provide:WE,useExisting:b$},{provide:jE,useExisting:n}])}const qE=new K("ROUTER_FORROOT_GUARD"),k$=[ep,{provide:Na,useClass:ig},Ln,Ua,{provide:ro,useFactory:function $E(n){return n.routerState.root},deps:[Ln]},Cg,[]];function I$(){return new HS("Router",Ln)}let KE=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[k$,[],{provide:ao,multi:!0,useValue:t},{provide:qE,useFactory:N$,deps:[[Ln,new kl,new Il]]},{provide:Iu,useValue:r||{}},r?.useHash?{provide:Oi,useClass:R2}:{provide:Oi,useClass:vb},{provide:bg,useFactory:()=>{const n=q(XF),e=q(Oe),t=q(Iu),r=q(ku),i=q(Na);return t.scrollOffset&&n.setOffset(t.scrollOffset),new HE(i,r,n,e,t)}},r?.preloadingStrategy?A$(r.preloadingStrategy).\u0275providers:[],{provide:HS,multi:!0,useFactory:I$},r?.initialNavigation?O$(r):[],r?.bindToComponentInputs?$r(8,[CE,{provide:Du,useExisting:CE}]).\u0275providers:[],[{provide:YE,useFactory:zE},{provide:zf,multi:!0,useExisting:YE}]]}}static forChild(t){return{ngModule:n,providers:[{provide:ao,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(Z(qE,8))};static#t=this.\u0275mod=rr({type:n});static#n=this.\u0275inj=Vn({})}return n})();function N$(n){return"guarded"}function O$(n){return["disabled"===n.initialNavigation?$r(3,[{provide:Ff,multi:!0,useFactory:()=>{const e=q(Ln);return()=>{e.setUpLocationChangeListener()}}},{provide:Dg,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?$r(2,[{provide:Dg,useValue:0},{provide:Ff,multi:!0,deps:[mn],useFactory:e=>{const t=e.get(P2,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Ln),s=e.get(GE);VE(i,()=>{r(!0)}),e.get(ku).afterPreactivation=()=>(r(!0),s.closed?ae(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const YE=new K("");function ZE(n){return new P(3e3,!1)}function pi(n){switch(n.length){case 0:return new Da;case 1:return n[0];default:return new gD(n)}}function QE(n,e,t=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(l=>{const c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((h,f)=>{let v=f,w=h;if("offset"!==f)switch(v=n.normalizePropertyName(v,i),w){case"!":w=t.get(f);break;case Br:w=r.get(f);break;default:w=n.normalizeStyleValue(f,v,w,i)}d.set(v,w)}),u||s.push(d),a=d,o=c}),i.length)throw function s4(n){return new P(3502,!1)}();return s}function Eg(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Mg(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Mg(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Mg(t,"destroy",n)))}}function Mg(n,e,t){const s=Ag(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function Ag(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Sn(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function XE(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const y4=(()=>typeof document>"u"?null:document.documentElement)();function Tg(n){const e=n.parentNode||n.host||null;return e===y4?null:e}let Gi=null,JE=!1;function e1(n,e){for(;e;){if(e===n)return!0;e=Tg(e)}return!1}function t1(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let n1=(()=>{class n{validateStyleProperty(t){return function _4(n){Gi||(Gi=function w4(){return typeof document<"u"?document.body:null}()||{},JE=!!Gi.style&&"WebkitAppearance"in Gi.style);let e=!0;return Gi.style&&!function v4(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Gi.style,!e&&JE&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Gi.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return e1(t,r)}getParentElement(t){return Tg(t)}query(t,r,i){return t1(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new Da(i,s)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})(),kg=(()=>{class n{static#e=this.NOOP=new n1}return n})();const C4=1e3,Ig="ng-enter",Pu="ng-leave",xu="ng-trigger",Ru=".ng-trigger",i1="ng-animating",Pg=".ng-animating";function zr(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:xg(parseFloat(e[1]),e[2])}function xg(n,e){return"s"===e?n*C4:n}function Nu(n,e,t){return n.hasOwnProperty("duration")?n:function b4(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(ZE()),{duration:0,delay:0,easing:""};i=xg(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=xg(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function L$(){return new P(3100,!1)}()),a=!0),s<0&&(e.push(function B$(){return new P(3101,!1)}()),a=!0),a&&e.splice(l,0,ZE())}return{duration:i,delay:s,easing:o}}(n,e,t)}function qa(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function s1(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function gi(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function wr(n,e,t){e.forEach((r,i)=>{const s=Ng(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function Wi(n,e){e.forEach((t,r)=>{const i=Ng(r);n.style[i]=""})}function Ka(n){return Array.isArray(n)?1==n.length?n[0]:pD(n):n}const Rg=new RegExp("{{\\s*(.+?)\\s*}}","g");function a1(n){let e=[];if("string"==typeof n){let t;for(;t=Rg.exec(n);)e.push(t[1]);Rg.lastIndex=0}return e}function Ya(n,e,t){const r=n.toString(),i=r.replace(Rg,(s,o)=>{let a=e[o];return null==a&&(t.push(function U$(n){return new P(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function Ou(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const M4=/-+([a-z0-9])/g;function Ng(n){return n.replace(M4,(...e)=>e[1].toUpperCase())}function bn(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function j$(n){return new P(3004,!1)}()}}function l1(n,e){return window.getComputedStyle(n)[e]}const Fu="*";function k4(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function I4(n,e,t){if(":"==n[0]){const l=function P4(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function t4(n){return new P(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function e4(n){return new P(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(c1(i,o));"<"==s[0]&&!(i==Fu&&o==Fu)&&e.push(c1(o,i))}(r,t,e)):t.push(n),t}const Lu=new Set(["true","1"]),Bu=new Set(["false","0"]);function c1(n,e){const t=Lu.has(n)||Bu.has(n),r=Lu.has(e)||Bu.has(e);return(i,s)=>{let o=n==Fu||n==i,a=e==Fu||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?Lu.has(n):Bu.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?Lu.has(e):Bu.has(e)),o&&a}}const x4=new RegExp("s*:selfs*,?","g");function Og(n,e,t,r){return new R4(n).build(e,t,r)}class R4{constructor(e){this._driver=e}build(e,t,r){const i=new F4(t);return this._resetContextStyleTimingState(i),bn(this,Ka(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function $$(){return new P(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(function z$(){return new P(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{a1(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(Ou(s.values()),t.errors.push(function G$(n,e){return new P(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=bn(this,Ka(e.animation),t);return{type:1,matchers:k4(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:qi(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>bn(this,r,t)),options:qi(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=bn(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:qi(e.options)}}visitAnimate(e,t){const r=function B4(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Fg(Nu(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Fg(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=Nu(t,e);return Fg(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:Pt({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=Pt(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===Br?r.push(a):t.errors.push(new P(3002,!1)):r.push(s1(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(t.errors.push(function q$(n,e,t,r,i){return new P(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:i}),t.options&&function E4(n,e,t){const r=e.params||{},i=a1(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function V$(n){return new P(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function K$(){return new P(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(k=>{const E=this._makeStyleAst(k,t);let B=null!=E.offset?E.offset:function L4(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(E.styles),j=0;return null!=B&&(s++,j=E.offset=B),l=l||j<0||j>1,a=a||j<c,c=j,o.push(j),E});l&&t.errors.push(function Y$(){return new P(3012,!1)}()),a&&t.errors.push(function Z$(){return new P(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function Q$(){return new P(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,v=t.currentTime,w=t.currentAnimateTimings,M=w.duration;return u.forEach((k,E)=>{const B=h>0?E==f?1:h*E:o[E],j=B*M;t.currentTime=v+w.delay+j,w.duration=j,this._validateStyleAst(k,t),k.offset=B,r.styles.push(k)}),r}visitReference(e,t){return{type:8,animation:bn(this,Ka(e.animation),t),options:qi(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:qi(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:qi(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function N4(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(x4,"")),n=n.replace(/@\*/g,Ru).replace(/@\w+/g,t=>Ru+"-"+t.slice(1)).replace(/:animating/g,Pg),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Sn(t.collectedStyles,t.currentQuerySelector,new Map);const a=bn(this,Ka(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:qi(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function X$(){return new P(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Nu(e.timings,t.errors,!0);return{type:12,animation:bn(this,Ka(e.animation),t),timings:r,options:null}}}class F4{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function qi(n){return n?(n=qa(n)).params&&(n.params=function O4(n){return n?qa(n):null}(n.params)):n={},n}function Fg(n,e,t){return{duration:n,delay:e,easing:t}}function Lg(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Vu{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const j4=new RegExp(":enter","g"),$4=new RegExp(":leave","g");function Bg(n,e,t,r,i,s=new Map,o=new Map,a,l,c=[]){return(new z4).buildKeyframes(n,e,t,r,i,s,o,a,l,c)}class z4{buildKeyframes(e,t,r,i,s,o,a,l,c,u=[]){c=c||new Vu;const d=new Vg(e,t,c,i,s,u,[]);d.options=l;const h=l.delay?zr(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),bn(this,r,d);const f=d.timelines.filter(v=>v.containsAnimation());if(f.length&&a.size){let v;for(let w=f.length-1;w>=0;w--){const M=f[w];if(M.element===t){v=M;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,d.errors,l)}return f.length?f.map(v=>v.buildKeyframes()):[Lg(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:zr(Ya(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?zr(r.duration):null,a=null!=r.delay?zr(r.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),bn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Uu);const o=zr(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>bn(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?zr(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),bn(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Nu(t.params?Ya(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?zr(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Uu);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),bn(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;bn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const Uu={};class Vg{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Uu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new ju(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=zr(r.duration)),null!=r.delay&&(i.delay=zr(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Ya(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new Vg(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Uu,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new G4(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(j4,"."+this._enterClassName)).replace($4,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function J$(n){return new P(3014,!1)}()),a}}class ju{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new ju(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Br),this._currentKeyframe.set(t,Br);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function W4(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,Br)}else gi(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const c=Ya(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Br),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=gi(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?e.add(d):u===Br&&t.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});const s=e.size?Ou(e.values()):[],o=t.size?Ou(t.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return Lg(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class G4 extends ju{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=gi(e[0]);l.set("offset",0),s.push(l);const c=gi(e[0]);c.set("offset",h1(a)),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=gi(e[d]);const f=h.get("offset");h.set("offset",h1((t+f*r)/o)),s.push(h)}r=o,t=0,i="",e=s}return Lg(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function h1(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Ug{}const q4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class K4 extends Ug{normalizePropertyName(e,t){return Ng(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(q4.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function H$(n,e){return new P(3005,!1)}())}return o+s}}function f1(n,e,t,r,i,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const jg={};class p1{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Y4(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||jg,v=this.buildStyles(r,a&&a.params||jg,d),w=l&&l.params||jg,M=this.buildStyles(i,w,d),k=new Set,E=new Map,B=new Map,j="void"===i,Y={params:Z4(w,h),delay:this.ast.options?.delay},ge=u?[]:Bg(e,t,this.ast.animation,s,o,v,M,Y,c,d);let fe=0;if(ge.forEach(Je=>{fe=Math.max(Je.duration+Je.delay,fe)}),d.length)return f1(t,this._triggerName,r,i,j,v,M,[],[],E,B,fe,d);ge.forEach(Je=>{const pt=Je.element,ln=Sn(E,pt,new Set);Je.preStyleProps.forEach(Yt=>ln.add(Yt));const _t=Sn(B,pt,new Set);Je.postStyleProps.forEach(Yt=>_t.add(Yt)),pt!==t&&k.add(pt)});const Ae=Ou(k.values());return f1(t,this._triggerName,r,i,j,v,M,ge,Ae,E,B,fe)}}function Z4(n,e){const t=qa(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class Q4{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=qa(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Ya(o,i,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),r.set(a,o)})}),r}}class J4{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new Q4(i.style,i.options&&i.options.params||{},r))}),g1(this.states,"true","1"),g1(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new p1(e,i,this.states))}),this.fallbackTransition=function e5(n,e,t){return new p1(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function g1(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const t5=new Vu;class n5{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=Og(this._driver,t,r,[]);if(r.length)throw function o4(n){return new P(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=QE(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=Bg(this._driver,t,s,Ig,Pu,new Map,new Map,r,t5,i),o.forEach(u=>{const d=Sn(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function a4(){return new P(3300,!1)}()),o=[]),i.length)throw function l4(n){return new P(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,Br))})});const c=pi(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function c4(n){return new P(3301,!1)}();return t}listen(e,t,r,i){const s=Ag(t,"","","");return Eg(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const m1="ng-animate-queued",Hg="ng-animate-disabled",a5=[],y1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},l5={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Xn="__ng_removed";class $g{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function h5(n){return n??null}(r?e.value:e),r){const s=qa(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Za="void",zg=new $g(Za);class c5{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Bn(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function u4(n,e){return new P(3302,!1)}();if(null==r||0==r.length)throw function d4(n){return new P(3303,!1)}();if(!function f5(n){return"start"==n||"done"==n}(r))throw function h4(n,e){return new P(3400,!1)}();const s=Sn(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=Sn(this._engine.statesByElement,e,new Map);return a.has(t)||(Bn(e,xu),Bn(e,xu+"-"+t),a.set(t,zg)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function f4(n){return new P(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new Gg(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Bn(e,xu),Bn(e,xu+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new $g(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=zg),c.value!==Za&&l.value===c.value){if(!function m5(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const w=[],M=s.matchStyles(l.value,l.params,w),k=s.matchStyles(c.value,c.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{Wi(e,M),wr(e,k)})}return}const h=Sn(this._engine.playersByElement,e,[]);h.forEach(w=>{w.namespaceId==this.id&&w.triggerName==t&&w.queued&&w.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),v=!1;if(!f){if(!i)return;f=s.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:v}),v||(Bn(e,m1),o.onStart(()=>{lo(e,m1)})),o.onDone(()=>{let w=this.players.indexOf(o);w>=0&&this.players.splice(w,1);const M=this._engine.playersByElement.get(e);if(M){let k=M.indexOf(o);k>=0&&M.splice(k,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Ru,!0);r.forEach(i=>{if(i[Xn])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,Za,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&pi(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,c=r.get(o)||zg,u=new $g(Za),d=new Gg(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Xn];(!s||s===y1)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Bn(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=Ag(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,Eg(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class u5{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new c5(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(Hu(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Hu(t))return;const s=t[Xn];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Bn(e,Hg)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),lo(e,Hg))}removeNode(e,t,r){if(Hu(t)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Xn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return Hu(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Ru,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Pg,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return pi(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Xn];if(t&&t.setForRemoval){if(e[Xn]=y1,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Hg)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Bn(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?pi(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function p4(n){return new P(3402,!1)}()}_flushAnimations(e,t){const r=new Vu,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(z=>{u.add(z);const Q=this.driver.query(z,".ng-animate-queued",!0);for(let X=0;X<Q.length;X++)u.add(Q[X])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=w1(h,this.collectedEnterElements),v=new Map;let w=0;f.forEach((z,Q)=>{const X=Ig+w++;v.set(Q,X),z.forEach(ve=>Bn(ve,X))});const M=[],k=new Set,E=new Set;for(let z=0;z<this.collectedLeaveElements.length;z++){const Q=this.collectedLeaveElements[z],X=Q[Xn];X&&X.setForRemoval&&(M.push(Q),k.add(Q),X.hasAnimation?this.driver.query(Q,".ng-star-inserted",!0).forEach(ve=>k.add(ve)):E.add(Q))}const B=new Map,j=w1(h,Array.from(k));j.forEach((z,Q)=>{const X=Pu+w++;B.set(Q,X),z.forEach(ve=>Bn(ve,X))}),e.push(()=>{f.forEach((z,Q)=>{const X=v.get(Q);z.forEach(ve=>lo(ve,X))}),j.forEach((z,Q)=>{const X=B.get(Q);z.forEach(ve=>lo(ve,X))}),M.forEach(z=>{this.processLeaveNode(z)})});const Y=[],ge=[];for(let z=this._namespaceList.length-1;z>=0;z--)this._namespaceList[z].drainQueuedTransitions(t).forEach(X=>{const ve=X.player,rt=X.element;if(Y.push(ve),this.collectedEnterElements.length){const et=rt[Xn];if(et&&et.setForMove){if(et.previousTriggersValues&&et.previousTriggersValues.has(X.triggerName)){const Jn=et.previousTriggersValues.get(X.triggerName),Qt=this.statesByElement.get(X.element);if(Qt&&Qt.has(X.triggerName)){const Wr=Qt.get(X.triggerName);Wr.value=Jn,Qt.set(X.triggerName,Wr)}}return void ve.destroy()}}const xt=!d||!this.driver.containsElement(d,rt),Rt=B.get(rt),Zt=v.get(rt),Ue=this._buildInstruction(X,r,Zt,Rt,xt);if(Ue.errors&&Ue.errors.length)return void ge.push(Ue);if(xt)return ve.onStart(()=>Wi(rt,Ue.fromStyles)),ve.onDestroy(()=>wr(rt,Ue.toStyles)),void i.push(ve);if(X.isFallbackTransition)return ve.onStart(()=>Wi(rt,Ue.fromStyles)),ve.onDestroy(()=>wr(rt,Ue.toStyles)),void i.push(ve);const Gr=[];Ue.timelines.forEach(et=>{et.stretchStartingKeyframe=!0,this.disabledNodes.has(et.element)||Gr.push(et)}),Ue.timelines=Gr,r.append(rt,Ue.timelines),o.push({instruction:Ue,player:ve,element:rt}),Ue.queriedElements.forEach(et=>Sn(a,et,[]).push(ve)),Ue.preStyleProps.forEach((et,Jn)=>{if(et.size){let Qt=l.get(Jn);Qt||l.set(Jn,Qt=new Set),et.forEach((Wr,Xa)=>Qt.add(Xa))}}),Ue.postStyleProps.forEach((et,Jn)=>{let Qt=c.get(Jn);Qt||c.set(Jn,Qt=new Set),et.forEach((Wr,Xa)=>Qt.add(Xa))})});if(ge.length){const z=[];ge.forEach(Q=>{z.push(function g4(n,e){return new P(3505,!1)}())}),Y.forEach(Q=>Q.destroy()),this.reportError(z)}const fe=new Map,Ae=new Map;o.forEach(z=>{const Q=z.element;r.has(Q)&&(Ae.set(Q,Q),this._beforeAnimationBuild(z.player.namespaceId,z.instruction,fe))}),i.forEach(z=>{const Q=z.element;this._getPreviousPlayers(Q,!1,z.namespaceId,z.triggerName,null).forEach(ve=>{Sn(fe,Q,[]).push(ve),ve.destroy()})});const Je=M.filter(z=>S1(z,l,c)),pt=new Map;_1(pt,this.driver,E,c,Br).forEach(z=>{S1(z,l,c)&&Je.push(z)});const _t=new Map;f.forEach((z,Q)=>{_1(_t,this.driver,new Set(z),l,"!")}),Je.forEach(z=>{const Q=pt.get(z),X=_t.get(z);pt.set(z,new Map([...Q?.entries()??[],...X?.entries()??[]]))});const Yt=[],Dn=[],Cr={};o.forEach(z=>{const{element:Q,player:X,instruction:ve}=z;if(r.has(Q)){if(u.has(Q))return X.onDestroy(()=>wr(Q,ve.toStyles)),X.disabled=!0,X.overrideTotalTime(ve.totalTime),void i.push(X);let rt=Cr;if(Ae.size>1){let Rt=Q;const Zt=[];for(;Rt=Rt.parentNode;){const Ue=Ae.get(Rt);if(Ue){rt=Ue;break}Zt.push(Rt)}Zt.forEach(Ue=>Ae.set(Ue,rt))}const xt=this._buildAnimation(X.namespaceId,ve,fe,s,_t,pt);if(X.setRealPlayer(xt),rt===Cr)Yt.push(X);else{const Rt=this.playersByElement.get(rt);Rt&&Rt.length&&(X.parentPlayer=pi(Rt)),i.push(X)}}else Wi(Q,ve.fromStyles),X.onDestroy(()=>wr(Q,ve.toStyles)),Dn.push(X),u.has(Q)&&i.push(X)}),Dn.forEach(z=>{const Q=s.get(z.element);if(Q&&Q.length){const X=pi(Q);z.setRealPlayer(X)}}),i.forEach(z=>{z.parentPlayer?z.syncPlayerEvents(z.parentPlayer):z.destroy()});for(let z=0;z<M.length;z++){const Q=M[z],X=Q[Xn];if(lo(Q,Pu),X&&X.hasAnimation)continue;let ve=[];if(a.size){let xt=a.get(Q);xt&&xt.length&&ve.push(...xt);let Rt=this.driver.query(Q,Pg,!0);for(let Zt=0;Zt<Rt.length;Zt++){let Ue=a.get(Rt[Zt]);Ue&&Ue.length&&ve.push(...Ue)}}const rt=ve.filter(xt=>!xt.destroyed);rt.length?p5(this,Q,rt):this.processLeaveNode(Q)}return M.length=0,Yt.forEach(z=>{this.players.push(z),z.onDone(()=>{z.destroy();const Q=this.players.indexOf(z);this.players.splice(Q,1)}),z.play()}),Yt}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==Za;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=Sn(r,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const v=f.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),f.destroy(),d.push(f)})}Wi(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(v=>{const w=v.element;u.add(w);const M=w[Xn];if(M&&M.removedBeforeQueried)return new Da(v.duration,v.delay);const k=w!==l,E=function g5(n){const e=[];return C1(n,e),e}((r.get(w)||a5).map(fe=>fe.getRealPlayer())).filter(fe=>!!fe.element&&fe.element===w),B=s.get(w),j=o.get(w),Y=QE(this._normalizer,v.keyframes,B,j),ge=this._buildPlayer(v,Y,E);if(v.subTimeline&&i&&d.add(w),k){const fe=new Gg(e,a,w);fe.setRealPlayer(ge),c.push(fe)}return ge});c.forEach(v=>{Sn(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>function d5(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,v.element,v))}),u.forEach(v=>Bn(v,i1));const f=pi(h);return f.onDestroy(()=>{u.forEach(v=>lo(v,i1)),wr(l,t.toStyles)}),d.forEach(v=>{Sn(i,v,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Da(e.duration,e.delay)}}class Gg{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Da,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Eg(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Sn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Hu(n){return n&&1===n.nodeType}function v1(n,e){const t=n.style.display;return n.style.display=e??"none",t}function _1(n,e,t,r,i){const s=[];t.forEach(l=>s.push(v1(l)));const o=[];r.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=e.computeStyle(c,d,i);u.set(d,h),(!h||0==h.length)&&(c[Xn]=l5,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>v1(l,s[a++])),o}function w1(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function Bn(n,e){n.classList?.add(e)}function lo(n,e){n.classList?.remove(e)}function p5(n,e,t){pi(t).onDone(()=>n.processLeaveNode(e))}function C1(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof gD?C1(r.players,e):e.push(r)}}function S1(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class $u{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new u5(e,t,r),this._timelineEngine=new n5(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],u=Og(this._driver,s,l,[]);if(l.length)throw function i4(n,e){return new P(3404,!1)}();a=function X4(n,e,t){return new J4(n,e,t)}(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=XE(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=XE(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let v5=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&wr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(wr(this._element,this._initialStyles),this._endStyles&&(wr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Wi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Wi(this._element,this._endStyles),this._endStyles=null),wr(this._element,this._initialStyles),this._state=3)}}return n})();function Wg(n){let e=null;return n.forEach((t,r)=>{(function _5(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class b1{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:l1(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class w5{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return e1(e,t)}getParentElement(e){return Tg(e)}query(e,t,r){return t1(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(f=>f instanceof b1);(function A4(n,e){return 0===n||0===e})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((v,w)=>c.set(w,v))});let d=function D4(n){return n.length?n[0]instanceof Map?n:n.map(e=>s1(e)):[]}(t).map(f=>gi(f));d=function T4(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,l1(n,a)))}}return e}(e,d,c);const h=function y5(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Wg(e[0]),e.length>1&&(r=Wg(e[e.length-1]))):e instanceof Map&&(t=Wg(e)),t||r?new v5(n,t,r):null}(e,d);return new b1(e,d,l,h)}}let C5=(()=>{class n extends fD{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Tn.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?pD(t):t;return D1(this._renderer,null,r,"register",[i]),new S5(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||n)(Z(zo),Z(on))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();class S5 extends uB{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new b5(this._id,e,t||{},this._renderer)}}class b5{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return D1(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function D1(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const E1="@.disabled";let D5=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(s);return u||(u=new M1("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,u)),u}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return r.data.animation.forEach(l),new E5(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||n)(Z(zo),Z($u),Z(Oe))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();class M1{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==E1?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class E5 extends M1{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==E1?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function M5(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function A5(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}const A1=[{provide:fD,useClass:C5},{provide:Ug,useFactory:function k5(){return new K4}},{provide:$u,useClass:(()=>{class n extends $u{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||n)(Z(on),Z(kg),Z(Ug),Z(Ri))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})()},{provide:zo,useFactory:function I5(n,e,t){return new D5(n,e,t)},deps:[Sp,$u,Oe]}],qg=[{provide:kg,useFactory:()=>new w5},{provide:Qv,useValue:"BrowserAnimations"},...A1],T1=[{provide:kg,useClass:n1},{provide:Qv,useValue:"NoopAnimations"},...A1];let P5=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?T1:qg}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=rr({type:n});static#n=this.\u0275inj=Vn({providers:qg,imports:[Jb]})}return n})();const x5=[{path:"game",component:H0},{path:"card",component:Zn},{path:"",pathMatch:"full",redirectTo:"game"}];let R5=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=rr({type:n,bootstrap:[dj]});static#n=this.\u0275inj=Vn({imports:[Jb,S3,Nb,P5,[KE.forRoot(x5,{initialNavigation:"enabledBlocking",useHash:!0})],KE]})}return n})();zL().bootstrapModule(R5).catch(n=>console.error(n))}},Ne=>{Ne(Ne.s=291)}]);