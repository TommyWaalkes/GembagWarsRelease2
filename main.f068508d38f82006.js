"use strict";(self.webpackChunkCardApp=self.webpackChunkCardApp||[]).push([[179],{94:()=>{function Pe(t){return"function"==typeof t}function no(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Ga=no(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ro(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class rn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Pe(r))try{r()}catch(s){e=s instanceof Ga?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Fg(s)}catch(o){e=e??[],o instanceof Ga?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ga(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Fg(e);else{if(e instanceof rn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ro(n,e)}remove(e){const{_finalizers:n}=this;n&&ro(n,e),e instanceof rn&&e._removeParent(this)}}rn.EMPTY=(()=>{const t=new rn;return t.closed=!0,t})();const Og=rn.EMPTY;function xg(t){return t instanceof rn||t&&"closed"in t&&Pe(t.remove)&&Pe(t.add)&&Pe(t.unsubscribe)}function Fg(t){Pe(t)?t():t.unsubscribe()}const ui={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},za={setTimeout(t,e,...n){const{delegate:r}=za;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=za;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Lg(t){za.setTimeout(()=>{const{onUnhandledError:e}=ui;if(!e)throw t;e(t)})}function Nu(){}const cM=Ru("C",void 0,void 0);function Ru(t,e,n){return{kind:t,value:e,error:n}}let di=null;function Wa(t){if(ui.useDeprecatedSynchronousErrorHandling){const e=!di;if(e&&(di={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=di;if(di=null,n)throw r}}else t()}class Ou extends rn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,xg(e)&&e.add(this)):this.destination=mM}static create(e,n,r){return new io(e,n,r)}next(e){this.isStopped?Fu(function dM(t){return Ru("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Fu(function uM(t){return Ru("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Fu(cM,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const fM=Function.prototype.bind;function xu(t,e){return fM.call(t,e)}class pM{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){qa(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){qa(r)}else qa(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){qa(n)}}}class io extends Ou{constructor(e,n,r){let i;if(super(),Pe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&ui.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&xu(e.next,s),error:e.error&&xu(e.error,s),complete:e.complete&&xu(e.complete,s)}):i=e}this.destination=new pM(i)}}function qa(t){ui.useDeprecatedSynchronousErrorHandling?function hM(t){ui.useDeprecatedSynchronousErrorHandling&&di&&(di.errorThrown=!0,di.error=t)}(t):Lg(t)}function Fu(t,e){const{onStoppedNotification:n}=ui;n&&za.setTimeout(()=>n(t,e))}const mM={closed:!0,next:Nu,error:function gM(t){throw t},complete:Nu},Lu="function"==typeof Symbol&&Symbol.observable||"@@observable";function Vr(t){return t}function Vg(t){return 0===t.length?Vr:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let it=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function _M(t){return t&&t instanceof Ou||function vM(t){return t&&Pe(t.next)&&Pe(t.error)&&Pe(t.complete)}(t)&&xg(t)}(n)?n:new io(n,r,i);return Wa(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Bg(r))((i,s)=>{const o=new io({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Lu](){return this}pipe(...n){return Vg(n)(this)}toPromise(n){return new(n=Bg(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Bg(t){var e;return null!==(e=t??ui.Promise)&&void 0!==e?e:Promise}const wM=no(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let _n=(()=>{class t extends it{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new jg(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new wM}next(n){Wa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Wa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Wa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Og:(this.currentObservers=null,s.push(n),new rn(()=>{this.currentObservers=null,ro(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new it;return n.source=this,n}}return t.create=(e,n)=>new jg(e,n),t})();class jg extends _n{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Og}}function Hg(t){return Pe(t?.lift)}function ct(t){return e=>{if(Hg(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function st(t,e,n,r,i){return new CM(t,e,n,r,i)}class CM extends Ou{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Oe(t,e){return ct((n,r)=>{let i=0;n.subscribe(st(r,s=>{r.next(t.call(e,s,i++))}))})}function Br(t){return this instanceof Br?(this.v=t,this):new Br(t)}function zg(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Hu(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Wg=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function qg(t){return Pe(t?.then)}function Kg(t){return Pe(t[Lu])}function Zg(t){return Symbol.asyncIterator&&Pe(t?.[Symbol.asyncIterator])}function Qg(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Yg=function UM(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Xg(t){return Pe(t?.[Yg])}function Jg(t){return function Gg(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(g,_){s.push([h,f,g,_])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Br?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(r[h](f))}catch(g){d(s[0][3],g)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Br(n.read());if(i)return yield Br(void 0);yield yield Br(r)}}finally{n.releaseLock()}})}function em(t){return Pe(t?.getReader)}function sn(t){if(t instanceof it)return t;if(null!=t){if(Kg(t))return function GM(t){return new it(e=>{const n=t[Lu]();if(Pe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Wg(t))return function zM(t){return new it(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(qg(t))return function WM(t){return new it(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Lg)})}(t);if(Zg(t))return tm(t);if(Xg(t))return function qM(t){return new it(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(em(t))return function KM(t){return tm(Jg(t))}(t)}throw Qg(t)}function tm(t){return new it(e=>{(function ZM(t,e){var n,r,i,s;return function $g(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=zg(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function gr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function vt(t,e,n=1/0){return Pe(e)?vt((r,i)=>Oe((s,o)=>e(r,s,i,o))(sn(t(r,i))),n):("number"==typeof e&&(n=e),ct((r,i)=>function QM(t,e,n,r,i,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=_=>c<r?g(_):l.push(_),g=_=>{s&&e.next(_),c++;let M=!1;sn(n(_,u++)).subscribe(st(e,T=>{i?.(T),s?f(T):e.next(T)},()=>{M=!0},void 0,()=>{if(M)try{for(c--;l.length&&c<r;){const T=l.shift();o?gr(e,o,()=>g(T)):g(T)}h()}catch(T){e.error(T)}}))};return t.subscribe(st(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Hi(t=1/0){return vt(Vr,t)}const Kn=new it(t=>t.complete());function $u(t){return t[t.length-1]}function nm(t){return Pe($u(t))?t.pop():void 0}function so(t){return function XM(t){return t&&Pe(t.schedule)}($u(t))?t.pop():void 0}function rm(t,e=0){return ct((n,r)=>{n.subscribe(st(r,i=>gr(r,t,()=>r.next(i),e),()=>gr(r,t,()=>r.complete(),e),i=>gr(r,t,()=>r.error(i),e)))})}function im(t,e=0){return ct((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function sm(t,e){if(!t)throw new Error("Iterable cannot be null");return new it(n=>{gr(n,e,()=>{const r=t[Symbol.asyncIterator]();gr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function pt(t,e){return e?function s1(t,e){if(null!=t){if(Kg(t))return function e1(t,e){return sn(t).pipe(im(e),rm(e))}(t,e);if(Wg(t))return function n1(t,e){return new it(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(qg(t))return function t1(t,e){return sn(t).pipe(im(e),rm(e))}(t,e);if(Zg(t))return sm(t,e);if(Xg(t))return function r1(t,e){return new it(n=>{let r;return gr(n,e,()=>{r=t[Yg](),gr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Pe(r?.return)&&r.return()})}(t,e);if(em(t))return function i1(t,e){return sm(Jg(t),e)}(t,e)}throw Qg(t)}(t,e):sn(t)}class wn extends _n{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function se(...t){return pt(t,so(t))}function om(t={}){const{connector:e=(()=>new _n),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},g=()=>{const _=o;f(),_?.unsubscribe()};return ct((_,M)=>{c++,!d&&!u&&h();const T=l=l??e();M.add(()=>{c--,0===c&&!d&&!u&&(a=Uu(g,i))}),T.subscribe(M),!o&&c>0&&(o=new io({next:b=>T.next(b),error:b=>{d=!0,h(),a=Uu(f,n,b),T.error(b)},complete:()=>{u=!0,h(),a=Uu(f,r),T.complete()}}),sn(_).subscribe(o))})(s)}}function Uu(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new io({next:()=>{r.unsubscribe(),t()}});return sn(e(...n)).subscribe(r)}function Zn(t,e){return ct((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(st(r,l=>{i?.unsubscribe();let c=0;const u=s++;sn(t(l,u)).subscribe(i=st(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function l1(t,e){return t===e}function Ae(t){for(let e in t)if(t[e]===Ae)return e;throw Error("Could not find renamed property on target object.")}function Ka(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ut(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ut).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Gu(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const c1=Ae({__forward_ref__:Ae});function Fe(t){return t.__forward_ref__=Fe,t.toString=function(){return ut(this())},t}function re(t){return zu(t)?t():t}function zu(t){return"function"==typeof t&&t.hasOwnProperty(c1)&&t.__forward_ref__===Fe}function Wu(t){return t&&!!t.\u0275providers}const am="https://g.co/ng/security#xss";class k extends Error{constructor(e,n){super(function Za(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function oe(t){return"string"==typeof t?t:null==t?"":String(t)}function qu(t,e){throw new k(-201,!1)}function Cn(t,e){null==t&&function te(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function Z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Fn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Qa(t){return lm(t,Xa)||lm(t,cm)}function lm(t,e){return t.hasOwnProperty(e)?t[e]:null}function Ya(t){return t&&(t.hasOwnProperty(Ku)||t.hasOwnProperty(y1))?t[Ku]:null}const Xa=Ae({\u0275prov:Ae}),Ku=Ae({\u0275inj:Ae}),cm=Ae({ngInjectableDef:Ae}),y1=Ae({ngInjectorDef:Ae});var me=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(me||{});let Zu;function Wt(t){const e=Zu;return Zu=t,e}function dm(t,e,n){const r=Qa(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&me.Optional?null:void 0!==e?e:void qu(ut(t))}const Le=globalThis;class W{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const oo={},ed="__NG_DI_FLAG__",Ja="ngTempTokenPath",w1=/\n/gm,fm="__source";let $i;function jr(t){const e=$i;return $i=t,e}function b1(t,e=me.Default){if(void 0===$i)throw new k(-203,!1);return null===$i?dm(t,void 0,e):$i.get(t,e&me.Optional?null:void 0,e)}function K(t,e=me.Default){return(function um(){return Zu}()||b1)(re(t),e)}function G(t,e=me.Default){return K(t,el(e))}function el(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function td(t){const e=[];for(let n=0;n<t.length;n++){const r=re(t[n]);if(Array.isArray(r)){if(0===r.length)throw new k(900,!1);let i,s=me.Default;for(let o=0;o<r.length;o++){const a=r[o],l=D1(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(K(i,s))}else e.push(K(r))}return e}function ao(t,e){return t[ed]=e,t.prototype[ed]=e,t}function D1(t){return t[ed]}function mr(t){return{toString:t}.toString()}var tl=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(tl||{}),Sn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Sn||{});const Qn={},Ce=[],nl=Ae({\u0275cmp:Ae}),nd=Ae({\u0275dir:Ae}),rd=Ae({\u0275pipe:Ae}),gm=Ae({\u0275mod:Ae}),yr=Ae({\u0275fac:Ae}),lo=Ae({__NG_ELEMENT_ID__:Ae}),mm=Ae({__NG_ENV_ID__:Ae});function ym(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function id(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];_m(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function vm(t){return 3===t||4===t||6===t}function _m(t){return 64===t.charCodeAt(0)}function co(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||wm(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function wm(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const Cm="ng-template";function A1(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==ym(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Sm(t){return 4===t.type&&t.value!==Cm}function T1(t,e,n){return e===(4!==t.type||n?t.value:Cm)}function I1(t,e,n){let r=4;const i=t.attrs||[],s=function N1(t){for(let e=0;e<t.length;e++)if(vm(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!T1(t,l,n)||""===l&&1===e.length){if(Ln(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!A1(t.attrs,c,n)){if(Ln(r))return!1;o=!0}continue}const d=k1(8&r?"class":l,i,Sm(t),n);if(-1===d){if(Ln(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==ym(f,c,0)||2&r&&c!==h){if(Ln(r))return!1;o=!0}}}}else{if(!o&&!Ln(r)&&!Ln(l))return!1;if(o&&Ln(l))continue;o=!1,r=l|1&r}}return Ln(r)||o}function Ln(t){return 0==(1&t)}function k1(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function R1(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function bm(t,e,n=!1){for(let r=0;r<e.length;r++)if(I1(t,e[r],n))return!0;return!1}function Dm(t,e){return t?":not("+e.trim()+")":e}function x1(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Ln(o)&&(e+=Dm(s,i),i=""),r=o,s=s||!Ln(r);n++}return""!==i&&(e+=Dm(s,i)),e}function $e(t){return mr(()=>{const e=Mm(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===tl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Sn.Emulated,styles:t.styles||Ce,_:null,schemas:t.schemas||null,tView:null,id:""};Am(n);const r=t.dependencies;return n.directiveDefs=rl(r,!1),n.pipeDefs=rl(r,!0),n.id=function U1(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function B1(t){return _e(t)||_t(t)}function j1(t){return null!==t}function Yn(t){return mr(()=>({type:t.type,bootstrap:t.bootstrap||Ce,declarations:t.declarations||Ce,imports:t.imports||Ce,exports:t.exports||Ce,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Em(t,e){if(null==t)return Qn;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function ie(t){return mr(()=>{const e=Mm(t);return Am(e),e})}function _e(t){return t[nl]||null}function _t(t){return t[nd]||null}function Ot(t){return t[rd]||null}function an(t,e){const n=t[gm]||null;if(!n&&!0===e)throw new Error(`Type ${ut(t)} does not have '\u0275mod' property.`);return n}function Mm(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Qn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Ce,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Em(t.inputs,e),outputs:Em(t.outputs)}}function Am(t){t.features?.forEach(e=>e(t))}function rl(t,e){if(!t)return null;const n=e?Ot:B1;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(j1)}const Ye=0,H=1,ue=2,We=3,Vn=4,uo=5,At=6,Gi=7,Je=8,Hr=9,zi=10,ae=11,ho=12,Tm=13,Wi=14,et=15,fo=16,qi=17,Xn=18,po=19,Im=20,$r=21,vr=22,go=23,mo=24,ye=25,sd=1,km=2,Jn=7,Ki=9,wt=11;function Kt(t){return Array.isArray(t)&&"object"==typeof t[sd]}function xt(t){return Array.isArray(t)&&!0===t[sd]}function od(t){return 0!=(4&t.flags)}function fi(t){return t.componentOffset>-1}function sl(t){return 1==(1&t.flags)}function Bn(t){return!!t.template}function ad(t){return 0!=(512&t[ue])}function pi(t,e){return t.hasOwnProperty(yr)?t[yr]:null}let Ct=null,ol=!1;function bn(t){const e=Ct;return Ct=t,e}const Rm={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function xm(t){if(!vo(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Vm(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Lm(t){t.dirty=!0,function Fm(t){if(void 0===t.liveConsumerNode)return;const e=ol;ol=!0;try{for(const n of t.liveConsumerNode)n.dirty||Lm(n)}finally{ol=e}}(t),t.consumerMarkedDirty?.(t)}function cd(t){return t&&(t.nextProducerIndex=0),bn(t)}function ud(t,e){if(bn(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(vo(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)al(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Vm(t){Zi(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(xm(n),r!==n.version))return!0}return!1}function Bm(t){if(Zi(t),vo(t))for(let e=0;e<t.producerNode.length;e++)al(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function al(t,e){if(function Hm(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Zi(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)al(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Zi(i),i.producerIndexOfThis[r]=e}}function vo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Zi(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let $m=null;const Wm=()=>{},nA=(()=>({...Rm,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Wm}))();class rA{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Dn(){return qm}function qm(t){return t.type.prototype.ngOnChanges&&(t.setInput=sA),iA}function iA(){const t=Zm(this),e=t?.current;if(e){const n=t.previous;if(n===Qn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function sA(t,e,n,r){const i=this.declaredInputs[n],s=Zm(t)||function oA(t,e){return t[Km]=e}(t,{previous:Qn,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new rA(l&&l.currentValue,e,a===Qn),t[r]=e}Dn.ngInherit=!0;const Km="__ngSimpleChanges__";function Zm(t){return t[Km]||null}const er=function(t,e,n){};function Ve(t){for(;Array.isArray(t);)t=t[Ye];return t}function ll(t,e){return Ve(e[t])}function Zt(t,e){return Ve(e[t.index])}function Xm(t,e){return t.data[e]}function ln(t,e){const n=e[t];return Kt(n)?n:n[Ye]}function Gr(t,e){return null==e?null:t[e]}function Jm(t){t[qi]=0}function hA(t){1024&t[ue]||(t[ue]|=1024,ty(t,1))}function ey(t){1024&t[ue]&&(t[ue]&=-1025,ty(t,-1))}function ty(t,e){let n=t[We];if(null===n)return;n[uo]+=e;let r=n;for(n=n[We];null!==n&&(1===e&&1===r[uo]||-1===e&&0===r[uo]);)n[uo]+=e,r=n,n=n[We]}const ne={lFrame:hy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function iy(){return ne.bindingsEnabled}function R(){return ne.lFrame.lView}function we(){return ne.lFrame.tView}function X(t){return ne.lFrame.contextLView=t,t[Je]}function J(t){return ne.lFrame.contextLView=null,t}function St(){let t=sy();for(;null!==t&&64===t.type;)t=t.parent;return t}function sy(){return ne.lFrame.currentTNode}function tr(t,e){const n=ne.lFrame;n.currentTNode=t,n.isParent=e}function gd(){return ne.lFrame.isParent}function Ft(){const t=ne.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Xi(){return ne.lFrame.bindingIndex++}function wr(t){const e=ne.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function DA(t,e){const n=ne.lFrame;n.bindingIndex=n.bindingRootIndex=t,yd(e)}function yd(t){ne.lFrame.currentDirectiveIndex=t}function _d(t){ne.lFrame.currentQueryIndex=t}function MA(t){const e=t[H];return 2===e.type?e.declTNode:1===e.type?t[At]:null}function uy(t,e,n){if(n&me.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&me.Host||(i=MA(s),null===i||(s=s[Wi],10&i.type))););if(null===i)return!1;e=i,t=s}const r=ne.lFrame=dy();return r.currentTNode=e,r.lView=t,!0}function wd(t){const e=dy(),n=t[H];ne.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function dy(){const t=ne.lFrame,e=null===t?null:t.child;return null===e?hy(t):e}function hy(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function fy(){const t=ne.lFrame;return ne.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const py=fy;function Cd(){const t=fy();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Lt(){return ne.lFrame.selectedIndex}function gi(t){ne.lFrame.selectedIndex=t}function Ke(){const t=ne.lFrame;return Xm(t.tView,t.selectedIndex)}let my=!0;function cl(){return my}function zr(t){my=t}function ul(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function dl(t,e,n){yy(t,e,3,n)}function hl(t,e,n,r){(3&t[ue])===n&&yy(t,e,n,r)}function Sd(t,e){let n=t[ue];(3&n)===e&&(n&=8191,n+=1,t[ue]=n)}function yy(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&t[qi]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[qi]+=65536),(a<s||-1==s)&&(OA(t,n,e,l),t[qi]=(4294901760&t[qi])+l+2),l++}function vy(t,e){er(4,t,e);const n=bn(null);try{e.call(t)}finally{bn(n),er(5,t,e)}}function OA(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[ue]>>13<t[qi]>>16&&(3&t[ue])===e&&(t[ue]+=8192,vy(a,s)):vy(a,s)}const Ji=-1;class wo{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Dd(t){return t!==Ji}function Co(t){return 32767&t}function So(t,e){let n=function VA(t){return t>>16}(t),r=e;for(;n>0;)r=r[Wi],n--;return r}let Ed=!0;function fl(t){const e=Ed;return Ed=t,e}const _y=255,wy=5;let BA=0;const nr={};function pl(t,e){const n=Cy(t,e);if(-1!==n)return n;const r=e[H];r.firstCreatePass&&(t.injectorIndex=e.length,Md(r.data,t),Md(e,null),Md(r.blueprint,null));const i=gl(t,e),s=t.injectorIndex;if(Dd(i)){const o=Co(i),a=So(i,e),l=a[H].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function Md(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Cy(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function gl(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=Ty(i),null===r)return Ji;if(n++,i=i[Wi],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ji}function Ad(t,e,n){!function jA(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(lo)&&(r=n[lo]),null==r&&(r=n[lo]=BA++);const i=r&_y;e.data[t+(i>>wy)]|=1<<i}(t,e,n)}function Sy(t,e,n){if(n&me.Optional||void 0!==t)return t;qu()}function by(t,e,n,r){if(n&me.Optional&&void 0===r&&(r=null),!(n&(me.Self|me.Host))){const i=t[Hr],s=Wt(void 0);try{return i?i.get(e,r,n&me.Optional):dm(e,r,n&me.Optional)}finally{Wt(s)}}return Sy(r,0,n)}function Dy(t,e,n,r=me.Default,i){if(null!==t){if(2048&e[ue]&&!(r&me.Self)){const o=function WA(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[ue]&&!(512&o[ue]);){const a=Ey(s,o,n,r|me.Self,nr);if(a!==nr)return a;let l=s.parent;if(!l){const c=o[Im];if(c){const u=c.get(n,nr,r);if(u!==nr)return u}l=Ty(o),o=o[Wi]}s=l}return i}(t,e,n,r,nr);if(o!==nr)return o}const s=Ey(t,e,n,r,nr);if(s!==nr)return s}return by(e,n,r,i)}function Ey(t,e,n,r,i){const s=function UA(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(lo)?t[lo]:void 0;return"number"==typeof e?e>=0?e&_y:zA:e}(n);if("function"==typeof s){if(!uy(e,t,r))return r&me.Host?Sy(i,0,r):by(e,n,r,i);try{let o;if(o=s(r),null!=o||r&me.Optional)return o;qu()}finally{py()}}else if("number"==typeof s){let o=null,a=Cy(t,e),l=Ji,c=r&me.Host?e[et][At]:null;for((-1===a||r&me.SkipSelf)&&(l=-1===a?gl(t,e):e[a+8],l!==Ji&&Ay(r,!1)?(o=e[H],a=Co(l),e=So(l,e)):a=-1);-1!==a;){const u=e[H];if(My(s,a,u.data)){const d=$A(a,e,n,o,r,c);if(d!==nr)return d}l=e[a+8],l!==Ji&&Ay(r,e[H].data[a+8]===c)&&My(s,a,e)?(o=u,a=Co(l),e=So(l,e)):a=-1}}return i}function $A(t,e,n,r,i,s){const o=e[H],a=o.data[t+8],u=function ml(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,l=t.directiveStart,u=s>>20,h=i?a+u:t.directiveEnd;for(let f=r?a:a+u;f<h;f++){const g=o[f];if(f<l&&n===g||f>=l&&g.type===n)return f}if(i){const f=o[l];if(f&&Bn(f)&&f.type===n)return l}return null}(a,o,n,null==r?fi(a)&&Ed:r!=o&&0!=(3&a.type),i&me.Host&&s===a);return null!==u?mi(e,o,u,a):nr}function mi(t,e,n,r){let i=t[n];const s=e.data;if(function xA(t){return t instanceof wo}(i)){const o=i;o.resolving&&function u1(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new k(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ee(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():oe(t)}(s[n]));const a=fl(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Wt(o.injectImpl):null;uy(t,r,me.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function RA(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=qm(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==c&&Wt(c),fl(a),o.resolving=!1,py()}}return i}function My(t,e,n){return!!(n[e+(t>>wy)]&1<<t)}function Ay(t,e){return!(t&me.Self||t&me.Host&&e)}class Vt{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Dy(this._tNode,this._lView,e,el(r),n)}}function zA(){return new Vt(St(),R())}function bt(t){return mr(()=>{const e=t.prototype.constructor,n=e[yr]||Td(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[yr]||Td(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Td(t){return zu(t)?()=>{const e=Td(re(t));return e&&e()}:pi(t)}function Ty(t){const e=t[H],n=e.type;return 2===n?e.declTNode:1===n?t[At]:null}const ts="__parameters__";function rs(t,e,n){return mr(()=>{const r=function Id(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(ts)?l[ts]:Object.defineProperty(l,ts,{value:[]})[ts];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function ss(t,e){t.forEach(n=>Array.isArray(n)?ss(n,e):e(n))}function ky(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function vl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function cn(t,e,n){let r=os(t,e);return r>=0?t[1|r]=n:(r=~r,function JA(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function kd(t,e){const n=os(t,e);if(n>=0)return t[1|n]}function os(t,e){return function Py(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const wl=ao(rs("Optional"),8),Cl=ao(rs("SkipSelf"),4);function Ml(t){return 128==(128&t.flags)}var Wr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Wr||{});const xd=new Map;let bT=0;const Ld="__ngContext__";function Tt(t,e){Kt(e)?(t[Ld]=e[po],function ET(t){xd.set(t[po],t)}(e)):t[Ld]=e}let Vd;function Bd(t,e){return Vd(t,e)}function To(t){const e=t[We];return xt(e)?e[We]:e}function Yy(t){return Jy(t[ho])}function Xy(t){return Jy(t[Vn])}function Jy(t){for(;null!==t&&!xt(t);)t=t[Vn];return t}function cs(t,e,n,r,i){if(null!=r){let s,o=!1;xt(r)?s=r:Kt(r)&&(o=!0,r=r[Ye]);const a=Ve(r);0===t&&null!==n?null==i?rv(e,n,a):yi(e,n,a,i||null,!0):1===t&&null!==n?yi(e,n,a,i||null,!0):2===t?function Rl(t,e,n){const r=Pl(t,e);r&&function GT(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function qT(t,e,n,r,i){const s=n[Jn];s!==Ve(n)&&cs(e,t,r,s,i);for(let a=wt;a<n.length;a++){const l=n[a];ko(l[H],l,t,e,r,s)}}(e,t,s,n,i)}}function Il(t,e,n){return t.createElement(e,n)}function tv(t,e){const n=t[Ki],r=n.indexOf(e);ey(e),n.splice(r,1)}function kl(t,e){if(t.length<=wt)return;const n=wt+e,r=t[n];if(r){const i=r[fo];null!==i&&i!==t&&tv(i,r),e>0&&(t[n-1][Vn]=r[Vn]);const s=vl(t,wt+e);!function FT(t,e){ko(t,e,e[ae],2,null,null),e[Ye]=null,e[At]=null}(r[H],r);const o=s[Xn];null!==o&&o.detachView(s[H]),r[We]=null,r[Vn]=null,r[ue]&=-129}return r}function Hd(t,e){if(!(256&e[ue])){const n=e[ae];e[go]&&Bm(e[go]),e[mo]&&Bm(e[mo]),n.destroyNode&&ko(t,e,n,3,null,null),function BT(t){let e=t[ho];if(!e)return $d(t[H],t);for(;e;){let n=null;if(Kt(e))n=e[ho];else{const r=e[wt];r&&(n=r)}if(!n){for(;e&&!e[Vn]&&e!==t;)Kt(e)&&$d(e[H],e),e=e[We];null===e&&(e=t),Kt(e)&&$d(e[H],e),n=e&&e[Vn]}e=n}}(e)}}function $d(t,e){if(!(256&e[ue])){e[ue]&=-129,e[ue]|=256,function UT(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof wo)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];er(4,a,l);try{l.call(a)}finally{er(5,a,l)}}else{er(4,i,s);try{s.call(i)}finally{er(5,i,s)}}}}}(t,e),function $T(t,e){const n=t.cleanup,r=e[Gi];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Gi]=null);const i=e[$r];if(null!==i){e[$r]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[H].type&&e[ae].destroy();const n=e[fo];if(null!==n&&xt(e[We])){n!==e[We]&&tv(n,e);const r=e[Xn];null!==r&&r.detachView(t)}!function MT(t){xd.delete(t[po])}(e)}}function Ud(t,e,n){return function nv(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Ye];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Sn.None||s===Sn.Emulated)return null}return Zt(r,n)}}(t,e.parent,n)}function yi(t,e,n,r,i){t.insertBefore(e,n,r,i)}function rv(t,e,n){t.appendChild(e,n)}function iv(t,e,n,r,i){null!==r?yi(t,e,n,r,i):rv(t,e,n)}function Pl(t,e){return t.parentNode(e)}let Gd,Kd,av=function ov(t,e,n){return 40&t.type?Zt(t,n):null};function Nl(t,e,n,r){const i=Ud(t,r,e),s=e[ae],a=function sv(t,e,n){return av(t,e,n)}(r.parent||e[At],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)iv(s,i,n[l],a,!1);else iv(s,i,n,a,!1);void 0!==Gd&&Gd(s,r,e,n,i)}function Io(t,e){if(null!==e){const n=e.type;if(3&n)return Zt(e,t);if(4&n)return zd(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Io(t,r);{const i=t[e.index];return xt(i)?zd(-1,i):Ve(i)}}if(32&n)return Bd(e,t)()||Ve(t[e.index]);{const r=cv(t,e);return null!==r?Array.isArray(r)?r[0]:Io(To(t[et]),r):Io(t,e.next)}}return null}function cv(t,e){return null!==e?t[et][At].projection[e.projection]:null}function zd(t,e){const n=wt+t+1;if(n<e.length){const r=e[n],i=r[H].firstChild;if(null!==i)return Io(r,i)}return e[Jn]}function Wd(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===e&&(a&&Tt(Ve(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)Wd(t,e,n.child,r,i,s,!1),cs(e,t,i,a,s);else if(32&l){const c=Bd(n,r);let u;for(;u=c();)cs(e,t,i,u,s);cs(e,t,i,a,s)}else 16&l?dv(t,e,r,n,i,s):cs(e,t,i,a,s);n=o?n.projectionNext:n.next}}function ko(t,e,n,r,i,s){Wd(n,r,t.firstChild,e,i,s,!1)}function dv(t,e,n,r,i,s){const o=n[et],l=o[At].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)cs(e,t,i,l[c],s);else{let c=l;const u=o[We];Ml(r)&&(c.flags|=128),Wd(t,e,c,u,i,s,!0)}}function hv(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function fv(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&id(t,e,r),null!==i&&hv(t,e,i),null!==s&&function ZT(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}class yv{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${am})`}}function qr(t){return t instanceof yv?t.changingThisBreaksApplicationSecurity:t}const cI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var hs=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(hs||{});function Sr(t){const e=function Ro(){const t=R();return t&&t[zi].sanitizer}();return e?e.sanitize(hs.URL,t)||"":function Po(t,e){const n=function sI(t){return t instanceof yv&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${am})`)}return n===e}(t,"URL")?qr(t):function Qd(t){return(t=String(t)).match(cI)?t:"unsafe:"+t}(oe(t))}const Oo=new W("ENVIRONMENT_INITIALIZER"),Mv=new W("INJECTOR",-1),Av=new W("INJECTOR_DEF_TYPES");class eh{get(e,n=oo){if(n===oo){const r=new Error(`NullInjectorError: No provider for ${ut(e)}!`);throw r.name="NullInjectorError",r}return n}}function SI(...t){return{\u0275providers:Iv(0,t),\u0275fromNgModule:!0}}function Iv(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return ss(e,o=>{const a=o;Ll(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&kv(i,s),n}function kv(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];th(i,s=>{e(s,r)})}}function Ll(t,e,n,r){if(!(t=re(t)))return!1;let i=null,s=Ya(t);const o=!s&&_e(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const l=t.ngModule;if(s=Ya(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)Ll(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{ss(s.imports,u=>{Ll(u,e,n,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&kv(c,e)}if(!a){const c=pi(i)||(()=>new i);e({provide:i,useFactory:c,deps:Ce},i),e({provide:Av,useValue:i,multi:!0},i),e({provide:Oo,useValue:()=>K(i),multi:!0},i)}const l=s.providers;if(null!=l&&!a){const c=t;th(l,u=>{e(u,c)})}}}return i!==t&&void 0!==t.providers}function th(t,e){for(let n of t)Wu(n)&&(n=n.\u0275providers),Array.isArray(n)?th(n,e):e(n)}const bI=Ae({provide:String,useValue:Ae});function nh(t){return null!==t&&"object"==typeof t&&bI in t}function vi(t){return"function"==typeof t}const rh=new W("Set Injector scope."),Vl={},EI={};let ih;function Bl(){return void 0===ih&&(ih=new eh),ih}class Mn{}class fs extends Mn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,oh(e,o=>this.processProvider(o)),this.records.set(Mv,ps(void 0,this)),i.has("environment")&&this.records.set(Mn,ps(void 0,this));const s=this.records.get(rh);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Av.multi,Ce,me.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=jr(this),r=Wt(void 0);try{return e()}finally{jr(n),Wt(r)}}get(e,n=oo,r=me.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(mm))return e[mm](this);r=el(r);const s=jr(this),o=Wt(void 0);try{if(!(r&me.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function kI(t){return"function"==typeof t||"object"==typeof t&&t instanceof W}(e)&&Qa(e);l=c&&this.injectableDefInScope(c)?ps(sh(e),Vl):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&me.Self?Bl():this.parent).get(e,n=r&me.Optional&&n===oo?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Ja]=a[Ja]||[]).unshift(ut(e)),s)throw a;return function E1(t,e,n,r){const i=t[Ja];throw e[fm]&&i.unshift(e[fm]),t.message=function M1(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=ut(e);if(Array.isArray(e))i=e.map(ut).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ut(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(w1,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Ja]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Wt(o),jr(s)}}resolveInjectorInitializers(){const e=jr(this),n=Wt(void 0);try{const i=this.get(Oo.multi,Ce,me.Self);for(const s of i)s()}finally{jr(e),Wt(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(ut(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new k(205,!1)}processProvider(e){let n=vi(e=re(e))?e:re(e&&e.provide);const r=function AI(t){return nh(t)?ps(void 0,t.useValue):ps(Rv(t),Vl)}(e);if(vi(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=ps(void 0,Vl,!0),i.factory=()=>td(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Vl&&(n.value=EI,n.value=n.factory()),"object"==typeof n.value&&n.value&&function II(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=re(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function sh(t){const e=Qa(t),n=null!==e?e.factory:pi(t);if(null!==n)return n;if(t instanceof W)throw new k(204,!1);if(t instanceof Function)return function MI(t){const e=t.length;if(e>0)throw function Eo(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new k(204,!1);const n=function m1(t){return t&&(t[Xa]||t[cm])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new k(204,!1)}function Rv(t,e,n){let r;if(vi(t)){const i=re(t);return pi(i)||sh(i)}if(nh(t))r=()=>re(t.useValue);else if(function Nv(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...td(t.deps||[]));else if(function Pv(t){return!(!t||!t.useExisting)}(t))r=()=>K(re(t.useExisting));else{const i=re(t&&(t.useClass||t.provide));if(!function TI(t){return!!t.deps}(t))return pi(i)||sh(i);r=()=>new i(...td(t.deps))}return r}function ps(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function oh(t,e){for(const n of t)Array.isArray(n)?oh(n,e):n&&Wu(n)?oh(n.\u0275providers,e):e(n)}const jl=new W("AppId",{providedIn:"root",factory:()=>PI}),PI="ng",Ov=new W("Platform Initializer"),gs=new W("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),xv=new W("AnimationModuleType"),Fv=new W("CSP nonce",{providedIn:"root",factory:()=>function ds(){if(void 0!==Kd)return Kd;if(typeof document<"u")return document;throw new k(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Lv=(t,e,n)=>null;function ph(t,e,n=!1){return Lv(t,e,n)}class HI{}class jv{}class UI{resolveComponentFactory(e){throw function $I(t){const e=Error(`No component factory found for ${ut(t)}.`);return e.ngComponent=t,e}(e)}}let Wl=(()=>{class t{static#e=this.NULL=new UI}return t})();function GI(){return vs(St(),R())}function vs(t,e){return new un(Zt(t,e))}let un=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=GI}return t})();class Lo{}let br=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function WI(){const t=R(),n=ln(St().index,t);return(Kt(n)?n:t)[ae]}()}return t})(),qI=(()=>{class t{static#e=this.\u0275prov=Z({token:t,providedIn:"root",factory:()=>null})}return t})();class Vo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const KI=new Vo("16.2.12"),yh={};function zv(t,e=null,n=null,r){const i=Wv(t,e,n,r);return i.resolveInjectorInitializers(),i}function Wv(t,e=null,n=null,r,i=new Set){const s=[n||Ce,SI(t)];return r=r||("object"==typeof t?void 0:ut(t)),new fs(s,e||Bl(),r||null,i)}let dn=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=oo;static#t=this.NULL=new eh;static create(n,r){if(Array.isArray(n))return zv({name:""},r,n,"");{const i=n.name??"";return zv({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=Z({token:t,providedIn:"any",factory:()=>K(Mv)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function _h(t){return t.ngOriginalError}class Dr{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&_h(e);for(;n&&_h(n);)n=_h(n);return n||null}}function Ch(t){return e=>{setTimeout(t,void 0,e)}}const he=class tk extends _n{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Ch(s),i&&(i=Ch(i)),o&&(o=Ch(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof rn&&e.add(a),a}};function Kv(...t){}class Ne{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new he(!1),this.onMicrotaskEmpty=new he(!1),this.onStable=new he(!1),this.onError=new he(!1),typeof Zone>"u")throw new k(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function nk(){const t="function"==typeof Le.requestAnimationFrame;let e=Le[t?"requestAnimationFrame":"setTimeout"],n=Le[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function sk(t){const e=()=>{!function ik(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Le,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,bh(t),t.isCheckStableRunning=!0,Sh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),bh(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function ak(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return Zv(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Qv(t)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return Zv(t),n.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),Qv(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,bh(t),Sh(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ne.isInAngularZone())throw new k(909,!1)}static assertNotInAngularZone(){if(Ne.isInAngularZone())throw new k(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,rk,Kv,Kv);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const rk={};function Sh(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function bh(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Zv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Qv(t){t._nesting--,Sh(t)}class ok{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new he,this.onMicrotaskEmpty=new he,this.onStable=new he,this.onError=new he}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const Yv=new W("",{providedIn:"root",factory:Xv});function Xv(){const t=G(Ne);let e=!0;return function o1(...t){const e=so(t),n=function JM(t,e){return"number"==typeof $u(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?sn(r[0]):Hi(n)(pt(r,e)):Kn}(new it(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new it(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Ne.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Ne.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(om()))}function Bo(t){return t.ownerDocument}function Er(t){return t instanceof Function?t():t}let Dh=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Z({token:t,providedIn:"root",factory:()=>new t})}return t})();function jo(t){for(;t;){t[ue]|=64;const e=To(t);if(ad(t)&&!e)return t;t=e}return null}const r_=new W("",{providedIn:"root",factory:()=>!1});let Kl=null;function a_(t,e){return t[e]??u_()}function l_(t,e){const n=u_();n.producerNode?.length&&(t[e]=Kl,n.lView=t,Kl=c_())}const mk={...Rm,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{jo(t.lView)},lView:null};function c_(){return Object.create(mk)}function u_(){return Kl??=c_(),Kl}const le={};function C(t){d_(we(),R(),Lt()+t,!1)}function d_(t,e,n,r){if(!r)if(3==(3&e[ue])){const s=t.preOrderCheckHooks;null!==s&&dl(e,s,n)}else{const s=t.preOrderHooks;null!==s&&hl(e,s,0,n)}gi(n)}function O(t,e=me.Default){const n=R();return null===n?K(t,e):Dy(St(),n,re(t),e)}function Zl(t,e,n,r,i,s,o,a,l,c,u){const d=e.blueprint.slice();return d[Ye]=i,d[ue]=140|r,(null!==c||t&&2048&t[ue])&&(d[ue]|=2048),Jm(d),d[We]=d[Wi]=t,d[Je]=n,d[zi]=o||t&&t[zi],d[ae]=a||t&&t[ae],d[Hr]=l||t&&t[Hr]||null,d[At]=s,d[po]=function DT(){return bT++}(),d[vr]=u,d[Im]=c,d[et]=2==e.type?t[et]:d,d}function Cs(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Eh(t,e,n,r,i){const s=sy(),o=gd(),l=t.data[e]=function Dk(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function Yi(){return null!==ne.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(t,e,n,r,i),function bA(){return ne.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function _o(){const t=ne.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return tr(s,!0),s}function Ho(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function f_(t,e,n,r,i){const s=a_(e,go),o=Lt(),a=2&r;try{gi(-1),a&&e.length>ye&&d_(t,e,ye,!1),er(a?2:0,i);const c=a?s:null,u=cd(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{ud(c,u)}}finally{a&&null===e[go]&&l_(e,go),gi(o),er(a?3:1,i)}}function Mh(t,e,n){if(od(e)){const r=bn(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{bn(r)}}}function Ah(t,e,n){iy()&&(function Pk(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;fi(n)&&function Vk(t,e,n){const r=Zt(e,t),i=p_(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Ql(t,Zl(t,i,null,o,r,e,null,t[zi].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||pl(n,e),Tt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const l=t.data[a],c=mi(e,t,a,n);Tt(c,e),null!==o&&Bk(0,a-i,c,l,0,o),Bn(l)&&(ln(n.index,e)[Je]=mi(e,t,a,n))}}(t,e,n,Zt(n,e)),64==(64&n.flags)&&__(t,e,n))}function Th(t,e,n=Zt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function p_(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ih(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ih(t,e,n,r,i,s,o,a,l,c,u){const d=ye+r,h=d+i,f=function vk(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:le);return n}(d,h),g="function"==typeof c?c():c;return f[H]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:u}}let g_=t=>null;function m_(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?y_(n,e,i,s):r.hasOwnProperty(i)&&y_(n,e,r[i],s)}return n}function y_(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function hn(t,e,n,r,i,s,o,a){const l=Zt(e,n);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(Oh(t,n,u,r,i),fi(e)&&function Ak(t,e){const n=ln(e,t);16&n[ue]||(n[ue]|=64)}(n,e.index)):3&e.type&&(r=function Mk(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}function kh(t,e,n,r){if(iy()){const i=null===r?null:{"":-1},s=function Rk(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(bm(e,o.selectors,!1))if(r||(r=[]),Bn(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Ph(t,e,a.length)}else r.unshift(o),Ph(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&v_(t,e,n,o,i,a),i&&function Ok(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new k(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=co(n.mergedAttrs,n.attrs)}function v_(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Ad(pl(n,e),t,r[c].type);!function Fk(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Ho(t,e,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];n.mergedAttrs=co(n.mergedAttrs,u.hostAttrs),Lk(t,n,e,l,u),xk(l,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}!function Ek(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<i;u++){const d=s[u],h=n?n.get(d):null,g=h?h.outputs:null;l=m_(d.inputs,u,l,h?h.inputs:null),c=m_(d.outputs,u,c,g);const _=null===l||null===o||Sm(e)?null:jk(l,u,o);a.push(_)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(t,n,s)}function __(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function EA(){return ne.lFrame.currentDirectiveIndex}();try{gi(s);for(let a=r;a<i;a++){const l=t.data[a],c=e[a];yd(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&Nk(l,c)}}finally{gi(-1),yd(o)}}function Nk(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ph(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function xk(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Bn(e)&&(n[""]=t)}}function Lk(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=pi(i.type)),o=new wo(s,Bn(i),O);t.blueprint[r]=o,n[r]=o,function Ik(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function kk(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Ho(t,n,i.hostVars,le),i)}function Bk(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)w_(r,n,o[a++],o[a++],o[a++])}function w_(t,e,n,r,i){const s=bn(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{bn(s)}}function jk(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function C_(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function S_(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];_d(n[r]),o.contentQueries(2,e[s],s)}}}function Ql(t,e){return t[ho]?t[Tm][Vn]=e:t[ho]=e,t[Tm]=e,e}function Rh(t,e,n){_d(0);const r=bn(null);try{e(t,n)}finally{bn(r)}}function M_(t,e){const n=t[Hr],r=n?n.get(Dr,null):null;r&&r.handleError(e)}function Oh(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];w_(t.data[o],e[o],r,a,i)}}function Mr(t,e,n){const r=ll(e,t);!function ev(t,e,n){t.setValue(e,n)}(t[ae],r,n)}function Hk(t,e){const n=ln(e,t),r=n[H];!function $k(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Ye];null!==i&&null===n[vr]&&(n[vr]=ph(i,n[Hr])),xh(r,n,n[Je])}function xh(t,e,n){wd(e);try{const r=t.viewQuery;null!==r&&Rh(1,r,n);const i=t.template;null!==i&&f_(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&S_(t,e),t.staticViewQueries&&Rh(2,t.viewQuery,n);const s=t.components;null!==s&&function Uk(t,e){for(let n=0;n<e.length;n++)Hk(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ue]&=-5,Cd()}}let A_=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function tA(t,e,n){const r=Object.create(nA);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>Lm(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Vm(r))return;r.hasRun=!0;const o=cd(r);try{r.cleanupFn(),r.cleanupFn=Wm,r.fn(i)}finally{ud(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Z({token:t,providedIn:"root",factory:()=>new t})}return t})();function Yl(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Gu(i,a):2==s&&(r=Gu(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function $o(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(Ve(s)),xt(s)&&T_(s,r);const o=n.type;if(8&o)$o(t,e,n.child,r);else if(32&o){const a=Bd(n,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=cv(e,n);if(Array.isArray(a))r.push(...a);else{const l=To(e[et]);$o(l[H],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function T_(t,e){for(let n=wt;n<t.length;n++){const r=t[n],i=r[H].firstChild;null!==i&&$o(r[H],r,i,e)}t[Jn]!==t[Ye]&&e.push(t[Jn])}function Xl(t,e,n,r=!0){const i=e[zi],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{I_(t,e,t.template,n)}catch(l){throw r&&M_(e,l),l}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function I_(t,e,n,r){const i=e[ue];if(256!=(256&i)){e[zi].effectManager?.flush(),wd(e);try{Jm(e),function ay(t){return ne.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&f_(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&dl(e,c,null)}else{const c=t.preOrderHooks;null!==c&&hl(e,c,0,null),Sd(e,0)}if(function Wk(t){for(let e=Yy(t);null!==e;e=Xy(e)){if(!e[km])continue;const n=e[Ki];for(let r=0;r<n.length;r++){hA(n[r])}}}(e),k_(e,2),null!==t.contentQueries&&S_(t,e),o){const c=t.contentCheckHooks;null!==c&&dl(e,c)}else{const c=t.contentHooks;null!==c&&hl(e,c,1),Sd(e,1)}!function yk(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=a_(e,mo);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)gi(~s);else{const o=s,a=n[++i],l=n[++i];DA(a,o),r.dirty=!1;const c=cd(r);try{l(2,e[o])}finally{ud(r,c)}}}}finally{null===e[mo]&&l_(e,mo),gi(-1)}}(t,e);const a=t.components;null!==a&&N_(e,a,0);const l=t.viewQuery;if(null!==l&&Rh(2,l,r),o){const c=t.viewCheckHooks;null!==c&&dl(e,c)}else{const c=t.viewHooks;null!==c&&hl(e,c,2),Sd(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ue]&=-73,ey(e)}finally{Cd()}}}function k_(t,e){for(let n=Yy(t);null!==n;n=Xy(n))for(let r=wt;r<n.length;r++)P_(n[r],e)}function qk(t,e,n){P_(ln(e,t),n)}function P_(t,e){if(!function uA(t){return 128==(128&t[ue])}(t))return;const n=t[H],r=t[ue];if(80&r&&0===e||1024&r||2===e)I_(n,t,n.template,t[Je]);else if(t[uo]>0){k_(t,1);const i=n.components;null!==i&&N_(t,i,1)}}function N_(t,e,n){for(let r=0;r<e.length;r++)qk(t,e[r],n)}class Uo{get rootNodes(){const e=this._lView,n=e[H];return $o(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Je]}set context(e){this._lView[Je]=e}get destroyed(){return 256==(256&this._lView[ue])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[We];if(xt(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(kl(e,r),vl(n,r))}this._attachedToViewContainer=!1}Hd(this._lView[H],this._lView)}onDestroy(e){!function ny(t,e){if(256==(256&t[ue]))throw new k(911,!1);null===t[$r]&&(t[$r]=[]),t[$r].push(e)}(this._lView,e)}markForCheck(){jo(this._cdRefInjectingView||this._lView)}detach(){this._lView[ue]&=-129}reattach(){this._lView[ue]|=128}detectChanges(){Xl(this._lView[H],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new k(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function VT(t,e){ko(t,e,e[ae],2,null,null)}(this._lView[H],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new k(902,!1);this._appRef=e}}class Kk extends Uo{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Xl(e[H],e,e[Je],!1)}checkNoChanges(){}get context(){return null}}class R_ extends Wl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=_e(e);return new Go(n,this.ngModule)}}function O_(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Qk{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=el(r);const i=this.injector.get(e,yh,r);return i!==yh||n===yh?i:this.parentInjector.get(e,n,r)}}class Go extends jv{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=O_(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return O_(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function F1(t){return t.map(x1).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Mn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new Qk(e,s):e,a=o.get(Lo,null);if(null===a)throw new k(407,!1);const d={rendererFactory:a,sanitizer:o.get(qI,null),effectManager:o.get(A_,null),afterRenderEventManager:o.get(Dh,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",g=r?function _k(t,e,n,r){const s=r.get(r_,!1)||n===Sn.ShadowDom,o=t.selectRootElement(e,s);return function wk(t){g_(t)}(o),o}(h,r,this.componentDef.encapsulation,o):Il(h,f,function Zk(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),T=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let b=null;null!==g&&(b=ph(g,o,!0));const F=Ih(0,null,null,1,0,null,null,null,null,null,null),B=Zl(null,F,null,T,null,null,d,h,o,null,b);let q,ce;wd(B);try{const pe=this.componentDef;let He,Qe=null;pe.findHostDirectiveDefs?(He=[],Qe=new Map,pe.findHostDirectiveDefs(pe,He,Qe),He.push(pe)):He=[pe];const at=function Xk(t,e){const n=t[H],r=ye;return t[r]=e,Cs(n,r,2,"#host",null)}(B,g),vn=function Jk(t,e,n,r,i,s,o){const a=i[H];!function eP(t,e,n,r){for(const i of t)e.mergedAttrs=co(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Yl(e,e.mergedAttrs,!0),null!==n&&fv(r,n,e))}(r,t,e,o);let l=null;null!==e&&(l=ph(e,i[Hr]));const c=s.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=Zl(i,p_(n),null,u,i[t.index],t,s,c,null,null,l);return a.firstCreatePass&&Ph(a,t,r.length-1),Ql(i,d),i[t.index]=d}(at,g,pe,He,B,d,h);ce=Xm(F,ye),g&&function nP(t,e,n,r){if(r)id(t,n,["ng-version",KI.full]);else{const{attrs:i,classes:s}=function L1(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Ln(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&id(t,n,i),s&&s.length>0&&hv(t,n,s.join(" "))}}(h,pe,g,r),void 0!==n&&function rP(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(ce,this.ngContentSelectors,n),q=function tP(t,e,n,r,i,s){const o=St(),a=i[H],l=Zt(o,i);v_(a,i,o,n,null,r);for(let u=0;u<n.length;u++)Tt(mi(i,a,o.directiveStart+u,o),i);__(a,i,o),l&&Tt(l,i);const c=mi(i,a,o.directiveStart+o.componentOffset,o);if(t[Je]=i[Je]=c,null!==s)for(const u of s)u(c,e);return Mh(a,o,t),c}(vn,pe,He,Qe,B,[iP]),xh(F,B,null)}finally{Cd()}return new Yk(this.componentType,q,vs(ce,B),B,ce)}}class Yk extends HI{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Kk(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;Oh(s[H],s,i,e,n),this.previousInputValues.set(e,n),jo(ln(this._tNode.index,s))}}get injector(){return new Vt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function iP(){const t=St();ul(R()[H],t)}function Te(t){let e=function x_(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Bn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new k(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=Jl(t.inputs),o.inputTransforms=Jl(t.inputTransforms),o.declaredInputs=Jl(t.declaredInputs),o.outputs=Jl(t.outputs);const a=i.hostBindings;a&&lP(t,a);const l=i.viewQuery,c=i.contentQueries;if(l&&oP(t,l),c&&aP(t,c),Ka(t.inputs,i.inputs),Ka(t.declaredInputs,i.declaredInputs),Ka(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Ka(o.inputTransforms,i.inputTransforms)),Bn(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Te&&(n=!1)}}e=Object.getPrototypeOf(e)}!function sP(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=co(i.hostAttrs,n=co(n,i.hostAttrs))}}(r)}function Jl(t){return t===Qn?{}:t===Ce?[]:t}function oP(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function aP(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function lP(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function ec(t){return!!Fh(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Fh(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ir(t,e,n){return t[e]=n}function zo(t,e){return t[e]}function It(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function _i(t,e,n,r){const i=It(t,e,n);return It(t,e+1,r)||i}function An(t,e,n,r,i,s){const o=_i(t,e,n,r);return _i(t,e+2,i,s)||o}function bs(t,e,n,r){return It(t,Xi(),n)?e+oe(n)+r:le}function Ds(t,e,n,r,i,s){const a=_i(t,function _r(){return ne.lFrame.bindingIndex}(),n,i);return wr(2),a?e+oe(n)+r+oe(i)+s:le}function N(t,e,n,r,i,s,o,a){const l=R(),c=we(),u=t+ye,d=c.firstCreatePass?function RP(t,e,n,r,i,s,o,a,l){const c=e.consts,u=Cs(e,t,4,o||null,Gr(c,a));kh(e,n,u,Gr(c,l)),ul(e,u);const d=u.tView=Ih(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,n,r,i,s,o):c.data[u];tr(d,!1);const h=X_(c,l,d,t);cl()&&Nl(c,l,h,d),Tt(h,l),Ql(l,l[u]=C_(h,l,h,d)),sl(d)&&Ah(c,l,d),null!=o&&Th(l,d,a)}let X_=function J_(t,e,n,r){return zr(!0),e[ae].createComment("")};function Ps(t){return function Qi(t,e){return t[e]}(function SA(){return ne.lFrame.contextLView}(),ye+t)}function S(t,e,n){const r=R();return It(r,Xi(),e)&&hn(we(),Ke(),r,t,e,r[ae],n,!1),S}function $h(t,e,n,r,i){const o=i?"class":"style";Oh(t,n,e.inputs[o],o,r)}function v(t,e,n,r){const i=R(),s=we(),o=ye+t,a=i[ae],l=s.firstCreatePass?function LP(t,e,n,r,i,s){const o=e.consts,l=Cs(e,t,2,r,Gr(o,i));return kh(e,n,l,Gr(o,s)),null!==l.attrs&&Yl(l,l.attrs,!1),null!==l.mergedAttrs&&Yl(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,e,n,r):s.data[o],c=ew(s,i,l,a,e,t);i[o]=c;const u=sl(l);return tr(l,!0),fv(a,c,l),32!=(32&l.flags)&&cl()&&Nl(s,i,c,l),0===function pA(){return ne.lFrame.elementDepthCount}()&&Tt(c,i),function gA(){ne.lFrame.elementDepthCount++}(),u&&(Ah(s,i,l),Mh(s,l,i)),null!==r&&Th(i,l),v}function m(){let t=St();gd()?function md(){ne.lFrame.isParent=!1}():(t=t.parent,tr(t,!1));const e=t;(function yA(t){return ne.skipHydrationRootTNode===t})(e)&&function CA(){ne.skipHydrationRootTNode=null}(),function mA(){ne.lFrame.elementDepthCount--}();const n=we();return n.firstCreatePass&&(ul(n,t),od(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function FA(t){return 0!=(8&t.flags)}(e)&&$h(n,e,R(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function LA(t){return 0!=(16&t.flags)}(e)&&$h(n,e,R(),e.stylesWithoutHost,!1),m}function V(t,e,n,r){return v(t,e,n,r),m(),V}let ew=(t,e,n,r,i,s)=>(zr(!0),Il(r,i,function gy(){return ne.lFrame.currentNamespace}()));function fe(){return R()}function Zo(t){return!!t&&"function"==typeof t.then}function rw(t){return!!t&&"function"==typeof t.subscribe}function $(t,e,n,r){const i=R(),s=we(),o=St();return function sw(t,e,n,r,i,s,o){const a=sl(r),c=t.firstCreatePass&&function D_(t){return t.cleanup||(t.cleanup=[])}(t),u=e[Je],d=function b_(t){return t[Gi]||(t[Gi]=[])}(e);let h=!0;if(3&r.type||o){const _=Zt(r,e),M=o?o(_):_,T=d.length,b=o?B=>o(Ve(B[r.index])):r.index;let F=null;if(!o&&a&&(F=function UP(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Gi],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==F)(F.__ngLastListenerFn__||F).__ngNextListenerFn__=s,F.__ngLastListenerFn__=s,h=!1;else{s=aw(r,e,u,s,!1);const B=n.listen(M,i,s);d.push(s,B),c&&c.push(i,b,T,T+1)}}else s=aw(r,e,u,s,!1);const f=r.outputs;let g;if(h&&null!==f&&(g=f[i])){const _=g.length;if(_)for(let M=0;M<_;M+=2){const q=e[g[M]][g[M+1]].subscribe(s),ce=d.length;d.push(s,q),c&&c.push(i,r.index,ce,-(ce+1))}}}(s,i,i[ae],o,t,e,r),$}function ow(t,e,n,r){try{return er(6,e,n),!1!==n(r)}catch(i){return M_(t,i),!1}finally{er(7,e,n)}}function aw(t,e,n,r,i){return function s(o){if(o===Function)return r;jo(t.componentOffset>-1?ln(t.index,e):e);let l=ow(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)l=ow(e,n,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&o.preventDefault(),l}}function P(t=1){return function AA(t){return(ne.lFrame.contextLView=function TA(t,e){for(;t>0;)e=e[Wi],t--;return e}(t,ne.lFrame.contextLView))[Je]}(t)}function Kr(t,e,n){return sc(t,"",e,"",n),Kr}function sc(t,e,n,r,i){const s=R(),o=bs(s,e,n,r);return o!==le&&hn(we(),Ke(),s,t,o,s[ae],i,!1),sc}function oc(t,e){return t<<17|e<<2}function Zr(t){return t>>17&32767}function zh(t){return 2|t}function wi(t){return(131068&t)>>2}function Wh(t,e){return-131069&t|e<<2}function qh(t){return 1|t}function mw(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Zr(s):wi(s),l=!1;for(;0!==a&&(!1===l||o);){const u=t[a+1];XP(t[a],e)&&(l=!0,t[a+1]=r?qh(u):zh(u)),a=r?Zr(u):wi(u)}l&&(t[n+1]=r?zh(s):qh(s))}function XP(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&os(t,e)>=0}function ac(t,e,n){return jn(t,e,n,!1),ac}function Qo(t,e){return jn(t,e,null,!0),Qo}function jn(t,e,n,r){const i=R(),s=we(),o=wr(2);s.firstUpdatePass&&function Dw(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Lt()],o=function bw(t,e){return e>=t.expandoStartIndex}(t,n);(function Tw(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function aN(t,e,n,r){const i=function vd(t){const e=ne.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Yo(n=Kh(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Kh(i,t,e,n,r),null===s){let l=function lN(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==wi(r))return t[Zr(r)]}(t,e,r);void 0!==l&&Array.isArray(l)&&(l=Kh(null,t,e,l[1],r),l=Yo(l,e.attrs,r),function cN(t,e,n,r){t[Zr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,l))}else s=function uN(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Yo(r,t[s].hostAttrs,n);return Yo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function QP(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Zr(o),l=wi(o);t[r]=n;let u,c=!1;if(Array.isArray(n)?(u=n[1],(null===u||os(n,u)>0)&&(c=!0)):u=n,i)if(0!==l){const h=Zr(t[a+1]);t[r+1]=oc(h,a),0!==h&&(t[h+1]=Wh(t[h+1],r)),t[a+1]=function KP(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=oc(a,0),0!==a&&(t[a+1]=Wh(t[a+1],r)),a=r;else t[r+1]=oc(l,0),0===a?a=r:t[l+1]=Wh(t[l+1],r),l=r;c&&(t[r+1]=zh(t[r+1])),mw(t,u,r,!0),mw(t,u,r,!1),function YP(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&os(s,e)>=0&&(n[r+1]=qh(n[r+1]))}(e,u,t,r,s),o=oc(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==le&&It(i,o,e)&&function Mw(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const l=t.data,c=l[a+1],u=function ZP(t){return 1==(1&t)}(c)?Aw(l,e,n,i,wi(c),o):void 0;lc(u)||(lc(s)||function qP(t){return 2==(2&t)}(c)&&(s=Aw(l,null,n,i,a,o)),function KT(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Wr.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Wr.Important),t.setStyle(n,r,i,s))}}(r,o,ll(Lt(),n),i,s))}(s,s.data[Lt()],i,i[ae],t,i[o+1]=function pN(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=ut(qr(t)))),t}(e,n),r,o)}function Kh(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Yo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Yo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),cn(t,o,!!n||e[++s]))}return void 0===t?null:t}function Aw(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=n[i+1];h===le&&(h=d?Ce:void 0);let f=d?kd(h,r):u===r?h:void 0;if(c&&!lc(f)&&(f=kd(l,r)),lc(f)&&(a=f,o))return a;const g=t[i+1];i=o?Zr(g):wi(g)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=kd(l,r))}return a}function lc(t){return void 0!==t}function D(t,e=""){const n=R(),r=we(),i=t+ye,s=r.firstCreatePass?Cs(r,i,1,e,null):r.data[i],o=Iw(r,n,s,e,t);n[i]=o,cl()&&Nl(r,n,o,s),tr(s,!1)}let Iw=(t,e,n,r,i)=>(zr(!0),function Tl(t,e){return t.createText(e)}(e[ae],r));function gt(t){return tt("",t,""),gt}function tt(t,e,n){const r=R(),i=bs(r,t,e,n);return i!==le&&Mr(r,Lt(),i),tt}function Zh(t,e,n,r,i){const s=R(),o=Ds(s,t,e,n,r,i);return o!==le&&Mr(s,Lt(),o),Zh}const Os="en-US";let Qw=Os;function Xh(t,e,n,r,i){if(t=re(t),Array.isArray(t))for(let s=0;s<t.length;s++)Xh(t[s],e,n,r,i);else{const s=we(),o=R(),a=St();let l=vi(t)?t:re(t.provide);const c=Rv(t),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(vi(t)||!t.multi){const f=new wo(c,i,O),g=ef(l,e,i?u:u+h,d);-1===g?(Ad(pl(a,o),s,l),Jh(s,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[g]=f,o[g]=f)}else{const f=ef(l,e,u+h,d),g=ef(l,e,u,u+h),M=g>=0&&n[g];if(i&&!M||!i&&!(f>=0&&n[f])){Ad(pl(a,o),s,l);const T=function xR(t,e,n,r,i){const s=new wo(t,n,O);return s.multi=[],s.index=e,s.componentProviders=0,CC(s,i,r&&!n),s}(i?OR:RR,n.length,i,r,c);!i&&M&&(n[g].providerFactory=T),Jh(s,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(T),o.push(T)}else Jh(s,t,f>-1?f:g,CC(n[i?g:f],c,!i&&r));!i&&r&&M&&n[g].componentProviders++}}}function Jh(t,e,n,r){const i=vi(e),s=function DI(t){return!!t.useClass}(e);if(i||s){const l=(s?re(e.useClass):e).prototype.ngOnDestroy;if(l){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(n);-1===u?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function CC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ef(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function RR(t,e,n,r){return tf(this.multi,[])}function OR(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=mi(n,n[H],this.providerFactory.index,r);s=a.slice(0,o),tf(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],tf(i,s);return s}function tf(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function qe(t,e=[]){return n=>{n.providersResolver=(r,i)=>function NR(t,e,n){const r=we();if(r.firstCreatePass){const i=Bn(t);Xh(n,r.data,r.blueprint,i,!0),Xh(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Si{}class SC{}class nf extends Si{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new R_(this);const i=an(e);this._bootstrapComponents=Er(i.bootstrap),this._r3Injector=Wv(e,n,[{provide:Si,useValue:this},{provide:Wl,useValue:this.componentFactoryResolver},...r],ut(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class rf extends SC{constructor(e){super(),this.moduleType=e}create(e){return new nf(this.moduleType,e,[])}}class bC extends Si{constructor(e){super(),this.componentFactoryResolver=new R_(this),this.instance=null;const n=new fs([...e.providers,{provide:Si,useValue:this},{provide:Wl,useValue:this.componentFactoryResolver}],e.parent||Bl(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function sf(t,e,n=null){return new bC({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let VR=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Iv(0,n.type),i=r.length>0?sf([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Z({token:t,providedIn:"environment",factory:()=>new t(K(Mn))})}return t})();function DC(t){t.getStandaloneInjector=e=>e.get(VR).getOrCreateStandaloneInjector(t)}function ra(t,e,n){const r=Ft()+t,i=R();return i[r]===le?ir(i,r,n?e.call(n):e()):zo(i,r)}function Tn(t,e,n,r){return function RC(t,e,n,r,i,s){const o=e+n;return It(t,o,i)?ir(t,o+1,s?r.call(s,i):r(i)):sa(t,o+1)}(R(),Ft(),t,e,n,r)}function ia(t,e,n,r,i){return function OC(t,e,n,r,i,s,o){const a=e+n;return _i(t,a,i,s)?ir(t,a+2,o?r.call(o,i,s):r(i,s)):sa(t,a+2)}(R(),Ft(),t,e,n,r,i)}function PC(t,e,n,r,i,s,o){return function FC(t,e,n,r,i,s,o,a,l){const c=e+n;return An(t,c,i,s,o,a)?ir(t,c+4,l?r.call(l,i,s,o,a):r(i,s,o,a)):sa(t,c+4)}(R(),Ft(),t,e,n,r,i,s,o)}function sa(t,e){const n=t[e];return n===le?void 0:n}function aO(t,e,n,r=!0){const i=e[H];if(function jT(t,e,n,r){const i=wt+r,s=n.length;r>0&&(n[i-1][Vn]=e),r<s-wt?(e[Vn]=n[i],ky(n,wt+r,e)):(n.push(e),e[Vn]=null),e[We]=n;const o=e[fo];null!==o&&n!==o&&function HT(t,e){const n=t[Ki];e[et]!==e[We][We][et]&&(t[km]=!0),null===n?t[Ki]=[e]:n.push(e)}(o,e);const a=e[Xn];null!==a&&a.insertView(t),e[ue]|=128}(i,e,t,n),r){const s=zd(n,t),o=e[ae],a=Pl(o,t[Jn]);null!==a&&function LT(t,e,n,r,i,s){r[Ye]=i,r[At]=e,ko(t,r,n,1,i,s)}(i,t[At],o,e,a,s)}}Symbol;let Ar=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=uO}return t})();const lO=Ar,cO=class extends lO{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function oO(t,e,n,r){const i=e.tView,a=Zl(t,i,n,4096&t[ue]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[fo]=t[e.index];const c=t[Xn];return null!==c&&(a[Xn]=c.createEmbeddedView(i)),xh(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Uo(i)}};function uO(){return fc(St(),R())}function fc(t,e){return 4&t.type?new cO(e,t,vs(t,e)):null}let $n=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=mO}return t})();function mO(){return function GC(t,e){let n;const r=e[t.index];return xt(r)?n=r:(n=C_(r,e,null,t),e[t.index]=n,Ql(e,n)),zC(n,e,t,r),new $C(n,t,e)}(St(),R())}const yO=$n,$C=class extends yO{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return vs(this._hostTNode,this._hostLView)}get injector(){return new Vt(this._hostTNode,this._hostLView)}get parentInjector(){const e=gl(this._hostTNode,this._hostLView);if(Dd(e)){const n=So(e,this._hostLView),r=Co(e);return new Vt(n[H].data[r+8],n)}return new Vt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=UC(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-wt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function Do(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const _=n||{};a=_.index,r=_.injector,i=_.projectableNodes,s=_.environmentInjector||_.ngModuleRef}const l=o?e:new Go(_e(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const M=(o?c:this.parentInjector).get(Mn,null);M&&(s=M)}_e(l.componentType??{});const f=l.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function dA(t){return xt(t[We])}(i)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const c=i[We],u=new $C(c,c[At],c[We]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return aO(a,i,o,!r),e.attachToViewContainerRef(),ky(cf(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=UC(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=kl(this._lContainer,n);r&&(vl(cf(this._lContainer),n),Hd(r[H],r))}detach(e){const n=this._adjustIndex(e,-1),r=kl(this._lContainer,n);return r&&null!=vl(cf(this._lContainer),n)?new Uo(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function UC(t){return t[8]}function cf(t){return t[8]||(t[8]=[])}let zC=function WC(t,e,n,r){if(t[Jn])return;let i;i=8&n.type?Ve(r):function vO(t,e){const n=t[ae],r=n.createComment(""),i=Zt(e,t);return yi(n,Pl(n,i),r,function zT(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Jn]=i};function xs(t,e){return fc(t,e)}const wf=new W("Application Initializer");let Cf=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=G(wf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Zo(s))n.push(s);else if(rw(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),yS=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Tr=new W("LocaleId",{providedIn:"root",factory:()=>G(Tr,me.Optional|me.SkipSelf)||function KO(){return typeof $localize<"u"&&$localize.locale||Os}()});let vS=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new wn(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class YO{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let _S=(()=>{class t{compileModuleSync(n){return new rf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Er(an(n).declarations).reduce((o,a)=>{const l=_e(a);return l&&o.push(new Go(l)),o},[]);return new YO(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const bS=new W(""),yc=new W("");let Mf,Df=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Mf||(function _x(t){Mf=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ne.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(K(Ne),K(Ef),K(yc))};static#t=this.\u0275prov=Z({token:t,factory:t.\u0275fac})}return t})(),Ef=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Mf?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Qr=null;const DS=new W("AllowMultipleToken"),Af=new W("PlatformDestroyListeners"),Tf=new W("appBootstrapListener");class MS{constructor(e,n){this.name=e,this.token=n}}function TS(t,e,n=[]){const r=`Platform: ${e}`,i=new W(r);return(s=[])=>{let o=If();if(!o||o.injector.get(DS,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function Sx(t){if(Qr&&!Qr.get(DS,!1))throw new k(400,!1);(function ES(){!function Q1(t){$m=t}(()=>{throw new k(600,!1)})})(),Qr=t;const e=t.get(kS);(function AS(t){t.get(Ov,null)?.forEach(n=>n())})(t)}(function IS(t=[],e){return dn.create({name:e,providers:[{provide:rh,useValue:"platform"},{provide:Af,useValue:new Set([()=>Qr=null])},...t]})}(a,r))}return function Dx(t){const e=If();if(!e)throw new k(401,!1);return e}()}}function If(){return Qr?.get(kS)??null}let kS=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function Ex(t="zone.js",e){return"noop"===t?new ok:"zone.js"===t?new Ne(e):t}(r?.ngZone,function PS(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function LR(t,e,n){return new nf(t,e,n)}(n.moduleType,this.injector,function FS(t){return[{provide:Ne,useFactory:t},{provide:Oo,multi:!0,useFactory:()=>{const e=G(Ax,{optional:!0});return()=>e.initialize()}},{provide:xS,useFactory:Mx},{provide:Yv,useFactory:Xv}]}(()=>i)),o=s.injector.get(Dr,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{vc(this._modules,s),a.unsubscribe()})}),function NS(t,e,n){try{const r=n();return Zo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(Cf);return a.runInitializers(),a.donePromise.then(()=>(function Yw(t){Cn(t,"Expected localeId to be defined"),"string"==typeof t&&(Qw=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Tr,Os)||Os),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=RS({},r);return function wx(t,e,n){const r=new rf(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(bi);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new k(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new k(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Af,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(K(dn))};static#t=this.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function RS(t,e){return Array.isArray(e)?e.reduce(RS,t):{...t,...e}}let bi=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=G(xS),this.zoneIsStable=G(Yv),this.componentTypes=[],this.components=[],this.isStable=G(vS).hasPendingTasks.pipe(Zn(n=>n?se(!1):this.zoneIsStable),function a1(t,e=Vr){return t=t??l1,ct((n,r)=>{let i,s=!0;n.subscribe(st(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),om()),this._injector=G(Mn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof jv;if(!this._injector.get(Cf).done)throw!i&&function Ui(t){const e=_e(t)||_t(t)||Ot(t);return null!==e&&e.standalone}(n),new k(405,!1);let o;o=i?n:this._injector.get(Wl).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function Cx(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Si),c=o.create(dn.NULL,[],r||o.selector,a),u=c.location.nativeElement,d=c.injector.get(bS,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),vc(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new k(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;vc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Tf,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>vc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new k(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const xS=new W("",{providedIn:"root",factory:()=>G(Dr).handleError.bind(void 0)});function Mx(){const t=G(Ne),e=G(Dr);return n=>t.runOutsideAngular(()=>e.handleError(n))}let Ax=(()=>{class t{constructor(){this.zone=G(Ne),this.applicationRef=G(bi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let _c=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Ix}return t})();function Ix(t){return function kx(t,e,n){if(fi(t)&&!n){const r=ln(t.index,e);return new Uo(r,r)}return 47&t.type?new Uo(e[et],e):null}(St(),R(),16==(16&t))}class jS{constructor(){}supports(e){return ec(e)}create(e){return new Fx(e)}}const xx=(t,e)=>e;class Fx{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||xx}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<$S(r,i,s)?n:r,a=$S(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,g=f+h;u<=g&&g<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!ec(e))throw new k(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function gP(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Lx(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new HS),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new HS),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Lx{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Vx{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class HS{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new Vx,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $S(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class US{constructor(){}supports(e){return e instanceof Map||Fh(e)}create(){return new Bx}}class Bx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Fh(e)))throw new k(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new jx(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class jx{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function GS(){return new Sc([new jS])}let Sc=(()=>{class t{static#e=this.\u0275prov=Z({token:t,providedIn:"root",factory:GS});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||GS()),deps:[[t,new Cl,new wl]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new k(901,!1)}}return t})();function zS(){return new ca([new US])}let ca=(()=>{class t{static#e=this.\u0275prov=Z({token:t,providedIn:"root",factory:zS});constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||zS()),deps:[[t,new Cl,new wl]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new k(901,!1)}}return t})();const Ux=TS(null,"core",[]);let Gx=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(K(bi))};static#t=this.\u0275mod=Yn({type:t});static#n=this.\u0275inj=Fn({})}return t})();let xf=null;function Yr(){return xf}class iF{}const Jt=new W("DocumentToken");let Ff=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Z({token:t,factory:function(){return G(oF)},providedIn:"platform"})}return t})();const sF=new W("Location Initialized");let oF=(()=>{class t extends Ff{constructor(){super(),this._doc=G(Jt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Yr().getBaseHref(this._doc)}onPopState(n){const r=Yr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Yr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Z({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function Lf(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function eb(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ir(t){return t&&"?"!==t[0]?"?"+t:t}let Ei=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Z({token:t,factory:function(){return G(nb)},providedIn:"root"})}return t})();const tb=new W("appBaseHref");let nb=(()=>{class t extends Ei{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??G(Jt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Lf(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Ir(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Ir(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Ir(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(K(Ff),K(tb,8))};static#t=this.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),aF=(()=>{class t extends Ei{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Lf(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Ir(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Ir(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(K(Ff),K(tb,8))};static#t=this.\u0275prov=Z({token:t,factory:t.\u0275fac})}return t})(),Vf=(()=>{class t{constructor(n){this._subject=new he,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function uF(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(eb(rb(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ir(r))}normalize(n){return t.stripTrailingSlash(function cF(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,rb(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ir(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ir(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Ir;static#t=this.joinWithSlash=Lf;static#n=this.stripTrailingSlash=eb;static#r=this.\u0275fac=function(r){return new(r||t)(K(Ei))};static#i=this.\u0275prov=Z({token:t,factory:function(){return function lF(){return new Vf(K(Ei))}()},providedIn:"root"})}return t})();function rb(t){return t.replace(/\/index.html$/,"")}const Kf=/\s+/,hb=[];let ha=(()=>{class t{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=hb,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(Kf):hb}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(Kf):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(Kf).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||t)(O(Sc),O(ca),O(un),O(br))};static#t=this.\u0275dir=ie({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return t})();class QF{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $t=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new QF(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),pb(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{pb(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(O($n),O(Ar),O(Sc))};static#t=this.\u0275dir=ie({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function pb(t,e){t.context.$implicit=e.item}let mt=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new YF,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){gb("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){gb("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(O($n),O(Ar))};static#t=this.\u0275dir=ie({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class YF{constructor(){this.$implicit=null,this.ngIf=null}}function gb(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${ut(e)}'.`)}let Mi=(()=>{class t{constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){const[i,s]=n.split("."),o=-1===i.indexOf("-")?void 0:Wr.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static#e=this.\u0275fac=function(r){return new(r||t)(O(un),O(ca),O(br))};static#t=this.\u0275dir=ie({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return t})(),vb=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Yn({type:t});static#n=this.\u0275inj=Fn({})}return t})();function wb(t){return"server"===t}let M2=(()=>{class t{static#e=this.\u0275prov=Z({token:t,providedIn:"root",factory:()=>new A2(K(Jt),window)})}return t})();class A2{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function T2(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class X2 extends iF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class tp extends X2{static makeCurrent(){!function rF(t){xf||(xf=t)}(new tp)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function J2(){return pa=pa||document.querySelector("base"),pa?pa.getAttribute("href"):null}();return null==n?null:function eL(t){Fc=Fc||document.createElement("a"),Fc.setAttribute("href",t);const e=Fc.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){pa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function KF(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Fc,pa=null,nL=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Z({token:t,factory:t.\u0275fac})}return t})();const np=new W("EventManagerPlugins");let Eb=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new k(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(K(np),K(Ne))};static#t=this.\u0275prov=Z({token:t,factory:t.\u0275fac})}return t})();class Mb{constructor(e){this._doc=e}}const rp="ng-app-id";let Ab=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=wb(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${rp}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(rp),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(rp,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(K(Jt),K(jl),K(Fv,8),K(gs))};static#t=this.\u0275prov=Z({token:t,factory:t.\u0275fac})}return t})();const ip={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},sp=/%COMP%/g,oL=new W("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ib(t,e){return e.map(n=>n.replace(sp,t))}let op=(()=>{class t{constructor(n,r,i,s,o,a,l,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=wb(a),this.defaultRenderer=new ap(n,o,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Sn.ShadowDom&&(r={...r,encapsulation:Sn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof Pb?i.applyToHost(n):i instanceof lp&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Sn.Emulated:s=new Pb(l,c,r,this.appId,u,o,a,d);break;case Sn.ShadowDom:return new uL(l,c,n,r,o,a,this.nonce,d);default:s=new lp(l,c,r,u,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(K(Eb),K(Ab),K(jl),K(oL),K(Jt),K(gs),K(Ne),K(Fv))};static#t=this.\u0275prov=Z({token:t,factory:t.\u0275fac})}return t})();class ap{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(ip[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(kb(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(kb(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new k(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=ip[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=ip[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Wr.DashCase|Wr.Important)?e.style.setProperty(n,r,i&Wr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Wr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Yr().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function kb(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class uL extends ap{constructor(e,n,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Ib(i.id,i.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class lp extends ap{constructor(e,n,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?Ib(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Pb extends lp{constructor(e,n,r,i,s,o,a,l){const c=i+"-"+r.id;super(e,n,r,s,o,a,l,c),this.contentAttr=function aL(t){return"_ngcontent-%COMP%".replace(sp,t)}(c),this.hostAttr=function lL(t){return"_nghost-%COMP%".replace(sp,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let dL=(()=>{class t extends Mb{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(K(Jt))};static#t=this.\u0275prov=Z({token:t,factory:t.\u0275fac})}return t})();const Nb=["alt","control","meta","shift"],hL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fL={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let pL=(()=>{class t extends Mb{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yr().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),Nb.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(n,r){let i=hL[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Nb.forEach(o=>{o!==i&&(0,fL[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(K(Jt))};static#t=this.\u0275prov=Z({token:t,factory:t.\u0275fac})}return t})();const vL=TS(Ux,"browser",[{provide:gs,useValue:"browser"},{provide:Ov,useValue:function gL(){tp.makeCurrent()},multi:!0},{provide:Jt,useFactory:function yL(){return function JT(t){Kd=t}(document),document},deps:[]}]),_L=new W(""),xb=[{provide:yc,useClass:class tL{addToWindow(e){Le.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new k(5103,!1);return s},Le.getAllAngularTestabilities=()=>e.getAllTestabilities(),Le.getAllAngularRootElements=()=>e.getAllRootElements(),Le.frameworkStabilizers||(Le.frameworkStabilizers=[]),Le.frameworkStabilizers.push(r=>{const i=Le.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Yr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:bS,useClass:Df,deps:[Ne,Ef,yc]},{provide:Df,useClass:Df,deps:[Ne,Ef,yc]}],Fb=[{provide:rh,useValue:"root"},{provide:Dr,useFactory:function mL(){return new Dr},deps:[]},{provide:np,useClass:dL,multi:!0,deps:[Jt,Ne,gs]},{provide:np,useClass:pL,multi:!0,deps:[Jt]},op,Ab,Eb,{provide:Lo,useExisting:op},{provide:class I2{},useClass:nL,deps:[]},[]];let Lb=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:jl,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(K(_L,12))};static#t=this.\u0275mod=Yn({type:t});static#n=this.\u0275inj=Fn({providers:[...Fb,...xb],imports:[vb,Gx]})}return t})(),Vb=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(K(Jt))};static#t=this.\u0275prov=Z({token:t,factory:function(r){let i=null;return i=r?new r:function CL(){return new Vb(K(Jt))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;var E=function(t){return t[t.Instant=0]="Instant",t[t.Dodge=1]="Dodge",t[t.Engineer=2]="Engineer",t[t.Repair=3]="Repair",t[t.Flying=4]="Flying",t[t.Slow=5]="Slow",t[t.Fast=6]="Fast",t[t.Pacifist=7]="Pacifist",t[t.Sentry=8]="Sentry",t[t.Siege=9]="Siege",t[t.Momentum=10]="Momentum",t[t.Sharpen=11]="Sharpen",t[t.Armorer=12]="Armorer",t[t.Rascal=13]="Rascal",t[t.Medic=14]="Medic",t[t.Regenerate=15]="Regenerate",t[t.Ensnare=16]="Ensnare",t[t.WallBound=17]="WallBound",t[t.FullForward=18]="FullForward",t}(E||{});class $b{getTooltip(e){switch(e){case E.Instant:return"Play anytime";case E.Dodge:return"If this creature would die or take damage, instead remove a dodge token";case E.Engineer:return"Tap to repair wall";case E.Repair:return"At the start of your turn, repair wall by x amount";case E.Flying:return"Flies over enemy walls and damages their life total directly.";case E.Slow:return"Set speed = 0";case E.Fast:return"Attack the turn it comes in";case E.Pacifist:return"may not attack";case E.Sentry:return"Does not tap to attack";case E.Siege:return"Double damage to walls";case E.Momentum:return"Gains 1 speed every turn";case E.Sharpen:return"Gains 1 attack every turn";case E.Armorer:return"Gains 1 hp every turn";case E.Rascal:return"Must be blocked by 2 creatures";case E.Medic:return"Heals all of its controllers creatures at the end of the players turn";case E.Regenerate:return"Heal self at end of turn";case E.Ensnare:return"slows enemy creatures on block or blocking";case E.WallBound:return"dies if the wall dies";default:return"No tooltip found"}}getToolTipName(e){switch(e){case E.Instant:return"Instant";case E.Dodge:return"Dodge";case E.Engineer:return"Engineer";case E.Repair:return"Repair";case E.Flying:return"Flying";case E.Slow:return"Slow";case E.Fast:return"Fast";case E.Pacifist:return"Pacifist";case E.Sentry:return"Sentry";case E.Siege:return"Siege";case E.Momentum:return"Momentum";case E.Sharpen:return"Sharpen";case E.Armorer:return"Armorer";case E.Rascal:return"Rascal";case E.Medic:return"Medic";case E.Regenerate:return"Regenerate";case E.Ensnare:return"Ensnare";case E.WallBound:return"WallBound";default:return"No tooltip found"}}}var w=function(t){return t[t.Sun=0]="Sun",t[t.Earth=1]="Earth",t[t.Sky=2]="Sky",t[t.Neptune=3]="Neptune",t[t.MoonAndStars=4]="MoonAndStars",t[t.Colorless=5]="Colorless",t[t.Any=6]="Any",t}(w||{}),z=function(t){return t[t.None=0]="None",t[t.Attackers=1]="Attackers",t[t.Blockers=2]="Blockers",t[t.Main1=3]="Main1",t[t.Main2=4]="Main2",t[t.Start=5]="Start",t[t.DrawStep=6]="DrawStep",t[t.EndTurn=7]="EndTurn",t[t.DrawCard=8]="DrawCard",t[t.Attack=9]="Attack",t[t.Block=10]="Block",t[t.Unblocked=11]="Unblocked",t[t.Blocked=12]="Blocked",t[t.Enters=13]="Enters",t[t.Dies=14]="Dies",t[t.Awake=15]="Awake",t[t.Income=16]="Income",t[t.Exiled=17]="Exiled",t[t.Discarded=18]="Discarded",t[t.Mill=19]="Mill",t[t.WallRepair=20]="WallRepair",t[t.Any=21]="Any",t[t.SpellCast=22]="SpellCast",t[t.CreatureCast=23]="CreatureCast",t[t.MineCast=24]="MineCast",t[t.MineCase=25]="MineCase",t[t.FortificationCast=26]="FortificationCast",t[t.StartFight=27]="StartFight",t[t.EndFight=28]="EndFight",t}(z||{}),p=function(t){return t[t.Any=0]="Any",t[t.Opponent=1]="Opponent",t[t.Self=2]="Self",t}(p||{});class AL{static toggleController(e){return e===p.Any?p.Any:e===p.Self?p.Opponent:p.Self}}var x=function(t){return t[t.Creature=0]="Creature",t[t.Tech=1]="Tech",t[t.Mine=2]="Mine",t[t.Wall=3]="Wall",t[t.Attachment=4]="Attachment",t[t.Spell=5]="Spell",t[t.Player=6]="Player",t[t.Hoard=7]="Hoard",t[t.Permanent=8]="Permanent",t[t.Building=9]="Building",t[t.Any=10]="Any",t[t.Hero=11]="Hero",t}(x||{}),j=function(t){return t[t.Single=0]="Single",t[t.Multiple=1]="Multiple",t[t.All=2]="All",t}(j||{}),Q=function(t){return t[t.start=0]="start",t[t.main=1]="main",t[t.main2=2]="main2",t[t.attackers=3]="attackers",t[t.blockers=4]="blockers",t[t.end=5]="end",t[t.combatResults=6]="combatResults",t[t.combatCleanup=7]="combatCleanup",t}(Q||{}),y=function(t){return t[t.hand=0]="hand",t[t.play=1]="play",t[t.discard=2]="discard",t[t.exile=3]="exile",t[t.deck=4]="deck",t[t.any=5]="any",t[t.hero=6]="hero",t}(y||{}),A=function(t){return t[t.Gold=0]="Gold",t[t.Ruby=1]="Ruby",t[t.Emerald=2]="Emerald",t[t.Sapphire=3]="Sapphire",t[t.Topaz=4]="Topaz",t[t.LionEye=5]="LionEye",t[t.Any=6]="Any",t}(A||{}),Ub=function(t){return t[t.All=0]="All",t[t.PickOne=1]="PickOne",t[t.Random=2]="Random",t}(Ub||{}),Ai=function(t){return t[t.Card=0]="Card",t[t.Relic=1]="Relic",t[t.Upgrade=2]="Upgrade",t}(Ai||{}),Ie=function(t){return t[t.Life=0]="Life",t[t.Gems=1]="Gems",t[t.Asleep=2]="Asleep",t[t.Awake=3]="Awake",t[t.Discard=4]="Discard",t[t.SacCreature=5]="SacCreature",t[t.CreatureCount=6]="CreatureCount",t}(Ie||{});function Ue(t,e){return Math.floor(Math.random()*(e-t))+t}class I{constructor(e,n,r,i,s,o){this.gold=1,this.ruby=0,this.sapphire=0,this.emerald=0,this.lionsEye=0,this.topaz=0,void 0!==e&&(this.gold=e),void 0!==n&&(this.ruby=n),void 0!==r&&(this.sapphire=r),void 0!==i&&(this.emerald=i),void 0!==s&&(this.lionsEye=s),void 0!==o&&(this.topaz=o)}getTotalCost(){return this.gold+this.ruby+this.emerald+this.sapphire+this.lionsEye+this.topaz}getGemCost(){return this.getTotalCost()-this.gold}canAfford(e){return this.gold>=e.gold&&this.ruby>=e.ruby&&this.sapphire>=e.sapphire&&this.emerald>=e.emerald&&this.lionsEye>=e.lionsEye&&this.topaz>=e.topaz}subtractCost(e){this.canAfford(e)&&(this.gold-=e.gold,this.ruby-=e.ruby,this.emerald-=e.emerald,this.sapphire-=e.sapphire,this.lionsEye-=e.lionsEye,this.topaz-=e.topaz)}clear(){this.gold=0,this.emerald=0,this.ruby=0,this.sapphire=0,this.lionsEye=0,this.topaz=0}resetIncome(){this.clear(),this.gold=1}resetStarting(e){this.clear(),this.gold=e}addBag(e){this.gold+=e.gold,this.ruby+=e.ruby,this.emerald+=e.emerald,this.lionsEye+=e.lionsEye,this.sapphire+=e.sapphire,this.topaz+=e.topaz}addSingle(e,n){switch(e){case A.Gold:this.gold+=n;break;case A.Emerald:this.emerald+=n;break;case A.Ruby:this.ruby+=n;break;case A.LionEye:this.lionsEye+=n;break;case A.Sapphire:this.sapphire+=n;break;case A.Topaz:this.topaz+=n;break;default:this.gold+=n}}getValue(e){switch(e){case A.Gold:return this.gold;case A.Emerald:return this.emerald;case A.Ruby:return this.ruby;case A.LionEye:return this.lionsEye;case A.Sapphire:return this.sapphire;case A.Topaz:return this.topaz;default:return this.gold}}isEmpty(){return this.gold<=0&&this.ruby<=0&&this.sapphire<=0&&this.emerald<=0&&this.lionsEye<=0&&this.topaz<=0}getImage(e){let n="assets/";switch(e){case A.Gold:return n+"Coin.png";case A.Emerald:return n+"Emerald.png";case A.Ruby:return n+"Ruby.png";case A.LionEye:return n+"eye.png";case A.Sapphire:return n+"Saphire.png";case A.Topaz:return n+"topaz.png";default:return n+"Coin.png"}}getImageByFaction(e){let n="assets/";switch(e){case w.Colorless:return n+"Coin.png";case w.Earth:return n+"Emerald.png";case w.Sun:return n+"Ruby.png";case w.MoonAndStars:return n+"eye.png";case w.Neptune:return n+"Saphire.png";case w.Sky:return n+"topaz.png";default:return n+"Coin.png"}}getAllTypes(){return[A.Gold,A.Emerald,A.Ruby,A.LionEye,A.Sapphire,A.Topaz]}getTypes(){let e=[];return this.gold>0&&e.push(A.Gold),this.ruby>0&&e.push(A.Ruby),this.emerald>0&&e.push(A.Emerald),this.topaz>0&&e.push(A.Topaz),this.lionsEye>0&&e.push(A.LionEye),this.sapphire>0&&e.push(A.Sapphire),e}}class up{getFaction(e){switch(e){case A.Gold:return w.Colorless;case A.Emerald:return w.Earth;case A.Ruby:return w.Sun;case A.LionEye:return w.MoonAndStars;case A.Sapphire:return w.Neptune;case A.Topaz:return w.Sky;default:return w.Colorless}}getGem(e){switch(e){case w.Colorless:return A.Gold;case w.Earth:return A.Emerald;case w.Sky:return A.Topaz;case w.MoonAndStars:return A.LionEye;case w.Neptune:return A.Sapphire;case w.Sun:return A.Ruby;default:return A.Gold}}}class js{copyBag(e){return new I(e.gold,e.ruby,e.sapphire,e.emerald,e.lionsEye,e.topaz)}copyCreature(e){return new L(e.hp,e.hp,e.speed,e.name,this.copyBag(e.cost),e.image,e.text,e.instant,e.owner,e.zone,e.factions,e.abilities,e.keywords,e.isMinion)}copySpell(e){return new Ze(e.name,e.cost,e.image,e.text,e.abilities,e.instant,e.owner,e.zone,e.factions)}copyMine(e){let n=new zn(e.name,e.cost,e.incomeBag,e.image,e.text,e.owner,e.zone,e.factions,e.abilities,e.rarity);return n.incomeBag=this.copyBag(e.incomeBag),n.cost=this.copyBag(e.cost),n.abilities=[...e.abilities],n}copyRelic(e){return new pn(e.name,e.cost,e.image,e.description,e.cardService,e.abilities,e.cost)}copyHero(e){return new en(e.attack,e.hp,e.speed,e.name,this.copyBag(e.cost),e.image,e.text,e.owner,e.zone,e.factions,e.instant,e.abilities,e.keywords,e.rarity)}}class Dt{constructor(e,n,r,i,s,o,a,l,c){this.displayCards=!1,this.playerTargets=[],this.random=!1,this.cardService=e,this.quan=n,this.types=r,this.allowedZones=i,this.controller=s,this.targetsPlayer=o,this.targetsCards=a,void 0!==l&&(this.random=l),s===p.Opponent&&(l=!0),this.targetsWall=void 0!==c&&c}getWall(){let e=[],n=this.cardService.playerService.getPlayer(p.Any);for(let r=0;r<n.length;r++)e.push(n[r].wall);return e}getPlayer(){return this.playerTargets=[],this.targetsPlayer&&(this.playerTargets=this.cardService.playerService.getPlayer(j.Single===this.quan?this.controller:p.Any)),this.playerTargets}getRandomTargetSingle(){let e=[],n=[];this.targetsPlayer&&(e=this.getPlayer()),this.targetsCards&&(n=this.cardService.getTargets(this));let r=[...e,...n];console.log(r);let i=Ue(0,r.length-1);return console.log(r[i]),r[i]}isValidTarget(e){if(e instanceof L||e instanceof zn){let n=e,r=this.allowedZones.includes(n.zone),i=this.types.includes(n.type);return r&&i&&(n.owner===this.controller||this.controller===p.Any)}if(e instanceof ft){if(this.types.includes(x.Player)&&(this.controller===p.Self||this.controller===p.Any))return!0}else if(e instanceof Jr&&this.types.includes(x.Player)&&(this.controller===p.Opponent||this.controller===p.Any))return!0;return!1}getTarget(){console.log(this);let e=this.cardService.getTargets(this);if(this.random)return[e[Ue(0,e.length)]];if(this.targetsCards){switch(this.quan){case j.Single:case j.Multiple:this.displayCards=!0}this.targetsPlayer&&this.getPlayer()}return e}}class Ti{constructor(e){this.cardDb=[],this.keywordMapper=new TL,this.cardService=e}generateCardByName(e){return this.cardDb.find(n=>n.name===e)}getCard(e){}copyCard(e,n){}getDeck(e){}getMinesBulk(e,n){let r=[];for(let i=0;i<n;i++)r.push(this.generateBasicMine(e));return r}generateBasicMine(e){let n,r,i;switch(e){case A.Gold:n=new I(1,0,0,0,0,0),r=w.Colorless;break;case A.Emerald:n=new I(0,0,0,1,0,0),r=w.Earth;break;case A.Ruby:n=new I(0,1,0,0,0,0),r=w.Sun;break;case A.LionEye:n=new I(0,0,0,0,1,0),r=w.MoonAndStars;break;case A.Sapphire:n=new I(0,0,1,0,0,0),r=w.Neptune;break;case A.Topaz:n=new I(0,0,0,0,0,1),r=w.Sky;break;default:n=new I(1,0,0,0,0,0),r=w.Colorless}i=`add 1 ${A[e]} to your gem bag.`;let s=new Ge([new lr(e,1,this.cardService)],this.cardService);return new zn(A[e]+" Mine",new I(0,0,0,0,0,0),n,"assets//mine.png",i,p.Self,y.deck,[r],[s])}generateMultiColorMinesBulk(e,n,r){let i=[];for(let s=0;s<r;s++)i.push(this.generateMulticolorMine(e,n));return i}generateMulticolorMine(e,n){let r=new I(0,0,0,0,0,0);r.addSingle(e,1),r.addSingle(n,1);let i=this.getFactionFromManaType(e),s=this.getFactionFromManaType(n),o=`add 1 ${A[e]} and 1 ${A[n]} to your income bag.`;return new Ge([new lr(e,1,this.cardService),new lr(n,1,this.cardService)],this.cardService),new zn(`${A[e]}-${A[n]} Mine`,new I(0,0,0,0,0,0),r,"assets//mine.png",o,p.Self,y.deck,[i,s],[])}getFactionFromManaType(e){switch(e){case A.Gold:return w.Colorless;case A.Emerald:return w.Earth;case A.Ruby:return w.Sun;case A.LionEye:return w.MoonAndStars;case A.Sapphire:return w.Neptune;case A.Topaz:return w.Sky;default:return w.Colorless}}generateRandomCreature(e,n,r,i){let s=this.rollRandomNumber(1,n+1),o=this.rollRandomNumber(0,n+2)+1,a=this.rollRandomNumber(1,n+2),l=Math.ceil(.2*n),c=this.rollRandomNumber(l,n),d=new I(n-c,0,0,0,0,0);d.addSingle(e,c);let h=new up;return new L(o,s,a,"",d,"","",!1,r,i,[h.getFaction(e)])}genMultipleForFaction(e,n,r,i,s){let o=[];for(let a=0;a<s;a++)o.push(this.generateRandomCreatureForFaction(e,n,r,i));return o}generateRandomCreatureForFaction(e,n,r,i){let s=this.generateGemBag(n,e),a=(s.getGemCost(),e),l=1,c=e,u=1,d=e,f=this.generateKeywords(n,e,!1);switch(n){case w.Sun:u+=2,d+=2,a--;break;case w.Earth:a+=2,l+=2,d-=2;break;case w.Colorless:a+=1,d+=1,c+=1}let g=this.rollRandomNumber(u,c),_=this.rollRandomNumber(l,a),M=this.rollRandomNumber(1,d);g<=0&&(g=1),_<=0&&(_=1),M<=0&&(M=1);let T=new L(_,g,M,"Test ",s,"","",!1,r,i,[n],[],f);for(let b=0;b<f.length;b++)T.text+=E[f[b]],b<f.length-1&&(f[b]===E.Repair&&(T.repairAmount=Ue(e-1,e+1),T.text+=T.repairAmount),T.text+=", ");return f.length<=0&&(T.text="No abilities"),T}generateKeywords(e,n,r){let i=[];if(r){let s=Object.values(E),o=Ue(0,s.length-1);for(let a=0;a<o;a++){let l=Ue(0,s.length);i.includes(s[l])?a--:i.push(s[l])}}else{let s=this.keywordMapper.getKeywords(e),o=n+this.rollRandomNumber(-1,1);o<0&&(o=0);for(let a=0;a<o;a++){let c=s[this.rollRandomNumber(0,s.length-1)];i.includes(c)||i.push(c)}}return i}generateAiMinion(e,n,r){let i=this.rollRandomNumber(1,n+1),s=this.rollRandomNumber(1,n+2),o=this.rollRandomNumber(0,n+2),a=new I(0,0,0,0,0,0),l=new up;return new L(s,i,o,"Minion",a,"","",!1,p.Opponent,r,[l.getFaction(e)],[],[],!0)}generateAiBasicMinion(e,n,r){let i=new I(0,0,0,0,0,0),s=new up;return new L(n,n,n,"Minion",i,"","",!1,p.Opponent,r,[s.getFaction(e)],[],[],!0)}generateGemBag(e,n){let r,i=this.rollRandomNumber(1,n),s=n-i;switch(e){case w.Colorless:r=new I(i+s,0,0,0,0,0);break;case w.Earth:r=new I(i,0,0,s,0,0);break;case w.Sun:r=new I(i,s,0,0,0,0);break;case w.Sky:r=new I(i,0,0,0,s,0);break;case w.Neptune:r=new I(i,0,s,0,0,0);break;case w.MoonAndStars:r=new I(i,0,0,0,0,s);break;default:r=new I(i+n,0,0,0,0,0)}return r}rollRandomNumber(e,n){return Math.floor(Math.random()*(n-e))+e}}class dp{constructor(e,n){this.faction=e,this.keywords=n}}class TL{constructor(){this.items=[],Object.keys(E),this.items=[new dp(w.Sun,[E.Fast,E.Dodge,E.Momentum,E.Sharpen,E.Siege,E.Flying,E.Rascal]),new dp(w.Earth,[E.Armorer,E.Dodge,E.Engineer,E.Siege,E.Repair]),new dp(w.Colorless,[E.Armorer,E.Dodge,E.Engineer,E.Fast,E.Flying,E.Instant,E.Medic,E.Momentum,E.Repair,E.Siege])]}getKeywords(e){let n=[];return n=this.items.filter(i=>i.faction===e)[0].keywords,n}}class Re{constructor(e,n,r,i,s,o,a){this.repeatable=!1,this.selfTarget=null,this.speedDiff=e,this.hpDiff=n,this.attackDiff=r,this.cardService=i,void 0===a&&(a=!1),this.targeting=new Dt(i,o,[x.Creature],[y.play],s,!1,!0,a),this.controller=s}undoEffectSingle(e){if(e instanceof L){e.attack-=this.attackDiff,e.hp-=this.hpDiff,e.speed-=this.speedDiff;let n=e.currentEffects.indexOf(this);e.currentEffects.splice(n,1)}}doEffectSingle(e){if(e instanceof L){let n=!e.currentEffects.includes(this);this.targeting.isValidTarget(e)&&(n||this.repeatable)&&(e.attack+=this.attackDiff,e.hp+=this.hpDiff,e.speed+=this.speedDiff,e.currentEffects.push(this),e.hp<=0&&this.cardService.setCardZoneByCard(e,y.discard))}}doEffect(){let e=this.targeting.getTarget();if(this.targeting.quan===j.All)for(let n=0;n<e.length;n++)void 0!==e[n]&&this.doEffectSingle(e[n]);this.doEffectSingle(this.controller===p.Opponent?e[0]:this.selfTarget)}undoEffect(){let n=this.cardService.grabAffected(this);for(let r=0;r<n.length;r++)this.undoEffectSingle(n[r])}}class Gb{constructor(e,n,r,i){this.validTypes=[x.Creature,x.Hero],this.owner=n,this.cardService=e;let o=AL.toggleController(n);this.targeting=new Dt(this.cardService,r,i,[y.play],o,!1,!0,!1)}undoEffectSingle(e){throw new Error("Method not implemented.")}doEffectSingle(e){(e instanceof L||e instanceof en)&&e.zone===y.play&&(e.hp=0,e.handleDeath(),this.cardService.checkTriggers(z.Dies))}undoEffect(){throw new Error("Method not implemented.")}doEffect(){let e=this.targeting.getTarget();for(let n=0;n<e.length;n++)this.doEffectSingle(e[n]);j.All&&this.doEffectSingle(this.cardService.hero)}}class hp{constructor(e,n,r,i){this.amount=1,this.objCopier=new js,this.controller=e,this.cardService=n,this.creatureToMake=r,void 0!==i&&(this.amount=i),this.targeting=new Dt(this.cardService,j.Single,[x.Player],[y.play],e,!0,!1)}undoEffectSingle(e){throw new Error("Method not implemented.")}doEffectSingle(e){let n=this.objCopier.copyCreature(this.creatureToMake);n.zone=y.play,this.cardService.cardList.push(n)}grabUnaffected(){throw new Error("Method not implemented.")}doEffect(){for(let e=0;e<this.amount;e++)this.doEffectSingle()}undoEffect(){throw new Error("Method not implemented.")}}class zb{constructor(e,n,r,i,s){this.objCopier=new js,this.targeting=new Dt(e,j.Single,[x.Player],[y.play],i,!0,!1),this.cardService=e,this.spellToMake=n,this.destinationZone=r,this.player=i,this.amount=void 0===s?1:s}doEffect(){for(let e=0;e<this.amount;e++)this.doEffectSingle(1)}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){let n=this.objCopier.copySpell(this.spellToMake);n.zone=this.destinationZone,n.owner=this.player,this.cardService.cardList.push(n)}undoEffectSingle(e){throw new Error("Method not implemented.")}}class IL{constructor(e,n,r){this.objCopier=new js,this.cardService=e,this.spells=n,this.targeting=new Dt(this.cardService,j.Single,[x.Player],[y.play],r,!0,!1)}doEffect(){let e=this.targeting.getPlayer();e[0]instanceof ft&&this.doEffectSingle(e[0])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){if(e instanceof ft){let n=Math.floor(Math.random()*this.spells.length),r=this.objCopier.copySpell(this.spells[n]);r.zone=y.hand,r.owner=e.controller,this.cardService.cardList.push(r)}}undoEffectSingle(e){throw new Error("Method not implemented.")}}class lr{constructor(e,n,r,i){this.manaType=e,this.amount=n,this.cardService=r,this.targeting=new Dt(this.cardService,j.Single,[x.Player],[],i,!0,!1)}undoEffectSingle(e){throw new Error("Method not implemented.")}doEffectSingle(e){e.gembag.addSingle(this.manaType,this.amount)}grabUnaffected(){throw new Error("Method not implemented.")}doEffect(){console.log("hi");let e=this.targeting.getPlayer();e[0]instanceof ft&&e[0].gembag.addSingle(this.manaType,this.amount)}undoEffect(){throw new Error("Method not implemented.")}}class Wb{constructor(e,n){this.cardService=e,this.targeting=new Dt(this.cardService,j.Single,[x.Player],[y.any],p.Self,!0,!1,!1),this.manaType=n}doEffect(){let e=new Ti(this.cardService),n=this.targeting.getPlayer()[0];if(n instanceof ft){let r=e.generateBasicMine(this.manaType);this.cardService.cardList.push(r),n.incomeBag.addBag(r.incomeBag)}}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){throw new Error("Method not implemented.")}undoEffectSingle(e){throw new Error("Method not implemented.")}}class kL{constructor(e,n,r,i){this.validController=n,this.cardService=e,this.destinationZone=i,this.targeting=new Dt(this.cardService,r,[x.Any],[y.play],n,!1,!0)}doEffect(){let e=this.targeting.getTarget();for(let n=0;n<e.length;n++)this.doEffectSingle(e[n])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){this.cardService.setCardZoneByCard(e,this.destinationZone)}undoEffectSingle(e){throw new Error("Method not implemented.")}}class qb{constructor(e,n,r,i,s){this.amount=1,this.hasFlying=!1,this.hasSiege=!1,this.cardService=e,this.targeting={},this.target=r,this.amount=n,void 0!==i&&(this.hasFlying=i),void 0!==s&&(this.hasSiege=s)}doEffect(){let e=this.cardService.playerService.getPlayer(this.target);for(let n=0;n<e.length;n++)this.doEffectSingle(e[n])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){e instanceof Jr&&e.takeDamage(this.amount,this.hasFlying,this.hasSiege),e instanceof ft&&(e.hp-=this.amount)}undoEffectSingle(e){throw new Error("Method not implemented.")}}class Hs{constructor(e,n,r,i,s,o,a){this.amount=1,this.amount=e,this.cardService=n,void 0===s&&(s=!1),void 0===o&&(o=!1),void 0===a&&(a=!0),this.targeting=new Dt(n,r,[x.Player,x.Creature],[y.play],i,o,a,s)}doEffect(){if(this.targeting.quan===j.Single){if(this.targeting.random){let e=this.targeting.getRandomTargetSingle();this.doEffectSingle(e)}else if(this.targeting.targetsPlayer&&!this.targeting.targetsCards){let e=this.targeting.getPlayer();for(let n=0;n<e.length;n++)this.doEffectSingle(e[n])}}else if(this.targeting.quan===j.All){let e=this.targeting.getTarget();for(let n=0;n<e.length;n++)this.doEffectSingle(e[n])}}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){if(e instanceof L){let n=e;n.hp-=this.amount,n.hp<=0&&this.cardService.setCardZoneByCard(n,y.discard)}if(e instanceof pp){let n=e;n.hp-=this.amount,n.hp<0&&(n.hp=0)}}undoEffectSingle(e){throw new Error("Method not implemented.")}}class Pn{constructor(e,n,r,i){this.amount=1,this.cardService=e,this.targeting=new Dt(this.cardService,n,[x.Player],[y.play],r,!0,!1),void 0!==i&&(this.amount=i)}doEffect(){let e=this.targeting.getPlayer();console.log(e);for(let n=0;n<e.length;n++)this.doEffectSingle(e[n])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){e instanceof Jr?e.drawCardsFromEffect(this.amount):e instanceof ft&&e.drawCards(this.amount)}undoEffectSingle(e){throw new Error("Method not implemented.")}}class Kb{constructor(e,n,r){this.cardService=e,this.targeting=new Dt(this.cardService,r,[x.Creature],[y.play],n,!1,!0)}doEffect(){let e=this.targeting.getTarget();for(let n=0;n<e.length;n++)this.doEffectSingle(e[n])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){e instanceof L&&e.heal()}undoEffectSingle(e){throw new Error("Method not implemented.")}}class PL{constructor(e,n,r){this.cardService=e,this.targeting=new Dt(this.cardService,r,[x.Creature],[y.play],n,!1,!0)}doEffect(){let e=this.targeting.getTarget();for(let n=0;n<e.length;n++)this.doEffectSingle(e[n])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){e instanceof L&&(e.firstTurn=!1)}undoEffectSingle(e){}}class Ii{constructor(e,n,r,i,s){this.cardService=e,this.targeting=new Dt(this.cardService,n,[x.Creature],r,i,!1,!0),this.keywords=s}doEffect(){let e=this.targeting.getTarget();for(let n=0;n<e.length;n++)this.doEffectSingle(e[n])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){if(e instanceof L){let n=e;for(let r=0;r<this.keywords.length;r++){let i=this.keywords[r];n.keywords.includes(i)||(n.keywords.push(i),i===E.Repair?e.repairAmount=2:i===E.Dodge?e.dodgeAmount=1:i===E.Ensnare&&(e.ensnareAmount=2))}}}undoEffectSingle(e){throw new Error("Method not implemented.")}}class ga{constructor(e,n,r){this.cardService=e,this.amount=n,this.targeting=new Dt(this.cardService,j.Single,[x.Player],[y.play],r,!0,!1)}doEffect(){let e=this.targeting.getPlayer();for(let n=0;n<e.length;n++)this.doEffectSingle(e[n])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){e instanceof ft&&(e.hp+=this.amount)}undoEffectSingle(e){e instanceof ft&&(e.hp-=this.amount)}}class NL{constructor(e,n,r){this.cardService=n,this.effects=e,this.targeting=r}doEffect(){let e=this.targeting.getTarget();for(let n=0;n<e.length;n++)this.doEffectSingle(e[n])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){for(let n=0;n<this.effects.length;n++)this.effects[n].doEffectSingle(e)}undoEffectSingle(e){throw new Error("Method not implemented.")}}class Zb{constructor(e,n){this.cardService=e,this.amount=n,this.targeting=new Dt(this.cardService,j.Single,[x.Wall],[],p.Self,!0,!1,!1,!0)}doEffect(){let e=this.targeting.getPlayer();console.log(e),e[0]instanceof ft&&(e[0].wall.hp+=this.amount)}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){throw new Error("Method not implemented.")}undoEffectSingle(e){throw new Error("Method not implemented.")}}class RL{constructor(e,n){this.amount=1,this.cardService=e,this.amount=n,this.targeting=new Dt(this.cardService,j.Single,[x.Player],[],p.Self,!0,!1)}doEffect(){let e=this.targeting.getPlayer();for(let n=0;n<e.length;n++)this.doEffectSingle(e[n])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){e instanceof ft&&!(e instanceof Jr)&&(e.mineLimits+=this.amount)}undoEffectSingle(e){e instanceof ft&&(e.mineLimits-=this.amount)}}var ge=function(t){return t[t.Common=0]="Common",t[t.Uncommon=1]="Uncommon",t[t.Rare=2]="Rare",t[t.SuperRare=3]="SuperRare",t}(ge||{});class pn{constructor(e,n,r,i,s,o,a,l){if(this.abilities=[],this.targeting={},this.cost=0,this.image="",this.description="",this.name=e,this.image=r,this.description=i,this.cardService=s,void 0!==l&&(this.targeting=l),this.rarity=n,void 0!==o&&(this.abilities=o),void 0!==a)this.cost=a;else switch(n){case ge.Common:this.cost=Ue(50,100);break;case ge.Uncommon:this.cost=Ue(75,130);break;case ge.Rare:this.cost=Ue(100,200);break;case ge.SuperRare:this.cost=Ue(150,250)}}applyInitialEffects(){let e=this.abilities.filter(n=>n instanceof Ge);for(let n=0;n<e.length;n++)e[n].doEffects()}applyTriggeredEffects(e){}canBuy(e){return e>=this.cost}}class Lc{constructor(e){this.relics=[],this.cardService=e,this.cardGen=new Ti(e);let n=new Re(1,1,1,e,p.Self,j.All),r=new rt([n],e),i=new pn("Buff",ge.Common,"test.png","All your creatures get +1/+1/+1",e,[r]);this.relics.push(i);let s=new L(1,1,1,"Spider",new I(1),"","",!1,p.Self,y.any,[w.Earth],[],[],!0),o=new hp(p.Self,e,s,1),a=new Me([o],[z.Start],e,p.Self),l=new pn("Swarm Amulet",ge.Uncommon,"amulet.png","At the start of your turn, create a 1/1/1 spider",e,[a]);this.relics.push(l);let c=new Ii(e,j.All,[y.play],p.Self,[E.Momentum]),u=new rt([c],e),d=new pn("Bowling Ball",ge.Rare,"bowlingBall.png","At the start of your turn, all your creatures gain 1 speed",e,[u]);this.relics.push(d);let h=new Ii(e,j.All,[y.play],p.Self,[E.Armorer,E.Pacifist,E.Regenerate]),f=new rt([h],e),g=new pn("Plate of Peace",ge.SuperRare,"plate.png","At the start of your turn all your creatures gain 1 more hp and then heal to max hp. Creatures you control may not attack",e,[f]);this.relics.push(g);let _=new Pn(e,j.Single,p.Self,2),M=new Ge([_],e),T=new Ze("Scrying Report",new I(4),"","Draw 2 Cards",[M],!1,p.Self,y.any,[w.Colorless]),b=new zb(e,T,y.hand,p.Self),F=new Me([b],[z.Start],e,p.Self,[y.play]),B=new pn("Monocle of Insight",ge.Uncommon,"monocle.png","At the start of your turn, add a 4 gold cost draw spell to your hand",e,[F]);this.relics.push(B);let q=new Ii(e,j.All,[y.play],p.Self,[E.Sharpen,E.FullForward]),ce=new rt([q],e),pe=new pn("Sword of War",ge.SuperRare,"attackSymbol.png","At the start of your turn, all creatures you control gain +1/+0/+0. Creatures you control may not block",e,[ce]);this.relics.push(pe);let He=new Re(1,1,1,this.cardService,p.Self,j.Single,!0);He.repeatable=!0;let Qe=new Me([He],[z.Dies],this.cardService,p.Any,[y.play]),at=new pn("Blood Chalice",ge.Common,"bloodChalice.png","Whenever a creature dies, a random one of your creatures gets +1/+1/+1",this.cardService,[Qe]);this.relics.push(at);let vn=new ga(this.cardService,2,p.Self),nn=new Me([vn],[z.Start],this.cardService,p.Self,[y.play]),Gt=new pn("Health Potion",ge.Common,"potion.png","At the start of your turn, gain 2 life",this.cardService,[nn]);this.relics.push(Gt);let li=new Zb(this.cardService,10),ci=new Me([li],[z.StartFight],this.cardService),U=new pn("Cosmic Brick",ge.Common,"brick.png","At the start of each fight, your wall gains 10 extra Hp.",this.cardService,[ci]);this.relics.push(U);let Y=new Pn(this.cardService,j.Single,p.Self,1),ee=new Me([Y],[z.Start],this.cardService,p.Self),ve=new pn("Crystal Ball",ge.Rare,"crystalBall.png","At the start of each turn, draw 1 card.",this.cardService,[ee]);this.relics.push(ve);let lt=new Zb(this.cardService,5),On=new Me([lt],[z.Start],this.cardService,p.Self),zt=new pn("Repair Kit",ge.Common,"repairKit.png","At the end of each turn, your wall gains 5 HP.",this.cardService,[On]);this.relics.push(zt);let pr=new Re(0,0,2,this.cardService,p.Self,j.All),ze=new rt([pr],this.cardService),ku=new pn("War Banner",ge.Rare,"warBanner.png","All your creatures get +2/+0/+0.",this.cardService,[ze]);this.relics.push(ku)}getRelicByName(e){return[]}getRelicByIndex(e){return this.relics[e]}getRelicsByRarity(e){return this.relics.filter(n=>n.rarity===e)}getAllRelics(){return this.relics}getRandomRelic(e){let n;return n=void 0!==e?this.getRelicsByRarity(e):this.getAllRelics(),n[this.cardGen.rollRandomNumber(0,n.length)]}}class ma{convertToCreature(e){return e}convertToMine(e){return e}convertToSpell(e){return e}convertToTech(e){return e}}class fp{constructor(e,n,r,i,s,o,a,l,c){this.type=x.Any,this.hover=!1,this.turned=!1,this.instant=!1,this.currentEffects=[],this.targetableCard=!1,this.isFlipping=!1,this.isMoving=!1,this.keywords=[],this.name=e,this.cost=n,this.image=r,this.text=i,this.abilities=void 0!==l?l:[],this.rarity=void 0===c?ge.Common:c,this.owner=s,this.zone=o,this.factions=a}hasTargetedAbility(){return this.abilities.filter(n=>n instanceof tn).length>0}hasStaticAbility(){return this.abilities.filter(n=>n instanceof rt).length>0}hasActivatedAbility(){return this.abilities.filter(n=>n instanceof yt).length>0}getStaticAbilities(){return this.abilities.filter(e=>e instanceof rt)}processAbilities(e){for(let n=0;n<this.abilities.length;n++){let r=this.abilities[n];console.log(r),r instanceof rt?e.intialApplyStaticAbilities(r):(r instanceof Ge||r instanceof gp)&&r.doEffects()}}shouldDie(){return!0}}class L{constructor(e,n,r,i,s,o,a,l,c,u,d,h,f,g,_){this.hover=!1,this.type=x.Creature,this.turned=!1,this.attacking=!1,this.blocking=!1,this.blocked=!1,this.selected=!1,this.instant=!1,this.awake=!0,this.firstTurn=!0,this.currentEffects=[],this.keywords=[],this.repairAmount=0,this.isMinion=!1,this.dodgeAmount=0,this.targetableCard=!1,this.isFlipping=!1,this.isMoving=!1,this.ensnareAmount=0,this.rarity=void 0===_?ge.Common:_,this.attack=n,this.baseAttack=n,this.hp=e,this.baseHp=e,this.speed=r,this.baseSpeed=r,this.name=i,this.cost=s,this.image=o,this.text=a,this.abilities=void 0!==h?h:[],this.keywords=void 0!==f?f:[],this.keywords.includes(E.Slow)&&(this.speed=0),this.keywords.includes(E.Fast)&&(this.firstTurn=!1),this.instant=l,this.owner=c,this.zone=u,this.factions=d,void 0!==g&&(this.isMinion=g)}hasActivatedAbility(){return this.abilities.filter(n=>n instanceof yt).length>0}hasStaticAbility(){return this.abilities.filter(n=>n instanceof rt).length>0}getStaticAbilities(){return this.abilities.filter(e=>e instanceof rt)}handleDeath(){if(!1===this.isAlive()){this.resetStats();let e=this.getStaticAbilities();for(let n=0;n<e.length;n++)e[n].undoEffects();this.zone=y.discard}}shouldDie(){return this.hp>0}resetStats(){this.hp=this.baseHp,this.attack=this.baseAttack,this.speed=this.baseSpeed}heal(){this.hp<this.baseHp&&(this.hp=this.baseHp)}processAbilities(e){for(let n=0;n<this.abilities.length;n++){let r=this.abilities[n];r instanceof rt?e.intialApplyStaticAbilities(r):r instanceof Ge&&r.doEffects()}}hasTargetedAbility(){return this.abilities.filter(n=>n instanceof tn).length>0}setSlow(){this.speed=0,this.keywords.push(E.Slow)}isAlive(){return this.hp>0}resetHp(){this.hp=this.baseHp}addEffect(e){throw new Error("Method not implemented.")}removeEffect(e){throw new Error("Method not implemented.")}runEffects(){}canBlock(){return!this.keywords.includes(E.FullForward)&&!1===this.turned&&!1===this.blocking}}class Ze extends fp{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,a,l,c,s),this.type=x.Spell,this.targets=[],this.text=i,this.instant=o}shouldDie(){return!0}runEffects(e){for(let n=0;n<this.abilities.length;n++);}resolve(){}}class pp{constructor(e){this.hp=30,this.alive=!0,this.type=x.Wall,this.hp=e}isAlive(){return this.alive=this.hp>0,this.alive}takeDamage(e){this.hp-=e,this.hp<0&&(this.hp=0),this.isAlive()}}class Qb extends fp{constructor(e,n,r,i,s,o,a,l){super(e,n,r,i,s,o,a,l),this.level=1,this.type=x.Building}wallIsAlive(e){return e.playerService.getPlayer(this.owner)[0].wall.hp>0}runEffects(){for(let e=0;e<this.abilities.length;e++)this.abilities[e].doEffects()}undoEffects(){for(let e=0;e<this.abilities.length;e++)this.abilities[e].undoEffects()}}class zn{constructor(e,n,r,i,s,o,a,l,c,u){this.type=x.Mine,this.hover=!1,this.turned=!1,this.instant=!1,this.currentEffects=[],this.targetableCard=!1,this.isFlipping=!1,this.isMoving=!1,this.keywords=[],this.name=e,this.cost=n,this.incomeBag=r,this.image=i,this.text=s,this.abilities=void 0!==c?c:[],this.owner=o,this.zone=a,this.factions=l,this.incomeBag=r,this.rarity=void 0===u?ge.Common:u}hasActivatedAbility(){return this.abilities.filter(n=>n instanceof yt).length>0}hasStaticAbility(){return this.abilities.filter(n=>n instanceof rt).length>0}getStaticAbilities(){return this.abilities.filter(e=>e instanceof rt)}shouldDie(){return!1}processAbilities(e){throw new Error("Method not implemented.")}hasTargetedAbility(){return this.abilities.filter(n=>n instanceof tn).length>0}mine(e){e.gold+=this.incomeBag.gold,e.ruby+=this.incomeBag.ruby,e.emerald+=this.incomeBag.emerald,e.sapphire+=this.incomeBag.sapphire,e.lionsEye+=this.incomeBag.lionsEye,e.topaz+=this.incomeBag.topaz}addEffect(e){throw new Error("Method not implemented.")}removeEffect(e){throw new Error("Method not implemented.")}runEffects(){throw new Error("Method not implemented.")}}class en extends L{constructor(e,n,r,i,s,o,a,l,c,u,d,h,f,g){super(n,e,r,i,s,o,a,d,l,c,u,h,f,!1,g),this.timesDied=0,this.type=x.Hero,this.baseCost=s,this.currentCost=s,this.zone=y.hero}handleDeath(){this.zone=y.hero,this.timesDied++,this.currentCost.gold++;for(let e=0;e<this.abilities.length;e++)this.abilities[e].undoEffects()}resetGoldCost(){this.cost=this.baseCost}}class tn{constructor(e,n,r,i,s,o,a){this.effects=[],this.allowedTargets=[x.Creature],this.allowedZones=[],this.targetNumber=1,this.possibleTargets=[],this.target=null,this.allEffectsToOne=!1,this.allowedTargets=e,this.targetNumber=i,this.effects=s,this.allowedZones=r,this.allowedPlayer=n,this.cardService=o,void 0!==a&&(this.allEffectsToOne=a)}undoEffects(){throw new Error("Method not implemented.")}checkTargetValid(e){return this.allowedTargets.includes(e)}setTargetByIndex(e){if(this.possibleTargets.length>0&&e<this.possibleTargets.length&&e>=0){let n=this.possibleTargets[e];this.checkTargetValid(n.type)&&(this.target=n)}}doEffects(){for(let e=0;e<this.effects.length;e++)this.effects[e].doEffect()}}class rt{constructor(e,n){this.zoneAffected=y.play,this.effects=e,this.cardService=n}undoEffects(){this.undoAll()}doEffects(){for(let e=0;e<this.effects.length;e++)this.effects[e].doEffect()}undoAll(){for(let e=0;e<this.effects.length;e++)this.effects[e].undoEffect()}}class Me{constructor(e,n,r,i,s,o){this.triggerZones=[],this.triggersPerTurn=1e4,this.effects=e,this.triggerTimes=n,this.cardService=r,this.controller=void 0===i?p.Any:i,void 0===s?this.triggerZones.push(y.play):this.triggerZones=s,void 0!==o&&(this.triggersPerTurn=o)}undoEffects(){throw new Error("Method not implemented.")}checkTriggers(e,n){void 0===n&&(n=p.Any);let r=this.controller===n||this.controller===p.Any,i=this.triggerTimes.includes(e);r&&i&&this.doEffects()}doEffects(){for(let e=0;e<this.effects.length;e++)this.effects[e].doEffect()}}class Ge{constructor(e,n){this.effects=e,this.cardService=n}undoEffects(){throw new Error("Method not implemented.")}doEffects(){for(let e=0;e<this.effects.length;e++)this.effects[e].doEffect()}}class Et{constructor(e,n,r){this.cost=e,this.amount=n,this.color=void 0!==r?r:A.Any}}class yt{constructor(e,n,r,i,s){this.costMaps=[],this.needsTarget=!1,this.costMaps=n,this.cardService=e,this.effects=r,this.user=i,void 0!==s&&(this.needsTarget=s)}doEffects(){let e=this.cardService.playerService.getPlayer(p.Self)[0];if(this.canAffordCosts(this.user,e)){this.payCosts();for(let r=0;r<this.effects.length;r++)this.effects[r].doEffect()}}undoEffects(){throw new Error("Method not implemented.")}payCosts(){let e=this.cardService.playerService.getPlayer(p.Self)[0];for(let n=0;n<this.costMaps.length;n++){let r=this.costMaps[n],s=r.amount;switch(r.cost){case Ie.Life:e.hp>s&&(e.hp-=s);break;case Ie.Gems:switch(r.color){case A.Gold:e.gembag.gold-=s;break;case A.Ruby:e.gembag.ruby-=s;break;case A.Sapphire:e.gembag.sapphire-=s;break;case A.Emerald:e.gembag.emerald-=s;break;case A.LionEye:e.gembag.lionsEye-=s;break;case A.Topaz:e.gembag.topaz-=s;break;default:e.gembag.gold-=s}break;case Ie.Discard:if(this.user instanceof ft){let l=this.user.getHand();for(let c=0;c<s;c++){let u=l.pop();u&&this.cardService.setCardZoneByCard(u,y.discard)}}break;case Ie.SacCreature:this.user instanceof ft&&e.getCreatures();break;case Ie.Asleep:let o=this.user;o.awake=!1,this.user=o,console.log(this.user)}}}canCardAffordCosts(e){for(let n=0;n<this.costMaps.length;n++){let r=this.costMaps[n],i=r.cost,s=r.amount;if(void 0!==i)switch(i){case Ie.Life:if(e instanceof L&&e.hp<s)return!1;break;case Ie.Asleep:if(e instanceof L)return e.awake}}return!0}canPlayerAffordCosts(e){for(let n=0;n<this.costMaps.length;n++){let r=this.costMaps[n],s=r.amount;switch(r.cost){case Ie.Life:if(e.hp<s)return!1;break;case Ie.Gems:if(e.gembag.getValue(r.color)<s)return!1;break;case Ie.Discard:if(e.getHand().length<s)return!1;break;case Ie.SacCreature:if(e.getCreatures().length<s)return!1}}return!0}canAffordCosts(e,n){let r=!0,i=!0;return void 0!==e&&(i=this.canCardAffordCosts(e)),void 0!==n&&(r=this.canPlayerAffordCosts(n)),r&&i}}class gp{constructor(e,n,r,i,s){this.effects=e,this.cardService=n,this.targeting=new Dt(n,j.Single,r,i,s,!1,!0,!1)}doEffects(){let e=this.targeting.getTarget();if(console.log(e),e.length>0){let r=e[Math.floor(Math.random()*e.length)];console.log(e),console.log(r);for(let i=0;i<this.effects.length;i++)this.effects[i].doEffectSingle(r)}}undoEffects(){throw new Error("Method not implemented.")}}class ft{constructor(e){this.isAi=!1,this.name="human",this.hp=40,this.drawPerTurn=1,this.attacking=!1,this.pickingBlockers=!1,this.showFights=!1,this.defending=!1,this.targeting=!1,this.possibleTargets=[],this.wall=new pp(20),this.staticAbilities=[],this.cardConverter=new ma,this.startingGold=3,this.gembag=new I(this.startingGold,0,0,0,0,0),this.incomeBag=new I(1,0,0,0,0,0),this.currentEffects=[],this.mineLimits=1,this.minesPlayed=0,this.effectStack=[],this.pickStack=[],this.controller=p.Self,this.stopPhases=!1,this.currentPos=0,this.buildingSlots=3,this.relics=[],this.buildings=[],this.marketEnabled=!1,this.cardService=e,this.gembag.gold=this.startingGold}applyStaticAbilities(){for(let e=0;e<this.staticAbilities.length;e++)this.staticAbilities[e].doEffects();for(let e=0;e<this.relics.length;e++){let n=this.relics[e];for(let r=0;r<n.abilities.length;r++){let i=n.abilities[r];i instanceof rt&&i.doEffects()}}}unapplyStaticAbilities(){for(let e=0;e<this.staticAbilities.length;e++)this.staticAbilities[e].undoEffects();for(let e=0;e<this.relics.length;e++){let n=this.relics[e];for(let r=0;r<n.abilities.length;r++){let i=n.abilities[r];i instanceof rt&&i.undoEffects()}}}getAllCards(){return this.cardService.getCards(y.any,this.controller)}checkIfPlayable(e,n){if(e.owner===p.Opponent)return!0;if(e instanceof en){let l=n.currentPhase===Q.main||n.currentPhase===Q.main2,c=n.currentTurn===this||e.instant,u=e.zone===y.hero,d=this.gembag.canAfford(e.cost);return l&&c&&u&&d}let s,r=this.cardService.getCards(y.hand,p.Self,x.Any),i=n.currentPhase===Q.main||n.currentPhase===Q.main2;return e instanceof zn?!!(this.minesPlayed<this.mineLimits&&(i||e.instant)):(s=r.includes(e),!!this.gembag.canAfford(e.cost)&&!!(e.instant||i&&n.currentTurn===this))}hasPlayableCards(e){let n=this.cardService.getCards(y.hand,p.Self,x.Any),i=!1;for(let s=0;s<n.length;s++)if(this.checkIfPlayable(n[s],e)){i=!0;break}return i}hasRelic(e){return this.relics.filter(r=>r.name===e).length>0}playCard(e,n){if(console.log(this.checkIfPlayable(e,n)),this.checkIfPlayable(e,n)){if(this.gembag.subtractCost(e.cost),[x.Creature,x.Wall,x.Mine,x.Building,x.Tech,x.Hero].includes(e.type)){if(this.cardService.checkTriggers(z.Enters,p.Self),e instanceof en)e.hp=e.baseHp,this.cardService.setCardZoneByCard(e,y.play);else{let i=this.cardService.getCardIndex(e);this.cardService.setCardZone(i,y.play)}if(e.type===x.Mine&&(this.incomeBag.addBag(e.incomeBag),this.minesPlayed++,this.cardService.checkTriggers(z.MineCast,this.controller)),e.type===x.Building)if(this.buildings.includes(e)){let s=this.buildings.findIndex(o=>o.name===e.name);this.buildings[s].level++}else this.buildings.push(e)}else e.type===x.Spell&&this.playSpell(e,n);this.applyExistingAbilities(e),this.applyStaticAbilities(),this.processAbilities(e)}}playSpell(e,n){this.cardService.checkTriggers(z.SpellCast),this.cardService.setCardZoneByCard(e,y.discard)}addRelic(e){this.relics.push(e),this.processAbilities(e)}processAbilities(e){for(let n=0;n<e.abilities.length;n++){let r=e.abilities[n];if(r instanceof tn){let i=r;for(let s=0;s<i.effects.length;s++){let o=i.effects[s],a=o.targeting.getTarget();if(console.log(a),o.targeting.random&&i.allowedPlayer===p.Opponent)o.doEffectSingle(a[0]);else{for(let l=0;l<a.length;l++)a[l].targetableCard=!0;this.effectStack.push(o)}}}else if(r instanceof yt){let i=r;if(e instanceof fp&&i.canAffordCosts(e)&&i.needsTarget)for(let s=0;s<i.effects.length;s++){let o=i.effects[s];if(o.targeting.random){let a=o.targeting.getRandomTargetSingle();o.doEffectSingle(a)}else{let a=o.targeting.getTarget();for(let l=0;l<a.length;l++)a[l].targetableCard=!0;this.effectStack.push(o)}}}else r instanceof rt?this.cardService.intialApplyStaticAbilities(r):r instanceof Me?this.cardService.triggeredEffects.push(r):(r instanceof Ge||r instanceof gp)&&r.doEffects()}}applyExistingAbilities(e){for(let n=0;this.cardService.staticEffects.length>n;n++)this.cardService.staticEffects[n].doEffects()}killCardByIndex(e){this.cardService.setCardZone(e,y.discard)}killCardBySearch(e){let n=this.cardService.getCardIndex(e);this.cardService.setCardZone(n,y.discard)}getMines(){return this.cardService.getCards(y.play,p.Self,x.Mine)}earnIncome(){this.gembag.addBag(this.incomeBag)}drawCards(e){let n=[],r=this.cardService.getCards(y.deck,p.Self,x.Any);if(r.length>=e)for(let i=0;i<e;i++){let s=r[i];console.log(e),s.zone=y.hand,this.cardService.checkTriggers(z.DrawCard),n.push(s)}return n}canAttack(){let e;e=this.cardService.getCreatures(this.isAi?p.Opponent:p.Self);let n=e.length>0;if(console.log(n),console.log(e),this.isAi)return n;for(let r=0;r<e.length;r++){let i=e[r];if(i.awake&&!i.firstTurn)return!0}return!1}getAttackers(){let e=this.cardService.getCreatures(p.Self).filter(n=>n.attacking);for(let n=0;n<e.length;n++){let r=e[n];r.attacking&&(r.awake=!1)}return e}attack(){this.cardService.checkTriggers(z.Attack),this.attacking=!0}defend(){this.defending=!0}clearCombat(){this.defending=!1,this.attacking=!1;let e=this.cardService.getCreatures(p.Any),n=this.cardService.hero;n.blocking=!1,n.blocked=!1,n.attacking=!1;for(let r=0;r<e.length;r++){let i=e[r];i.attacking=!1,i.blocked=!1,i.blocking=!1}this.checkDead()}doneDefending(){this.defending=!1}doneAttacking(){this.attacking=!1}dealDamage(e){let n=this.getAttackersUnblocked();for(let s=0;s<n.length;s++){let o=n[s],a=o.keywords.includes(E.Flying),l=o.keywords.includes(E.Siege);e.takeDamage(o.attack,l,a)}}takeDamage(e,n,r){r?this.hp-=e:this.wall.isAlive()?(n&&(e*=2),this.wall.hp-=e,this.clearWallBound()):this.hp-=e}clearWallBound(){if(this.wall.hp<=0){let e=this.getCreatures().filter(i=>i.keywords.includes(E.WallBound));for(let i=0;i<e.length;i++)e[i].zone=y.discard;let r=this.cardService.getCards(y.play,p.Self,x.Building).filter(i=>i.keywords.includes(E.WallBound));for(let i=0;i<r.length;i++)r[i].zone=y.discard}}getAttackersUnblocked(){let e=[],n=this.cardService.getCreatures(p.Self),r=[];for(let i=0;i<n.length;i++)r.push(n[i]);for(let i=0;i<r.length;i++){let s=r[i];s.attacking&&!s.blocked&&e.push(s)}return e}resetMines(){this.minesPlayed=0}checkDead(){let e=this.getCreatures().filter(n=>!n.isAlive());for(let n=0;n<e.length;n++){let r=e[n];if(r instanceof en){let i=r;this.cardService.checkTriggers(z.Dies),i.handleDeath()}else r.isAlive()||(r.zone=y.discard,this.cardService.checkTriggers(z.Dies),r.handleDeath());r.resetStats()}}isAlive(){return this.cardService.getCards(y.deck,p.Self,x.Any).length>0&&this.hp>0}getCreatures(){return this.cardService.getCards(y.play,this.controller,x.Creature)}getHand(){return this.cardService.getCards(y.hand,p.Self,x.Any)}awakeAll(){let e=this.getCreatures();for(let n=0;n<e.length;n++)e[n].turned=!1,e[n].awake=!0,e[n].firstTurn=!1}getBlockers(){return this.hasBlockers()?this.getCreatures().filter(n=>n.awake):[]}hasBlockers(){let e=this.getCreatures();return 0!==e.length&&e.filter(r=>r.awake).length>0}hasMedic(){let e=this.getCreatures();for(let n=0;n<e.length;n++)if(e[n].keywords.includes(E.Medic))return!0;return!1}}class Jr extends ft{constructor(e){super(e),this.currentSpell=null,this.currentTargets=[],this.isAi=!0,this.name="Horde",this.controller=p.Opponent,this.wall=new pp(10),this.pullsPerTurn=1,this.pullsThisTurn=0}drawCardsFromEffect(e){let n=this.cardService.getCards(y.deck,p.Opponent,x.Any);for(let r=0;r<e;r++){let i=n.pop();i instanceof L?(i.firstTurn=!1,this.playCreature(i),this.processAbilities(i)):i instanceof Ze&&(this.currentSpell=i,this.stopPhases=!0)}}playCards(){let e=this.cardService.getCards(y.deck,p.Opponent,x.Any);if(e.length>0&&this.pullsThisTurn<this.pullsPerTurn){let n=e[0];if(n.type===x.Creature){let r=n;if(this.playCreature(r),r.isMinion)this.playCards();else{if(this.pullsThisTurn++,this.pullsPerTurn===this.pullsThisTurn)return void(this.pullsThisTurn=0);this.pullsThisTurn<this.pullsPerTurn&&this.playCards()}}else n.type===x.Spell&&(this.currentSpell=n,this.stopPhases=!0)}else this.pullsThisTurn=0}playCreature(e){let n=this.cardService.getCardIndex(e);this.cardService.setCardZone(n,y.play),this.processAbilities(e)}runCurrentSpell(e){console.log(this.currentSpell),this.currentSpell&&this.playCard(this.currentSpell,e),this.cardService.setCardZoneByCard(this.currentSpell,y.discard),this.currentSpell=null,this.stopPhases=!1}millCard(e){let n=this.cardService.getCards(y.deck,p.Opponent,x.Any);e>n.length&&(e=n.length);for(let r=0;r<e;r++)n[r].zone=y.discard}attack(){let e=this.cardService.getCreatures(p.Opponent);this.attacking=!0;for(let n=0;n<e.length;n++)e[n].turned=!0,e[n].attacking=!0,e[n].awake=!1}getAttackers(){return this.cardService.getCreatures(p.Opponent)}clearWallBound(){if(this.wall.hp<=0){let e=this.getCreatures().filter(i=>i.keywords.includes(E.WallBound));for(let i=0;i<e.length;i++)e[i].zone=y.discard;let r=this.cardService.getCards(y.play,p.Self,x.Building).filter(i=>i.keywords.includes(E.WallBound));for(let i=0;i<r.length;i++)r[i].zone=y.discard}}getAttackersUnblocked(){let e=[],n=this.cardService.getCreatures(p.Opponent);for(let r=0;r<n.length;r++){let i=n[r];i.attacking&&!i.blocked&&e.push(i)}return e}takeDamage(e,n,r){r?this.millCard(e):this.wall.isAlive()?(n&&(e*=2),this.wall.hp-=e,this.clearWallBound()):this.millCard(e)}defend(){let e=this.cardService.getCreatures(p.Self).filter(i=>i.attacking),n=0;for(let i=0;i<e.length;i++)n+=e[i].attack;let r=this.cardService.getCards(y.deck,p.Opponent,x.Any);r.length>n&&(n=r.length);for(let i=0;i<n;i++)r.pop()}isAlive(){return 0===this.cardService.getCards(y.deck,p.Opponent,x.Any).length}}class OL{constructor(e,n){this.player=e,this.opponent=n}getPlayer(e){return e===p.Any?[this.player,this.opponent]:e===p.Opponent?[this.opponent]:[this.player]}}class xL{constructor(){this.cardList=[],this.staticEffects=[],this.triggeredEffects=[],this.playerService={},this.relicsManager=new Lc(this),this.currentPos=0,this.difficultyMods="",this.selectedFactions=[w.Any],this.nodePos=0,this.difficulty=0,this.hero=new en(1,1,1,"Hero Boy",new I,"","",p.Self,y.play,[w.Sun],!1,[],[],ge.Rare),this.shuffleDeck(this.cardList)}makePlayerService(e,n){this.playerService=new OL(e,n)}getCount(e,n,r,i){return void 0===r&&(r=x.Any),void 0===n&&(n=p.Any),void 0===i&&(i=w.Any),void 0===e&&(e=y.any),this.getCards(e,n,r,[i]).length}countMultiple(e,n,r,i){let s=0;void 0===r&&(r=[x.Any]),void 0===n&&(n=p.Any),void 0===i&&(i=[w.Any]),void 0===e&&(e=[y.any]);for(const o of e)for(const a of i)for(const l of r)s+=this.getCount(o,n,l,a);return s}getCardsWithStatics(){return this.getCards().filter(n=>n.hasStaticAbility())}checkTriggers(e,n){if(void 0===n&&(n=p.Any),e===z.Start){let o=this.getTechs();n!==p.Any&&(o=o.filter(a=>a.owner===n));for(let a=0;a<o.length;a++)o[a].incrementResearch()}let r=this.getCards(y.any,n,x.Any,[w.Any]);for(let o=0;o<r.length;o++){let a=r[o];for(let l=0;l<a.abilities.length;l++){let c=a.abilities[l];c instanceof Me&&c.triggerZones.includes(a.zone)&&c.checkTriggers(e,n)}}let s=this.playerService.getPlayer(p.Self)[0].relics;for(let o=0;o<s.length;o++){let a=s[o];for(let l=0;l<r.length;l++){let c=a.abilities[l];c instanceof Me&&c.checkTriggers(e,n)}}e===z.Enters&&this.getCardsWithStatics()}intialApplyStaticAbilities(e){e.doEffects(),this.staticEffects.push(e)}staticDestroy(e){if(this.staticEffects.includes(e)){e.undoAll();let n=this.staticEffects.indexOf(e);this.staticEffects.splice(n,1)}}shuffleDeck(e){let r,n=e.length;for(;n>0;)r=Math.floor(Math.random()*n),n--,[e[n],e[r]]=[e[r],e[n]];return e}checkZoneTriggers(e,n){e===y.exile&&this.checkTriggers(z.Exiled),n===y.play&&e===y.discard&&this.checkTriggers(z.Dies),n===y.hand&&(e===y.play?this.checkTriggers(z.Enters):e===y.discard&&this.checkTriggers(z.Discarded)),n===y.deck&&e===y.discard&&this.checkTriggers(z.Mill)}setCardZoneByCard(e,n){this.checkZoneTriggers(n,e.zone);for(let r=0;r<this.staticEffects.length;r++){let i=this.staticEffects[r];e.abilities.includes(i)&&i.undoAll()}e.zone=n,e instanceof L&&(e.awake=!0)}setCardZone(e,n){let r=this.cardList[e];this.checkZoneTriggers(n,r.zone);for(let s=0;s<this.staticEffects.length;s++);this.cardList[e].zone=n,r instanceof L&&(r.awake=!0)}setCardZoneObj(e,n){let r=this.getCardIndex(e);r>=0&&r<this.cardList.length&&(this.cardList[r].zone=n)}setCardOwner(e,n){this.cardList[n].owner=e}getCardIndex(e){return this.cardList.findIndex(r=>r===e)}getCard(e){return this.cardList[e]}getCreatures(e){let n=this.getCards(y.play,e,x.Creature);return(this.hero.owner===e||this.hero.owner===p.Any&&this.hero.zone===y.play)&&n.push(this.hero),n}getBuildings(e){return this.getCards(y.play,e,x.Building)}getTechs(e){return void 0===e&&(e=p.Any),this.getCards(y.play,e,x.Tech)}filterByKeyword(e,n){return void 0===n&&(n=p.Any),this.getCreatures(n).filter(i=>i.keywords.includes(e))}getCardsWithTriggers(e,n,r,i){return void 0===r&&(r=x.Any),void 0===n&&(n=p.Any),void 0===i&&(i=w.Any),void 0===e&&(e=y.any),this.getCards(e,n,r,[i]).filter(a=>a.abilities.filter(l=>l instanceof Me))}getCards(e,n,r,i){let s=[];void 0===r&&(r=x.Any),void 0===n&&(n=p.Any),void 0===i&&(i=[w.Any]),void 0===e&&(e=y.any),this.hero.zone===y.play&&r===x.Creature&&n===this.hero.owner&&s.push(this.hero);for(let o=0;o<this.cardList.length;o++){let a=this.cardList[o],l=this.getMatchingFactions(a.factions,i);(a.owner===n||n==p.Any)&&(a.zone===e||e===y.any)&&(r===a.type||r===x.Any)&&(l.length>0||i.includes(w.Any))&&s.push(a)}return s}getMatchingFactions(e,n){let r=[];for(let i=0;i<e.length;i++)n.includes(e[i])&&r.push(e[i]);return r}getDeck(e){return this.cardList.filter(n=>n.owner==e&&n.zone==y.deck)}clearList(e){this.cardList=this.cardList.filter(n=>n.owner!==e)}resetCreatures(){this.staticEffects=[];for(let e=this.cardList.length-1;e>=0;e--){let n=this.cardList[e];if(n instanceof L)if(n.zone===y.play&&(n.zone=y.deck),n.isMinion){this.cardList.splice(e,1);for(let r=0;r<n.abilities.length;r++){let i=n.abilities[r];i instanceof rt&&i.undoAll()}}else n.resetStats(),this.cardList[e]=n}}reset(){this.clearList(p.Opponent),this.playerService.player.wall.hp=20,this.playerService.opponent.wall.hp=10,this.playerService.player.gembag.resetStarting(this.playerService.player.startingGold),this.playerService.player.incomeBag.resetIncome();for(let e=0;e<this.staticEffects.length;e++)this.staticEffects[e].undoAll();for(let e=0;e<this.cardList.length;e++)if(this.cardList[e].zone=y.deck,this.playerService.player.applyExistingAbilities(this.cardList[e]),this.cardList[e]instanceof L){let n=this.cardList[e];n.resetStats(),n.isMinion&&this.cardList.splice(e,1),n.firstTurn=!0,n.resetStats()}}drawInitialHand(){this.playerService.player.drawCards(6);let e=this.getCards(y.deck,p.Self,x.Mine);for(let n=0;n<e.length;n++){let r=e[n];if(r.factions.includes(w.Colorless)){r.zone=y.hand;break}}}getTargets(e){console.log(e);let n=e.allowedZones,r=e.controller,i=e.types,s=i.includes(x.Any),o=n.includes(y.any);s&&(i=Object.values(x)),o&&(n=Object.values(y));let a=[];for(let l=0;l<this.cardList.length;l++){let c=this.cardList[l],u=n.includes(c.zone),d=i.includes(c.type);u&&d&&(c.owner===r||r===p.Any)&&a.push(c)}return a}grabUnaffected(e,n){void 0===n&&(n=x.Any);let r=e.targeting.getTarget();console.log(e),n!==x.Any&&(r=r.filter(s=>s.type===n)),console.log(r);let i=r.filter(s=>!s.currentEffects.includes(e));return console.log(i),i}grabAffected(e,n){void 0===n&&(n=x.Any);let r=e.targeting.getTarget();return n!==x.Any&&(r=r.filter(s=>s.type===n)),r.filter(s=>s.currentEffects.includes(e))}}class FL{constructor(e){this.showTurnPlayer=!1,this.showTurnEnemy=!1,this.game=e}getPhaseText(){switch(this.game.currentPhase){case Q.main||Q.main2:return"You may play a mine and as many other cards as you can afford. If it is your first main phase, you gain income from your mines.";case Q.attackers:return"Pick what creatures you want to attack. For a hoard, all creature always attack.";case Q.blockers:return"Choose which creatures from the horde you want to block. The hoard will never block.";case Q.combatResults:return"See the results of each block in combat. Greyed out creatures are set to die";case Q.end:return"The end of the turn. Until end of turn effects wear off here.";case Q.start:return"The start of a battle.";default:return""}}resetPhase(){this.game.currentPhase=Q.main,this.game.phaseDisplay=Q[this.game.currentPhase],this.game.currentTurn=this.game.player}nextPhase(){this.game.currentTurn.isAi?this.handleAIPhases():this.handlePlayerPhases(),this.game.phaseDisplay=Q[this.game.currentPhase]}handlePlayerPhases(){if(0===this.game.player.effectStack.length)switch(this.game.currentPhase){case Q.start:this.game.cardService.checkTriggers(z.Start,p.Self),alert("Your Turn"),this.game.currentPhase=Q.main;break;case Q.main:this.handleMainPhase();break;case Q.attackers:this.game.combatManager.runBlocks(),this.game.combatManager.runUnblocked(),this.game.combatManager.clearCombat(),this.game.currentPhase=Q.main2;break;case Q.main2:this.endTurn(),alert("Enemy Turn")}}handleAIPhases(){switch(this.game.currentPhase){case Q.main:this.handleAIMainPhase();break;case Q.attackers:this.game.player.hasBlockers()?this.game.currentPhase=Q.blockers:(this.game.combatManager.runUnblocked(),this.game.combatManager.clearCombat(),this.game.currentPhase=Q.end,this.game.cardService.checkTriggers(z.EndTurn,p.Opponent));break;case Q.blockers:this.game.currentPhase=Q.combatResults,this.game.combatManager.runUnblocked(),this.game.combatManager.runBlocks();break;case Q.combatResults:this.game.combatManager.clearCombat(),this.game.currentPhase=Q.end,this.game.cardService.checkTriggers(z.EndTurn,p.Opponent);break;case Q.end:this.game.cardService.checkTriggers(z.Start,p.Self),this.game.cardService.checkTriggers(z.Awake,p.Opponent),this.endTurn(),alert("Your Turn")}}handleMainPhase(){this.endTurn(),alert("Enemy Turn")}handleAIMainPhase(){this.game.currentTurn.canAttack()?(this.game.currentPhase=Q.attackers,this.game.combatManager.runAttack()):this.game.currentPhase=Q.end}endTurn(){this.game.currentPhase=Q.main,this.game.cardService.checkTriggers(z.EndTurn,p.Self);let e=this.game.player.getCreatures();for(let n=0;n<e.length;n++){let r=e[n];r.keywords.includes(E.Regenerate)&&r.heal()}this.game.currentTurn===this.game.player&&[Q.main,Q.main2,Q.start,Q.end].includes(this.game.currentPhase),this.game.currentPhase=Q.main,this.game.phaseDisplay=Q[this.game.currentPhase],this.swapCurrent(),this.runUpkeep(),this.game.cardService.checkTriggers(z.Start,p.Opponent),this.game.cardService.checkTriggers(z.Awake,p.Opponent)}runUpkeep(){this.game.currentTurn.awakeAll();const e=this.game.getCurrentTurnController();this.game.currentTurn instanceof Jr?this.game.processKeywords(p.Opponent,this.game.currentTurn.wall):this.game.currentTurn instanceof ft&&(this.game.player.minesPlayed=0,this.game.player.earnIncome(),this.game.processKeywords(p.Self,this.game.player.wall)),this.game.runDraw(),this.game.cardService.checkTriggers(z.Awake,e)}swapCurrent(){this.game.currentTurn=this.game.currentTurn.controller===p.Opponent?this.game.player:this.game.enemy}passTurn(){this.game.currentTurn===this.game.player&&(this.game.currentPhase===Q.main||this.game.currentPhase===Q.main2||this.game.currentPhase===Q.start)&&this.game.currentTurn===this.game.player&&(this.swapCurrent(),this.runUpkeep(),this.game.currentPhase=Q.main,this.game.phaseDisplay=Q[this.game.currentPhase],alert("Enemy Turn"))}}class LL{constructor(e,n){this.attacker={},this.blocker={},this.attacker=e,this.blocker=n}fight(){let e=this.attacker.keywords.includes(E.Dodge)&&this.attacker.dodgeAmount>0,n=this.blocker.keywords.includes(E.Dodge)&&this.blocker.dodgeAmount>0,r=this.attacker.keywords.includes(E.Ensnare)&&this.attacker.ensnareAmount>0,i=this.blocker.keywords.includes(E.Ensnare)&&this.blocker.ensnareAmount>0;r&&(this.blocker.speed-=this.attacker.ensnareAmount),i&&(this.attacker.speed-=this.blocker.ensnareAmount),this.attacker.speed>this.blocker.speed?(n?this.blocker.dodgeAmount--:this.blocker.hp-=this.attacker.attack,this.blocker.hp>0&&(e?this.attacker.dodgeAmount--:this.attacker.hp-=this.blocker.attack)):this.attacker.speed<this.blocker.speed?(e?this.attacker.dodgeAmount--:this.attacker.hp-=this.blocker.attack,this.attacker.hp>0&&(n?this.blocker.dodgeAmount--:this.blocker.hp-=this.attacker.attack)):(e?this.attacker.dodgeAmount--:this.attacker.hp-=this.blocker.attack,n?this.blocker.dodgeAmount--:this.blocker.hp-=this.attacker.attack)}}class VL{constructor(e,n){this.fights=[],this.selectedAttacker=null,this.selectedBlocker=null,this.game=e,this.animationManager=n}inCombat(e){return e===Q.attackers||e===Q.blockers||e===Q.combatCleanup}runAttack(){const e=this.game.getCurrentTurnController();this.game.cardService.checkTriggers(z.Attack,e),this.game.currentTurn.isAi?(this.game.currentTurn.attack(),this.game.player.defend()):this.game.player.attack()}runBlocks(){let e=this.game.getCurrentTurnController()===p.Self?p.Opponent:p.Self;e=e===p.Opponent?p.Self:p.Opponent,this.runFights(),this.game.cardService.checkTriggers(z.Blockers,e)}runFights(){for(let e=0;e<this.fights.length;e++)this.fights[e].fight()}runUnblocked(){this.game.currentTurn.isAi?this.game.enemy.dealDamage(this.game.player):this.game.player.dealDamage(this.game.enemy)}clearCombat(){this.game.player.clearCombat(),this.game.enemy.clearCombat(),this.clearFights()}isFighting(e){return this.fights.some(n=>n.attacker===e||n.blocker===e)}cancelFight(e){const n=this.fights.indexOf(e);n>=0&&this.fights.splice(n,1),this.selectedAttacker&&this.selectedBlocker&&(this.selectedAttacker.blocked=!1,this.selectedBlocker.blocking=!1)}setAttacker(e){this.selectedAttacker=e,this.checkFight()}setBlocker(e){this.selectedBlocker=e,this.checkFight()}unsetBlocker(e){if(this.isFighting(e)){let n=this.getFightByCreature(e);n.attacker.blocked=!1,n.blocker.blocking=!1;let r=this.fights.indexOf(n);this.fights.splice(r,1)}this.selectedBlocker=null,this.selectedAttacker=null}checkFight(){this.selectedAttacker&&this.selectedBlocker&&(this.selectedAttacker.blocked=!0,this.selectedBlocker.blocking=!0,this.createFight(this.selectedAttacker,this.selectedBlocker),this.selectedAttacker=null,this.selectedBlocker=null)}createFight(e,n){let r=new LL(e,n);this.fights.push(r),this.selectedAttacker=null,this.selectedBlocker=null}clearFights(){this.game.player.checkDead(),this.game.enemy.checkDead(),this.fights=[]}getFightByCreature(e){return this.fights.filter(r=>r.attacker===e||r.blocker===e)[0]}}class BL{constructor(e){this.cardService=e}drawCardPlayer(e,n,r){}drawCardEnemy(e,n,r){}playSpell(e,n,r){}playCreature(e,n,r){}playMine(e,n,r){}playBuilding(e,n,r){}discardFromHand(e,n,r){}discardFromPlay(e,n,r){}block(e,n,r){}}class mp{constructor(e,n,r){this.currentTurn={},this.fights=[],this.currentPhase=Q.start,this.phaseDisplay=Q[this.currentPhase],this.selectedBlocker=null,this.selectedAttacker=null,this.selectPlayer=null,this.possibleCardTargets=[],this.spellStack=[],this.phaseManager=new FL(this),this.cardService=r,this.enemy=n,this.player=e,this.currentTurn=this.player,this.cardService.makePlayerService(this.player,this.enemy),this.animationManager=new BL(this.cardService),this.combatManager=new VL(this,this.animationManager)}pickFirst(){this.currentTurn=2*Math.random()==0?this.player:this.enemy}getCurrentTurnController(){let e=p.Any;return this.currentTurn===this.player?e=p.Self:this.currentTurn===this.enemy&&(e=p.Opponent),e}runUpkeep(){this.currentTurn.awakeAll();let e=this.getCurrentTurnController();this.runDraw(),this.cardService.checkTriggers(z.Start,e),this.cardService.checkTriggers(z.Awake,e),this.currentTurn instanceof Jr?this.processKeywords(p.Opponent,this.currentTurn.wall):this.currentTurn instanceof ft&&(this.player.minesPlayed=0,this.player.earnIncome(),this.processKeywords(p.Self,this.player.wall))}processKeywords(e,n){let r=this.cardService.getCreatures(e);for(let i=0;i<r.length;i++){let s=r[i];if(s.keywords.includes(E.Momentum)&&s.speed++,s.keywords.includes(E.Sharpen)&&s.attack++,s.keywords.includes(E.Armorer)&&s.hp++,s.keywords.includes(E.Repair)&&(n.hp+=s.repairAmount,this.cardService.checkTriggers(z.WallRepair)),s.keywords.includes(E.Medic)){let o=this.currentTurn.getCreatures();for(let a=0;a<o.length;a++)o[a].heal()}}}runDraw(){let e=this.getCurrentTurnController();if(this.cardService.checkTriggers(z.DrawStep,e),this.cardService.checkTriggers(z.DrawCard,e),this.currentTurn.isAi)this.currentTurn.playCards();else{let r=this.currentTurn.drawCards(1);for(let i=0;i<r.length;i++){let s=r[i];s.isFlipping=!0,s.isMoving=!0,setTimeout(()=>{s.isFlipping=!1,s.isMoving=!1},1e3)}}}mainPhase(){let e=this.getCurrentTurnController();this.cardService.checkTriggers(z.Main1,e)}runAttack(){let e=this.getCurrentTurnController();this.cardService.checkTriggers(z.Attack,e),this.currentTurn.isAi?(this.currentTurn.attack(),this.player.defend()):this.player.attack()}}class Yb{}class jL{}const Nr="*";function ki(t,e){return{type:7,name:t,definitions:e,options:{}}}function Rr(t,e=null){return{type:4,styles:e,timings:t}}function Xb(t,e=null){return{type:2,steps:t,options:e}}function Mt(t){return{type:6,styles:t,offset:null}}function Vc(t,e,n){return{type:0,name:t,styles:e,options:n}}function Bc(t){return{type:5,steps:t}}function Or(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}class ya{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class Jb{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class gn{constructor(){this.animationSubject=new _n,this.animation$=this.animationSubject.asObservable()}static#e=this.drawCard=ki("drawCard",[Or(":enter",[Rr("1s ease-in-out",Bc([Mt({transform:"translateY(0)",opacity:0,offset:0}),Mt({transform:"translateY(-50px)",opacity:.5,offset:.5}),Mt({transform:"translateY(0)",opacity:1,offset:1})]))])]);static#t=this.moveCard=ki("moveCard",[Or(":enter",[Rr("1s ease-in-out",Bc([Mt({transform:"translateX(0)",opacity:0,offset:0}),Mt({transform:"translateX(-250px)",opacity:.5,offset:.5}),Mt({transform:"translateX(-500px)",opacity:1,offset:1})]))])]);static#n=this.rapidMoveRight=ki("rapidMoveRight",[Or(":enter",[Rr("1s ease-in-out",Bc([Mt({transform:"translateX(-50%)",opacity:.4,offset:0}),Mt({transform:"translateX(-25%)",opacity:.8,offset:.5}),Mt({transform:"translateX(0%)",opacity:1,offset:1})]))])]);static#r=this.zoomIn=ki("zoomIn",[Or(":enter",[Rr("10s ease-in-out",Bc([Mt({transform:"scale(0.1)",opacity:.5,offset:0}),Mt({transform:"scale(1)",opacity:1,offset:1})]))])]);triggerAnimation(e){this.animationSubject.next(e)}static#i=this.\u0275fac=function(n){return new(n||gn)};static#s=this.\u0275prov=Z({token:gn,factory:gn.\u0275fac,providedIn:"root"})}class $s{constructor(e,n){this.cardAmount=4,this.colorCardAmount=2,this.mineAmount=4,this.goldMineAmount=3,this.cardService=e,this.cardFactory=new Ti(e),this.playerService=n}addMinesToStarterDeck(e,n){this.cardFactory.getMinesBulk(n,5),this.cardFactory.getMinesBulk(A.Gold,4)}getAllMultiColorCards(e){let n=[],r=new L(5,4,3,"Veteran Dwarf",new I(1,1,1),"","",!1,e,y.deck,[w.Earth,w.Sun],[],[E.Armorer]);return n.push(r),n}getAllFireCards(e){let n=this.fireDeck(e).filter(Gt=>Gt.type!==x.Mine),i=(this.getPlayer(e),new L(5,5,2,"Troll Warrior",new I(0,3),"","",!1,e,y.deck,[w.Sun],[],[E.Regenerate])),s=new lr(A.Ruby,2,this.cardService),o=new Me([s],[z.Dies],this.cardService,e),a=new L(1,3,3,"Fire Gem Miner",new I(1,1),"","When this dies, add 2 Rubies to your gembag",!1,e,y.deck,[w.Sun],[o]),l=new L(5,10,7,"T-Rex",new I(5,2),"","",!1,e,y.deck,[w.Sun],[],[E.Siege]),c=new L(3,4,4,"Sun Knight",new I(2,1),"assets//fireKnight.png","",!1,e,y.deck,[w.Sun],[],[E.Sentry,E.Sharpen]),u=new Hs(7,this.cardService,j.All,e,!1,!1,!0),d=new Ge([u],this.cardService),h=new Ze("Wild Inferno",new I(5,2),"","Deal 7 damage to all enemy creatures",[d],!0,e,y.deck,[w.Sun]),f=new zn("Big Ruby Mine",new I(3),new I(0,2),"","",e,y.deck,[w.Colorless],[],ge.Uncommon),g=new Hs(2,this.cardService,j.All,e,!1,!0,!1),_=new Ge([g],this.cardService),M=new Ze("Fire Storm",new I(3,1),"","Deal 2 damage to all enemy creatures",[_],!0,e,y.deck,[w.Sun]);n.push(i,a,l,c,h,f,M);let T=new Re(0,1,0,this.cardService,p.Self,j.Single),b=new Me([T],[z.CreatureCast],this.cardService,p.Self,[y.play]),F=new L(1,1,5,"Arsonist",new I(0,1),"","When you play a creature, that creature gets +1/+0/+0",!1,e,y.deck,[w.Sun],[b]);n.push(F);let B=new qb(this.cardService,2,p.Opponent),q=new yt(this.cardService,[new Et(Ie.Gems,1,A.Ruby)],[B],{}),ce=new L(2,2,3,"Fire Mage",new I(1,1),"","Pay 1 Ruby: Deal 2 damage to the enemy player",!1,e,y.deck,[w.Sun],[q]);q.user=ce,n.push(ce);let pe=new Re(0,0,2,this.cardService,p.Self,j.Single);pe.repeatable=!0;let He=new yt(this.cardService,[new Et(Ie.Gems,2,A.Ruby)],[pe],{}),Qe=new L(6,6,6,"Ruby Dragon",new I(3,2),"","Pay 2 Rubies: This creature gets +2 attack",!1,e,y.deck,[w.Sun],[],[E.Flying]);He.user=Qe,Qe.abilities.push(He);let at=new Hs(1,this.cardService,j.Single,p.Any,!1,!0,!0),vn=new yt(this.cardService,[new Et(Ie.Asleep,0)],[at],{},!0),nn=new L(1,1,1,"Fire Imp",new I(0,1),"","Turn: Deal 1 damage to any creature",!1,e,y.deck,[w.Sun],[vn]);return n.push(nn),n.push(Qe),n}getAllEarthCards(e){this.getPlayer(e);let r=new Re(0,5,3,this.cardService,e,j.All),i=new Ge([r],this.cardService),s=new Ze("Dig In",new I(2,0,0,2),"","All your creatures gain +3/+5/+0",[i],!1,e,y.deck,[w.Earth]),o=this.earthDeck(e).filter(U=>U.type!==x.Mine),a=new L(15,15,2,"Stone Tyrant",new I(5,0,0,3),"","",!1,e,y.deck,[w.Earth],[],[E.Repair],!1,ge.Rare);a.repairAmount=5;let l=new Wb(this.cardService,A.Emerald),c=new Pn(this.cardService,j.Single,e),u=new Me([c,l],[z.Start],this.cardService,p.Self,[y.play]),d=new L(3,3,3,"Miner Major",new I(3,0,0,2),"","At the start of each turn, add a mine and draw a card",!1,e,y.deck,[w.Earth],[u],[],!1,ge.SuperRare),h=new L(20,0,0,"Sturdy Barricade",new I(2,0,0,2),"","",!1,p.Self,y.deck,[w.Earth]),f=new L(8,4,2,"Flex Tank",new I(0,0,0,4),"","",!1,p.Self,y.deck,[w.Earth],[],[E.Siege,E.Armorer,E.Engineer]);f.repairAmount=4;let g=new L(6,6,5,"Hammer Squad",new I(3,0,0,1),"","",!1,p.Self,y.deck,[w.Earth],[],[E.Siege]),_=new Re(0,2,0,this.cardService,p.Self,j.All),M=new rt([_],this.cardService),T=new L(9,6,4,"Master Armorer",new I(5,0,0,2),"","All your creatures get +0/+2/+0",!1,p.Self,y.deck,[w.Earth],[M]),b=new L(3,3,3,"Dwarf Soldier",new I(1,0,0,1),"","",!1,p.Self,y.deck,[w.Earth]),F=new zn("Big Emerald Mine",new I(2),new I(0,0,0,2),"","",e,y.deck,[w.Colorless],[],ge.Uncommon),B=new Re(1,1,1,this.cardService,e,j.Single),q=new Me([B],[z.Enters],this.cardService,e,[y.play]),ce=new L(3,1,1,"Mine Chief",new I(2,0,0,1),"","Gets +1/+1/+1 when you play a mine",!1,e,y.hand,[w.Earth],[q],[],!1,ge.Rare),pe=new lr(A.Emerald,1,this.cardService),He=new yt(this.cardService,[new Et(Ie.Asleep,1)],[pe],{}),Qe=new L(3,1,1,"Emerald Miner",new I(0,0,0,1),"","Turn: Add an Emerald to your gembag",!1,e,y.deck,[w.Earth],[He]);He.user=Qe;let at=new Re(0,0,2,this.cardService,e,j.Single),vn=new yt(this.cardService,[new Et(Ie.Gems,1,A.Emerald)],[at],{},!0),nn=new L(2,2,2,"Dwarf Shield",new I(1,0,0,1),"","",!1,e,y.deck,[w.Earth],[vn],[E.Armorer,E.Repair]);vn.user=nn;let Gt=new Re(3,3,-3,this.cardService,e,j.Single),li=new tn([x.Creature],e,[y.play],1,[Gt],this.cardService),ci=new Ze("Stone Form",new I(0,0,0,1),"","Target creature gets +3/+3/-3",[li],!0,e,y.deck,[w.Earth]);return o.push(ci),o.push(d,a,h,f,g,T,b,F,ce,s,Qe,nn),o}getAllAirCards(e){let n=[],i=(this.getPlayer(e),new Ii(this.cardService,j.All,[y.play],e,[E.Flying,E.Sentry])),s=new Re(2,0,2,this.cardService,e,j.All),o=new Ge([i,s],this.cardService),a=new Ze("Divine Wind",new I(3,0,0,0,0,2),"","All your creatures gain flying, sentry, and +2/+0/+2",[o],!1,e,y.deck,[w.Sky]),l=new L(3,5,5,"Air Elemental",new I(3,0,0,0,0,1),"","",!1,e,y.deck,[w.Sky],[],[E.Flying]),c=new L(1,1,1,"Bee Swarm",new I(0,0,0,0,0,3),"","At the start of each of your turns, this gains +1/+1/+1",!1,e,y.deck,[w.Sky],[],[E.Armorer,E.Momentum,E.Sharpen,E.Flying,E.Sentry]),u=new L(2,2,2,"Chaotic Clone",new I(4,0,0,0,0,1),"","At the start of each of your turns, make a 1/1/1 copy of this creature",!1,e,y.deck,[w.Sky]),d=new hp(e,this.cardService,u),h=new Me([d],[z.Start],this.cardService,e,[y.play]),f=new L(2,2,2,"Chaotic Clone",new I(4,0,0,0,0,1),"","At the start of each of your turns, make a 1/1/1 copy of this creature",!1,e,y.deck,[w.Sky],[h]);u.abilities.push(h);let g=new zn("Big Topaz Mine",new I(3),new I(0,0,0,0,0,2),"","",e,y.deck,[w.Colorless],[],ge.Uncommon),_=new Pn(this.cardService,j.Single,e,1),M=new Re(0,1,1,this.cardService,p.Any,j.Single),T=new Me([M],[z.DrawCard],this.cardService,e,[y.play]),b=new yt(this.cardService,[new Et(Ie.Asleep,1)],[_],{}),F=new L(2,2,2,"Air Scout",new I(2,0,0,0,0,1),"","Turn: Draw a card. Whenever you draw a card this creature gets +1/+0/+1",!1,e,y.deck,[w.Sky],[T,b],[E.Flying],!1,ge.Rare);b.user=F;let B=new Re(2,0,2,this.cardService,e,j.Single),q=new Ii(this.cardService,j.Single,[y.play],e,[E.Flying]),ce=new tn([x.Creature],e,[y.play],1,[B,q],this.cardService),pe=new Ze("Gust",new I(0,0,0,0,0,1),"","Target creature gets +2/+0/+2 and gains Flying",[ce],!0,e,y.deck,[w.Sky]);return n.push(pe),n.push(...this.airDeck(e),c,f,g,a,l,F),n}getAllWaterCards(e){let n=[];n.push(...this.waterDeck(e));let r=new L(3,1,1,"Sea Snail",new I(0,0,1),"","",!1,e,y.deck,[w.Neptune],[],[E.Ensnare]);r.ensnareAmount=2;let i=new Pn(this.cardService,j.Single,p.Self,1),s=new Me([i],[z.MineCase],this.cardService,e,[y.play]),o=new L(3,2,3,"Otter Diver",new I(3,0,1),"","Whenever you play a mine, draw a card",!1,e,y.deck,[w.Neptune],[s]),a=new zn("Big Sapphire Mine",new I(3),new I(0,0,0,0,0,2),"","",e,y.deck,[w.Colorless],[],ge.Uncommon),l=new Re(0,0,-5,this.cardService,p.Any,j.All),c=new Ge([l],this.cardService),u=new Ze("Mass Freeze",new I(3,0,1),"","All enemy creatures gets -5/-0/-0",[c],!0,e,y.deck,[w.Neptune]),d=new Re(1,1,1,this.cardService,e,j.Single),h=new Me([d],[z.DrawCard],this.cardService,e,[y.play]),f=new L(2,2,2,"Flooding Fish",new I(1,0,1),"","Whenever you draw a card, this creature gets +1/+1/+1",!1,e,y.deck,[w.Neptune],[h]);return n.push(f),n.push(r,o,a,u),n}getAllStarCards(e){let r,n=[];r=e===p.Self?p.Opponent:p.Self;let i=new ga(this.cardService,1,e),s=new Me([i],[z.CreatureCast,z.Start],this.cardService,e,[y.play]),o=new L(1,1,1,"Life Magician",new I(0,0,0,0,1),"","At the start of your turn, gain 1 life. Whenever you play a creature, gain 1 life",!1,e,y.deck,[w.MoonAndStars],[s]),a=new ga(this.cardService,3,e),l=new Pn(this.cardService,j.Single,e,3),c=new Ge([a,l],this.cardService),u=new Ze("Divine Eyes",new I(3,0,0,0,1),"","Draw 3 cards, gain 3 life",[c],!1,e,y.deck,[w.MoonAndStars]),d=new Re(1,1,1,this.cardService,p.Any,j.Single),h=new Me([d],[z.Dies],this.cardService,p.Any,[y.play]),f=new L(2,2,2,"Walker of Voids",new I(1,0,0,0,2),"","Whenever a creature dies, this creature gets +1/+1/+1 permanently",!1,e,y.deck,[w.MoonAndStars],[h]),g=new kL(this.cardService,e,j.Single,y.hand),_=new Me([g],[z.Dies],this.cardService,e,[y.discard]),M=new L(6,8,5,"Dead Deity",new I(3,0,0,0,3),"","If this is in your discard pile, return it to your hand whenever a creature dies",!1,e,y.hand,[w.MoonAndStars],[_],[E.Sentry]),T=new lr(A.Gold,1,this.cardService),b=new Me([T],[z.Dies],this.cardService,p.Any,[y.play]),F=new Qb("House of the Dead",new I(2,0,0,0,2),"","Whenever a creature dies gain 1 gold",e,y.hand,[w.Colorless],[b]),B=new zn("Big LionsEye Mine",new I(3),new I(0,0,0,0,2,0),"","",e,y.deck,[w.Colorless],[],ge.Uncommon);return n.push(...this.starDeck(e),o,u,f,M,F,B),n}fireDeck(e){let n=[],i=(this.getPlayer(e),0);for(;i<this.colorCardAmount;){let s=new L(5,5,4,"Great Dragon",new I(3,2,0,0,0,0),"","",!1,p.Opponent,y.deck,[w.Sun],[],[E.Sharpen,E.Flying]),o=new qb(this.cardService,3,p.Opponent),a=new Ge([o],this.cardService),l=new L(1,3,3,"Blast Boy",new I(1,1),"","When played, deal 3 damage to the enemy player",!1,p.Self,y.deck,[w.Sun],[a]),c=new Hs(3,this.cardService,j.Single,p.Opponent,!1,!0,!0),u=new tn([x.Creature],p.Any,[y.play],1,[c],this.cardService),d=new Ze("Fire Bolt",new I(0,1),"assets//fireBolt.png","3 damage to target creature",[u],!0,e,y.hand,[w.Sun]),h=new L(3,4,5,"Fire Raptor",new I(2,1),"","",!0,p.Self,y.deck,[w.Sun]),f=new Re(3,0,3,this.cardService,p.Self,j.Single),g=new PL(this.cardService,p.Self,j.Single),_=new NL([f,g],this.cardService,g.targeting),M=new tn([x.Creature],p.Self,[y.play],1,[_],this.cardService),T=new Ze("Haste",new I(0,2),"","Target creature gets +3/+0/+3 and may attack the turn it came into play",[M],!0,e,y.deck,[w.Sun]),b=new Re(0,0,1,this.cardService,p.Self,j.Single),F=new yt(this.cardService,[new Et(Ie.Gems,1,A.Ruby)],[b],{},!0),B=new L(3,6,6,"Fire Elemental",new I(5,1),"","Pay one Ruby: gain +1/+0/+0",!1,p.Self,y.deck,[w.Sun],[F],[E.Momentum,E.Sharpen]),q=new lr(A.Ruby,1,this.cardService),ce=new Me([q],[z.Start],this.cardService,p.Self,[y.play]),pe=new L(1,1,1,"Fire Scavenger",new I(0,1),"","Gain 1 ruby per turn",!1,e,y.deck,[w.Sun],[ce]);n.push(s,d,h,T,B,pe,l),i++}return n.push(...this.cardFactory.getMinesBulk(A.Ruby,this.mineAmount)),n.push(...this.cardFactory.getMinesBulk(A.Gold,this.goldMineAmount)),n}earthDeck(e){let n=0,r=[];for(;n<this.colorCardAmount;){let i=new Re(-3,-3,0,this.cardService,p.Any,j.Single),s=new tn([x.Creature],p.Any,[y.play],1,[i],this.cardService),o=new Ze("Slow",new I(1,0,0,1),"","Target creature gets -0/-3/-3",[s],!0,e,y.deck,[w.Earth]),a=new lr(A.Emerald,2,this.cardService),l=new Ge([a],this.cardService),c=new L(3,4,3,"Verdant Warrior",new I(2,0,0,1),"","Adds 2 Emeralds on enter",!1,e,y.deck,[w.Earth],[l]),u=new L(2,2,1,"Dwarf Engineer",new I(0,0,0,1),"assets//engineer.png","",!1,e,y.deck,[w.Earth],[],[E.Repair]);u.repairAmount=3;let d=new L(6,6,3,"Battle Dwarf",new I(2,0,0,2,0,0),"assets//dwarf.png","",!1,e,y.deck,[w.Earth],[]),h=new L(7,8,4,"Stone Golem",new I(3,0,0,3),"","",!1,e,y.deck,[w.Earth],[],[E.Regenerate,E.Siege]),f=new RL(this.cardService,1),g=new Ge([f],this.cardService),_=new L(4,2,2,"Prospector",new I(2,0,0,1),"","You may play one additional mine per turn",!1,e,y.deck,[w.Earth],[g]);r.push(o,c,u,d,h,_),n++}return r.push(...this.cardFactory.getMinesBulk(A.Emerald,this.mineAmount)),r.push(...this.cardFactory.getMinesBulk(A.Gold,this.goldMineAmount)),r}airDeck(e){let n=0,r=[];for(;n<this.colorCardAmount;){let i=new Pn(this.cardService,j.Single,e,1),s=new Ge([i],this.cardService),o=new L(1,2,2,"Loyal Hawk",new I(1,0,0,0,0,1),"","On Enter, Draw a card",!1,e,y.deck,[w.Sky],[s],[E.Flying]),a=new L(2,2,1,"Agile Monk",new I(0,0,0,0,0,1),"","",!1,e,y.deck,[w.Sky],[],[]);a.dodgeAmount=1;let l=new Pn(this.cardService,j.Single,e,2),c=new Ge([l],this.cardService),u=new Ze("Scout",new I(0,0,0,0,0,2),"","Draw 2 cards",[c],!1,e,y.deck,[w.Sky]),d=new L(5,5,4,"Great Bird Monk",new I(2,0,0,0,0,2),"","",!1,e,y.deck,[w.Sky],[],[E.Flying]),h=new L(2,3,3,"Sky Knight",new I(1,0,0,0,0,1),"","",!1,e,y.deck,[w.Sky],[],[E.Flying]),f=new L(2,4,4,"Wind Dancer",new I(2,0,0,0,0,1),"","",!1,e,y.deck,[w.Sky],[],[E.Momentum]);r.push(o,a,u,d,h,f),n++}return r.push(...this.cardFactory.getMinesBulk(A.Topaz,this.mineAmount)),r.push(...this.cardFactory.getMinesBulk(A.Gold,this.goldMineAmount)),r}waterDeck(e){let n=0,r=[];for(this.getPlayer(e);n<this.colorCardAmount;){let s=new Re(-3,0,-3,this.cardService,p.Any,j.Single),o=new tn([x.Creature],p.Any,[y.play],1,[s],this.cardService),a=new Ze("Freeze",new I(0,0,1),"","Target creature gets -3/-0/-3",[o],!0,p.Self,y.deck,[w.Neptune]),l=new Pn(this.cardService,j.Single,p.Self,1),c=new Me([l],[z.Start],this.cardService,p.Self),u=new L(15,0,3,"Ice Rune Wall",new I(2,0,1),"","Draw a card at the start of each of your turns",!1,p.Self,y.deck,[w.Neptune],[c]),d=new Kb(this.cardService,p.Self,j.All),h=new Ge([d],this.cardService),f=new L(4,3,2,"Aqua Healer",new I(1,0,1),"","On enter, heal all of your creatures, fast - may be played at any time",!0,p.Self,y.deck,[w.Neptune],[h]),g=new L(6,6,6,"King Serpent",new I(4,0,2),"","",!1,p.Self,y.deck,[w.Neptune],[],[E.Regenerate]),_=new L(5,3,3,"Deep Sea Yeti",new I(1,0,2),"","",!1,p.Self,y.deck,[w.Neptune],[],[E.Siege]),M=new Wb(this.cardService,A.Sapphire),T=new Ge([M],this.cardService),b=new L(3,2,2,"Fish Man",new I(1,0,1),"","On enter, add a Sapphire mine",!1,p.Self,y.deck,[w.Neptune],[T]),F=new Kb(this.cardService,e,j.Single),B=new Re(0,1,0,this.cardService,e,j.Single);B.repeatable=!0;let q=new yt(this.cardService,[new Et(Ie.Gems,2,A.Sapphire)],[B,F],{}),ce=new L(5,4,4,"Water Guardian",new I(2,0,2),"","Pay 2 Sapphires: Increase this creature's HP by 1 and heal it to full health",!1,e,y.deck,[w.Neptune],[q]);q.user=ce,r.push(ce),r.push(a,u,f,g,_,b),n++}return r.push(...this.cardFactory.getMinesBulk(A.Sapphire,this.mineAmount)),r.push(...this.cardFactory.getMinesBulk(A.Gold,this.goldMineAmount)),r}starDeck(e){let n=0,r=[];for(;n<this.colorCardAmount;){let i=new Gb(this.cardService,e,j.Single,[x.Creature]),s=new tn([x.Creature],e,[y.play],1,[i],this.cardService),o=new Ze("Death Beam",new I(0,0,0,0,2,0),"","Kill Target Creature an opponent controls",[s],!1,e,y.deck,[w.MoonAndStars]),a=new Gb(this.cardService,p.Any,j.All,[x.Creature]),l=new Ge([a],this.cardService),c=new Ze("Wrath of the Stars",new I(3,0,0,0,2),"","Destroy all creatures",[l],!1,e,y.deck,[w.MoonAndStars]),u=new L(1,1,3,"Wolf of the Stars",new I(0,0,0,0,1),"","Gain +1/+1/+0 each turn",!1,e,y.deck,[w.MoonAndStars],[],[E.Armorer,E.Sharpen]),d=new L(4,4,0,"Moon Healer",new I(2,0,0,0,1),"","Medic - Heal all other units you control at the start of your turn.",!1,e,y.deck,[w.MoonAndStars],[],[E.Medic]),h=new L(3,2,4,"Comet Trooper",new I(0,0,0,0,2),"","",!1,e,y.deck,[w.MoonAndStars],[],[E.Flying]),f=new L(2,2,4,"Time Sprite",new I(1,0,0,0,1),"","Flying. Gain +1/+1/+1 at the start of your turn.",!1,e,y.any,[w.MoonAndStars],[],[E.Armorer,E.Sharpen,E.Momentum,E.Flying],!0),g=new hp(e,this.cardService,f,3),_=new Ii(this.cardService,j.All,[y.play],e,[E.Armorer,E.Sharpen,E.Momentum]),M=new Ge([g,_],this.cardService),T=new Ze("Summon Star Squad",new I(1,0,0,0,4),"","Summon 3 2/2/4 sprites. All creatures you control gain +1/+1/+1 at the start of each of your turns.",[M],!1,e,y.deck,[w.MoonAndStars]);r.push(o,u,d,h,T,c),n++}return r.push(...this.cardFactory.getMinesBulk(A.LionEye,this.mineAmount)),r.push(...this.cardFactory.getMinesBulk(A.Gold,this.goldMineAmount)),r}getAllNeutralCards(e){let n=[],r=new ga(this.cardService,1,e),i=new Et(Ie.Asleep,1),s=new Et(Ie.Gems,1,A.Gold),o=new yt(this.cardService,[i,s],[r],{}),a=new L(1,3,3,"Wandering Priest",new I(2,0,0,0,0),"","Pay 1 gold and turn to gain 1 life",!1,e,y.deck,[w.Colorless],[o]);o.user=a;let l=new L(6,3,4,"Shield Mate",new I(3,0,0,0,0,0),"","",!1,e,y.deck,[w.Colorless],[],[E.Sentry,E.WallBound]),c=new Re(1,1,1,this.cardService,e,j.Single);c.repeatable=!0;let u=new Me([c],[z.DrawCard],this.cardService,e,[y.play]);new L(2,2,2,"Flooding Fish",new I(1,0,1),"","Whenever you draw a card, this creature gets +1/+1/+1",!1,e,y.deck,[w.Neptune]).abilities.push(u);let h=new lr(A.Gold,1,this.cardService),f=new Me([h],[z.DrawCard],this.cardService,e,[y.play]),g=new L(1,1,1,"Merchant",new I(2),"","Whenever you draw a card, gain 1 gold",!1,e,y.deck,[w.Colorless],[f]);return n.push(g),n.push(...this.neutralCards(e),l,a),n}getRandomCards(e,n){let r=[];for(let i=0;i<n;i++){let s=Ue(0,e.length);r.push(e[s])}return r}getRandomNeutralCards(e){let n=this.getAllNeutralCards(e),r=new Pn(this.cardService,j.Single,e,2),i=new Ge([r],this.cardService),s=new Ze("Find Loot",new I(3),"","Draw 2 cards",[i],!1,e,y.deck,[w.Colorless]),o=this.getRandomCards(n,2),a=[];return a.push(s,...o),a}neutralCards(e){let n=[],r=0;for(;r<this.cardAmount;){let i=new Hs(2,this.cardService,j.Single,p.Any),s=new tn([x.Creature],p.Any,[y.play],1,[i],this.cardService),o=new Ze("Arrow Volley",new I(0,0,0,0,0,0),"","Deal 1 damage per tower building level to target creature",[s],!1,e,y.deck,[w.Colorless]),a=new zb(this.cardService,o,y.hand,e),l=new Me([a],[z.Start],this.cardService),c=new Qb("Arrow Tower",new I(3),"","At the start of each of your turns, gain a free spell that does 1 damage to any creature.",e,y.deck,[w.Colorless],[l]),u=new Pn(this.cardService,j.Single,e,2),d=new Ge([u],this.cardService),h=new Ze("Find Loot",new I(3),"","Draw 2 cards",[d],!1,e,y.deck,[w.Colorless]),f=new L(3,4,2,"Pikeman",new I(2),"assets//pikeman.png","",!1,e,y.deck,[w.Colorless],[],[E.Sentry,E.Ensnare]);f.ensnareAmount=2;let g=new L(7,7,1,"Ironclad Mercenary",new I(4),"assets//Ironclad.png","",!1,e,y.deck,[w.Colorless]),_=new L(2,2,2,"Squire",new I(1),"","",!1,e,y.deck,[w.Colorless]),M=new Ge([new lr(A.Gold,2,this.cardService)],this.cardService),T=new zn("Big Mine",new I(4),new I(2),"","Gain 2 gold on enter",e,y.deck,[w.Colorless],[M],ge.Uncommon),b=new ga(this.cardService,1,e),F=new Et(Ie.Asleep,1),B=new Et(Ie.Gems,1,A.Gold),ce=(this.playerService.getPlayer(e),new yt(this.cardService,[F,B],[b],{})),pe=new L(3,1,3,"Wandering Priest",new I(2,0,0,0,0),"","Pay 1 gold and turn to gain 1 life",!1,e,y.deck,[w.Colorless],[ce]);ce.user=pe,n.push(h,f,g,_,c,T),r++}return n}getEnemyDeck(e,n,r){void 0===r&&(r=A.Gold);let i=[];switch(void 0===n&&(n=0),r){case A.Gold:i.push(...this.neutralCards(p.Opponent));break;case A.Emerald:i.push(...this.earthDeck(p.Opponent));break;case A.Ruby:i.push(...this.fireDeck(p.Opponent));break;case A.LionEye:i.push(...this.starDeck(p.Opponent));break;case A.Sapphire:i.push(...this.waterDeck(p.Opponent));break;case A.Topaz:i.push(...this.airDeck(p.Opponent))}let s=1;for(;s<e+1;){let o=this.cardFactory.generateAiBasicMinion(r,s,y.deck),a=this.cardFactory.generateAiMinion(r,s+1,y.deck);i.push(o,a),s++}for(let o=0;o<i.length;o++)i[o].owner=p.Opponent;return i=i.filter(o=>o.type!==x.Mine),i=i.filter(o=>o.type!==x.Building),i.push(this.getCardByName("Find Loot",p.Opponent)),i}getAllCards(e){let n=[];return n.push(...this.getAllFireCards(e)),n.push(...this.getAllEarthCards(e)),n.push(...this.getAllStarCards(e)),n.push(...this.getAllWaterCards(e)),n.push(...this.getAllAirCards(e)),n.push(...this.getAllNeutralCards(e)),n}getRandomFactionCards(e){const n=[this.getAllFireCards,this.getAllEarthCards,this.getAllStarCards,this.getAllWaterCards,this.getAllAirCards];return n[Math.floor(Math.random()*n.length)].call(this,e)}getStarterDeck(e,n){let r=[];r.push(...this.getAllNeutralCards(e));for(let i=0;i<n.length;i++)switch(n[i]){case w.Any:r.push(...this.getAllCards(e));break;case w.Sun:r.push(...this.getAllFireCards(e));break;case w.Earth:r.push(...this.getAllEarthCards(e));break;case w.MoonAndStars:r.push(...this.getAllStarCards(e));break;case w.Neptune:r.push(...this.getAllWaterCards(e));break;case w.Sky:r.push(...this.getAllAirCards(e))}return r}getPlayer(e){return this.cardService.playerService.getPlayer(e)}getCardByName(e,n){let i=["Death Beam","Fire Bolt","Slow","Freeze"],o=this.getAllCards(n).find(a=>a.name.toLowerCase()===e.toLowerCase());if(void 0!==o&&n===p.Opponent&&o.type===x.Spell)for(let a=0;a<o.abilities.length;a++){let l=o.abilities[a];if(l instanceof tn){let u=new gp(l.effects,this.cardService,l.allowedTargets,l.allowedZones,p.Opponent);u.targeting.controller=i.includes(o.name)?p.Self:p.Opponent,o.abilities[a]=u}}return o}getHeroDeck(e){let n=[];switch(e.name){case"Solara the Radiant":n.push(...this.getSolaraDeck());break;case"Ser Grimith the bland":n.push(...this.getGrimithDeck());break;case"Lunara the Tidal":n.push(...this.getLunaraDeck());break;case"King Aves":n.push(...this.getAvesDeck());break;case"Terra the Grounded":n.push(...this.getTerraDeck());break;case"Buck Bumble":n.push(...this.getBuckDeck());break;case"Mystic with no name":n.push(...this.getMysticDeck())}return n}getMysticDeck(){let e=[];for(let n=0;n<this.cardAmount;n++){let r=this.getCardByName("Fire Bolt",p.Self);e.push(r);let i=this.getCardByName("Freeze",p.Self);e.push(i);let s=this.getCardByName("Death Beam",p.Self);e.push(s);let o=this.getCardByName("Merchant",p.Self);e.push(o);let a=this.getCardByName("Find Loot",p.Self);e.push(a);let l=this.getCardByName("Ice Rune Wall",p.Self);e.push(l);let c=this.getCardByName("Divine Eyes",p.Self);e.push(c);let u=this.getCardByName("King Serpent",p.Self);e.push(u);let d=[];d.push(...this.cardFactory.getMinesBulk(A.Gold,2)),d.push(...this.cardFactory.getMinesBulk(A.LionEye,2)),d.push(...this.cardFactory.getMinesBulk(A.Sapphire,2)),d.push(...this.cardFactory.getMinesBulk(A.Ruby,2)),d.push(...this.cardFactory.generateMultiColorMinesBulk(A.LionEye,A.Ruby,2)),d.push(...this.cardFactory.generateMultiColorMinesBulk(A.Sapphire,A.LionEye,1)),d.push(...this.cardFactory.generateMultiColorMinesBulk(A.Sapphire,A.Ruby,2)),e.push(...d)}return e}getBuckDeck(){let e=[];for(let r=0;r<this.cardAmount;r++){let i=this.getCardByName("Stone Form",p.Self);e.push(i);let s=this.getCardByName("Loyal Hawk",p.Self);e.push(s);let o=this.getCardByName("Scout",p.Self);e.push(o);let a=this.getCardByName("Prospector",p.Self);e.push(a);let l=this.getCardByName("Gust",p.Self);e.push(l);let c=this.getCardByName("Ironclad Mercenary",p.Self);e.push(c);let u=this.getCardByName("Battle Dwarf",p.Self);e.push(u)}let n=[];return n.push(...this.cardFactory.getMinesBulk(A.Gold,3)),n.push(...this.cardFactory.getMinesBulk(A.Emerald,3)),n.push(...this.cardFactory.getMinesBulk(A.Topaz,3)),n.push(...this.cardFactory.generateMultiColorMinesBulk(A.Topaz,A.Emerald,3)),e.push(...n),e}getTerraDeck(){let e=[];for(let r=0;r<this.cardAmount;r++){let i=this.getCardByName("Verdant Warrior",p.Self);e.push(i);let s=this.getCardByName("Dwarf Soldier",p.Self);e.push(s);let o=this.getCardByName("Battle Dwarf",p.Self);e.push(o);let a=this.getCardByName("Prospector",p.Self);e.push(a);let l=this.getCardByName("Verdant Warrior",p.Self);e.push(l);let c=this.getCardByName("Dwarf Engineer",p.Self);e.push(c);let u=this.getCardByName("Stone Form",p.Self);e.push(u)}let n=[];return n.push(...this.cardFactory.getMinesBulk(A.Gold,6)),n.push(...this.cardFactory.getMinesBulk(A.Emerald,6)),e.push(...n),e}getLunaraDeck(){let e=[];for(let r=0;r<this.cardAmount;r++){let i=this.getCardByName("Freeze",p.Self);e.push(i);let s=this.getCardByName("Ice Rune Wall",p.Self);e.push(s);let o=this.getCardByName("Death Beam",p.Self);e.push(o);let a=this.getCardByName("Find Loot",p.Self);e.push(a);let l=this.getCardByName("Merchant",p.Self);e.push(l);let c=this.getCardByName("King Serpent",p.Self);e.push(c);let u=this.getCardByName("Dead Deity",p.Self);e.push(u)}let n=[];return n.push(...this.cardFactory.getMinesBulk(A.Gold,3)),n.push(...this.cardFactory.getMinesBulk(A.Sapphire,3)),n.push(...this.cardFactory.getMinesBulk(A.LionEye,3)),n.push(...this.cardFactory.generateMultiColorMinesBulk(A.LionEye,A.Sapphire,3)),e.push(...n),e}getGrimithDeck(){let e=[];for(let r=0;r<this.cardAmount;r++){let i=this.getCardByName("Pikeman",p.Self);e.push(i);let s=this.getCardByName("Ironclad Mercenary",p.Self);e.push(s);let o=this.getCardByName("Find Loot",p.Self);e.push(o);let a=this.getCardByName("Squire",p.Self);e.push(a);let l=this.getCardByName("Shield Mate",p.Self);e.push(l)}let n=[];return n.push(...this.cardFactory.getMinesBulk(A.Gold,9)),e.push(...n),e}getSolaraDeck(){let e=[];for(let r=0;r<this.cardAmount;r++){let i=this.getCardByName("Fire Bolt",p.Self);e.push(i);let s=this.getCardByName("Slow",p.Self);e.push(s);let o=this.getCardByName("Haste",p.Self);e.push(o);let a=this.getCardByName("Dwarf Soldier",p.Self);e.push(a);let l=this.getCardByName("Fire Raptor",p.Self);void 0!==l&&e.push(l)}let n=[];return n.push(...this.cardFactory.getMinesBulk(A.Gold,3)),n.push(...this.cardFactory.getMinesBulk(A.Ruby,3)),n.push(...this.cardFactory.getMinesBulk(A.Emerald,3)),n.push(...this.cardFactory.generateMultiColorMinesBulk(A.Ruby,A.Emerald,2)),e.push(...n),e}getAvesDeck(){let e=[];for(let r=0;r<this.cardAmount;r++){let i=this.getCardByName("Scout",p.Self);e.push(i);let s=this.getCardByName("Sky Knight",p.Self);e.push(s);let o=this.getCardByName("Wind Dancer",p.Self);e.push(o);let a=this.getCardByName("King Serpent",p.Self);e.push(a);let l=this.getCardByName("Deep Sea Yeti",p.Self);e.push(l);let c=this.getCardByName("Great Bird Monk",p.Self);e.push(c)}let n=[];return n.push(...this.cardFactory.getMinesBulk(A.Gold,3)),n.push(...this.cardFactory.getMinesBulk(A.Sapphire,3)),n.push(...this.cardFactory.getMinesBulk(A.Topaz,3)),n.push(...this.cardFactory.generateMultiColorMinesBulk(A.Topaz,A.Sapphire,2)),e.push(...n),e}}let eD=(()=>{class t{constructor(){}getBgColor(n){switch(n){case w.Colorless:return"#888888";case w.Earth:return"#787235";case w.Neptune:return"#1a58a3";case w.Sky:return"#02aed6";case w.Sun:return"#cc4304";case w.MoonAndStars:return"#373737";default:return"white"}}getFgColor(n){switch(n){case w.Colorless:return"#DDDDDD";case w.Earth:return"#77c589";case w.Neptune:return"#6ea9f0";case w.Sky:return"#c3dde3";case w.Sun:return"#e8736b";case w.MoonAndStars:return"#e0ce7e";default:return"white"}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function HL(t,e){if(1&t&&V(0,"img",5),2&t){const n=P().$implicit,r=P();ac("width",r.imgWidth,"px"),Kr("src",r.bag.getImage(n),Sr)}}const $L=function(){return[]};function UL(t,e){if(1&t&&(v(0,"span",3),N(1,HL,1,3,"img",4),m()),2&t){const n=e.$implicit,r=P();C(1),S("ngForOf",ra(1,$L).constructor(r.bag.getValue(n)))}}function GL(t,e){1&t&&V(0,"span",3)}let va=(()=>{class t{constructor(){this.bag=new I,this.imgWidth=16,this.manaTypes=[]}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=$e({type:t,selectors:[["app-gembag"]],inputs:{bag:"bag",imgWidth:"imgWidth"},decls:3,vars:2,consts:[[1,""],["style","margin-left: 3px;",4,"ngFor","ngForOf"],["style","margin-left: 3px;",4,"ngIf"],[2,"margin-left","3px"],["class","gemDimensions",3,"src","width",4,"ngFor","ngForOf"],[1,"gemDimensions",3,"src"]],template:function(r,i){1&r&&(v(0,"div",0),N(1,UL,2,2,"span",1),m(),N(2,GL,1,0,"span",2)),2&r&&(C(1),S("ngForOf",i.bag.getTypes()),C(1),S("ngIf",i.bag.isEmpty()))},dependencies:[$t,mt]})}return t})(),tD=(()=>{class t{constructor(){this.title="",this.text="",this.popupVisible=!1,this.popupX=100,this.popupY=100}showPopup(n){this.popupVisible=!0,this.updatePopupPosition(n)}movePopup(n){this.updatePopupPosition(n)}hidePopup(){this.popupVisible=!1}updatePopupPosition(n){this.popupX=n.clientX+10,this.popupY=n.clientY+10}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=$e({type:t,selectors:[["app-tool-tip"]],inputs:{title:"title",text:"text"},decls:5,vars:2,consts:[[1,"toolTipMargin"],[1,"toolTipHeader"]],template:function(r,i){1&r&&(v(0,"div",0)(1,"h2",1),D(2),m(),v(3,"p"),D(4),m()()),2&r&&(C(2),gt(i.title),C(2),gt(i.text))},styles:[".toolTipHeader[_ngcontent-%COMP%]{color:#f3e712;font-size:16px}.toolTipMargin[_ngcontent-%COMP%]{margin:10px}"]})}return t})();function zL(t,e){if(1&t&&(v(0,"div"),V(1,"app-tool-tip",16),m()),2&t){const n=e.$implicit,r=P(3);C(1),S("title",r.kTip.getToolTipName(n))("text",r.kTip.getTooltip(n))}}const WL=function(){return{"top.px":0,"left.px":125}};function qL(t,e){if(1&t&&(v(0,"div",15),N(1,zL,2,2,"div",14),m()),2&t){const n=P(2);S("ngStyle",ra(2,WL)),C(1),S("ngForOf",n.card.keywords)}}const jc=function(t){return{backgroundColor:t}};function KL(t,e){if(1&t&&(v(0,"div",3),V(1,"app-gembag",17),m()),2&t){const n=P(2);S("ngStyle",Tn(2,jc,n.fgColor)),C(1),S("bag",n.card.cost)}}function ZL(t,e){1&t&&V(0,"img",18),2&t&&Kr("src",P(2).card.image,Sr)}function QL(t,e){1&t&&V(0,"div",19)}function YL(t,e){if(1&t&&(v(0,"div")(1,"p",20)(2,"span",21),D(3),m(),D(4," |"),v(5,"span",21),D(6),m(),D(7," |"),v(8,"span",21),D(9),m()()()),2&t){const n=P(2);C(2),S("ngStyle",n.getStatStyle(n.card,"atk")),C(1),tt("ATK:",n.creature.attack," "),C(2),S("ngStyle",n.getStatStyle(n.card,"hp")),C(1),tt("HP: ",n.creature.hp," "),C(2),S("ngStyle",n.getStatStyle(n.card,"spd")),C(1),tt(" SPD:",n.creature.speed,"")}}function XL(t,e){if(1&t&&(v(0,"span")(1,"p",20),D(2,"INCOME: "),V(3,"app-gembag",17),m()()),2&t){const n=P(2);C(3),S("bag",n.converter.convertToMine(n.card).incomeBag)}}function JL(t,e){if(1&t&&(v(0,"span")(1,"p",22),D(2),m()()),2&t){const n=P(2);C(2),Zh("Turns left: ",n.converter.convertToTech(n.card).researchLevel,"/",n.converter.convertToTech(n.card).researchTime,"")}}function eV(t,e){1&t&&(v(0,"p"),D(1,"Fast - You may play this card at any time"),m())}function tV(t,e){if(1&t&&(v(0,"p"),D(1),m()),2&t){const n=P(3);C(1),tt("Dodge: ",n.creature.dodgeAmount,"")}}function nV(t,e){if(1&t&&(v(0,"p"),D(1),m()),2&t){const n=P(3);C(1),tt("Ensnare: ",n.creature.ensnareAmount,"")}}function rV(t,e){if(1&t&&(v(0,"p"),D(1),m()),2&t){const n=P(3);C(1),tt("Repair: ",n.creature.repairAmount,"")}}function iV(t,e){if(1&t&&(v(0,"div"),N(1,tV,2,1,"p",12),N(2,nV,2,1,"p",12),N(3,rV,2,1,"p",12),m()),2&t){const n=P(2);C(1),S("ngIf",n.creature.dodgeAmount>0),C(1),S("ngIf",n.creature.ensnareAmount>0),C(1),S("ngIf",n.creature.repairAmount>0)}}function sV(t,e){if(1&t&&(v(0,"p"),D(1),m()),2&t){const n=P().$implicit,r=P(2);C(1),gt(r.kTip.getToolTipName(n))}}function oV(t,e){if(1&t&&(v(0,"div"),N(1,sV,2,1,"p",12),m()),2&t){const n=e.$implicit;C(1),S("ngIf",16!==n&&1!==n&&3!==n)}}const aV=function(t,e,n,r){return{playable:t,notPlayable:e,awake:n,asleep:r}},lV=function(){return{backgroundColor:"black"}};function cV(t,e){if(1&t){const n=fe();v(0,"div",1),$("mouseover",function(i){return X(n),J(P().showPopup(i))})("mousemove",function(i){return X(n),J(P().movePopup(i))})("mouseout",function(){return X(n),J(P().hidePopup())}),N(1,qL,2,3,"div",2),v(2,"div",3)(3,"p",4),D(4),m()(),N(5,KL,2,4,"div",5),v(6,"div",6),N(7,ZL,1,1,"img",7),N(8,QL,1,0,"ng-template",null,8,xs),m(),v(10,"div",9)(11,"p",10),D(12),m()(),v(13,"div",11),N(14,YL,10,6,"div",12),N(15,XL,4,1,"span",12),N(16,JL,3,2,"span",12),N(17,eV,2,0,"p",12),v(18,"p",13),D(19),m(),N(20,iV,4,3,"div",12),N(21,oV,2,1,"div",14),m()()}if(2&t){const n=Ps(9),r=P();S("@rapidMoveRight",void 0)("@.disabled",!r.animateEnter)("ngClass",PC(20,aV,r.playable&&(0===r.card.zone||6===r.card.zone),!r.playable&&(0===r.card.zone||6===r.card.zone),0===r.card.type&&!0===r.creature.awake,!1===r.creature.awake))("ngStyle",Tn(25,jc,r.bgColor)),C(1),S("ngIf",r.popupVisible&&r.card.keywords.length>0),C(1),S("ngStyle",ra(27,lV)),C(2),tt("",r.card.name," "),C(1),S("ngIf",2===r.card.owner),C(1),S("ngStyle",Tn(28,jc,r.fgColor)),C(1),S("ngIf",""!==r.card.image&&void 0!==r.card.image)("ngIfElse",n),C(5),gt(r.getTypeString(r.card.type)),C(1),S("ngStyle",Tn(30,jc,r.fgColor)),C(1),S("ngIf",0===r.card.type||11===r.card.type),C(1),S("ngIf",2===r.card.type),C(1),S("ngIf",1===r.card.type&&1===r.card.zone),C(1),S("ngIf",r.card.instant),C(2),tt(" ",r.card.text,""),C(1),S("ngIf",0===r.card.type||11===r.card.type),C(1),S("ngForOf",r.card.keywords)}}let cr=(()=>{class t{constructor(n,r){this.fcs=n,this.animationService=r,this.card={},this.playable=void 0,this.cardEmitter=new he,this.flipped=!0,this.animateEnter=!1,this.bgColor="grey",this.fgColor="#cccccc",this.gradientColor="radialGradient(bgColor, gradientColor)",this.type=x[this.card.type],this.selected=!1,this.converter=new ma,this.kTip=new $b,this.popupVisible=!1,this.popupX=0,this.popupY=0,this.creature={}}ngOnInit(){(this.card instanceof L||this.card instanceof en)&&(this.creature=this.converter.convertToCreature(this.card)),void 0!==this.card&&(this.bgColor=this.fcs.getBgColor(this.card.factions[0]),this.fgColor=this.fcs.getFgColor(this.card.factions[0]),this.gradientColor=`radialGradient(${this.bgColor}, ${this.fgColor})`)}clickCard(){this.cardEmitter.emit(this.card)}getTypeString(n){return x[n]}getStatStyle(n,r){const i=this.converter.convertToCreature(n);let s=0,o=0;switch(r){case"hp":s=i.baseHp,o=i.hp;break;case"atk":s=i.baseAttack,o=i.attack;break;case"spd":s=i.baseSpeed,o=i.speed}return o>s?{color:"rgb(98, 219, 98);"}:o<s?{color:"red"}:{color:"white"}}showPopup(n){this.popupVisible=!0,this.updatePopupPosition(n)}movePopup(n){this.updatePopupPosition(n)}hidePopup(){this.popupVisible=!1}updatePopupPosition(n){this.popupX=n.clientX,this.popupY=n.clientY}static#e=this.\u0275fac=function(r){return new(r||t)(O(eD),O(gn))};static#t=this.\u0275cmp=$e({type:t,selectors:[["app-card"]],inputs:{card:"card",playable:"playable",flipped:"flipped",animateEnter:"animateEnter"},outputs:{cardEmitter:"cardEmitter"},decls:1,vars:1,consts:[["id","BlackFont","class","cardBorder hoverZoom cardDimensions",3,"ngClass","ngStyle","mouseover","mousemove","mouseout",4,"ngIf"],["id","BlackFont",1,"cardBorder","hoverZoom","cardDimensions",3,"ngClass","ngStyle","mouseover","mousemove","mouseout"],["class","popup toolTip",3,"ngStyle",4,"ngIf"],[1,"mainFont","titleBoxWidth","cardOutline",3,"ngStyle"],[1,"titleText"],["class","mainFont titleBoxWidth cardOutline",3,"ngStyle",4,"ngIf"],["id","PlaceHolder",1,"cardOutline",3,"ngStyle"],["class","centerElement cardImage ",3,"src",4,"ngIf","ngIfElse"],["fake",""],[1,"typeBox","cardOutline"],[1,"typeText"],[1,"textBox","cardOutline","mainFont","cardText",3,"ngStyle"],[4,"ngIf"],[1,"mainFont"],[4,"ngFor","ngForOf"],[1,"popup","toolTip",3,"ngStyle"],[3,"title","text"],[3,"bag"],[1,"centerElement","cardImage",3,"src"],[1,"centerElement","cardImage"],[1,"statDisplay"],[3,"ngStyle"],[1,"whiteFont","statDisplay"]],template:function(r,i){1&r&&N(0,cV,22,32,"div",0),2&r&&S("ngIf",void 0!==i.card)},dependencies:[ha,$t,mt,Mi,va,tD],styles:['.cardOutline[_ngcontent-%COMP%]{border:solid 1px black;border-radius:5%;margin:1px}#PlaceHolder[_ngcontent-%COMP%]{min-height:40px}.titleText[_ngcontent-%COMP%]{font-family:Tahoma,sans-serif;font-weight:700;font-size:60%;text-align:center;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.titleBoxWidth[_ngcontent-%COMP%]{width:93%;margin-left:auto;margin-right:auto}.flexBox[_ngcontent-%COMP%]{display:flex}.flexSpace[_ngcontent-%COMP%]{justify-content:space-between}.foregroundColor[_ngcontent-%COMP%]{opacity:.9}.typeText[_ngcontent-%COMP%]{color:#fff;text-align:center}.typeBox[_ngcontent-%COMP%]{height:17px;margin-top:2px;margin-bottom:2px;font-size:13px;font-family:Arial,Helvetica,sans-serif;background:rgba(30,30,30,.5);opacity:1}.typeBoxBg[_ngcontent-%COMP%]{background-color:"#373737"}.textBox[_ngcontent-%COMP%]{min-height:4rem;text-align:center;font-family:Arial,Helvetica,sans-serif}.cardText[_ngcontent-%COMP%]{font-size:45%}.statDisplay[_ngcontent-%COMP%]{border-bottom:ridge 2px #737373;margin-bottom:2px;background-color:#000;color:#fff}.playable[_ngcontent-%COMP%]{border-radius:5%;box-shadow:0 0 25px #f7f7f7e6}.notPlayable[_ngcontent-%COMP%]{border:1px solid red;border-radius:5%}.playable[_ngcontent-%COMP%], .notPlayable[_ngcontent-%COMP%]{margin:-2px}.hoverZoom[_ngcontent-%COMP%]:hover{z-index:9999;transform:scale(1.2);transition:transform .3s ease-in-out;animation-delay:1ms;position:relative}.hoverZoom[_ngcontent-%COMP%]{transform:scale(1);margin-bottom:0;transition:transform .4s ease-in-out;animation-delay:2ms;cursor:pointer}#BlackFont[_ngcontent-%COMP%]{color:#000}.toolTip[_ngcontent-%COMP%]{position:absolute;z-index:1000}.blackBg[_ngcontent-%COMP%]{background-color:#000}'],data:{animation:[gn.rapidMoveRight,gn.zoomIn]}})}return t})();function uV(t,e){if(1&t&&(v(0,"div"),V(1,"app-card",2),m()),2&t){const n=P();C(1),S("card",n.discardedCards[n.discardedCards.length-1])}}let nD=(()=>{class t{constructor(){this.showDiscard=!1,this.discardedCards=[]}toggleShowDiscard(){this.showDiscard=!this.showDiscard}getGraveyard(){return this.discardedCards}getTopCard(){return this.discardedCards.length>0?this.discardedCards[this.discardedCards.length-1]:{}}isEmpty(){return 0===this.discardedCards.length}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=$e({type:t,selectors:[["app-discard-pile"]],inputs:{discardedCards:"discardedCards"},decls:2,vars:1,consts:[[1,"cardDimensions","discardPile"],[4,"ngIf"],[3,"card"]],template:function(r,i){1&r&&(v(0,"div",0),N(1,uV,2,1,"div",1),m()),2&r&&(C(1),S("ngIf",i.discardedCards.length>0))},dependencies:[mt,cr],styles:[".pileDimensions[_ngcontent-%COMP%]{min-height:230px;width:auto;min-width:165px;max-width:auto;z-index:1001;border-radius:3%}.emptyWidth[_ngcontent-%COMP%]{width:165px}.cardMargin[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}.cardRow[_ngcontent-%COMP%]{flex-wrap:wrap}"]})}return t})();function dV(t,e){1&t&&V(0,"img",3)}const hV=function(t){return{width:t}};function fV(t,e){if(1&t&&(v(0,"div",1),N(1,dV,1,0,"img",2),m()),2&t){const n=P();S("ngStyle",Tn(2,hV,n.getWallLength())),C(1),S("ngForOf",n.calcDisplay())}}let rD=(()=>{class t{constructor(){this.wall={}}calcDisplay(){let n=this.wall.hp/5;return n=Math.ceil(n),n<0&&(n=0),Array(n).fill(0)}getWallLength(){return 24*Math.ceil(this.wall.hp/5)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=$e({type:t,selectors:[["app-wall"]],inputs:{wall:"wall"},decls:4,vars:2,consts:[["class","cardRow wallSpacing",3,"ngStyle",4,"ngIf"],[1,"cardRow","wallSpacing",3,"ngStyle"],["class","","width","24px","height","24px","src","assets/wall.png",4,"ngFor","ngForOf"],["width","24px","height","24px","src","assets/wall.png",1,""]],template:function(r,i){1&r&&(v(0,"div")(1,"p"),D(2),m(),N(3,fV,2,4,"div",0),m()),2&r&&(C(2),tt("Wall HP: ",i.wall.hp,""),C(1),S("ngIf",i.calcDisplay().length>0))},dependencies:[$t,mt,Mi],styles:[".wallSpacing[_ngcontent-%COMP%]{justify-content:center}"]})}return t})();function pV(t,e){if(1&t&&(v(0,"div"),V(1,"app-tool-tip",15),m()),2&t){const n=e.$implicit,r=P(2);C(1),S("title",r.kToolTip.getToolTipName(n))("text",r.kToolTip.getTooltip(n))}}const gV=function(t,e){return{"top.px":t,"left.px":e}};function mV(t,e){if(1&t&&(v(0,"div",14),N(1,pV,2,2,"div",13),m()),2&t){const n=P();S("ngStyle",ia(2,gV,n.popupY1,n.popupX1)),C(1),S("ngForOf",n.card.keywords)}}function yV(t,e){1&t&&V(0,"img",16),2&t&&Kr("src",P().card.image,Sr)}function vV(t,e){if(1&t&&(v(0,"span",17),V(1,"img",18),D(2,": "),v(3,"span",19),D(4),m(),V(5,"img",20),D(6,": "),v(7,"span",19),D(8),m(),V(9,"img",21),D(10,": "),v(11,"span",19),D(12),m()()),2&t){const n=P();C(3),S("ngStyle",n.getStatStyle(n.card,"atk")),C(1),gt(n.converter.convertToCreature(n.card).attack),C(3),S("ngStyle",n.getStatStyle(n.card,"hp")),C(1),gt(n.converter.convertToCreature(n.card).hp),C(3),S("ngStyle",n.getStatStyle(n.card,"spd")),C(1),tt(" ",n.converter.convertToCreature(n.card).speed,"")}}function _V(t,e){if(1&t&&(v(0,"span")(1,"p",17),D(2,"INCOME: "),V(3,"app-gembag",22),m()()),2&t){const n=P();C(3),S("bag",n.converter.convertToMine(n.card).incomeBag)}}function wV(t,e){1&t&&V(0,"img",23)}function CV(t,e){1&t&&V(0,"img",24)}function SV(t,e){if(1&t){const n=fe();v(0,"button",25),$("click",function(){return X(n),J(P().select())}),D(1),m()}if(2&t){const n=P();C(1),tt("Target ",n.card.name,"")}}function bV(t,e){if(1&t){const n=fe();v(0,"button",28),$("click",function(){return X(n),J(P().$implicit.doEffects())}),D(1,"Ability"),m()}}function DV(t,e){1&t&&(v(0,"button",30),D(1,"Ability"),m())}function EV(t,e){1&t&&N(0,DV,2,0,"button",29),2&t&&S("ngIf",1!==P(2).card.owner)}function MV(t,e){if(1&t&&(v(0,"div"),N(1,bV,2,0,"button",26),N(2,EV,1,1,"ng-template",null,27,xs),m()),2&t){const n=e.$implicit,r=Ps(3),i=P();C(1),S("ngIf",i.card.hasActivatedAbility()&&n.canAffordCosts(i.card)&&2===i.card.owner)("ngIfElse",r)}}const iD=function(t){return{backgroundColor:t}},AV=function(t,e,n,r,i){return{awake:t,asleep:e,dead:n,blocked:r,blocking:i}},TV=function(){return{backgroundColor:"black"}};let sD=(()=>{class t{constructor(n){this.fcs=n,this.card={},this.cardEmitter=new he,this.bgColor="grey",this.fgColor="#cccccc",this.gradientColor="radialGradient(bgColor, gradientColor)",this.type=x[this.card.type],this.selected=!1,this.kToolTip=new $b,this.converter=new ma,this.popupVisible=!1,this.popupX1=100,this.popupY1=100}ngOnInit(){this.bgColor=this.fcs.getBgColor(this.card.factions[0]),this.fgColor=this.fcs.getFgColor(this.card.factions[0]),this.gradientColor=`radialGradient(${this.bgColor}, ${this.fgColor})`}select(){this.cardEmitter.emit(this.card)}getTypeString(n){return x[n]}getStatStyle(n,r){const i=this.converter.convertToCreature(n);let s=0,o=0;switch(r){case"hp":s=i.baseHp,o=i.hp;break;case"atk":s=i.baseAttack,o=i.attack;break;case"spd":s=i.baseSpeed,o=i.speed}return o>s?{color:"#44e36e"}:o<s?{color:"red"}:{color:"white"}}getActivatedAbilities(){return this.card.abilities.filter(r=>r instanceof yt),this.card.abilities.filter(r=>r instanceof yt)}showPopup(n){this.popupVisible=!0,this.updatePopupPosition(n)}movePopup(n){this.updatePopupPosition(n)}hidePopup(){this.popupVisible=!1}updatePopupPosition(n){this.popupX1=n.clientX,this.popupY1=n.clientY}static#e=this.\u0275fac=function(r){return new(r||t)(O(eD))};static#t=this.\u0275cmp=$e({type:t,selectors:[["app-card-small"]],inputs:{card:"card"},outputs:{cardEmitter:"cardEmitter"},decls:15,vars:25,consts:[["class","popup toolTip",3,"ngStyle",4,"ngIf"],[1,"smallCardContainer"],[1,"largeCard",3,"card"],[1,"cardBorder","hoverZoom",3,"ngStyle","ngClass","mouseover","mousemove","mouseout"],[1,"mainFont","titleBoxWidth",3,"ngStyle"],[1,"titleText"],[1,"cardOutline","cardImageSmall",2,"margin","3px",3,"ngStyle"],["class","centerElement","height","auto","width","103px",3,"src",4,"ngIf"],["class","statDisplay blackBg",4,"ngIf"],[4,"ngIf"],["class","attackingIcon","src","assets/attackSymbol.png","height","auto","width","50%",4,"ngIf"],["class","blockingIcon","src","assets/HP Symbol.png","height","auto","width","50%",4,"ngIf"],[3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"popup","toolTip",3,"ngStyle"],[3,"title","text"],["height","auto","width","103px",1,"centerElement",3,"src"],[1,"statDisplay","blackBg"],["src","assets/attackSymbol.png","width","16px","height","auto",1,"statIcon"],[3,"ngStyle"],["src","assets/HP Symbol.png","width","16px","height","auto",1,"statIcon"],["src","assets/Speed Symbol.png","width","16px","height","auto",1,"statIcon"],[3,"bag"],["src","assets/attackSymbol.png","height","auto","width","50%",1,"attackingIcon"],["src","assets/HP Symbol.png","height","auto","width","50%",1,"blockingIcon"],[3,"click"],["class","centerElement",3,"click",4,"ngIf","ngIfElse"],["greyButton",""],[1,"centerElement",3,"click"],["style","opacity: 50%;","class","centerElement","disabled","",4,"ngIf"],["disabled","",1,"centerElement",2,"opacity","50%"]],template:function(r,i){1&r&&(N(0,mV,2,5,"div",0),v(1,"div",1),V(2,"app-card",2),v(3,"div",3),$("mouseover",function(o){return i.showPopup(o)})("mousemove",function(o){return i.movePopup(o)})("mouseout",function(){return i.hidePopup()}),v(4,"div",4)(5,"p",5),D(6),m()(),v(7,"div",6),N(8,yV,1,1,"img",7),N(9,vV,13,6,"span",8),N(10,_V,4,1,"span",9),m(),N(11,wV,1,0,"img",10),N(12,CV,1,0,"img",11),m()(),N(13,SV,2,1,"button",12),N(14,MV,4,2,"div",13)),2&r&&(S("ngIf",i.popupVisible&&i.card.keywords.length>0),C(2),S("card",i.card),C(1),S("ngStyle",Tn(14,iD,i.bgColor))("ngClass",function NC(t,e,n,r,i,s,o,a){const l=Ft()+t,c=R(),u=An(c,l,n,r,i,s);return It(c,l+4,o)||u?ir(c,l+5,a?e.call(a,n,r,i,s,o):e(n,r,i,s,o)):zo(c,l+5)}(16,AV,0===i.card.type&&!0===i.converter.convertToCreature(i.card).awake,!1===i.converter.convertToCreature(i.card).awake,i.converter.convertToCreature(i.card).hp<=0,i.converter.convertToCreature(i.card).blocked,i.converter.convertToCreature(i.card).blocking)),C(1),S("ngStyle",ra(22,TV)),C(2),tt("",i.card.name," "),C(1),S("ngStyle",Tn(23,iD,i.fgColor)),C(1),S("ngIf",""!==i.card.image&&void 0!==i.card.image),C(1),S("ngIf",0===i.card.type||11===i.card.type),C(1),S("ngIf",2===i.card.type),C(1),S("ngIf",0===i.card.type&&i.converter.convertToCreature(i.card).attacking),C(1),S("ngIf",0===i.card.type&&i.converter.convertToCreature(i.card).blocking),C(1),S("ngIf",i.card.targetableCard),C(1),S("ngForOf",i.getActivatedAbilities()))},dependencies:[ha,$t,mt,Mi,cr,va,tD],styles:['p[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;font-weight:700}.cardBorder[_ngcontent-%COMP%]{border:solid 2px black;border-radius:4%;width:6rem;padding:5px;margin-right:auto}.cardOutline[_ngcontent-%COMP%]{border:solid 1px black;border-radius:5%;margin:1px}.titleText[_ngcontent-%COMP%]{font-family:Verdana,Tahoma,sans-serif;font-weight:700;font-size:63%;text-align:center;color:#fff}.titleBoxWidth[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;min-height:20px}.flexBox[_ngcontent-%COMP%]{display:flex}.flexSpace[_ngcontent-%COMP%]{justify-content:space-between}.cardImage[_ngcontent-%COMP%]{min-height:100px;height:75%}.blackBg[_ngcontent-%COMP%]{background-color:#000}.foregroundColor[_ngcontent-%COMP%]{opacity:.9}.typeText[_ngcontent-%COMP%]{color:#fff;text-align:center}.typeBox[_ngcontent-%COMP%]{height:17px;margin-top:2px;margin-bottom:2px;font-size:13px;font-family:Arial,Helvetica,sans-serif;background:rgba(30,30,30,.5);opacity:1}.typeBoxBg[_ngcontent-%COMP%]{background-color:"#373737"}.textBox[_ngcontent-%COMP%]{height:100px;text-align:center;font-family:Arial,Helvetica,sans-serif}.centerElement[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.cardText[_ngcontent-%COMP%]{font-size:12px}.statDisplay[_ngcontent-%COMP%]{border:ridge 2px #737373;border-radius:10%;margin-bottom:2px;font-size:14px;font-weight:700;font-family:Arial,Helvetica,sans-serif;text-align:center;color:#fff;position:absolute;bottom:1px;left:5px;right:5px}.whiteFont[_ngcontent-%COMP%]{color:#fff}.asleep[_ngcontent-%COMP%]{transform:rotate(90deg);margin-bottom:18px}.largeCard[_ngcontent-%COMP%]{visibility:hidden;position:fixed;z-index:1;opacity:0;left:0;top:36%;transition:visibility .2s linear .2s;-webkit-user-select:none;user-select:none;transform:scale(1)}.toolTip[_ngcontent-%COMP%]{position:fixed}.smallCardContainer[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;transition-delay:.1s;position:relative}@media screen and (max-width: 1250px){.smallCardContainer[_ngcontent-%COMP%]{bottom:80%}}#Hand[_ngcontent-%COMP%]:hover   .largeCard[_ngcontent-%COMP%]{visibility:visible;opacity:1;transform:scale(1.1);transition:transform .5s ease-in-out;transition:opacity .3s ease-in-out;transform:translate(0);transition-delay:2s;z-index:99999}.smallCardContainer[_ngcontent-%COMP%]:hover   .largeCard[_ngcontent-%COMP%]{visibility:visible;opacity:1;transition:opacity .3s ease-in-out;transform:translateY(20px);transition-delay:.1s}.smallCardContainer[_ngcontent-%COMP%]:hover{border:2px solid #281cae;border-radius:4%;margin-bottom:0}.smallCardContainer[_ngcontent-%COMP%]:hover, .attackingIcon[_ngcontent-%COMP%]:hover, .blockingIcon[_ngcontent-%COMP%]:hover{opacity:1}.statIcon[_ngcontent-%COMP%]{margin:2px}.asleep[_ngcontent-%COMP%], .awake[_ngcontent-%COMP%]{transition:width 2s,height 2s,transform .3s}.asleep[_ngcontent-%COMP%]{transform:rotate(90deg)}.awake[_ngcontent-%COMP%]{transform:rotate(0)}.dead[_ngcontent-%COMP%]{opacity:.5}.combatIcon[_ngcontent-%COMP%]{display:none}.blocking[_ngcontent-%COMP%]:hover   .combatIcon[_ngcontent-%COMP%]{display:block;position:relative;top:-100px}.attackingIcon[_ngcontent-%COMP%], .blockingIcon[_ngcontent-%COMP%]{position:absolute;bottom:1rem;left:2rem;opacity:.7}.canCast[_ngcontent-%COMP%]{border:1px solid green}.cantCast[_ngcontent-%COMP%]{border:1px solid red}']})}return t})();function IV(t,e){if(1&t){const n=fe();v(0,"button",0),$("click",function(){X(n);const i=P(2).$implicit;return J(P(2).buyGem(i))}),D(1,"Buy for 2 gold"),m()}}function kV(t,e){1&t&&(v(0,"button",10),D(1,"Buy for 2 gold"),m())}function PV(t,e){if(1&t){const n=fe();v(0,"button",0),$("click",function(){X(n);const i=P(2).$implicit;return J(P(2).sellGem(i))}),D(1,"Sell for 1 gold"),m()}}function NV(t,e){1&t&&(v(0,"button",10),D(1,"Sell for 1 gold"),m())}function RV(t,e){if(1&t&&(v(0,"span"),N(1,IV,2,0,"button",7),N(2,kV,2,0,"ng-template",null,8,xs),N(4,PV,2,0,"button",7),N(5,NV,2,0,"ng-template",null,9,xs),m()),2&t){const n=Ps(3),r=Ps(6),i=P().$implicit,s=P(2);C(1),S("ngIf",s.gembag.gold>=2)("ngIfElse",n),C(3),S("ngIf",s.gembag.getValue(i)>=1)("ngIfElse",r)}}function OV(t,e){if(1&t&&(v(0,"span",4)(1,"span")(2,"p"),D(3),V(4,"img",5),m(),N(5,RV,7,4,"span",6),m()()),2&t){const n=e.$implicit,r=P(2);C(3),tt("",r.gembag.getValue(n)," "),C(1),ac("width",16,"px"),Kr("src",r.gembag.getImage(n),Sr),C(1),S("ngIf",0!==n)}}function xV(t,e){if(1&t){const n=fe();v(0,"div",2)(1,"button",0),$("click",function(){return X(n),J(P().toggleShowMarket())}),D(2,"X"),m(),N(3,OV,6,5,"span",3),m()}if(2&t){const n=P();C(3),S("ngForOf",n.gembag.getAllTypes())}}let FV=(()=>{class t{constructor(){this.gembag={},this.showMarket=!1,this.gemCost=2,this.getSellCost=1}toggleShowMarket(){this.showMarket=!this.showMarket}buyGem(n){if(this.gembag.gold>=this.gemCost)switch(this.gembag.gold-=this.gemCost,n){case A.Ruby:this.gembag.ruby+=1;break;case A.Sapphire:this.gembag.sapphire+=1;break;case A.Emerald:this.gembag.emerald+=1;break;case A.LionEye:this.gembag.lionsEye+=1;break;case A.Topaz:this.gembag.topaz+=1}}sellGem(n){this.gembag.getValue(n)>0&&(this.gembag.gold+=this.getSellCost,this.gembag.addSingle(n,-1))}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=$e({type:t,selectors:[["app-market"]],inputs:{gembag:"gembag"},decls:3,vars:1,consts:[[3,"click"],["id","Market","class","paneBg whiteFont popUp scrollBar",4,"ngIf"],["id","Market",1,"paneBg","whiteFont","popUp","scrollBar"],["class","marketCard",4,"ngFor","ngForOf"],[1,"marketCard"],[1,"gemDimensions",3,"src"],[4,"ngIf"],[3,"click",4,"ngIf","ngIfElse"],["noGold",""],["noGems",""],["disabled","",1,"disabledButton"]],template:function(r,i){1&r&&(v(0,"button",0),$("click",function(){return i.toggleShowMarket()}),D(1,"Show Market"),m(),N(2,xV,4,1,"div",1)),2&r&&(C(2),S("ngIf",i.showMarket))},dependencies:[$t,mt],styles:["#Market[_ngcontent-%COMP%]{position:absolute;top:-100%;left:-100%;transform:translate(-100%,-100%);z-index:1;padding:15px;display:flex;flex-direction:row;width:450%}.marketCard[_ngcontent-%COMP%]{padding:10px}.disabledButton[_ngcontent-%COMP%]{opacity:.5}"],data:{animation:[ki("toggleShowMarket",[Vc("true",Mt({transform:"translateX(0)"})),Vc("false",Mt({transform:"translateX(-100%)"})),Or("false => true",[Rr("300ms ease-in")]),Or("true => false",[Rr("300ms ease-out")])])]}})}return t})();function LV(t,e){if(1&t){const n=fe();v(0,"app-card",1),$("dblclick",function(){return X(n),J(P().playHero())}),m()}if(2&t){const n=P();S("card",n.hero)("playable",n.player.checkIfPlayable(n.hero,n.game))}}let VV=(()=>{class t{constructor(){this.hero={},this.cardService={},this.player={},this.game={}}playHero(){this.player.playCard(this.hero,this.game)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=$e({type:t,selectors:[["app-hero"]],inputs:{hero:"hero",cardService:"cardService",player:"player",game:"game"},decls:1,vars:1,consts:[["class","heroPane",3,"card","playable","dblclick",4,"ngIf"],[1,"heroPane",3,"card","playable","dblclick"]],template:function(r,i){1&r&&N(0,LV,1,2,"app-card",0),2&r&&S("ngIf",6===i.hero.zone)},dependencies:[mt,cr],styles:[".heroPane[_ngcontent-%COMP%]{position:absolute;bottom:0;right:12%}"]})}return t})();function BV(t,e){if(1&t&&V(0,"app-hero",16),2&t){const n=P();S("game",n.game)("hero",n.Player.cardService.hero)("player",n.Player)("cardService",n.Player.cardService)}}function jV(t,e){if(1&t){const n=fe();v(0,"button",21),$("click",function(){X(n);const i=P(2).index;return J(P().toggleAttack(i))}),D(1,"Attack"),m()}}function HV(t,e){if(1&t&&(v(0,"div"),N(1,jV,2,0,"button",20),m()),2&t){const n=P().$implicit,r=P();C(1),S("ngIf",!n.attacking&&!n.keywords.includes(7)&&r.game.currentTurn===r.Player&&2!==r.game.currentPhase)}}function $V(t,e){if(1&t){const n=fe();v(0,"button",21),$("click",function(){X(n);const i=P().index;return J(P().toggleAttack(i))}),D(1,"X Cancel Attack"),m()}}function UV(t,e){if(1&t){const n=fe();v(0,"button",21),$("click",function(){X(n);const i=P(2).$implicit;return J(P().game.combatManager.setBlocker(i))}),D(1,"Block"),m()}}function GV(t,e){if(1&t){const n=fe();v(0,"button",23),$("click",function(){X(n);const i=P(2).$implicit;return J(P().game.combatManager.unsetBlocker(i))}),D(1,"Cancel Block"),m()}}function zV(t,e){if(1&t&&(v(0,"div"),N(1,UV,2,0,"button",20),N(2,GV,2,0,"button",22),m()),2&t){const n=P().$implicit,r=P();C(1),S("ngIf",r.cardConverter.convertToCreature(n).canBlock()),C(1),S("ngIf",r.cardConverter.convertToCreature(n).blocking)}}function WV(t,e){if(1&t){const n=fe();v(0,"div",null,17)(2,"app-card-small",18),$("cardEmitter",function(i){return X(n),J(P().targetSelected(i))}),m(),N(3,HV,2,1,"div",19),N(4,$V,2,0,"button",20),N(5,zV,3,2,"div",19),m()}if(2&t){const n=e.$implicit,r=e.index,i=P();C(2),Qo("attacker",i.game.combatManager.isFighting(n)&&i.game.currentTurn===i.Player)("blocker",i.game.combatManager.isFighting(n)&&i.game.currentTurn!==i.Player),sc("id","player",r,""),S("card",n),C(1),S("ngIf",n.awake&&!n.firstTurn),C(1),S("ngIf",n.attacking),C(1),S("ngIf",i.Player.defending&&!0===i.cardConverter.convertToCreature(n).awake&&!1===i.cardConverter.convertToCreature(n).attacking)}}function qV(t,e){if(1&t&&(v(0,"div"),V(1,"app-card-small",24),m()),2&t){const n=e.$implicit;C(1),S("card",n)}}function KV(t,e){1&t&&V(0,"img",25)}function ZV(t,e){if(1&t){const n=fe();v(0,"div",26)(1,"app-card",27),$("dblclick",function(){const s=X(n).$implicit,o=P();return J(o.Player.playCard(s,o.game))}),m()()}if(2&t){const n=e.$implicit,r=P();C(1),S("card",n)("playable",r.Player.checkIfPlayable(n,r.game))("animateEnter",!0)}}const QV=function(t){return{width:t}};let YV=(()=>{class t{handleKeyboardA(n){let r=this.Player.getCreatures();if(this.Player.canAttack())for(let i=0;i<r.length;i++)r[i].firstTurn||this.toggleAttack(i);else for(let i=0;i<r.length;i++)r[i].firstTurn||this.toggleAttack(i)}constructor(n){this.animationService=n,this.Player={},this.game={},this.rotStart=355,this.rotEnd=365,this.targetingMode=!1,this.selected={},this.possibleTargets=[],this.drawnCards=[],this.cardConverter=new ma,this.showMarket=!1,this.popupVisible=!1,this.popupX=100,this.popupY=100}ngOnInit(){this.Player.cardService.hero.zone=y.hero,console.log(this.game)}toggleMarket(){this.showMarket=!this.showMarket}selectTarget(n){this.selected=this.possibleTargets[n]}toggleAttack(n){let r=this.Player.getCreatures()[n];r.attacking=!r.attacking,r.keywords.includes(E.Sentry)||(r.awake=!r.awake),r.blocking=!1,this.Player.attacking=this.Player.getAttackers().length>0,this.game.currentPhase=this.Player.attacking?Q.attackers:Q.main,this.game.phaseDisplay=Q[this.game.currentPhase]}targetSelected(n){this.Player.effectStack[0].doEffectSingle(n),this.Player.effectStack.splice(0,1),this.turnOffTargetting(this.Player.getCreatures())}playSelected(n){this.Player.playCard(n,this.game),this.Player.effectStack=[]}turnOnTargetting(n){for(let r=0;r<n.length;r++)n[r].targetableCard=!0}turnOffTargetting(n){for(let r=0;r<n.length;r++)n[r].targetableCard=!1}getRotAmount(n){return(this.rotEnd-this.rotStart)/this.Player.getHand().length*n}showPopup(n){this.popupVisible=!0,this.updatePopupPosition(n)}movePopup(n){this.updatePopupPosition(n)}hidePopup(){this.popupVisible=!1}updatePopupPosition(n){this.popupX=n.clientX+10,this.popupY=n.clientY+10}static#e=this.\u0275fac=function(r){return new(r||t)(O(gn))};static#t=this.\u0275cmp=$e({type:t,selectors:[["app-player"]],hostBindings:function(r,i){1&r&&$("keyup.a",function(o){return i.handleKeyboardA(o)},0,Bo)},inputs:{Player:"Player",game:"game"},decls:22,vars:16,consts:[[1,"gemBagDisplay","uiPanel","paneBg"],[3,"gembag"],[1,"centerElement","whiteFont",3,"wall"],[1,"whiteFont",2,"margin-bottom",".5rem"],[1,"whiteFont"],[3,"bag"],[3,"game","hero","player","cardService",4,"ngIf"],[1,"cardRow","creatureDisplay","uiPanel",3,"ngStyle"],[4,"ngFor","ngForOf"],[1,"cardRow"],["id","",1,"flexCenter"],[2,"float","left"],[3,"discardedCards"],["id","CardBack","class","cardDimensions","src","assets/back2.webp",4,"ngIf"],["id","Hand",1,"cardRow"],["class","handMargin",4,"ngFor","ngForOf"],[3,"game","hero","player","cardService"],["cardElement",""],[3,"id","card","cardEmitter"],[4,"ngIf"],["class","centerElement combatButton",3,"click",4,"ngIf"],[1,"centerElement","combatButton",3,"click"],["class","centerElement",3,"click",4,"ngIf"],[1,"centerElement",3,"click"],[3,"card"],["id","CardBack","src","assets/back2.webp",1,"cardDimensions"],[1,"handMargin"],[1,"card",3,"card","playable","animateEnter","dblclick"]],template:function(r,i){1&r&&(v(0,"div",0),V(1,"app-market",1)(2,"app-wall",2),v(3,"p",3),D(4),m(),v(5,"h3",4),D(6,"Resources:"),m(),V(7,"app-gembag",5),v(8,"h3",4),D(9,"Income:"),m(),V(10,"app-gembag",5),m(),N(11,BV,1,4,"app-hero",6),v(12,"div",7),N(13,WV,6,9,"div",8),m(),v(14,"div",9),N(15,qV,2,1,"div",8),m(),v(16,"div",10)(17,"div",11),V(18,"app-discard-pile",12),N(19,KV,1,0,"img",13),m(),v(20,"div",14),N(21,ZV,2,3,"div",15),m()()),2&r&&(C(1),S("gembag",i.Player.gembag)("@show",void 0)("@show2",void 0),C(1),S("wall",i.Player.wall),C(2),tt("Your Life: ",i.Player.hp,""),C(3),S("bag",i.Player.gembag),C(3),S("bag",i.Player.incomeBag),C(1),S("ngIf",6===i.Player.cardService.hero.zone),C(1),S("ngStyle",Tn(14,QV,183*i.Player.getCreatures().length+"px")),C(1),S("ngForOf",i.Player.getCreatures()),C(2),S("ngForOf",i.Player.cardService.getBuildings(1)),C(3),S("discardedCards",i.Player.cardService.getCards(2,2)),C(1),S("ngIf",i.Player.cardService.getDeck(2).length>0),C(2),S("ngForOf",i.Player.getHand()))},dependencies:[$t,mt,Mi,cr,va,nD,rD,sD,FV,VV],styles:["#Hand[_ngcontent-%COMP%]{display:flex;margin-left:auto;margin-right:auto;position:fixed;justify-content:center;left:20%;right:20%;bottom:-15%}#CardBack[_ngcontent-%COMP%]{margin-bottom:0}.playButton[_ngcontent-%COMP%]{max-width:120px}.creatureArea[_ngcontent-%COMP%]{height:150px}.gemBagDisplay[_ngcontent-%COMP%]{position:fixed;right:0;bottom:0;border-radius:5%;padding:5px}@media screen and (max-width: 1050px){.gemBagDisplay[_ngcontent-%COMP%]{padding:2px}}.discardDisplay[_ngcontent-%COMP%]{border-radius:3%}.wallDisplay[_ngcontent-%COMP%]{margin-left:auto;width:25%;margin-bottom:10px;padding:6px}.handMargin[_ngcontent-%COMP%]{margin:0px -1rem}.card[_ngcontent-%COMP%]{transform-origin:bottom center;transition:transform .1s ease-in-out}.card[_ngcontent-%COMP%]:hover{transform:rotate(0);transition:transform .1s ease-in-out;z-index:1000;margin-bottom:30%}.attacker[_ngcontent-%COMP%], .blocker[_ngcontent-%COMP%]{display:inline-block;transition:transform .3s ease-in-out}.attacker[_ngcontent-%COMP%]{border-color:#f75d5d}.blocker[_ngcontent-%COMP%]{border-color:#4ecdf8}.fighting[_ngcontent-%COMP%]{transform:translateY(50px)}.flexCenter[_ngcontent-%COMP%]{justify-content:center;position:fixed;bottom:0}.player-cards[_ngcontent-%COMP%]{position:relative}canvas[_ngcontent-%COMP%]{position:absolute;top:0;left:0;pointer-events:none}"],data:{animation:[gn.drawCard,gn.moveCard,gn.rapidMoveRight,ki("show",[Vc("void",Mt({opacity:0})),Or(":enter,:leave",[Rr("500ms ease-in-out")])]),ki("show2",[Vc("void",Mt({opacity:1})),Or("hidden => visible",[Rr("500ms ease-in-out")]),Or("visible => hidden",[Rr("500ms ease-in-out")])])]}})}return t})();function XV(t,e){1&t&&V(0,"img",8)}function JV(t,e){if(1&t){const n=fe();v(0,"button",11),$("click",function(){X(n);const i=P().$implicit;return J(P().game.combatManager.setAttacker(i))}),D(1," Block this Attacker"),m()}}function eB(t,e){if(1&t){const n=fe();v(0,"div")(1,"app-card-small",9),$("cardEmitter",function(i){return X(n),J(P().targetSelected(i))}),m(),N(2,JV,2,0,"button",10),m()}if(2&t){const n=e.$implicit,r=P();C(1),S("card",n),C(1),S("ngIf",r.hoard.attacking&&!1===r.creatureConverter.convertToCreature(n).blocked&&r.opponentHasBlockers())}}function tB(t,e){if(1&t){const n=fe();v(0,"div")(1,"button",14),$("click",function(){X(n);const i=P(2);return J(i.hoard.runCurrentSpell(i.game))}),D(2,"Run Spell"),m()()}}function nB(t,e){if(1&t&&(v(0,"div",12),V(1,"app-card",13),N(2,tB,3,0,"div",4),m()),2&t){const n=P();C(1),S("card",n.hoard.currentSpell),C(1),S("ngForOf",n.hoard.currentSpell.abilities)}}let rB=(()=>{class t{constructor(){this.hoard={},this.game={},this.blockedCreature=new he,this.creatureConverter=new ma}block(n){this.hoard.cardService.getCreatures(1)}opponentHasBlockers(){return this.hoard.cardService.getCards(y.play,p.Self,x.Creature).filter(i=>i.awake&&!i.blocking).length>0}targetSelected(n){console.log(n);let r=this.game.cardService.playerService.getPlayer(p.Self)[0];r.effectStack[0].doEffectSingle(n),r.effectStack.splice(0,1);let i=this.game.cardService.playerService.getPlayer(p.Opponent)[0];this.turnOffTargetting(r.getCreatures()),this.turnOffTargetting(i.getCreatures())}turnOnTargetting(n){for(let r=0;r<n.length;r++)n[r].targetableCard=!0}turnOffTargetting(n){for(let r=0;r<n.length;r++)n[r].targetableCard=!1}showDiscardArea(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=$e({type:t,selectors:[["app-ai"]],inputs:{hoard:"hoard",game:"game"},outputs:{blockedCreature:"blockedCreature"},decls:10,vars:6,consts:[[1,"cardRow","uiPanel"],[3,"discardedCards"],["id","CardBack","class","cardDimensions","src","assets/back2.webp",4,"ngIf"],["id","CreaturePane",1,"cardRow"],[4,"ngFor","ngForOf"],["id","HpPane",1,"paneBg","whiteFont","uiPanel","centerText","lifePanel"],[3,"wall"],["id","RunSpellPane",4,"ngIf"],["id","CardBack","src","assets/back2.webp",1,"cardDimensions"],[3,"card","cardEmitter"],["class","centerElement combatButton",3,"click",4,"ngIf"],[1,"centerElement","combatButton",3,"click"],["id","RunSpellPane"],[3,"card"],[3,"click"]],template:function(r,i){1&r&&(v(0,"div",0),V(1,"app-discard-pile",1),N(2,XV,1,0,"img",2),v(3,"div",3),N(4,eB,3,2,"div",4),m()(),v(5,"div",5),V(6,"app-wall",6),v(7,"p"),D(8),m()(),N(9,nB,3,2,"div",7)),2&r&&(C(1),S("discardedCards",i.hoard.cardService.getCards(2,1)),C(1),S("ngIf",i.hoard.cardService.getDeck(2).length>0),C(2),S("ngForOf",i.hoard.cardService.getCreatures(1)),C(2),S("wall",i.hoard.wall),C(2),tt("Horde Deck: ",i.hoard.cardService.getDeck(1).length,""),C(1),S("ngIf",null!==i.hoard.currentSpell))},dependencies:[$t,mt,cr,nD,rD,sD],styles:[".cardRow[_ngcontent-%COMP%]{display:flex;flex-flow:row;justify-content:center}#Enemies[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap}.lifePanel[_ngcontent-%COMP%]{width:25%;padding:5px}.discardPos[_ngcontent-%COMP%]{position:absolute;top:0;left:0}#HpPane[_ngcontent-%COMP%]{position:fixed;top:4.5rem;right:0}#CreaturePane[_ngcontent-%COMP%]{margin-top:20px;min-height:150px;position:absolute;left:35%;right:35%}#RunSpellPane[_ngcontent-%COMP%]{position:fixed;right:0;top:41%}"]})}return t})();function iB(t,e){1&t&&V(0,"app-card",2),2&t&&S("card",e.$implicit)}let oD=(()=>{class t{constructor(){this.deck=[],this.display=!1}sortDeck(){return this.deck.sort((r,i)=>r.name.localeCompare(i.name))}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=$e({type:t,selectors:[["app-deck-viewer"]],inputs:{deck:"deck",display:"display"},decls:2,vars:1,consts:[[1,"cardRow","scrollBar"],["class","card",3,"card",4,"ngFor","ngForOf"],[1,"card",3,"card"]],template:function(r,i){1&r&&(v(0,"div",0),N(1,iB,1,1,"app-card",1),m()),2&r&&(C(1),S("ngForOf",i.sortDeck()))},dependencies:[$t,cr],styles:[".cardRow[_ngcontent-%COMP%]{flex-wrap:wrap}.card[_ngcontent-%COMP%]{margin:10px 5px;flex:0 0 10%;border-radius:5%;width:94%}.scrollBar[_ngcontent-%COMP%]{min-height:500px;max-width:90%;overflow-y:scroll}"]})}return t})();function sB(t,e){if(1&t){const n=fe();v(0,"button",4),$("click",function(){return X(n),J(P().nextStep())}),D(1," Next Slide"),m()}}function oB(t,e){if(1&t){const n=fe();v(0,"button",4),$("click",function(){return X(n),J(P().prevStep())}),D(1,"Previous Slide"),m()}}function aB(t,e){1&t&&(v(0,"div")(1,"h3"),D(2,"Super Gembag Wars"),m(),V(3,"br"),v(4,"p"),D(5,"This is a game about surviving a horde of enemies knocking at your wall. Your goal is to destroy the enemy deck while keeping your life above 0. "),m(),V(6,"br"),v(7,"p"),D(8,"To protect your life, you have a wall that will absorb attacks until it reach 0. Each square of wall represents 5 wall hp rounded up. "),m(),V(9,"br"),v(10,"p"),D(11,"When you attack the hoard, for each 1 damage you deal, the hoard discards a card from their deck."),m(),V(12,"img",5),m())}function lB(t,e){if(1&t&&(v(0,"div")(1,"h3"),D(2,"Understanding a Card"),m(),V(3,"app-card",6),v(4,"p"),D(5,"Every non-mine card has a cost consisting of Gems and gold."),m(),v(6,"p"),D(7,"You gain resources by playing mines"),m(),v(8,"p"),D(9,"This card costs 1 ruby and 1 gold"),m(),V(10,"app-card",6),v(11,"p"),D(12,"This is a basic mine. It will give you one gem right away and 1 gem at the start of each of your turns"),m(),v(13,"p"),D(14,"Basic mines are free to play, BUT you may only play one mine per turn"),m(),v(15,"p"),D(16,"You start the game with 4 gold and 1 basic gold mine"),m(),V(17,"img",7),v(18,"h3"),D(19,"Controls"),m(),v(20,"p"),D(21,"To play a card from your hand, double click on it. If a card is currently playable (it is the right time and you can afford it), then it will be highlighted in green. "),m(),v(22,"p"),D(23,"If a card is not playable, it will be highlighted in red."),m()()),2&t){const n=P();C(3),S("card",n.spell),C(7),S("card",n.mine)}}function cB(t,e){if(1&t&&(v(0,"div")(1,"p"),D(2,"Factions"),m(),V(3,"app-gembag",8),v(4,"p"),D(5,"In this game there are 5 factions each with their own gem. The 6th resource, gold, is used by all factions "),m(),v(6,"p"),D(7,"These icons are used to represent costs, current resources and income for the player"),m(),v(8,"p"),D(9,"For now, all cards will have a single faction."),m(),v(10,"p"),D(11,"Here's a little bit about the strengths and weaknesses of each faction:"),m(),V(12,"br")(13,"img",9),v(14,"p"),D(15,"Sun "),m(),v(16,"p"),D(17,"Strengths: Good attack and speed on creatures. Lots of damage."),m(),v(18,"p"),D(19,"Weaknesses: low HP creatures, good at destroying other's walls, bad at maintaining theirs"),m(),V(20,"br")(21,"img",10),v(22,"p"),D(23,"Ocean"),m(),v(24,"p"),D(25,"Strengths: Good healing and card draw, high HP creatures"),m(),v(26,"p"),D(27,"Weaknesses: Poor offensive creatures, lack of removal"),m(),V(28,"br")(29,"img",11),v(30,"p"),D(31,"Sky"),m(),v(32,"p"),D(33,"Strengths: Lots of flying, speedy, and dodging, good card draw"),m(),v(34,"p"),D(35,"Weaknesses: Low Hp creatures, low attack/hp creatures"),m(),V(36,"br")(37,"img",12),v(38,"p"),D(39,"Earth"),m(),v(40,"p"),D(41,"Strengths: High HP and Attack Creatures, good at getting gems"),m(),v(42,"p"),D(43,"Weaknesses: Low speed Creatures, no card draw"),m(),V(44,"br")(45,"img",13),v(46,"p"),D(47,"Moon and Stars"),m(),v(48,"p"),D(49,"Strengths: Kill enemy creatures, revive your own. Speedy creatures, Healing -however, not as good as Ocean "),m(),v(50,"p"),D(51,"Weaknesses: Creatures that start with low stats and buff up over time, no card draw "),m()()),2&t){const n=P();C(3),S("bag",n.gembag)("imgWidth",48)}}function uB(t,e){if(1&t&&(v(0,"div")(1,"p"),D(2,"Creature Stats"),m(),V(3,"app-card",6),v(4,"p"),D(5,"Each Creature has 3 stats:"),m(),V(6,"img",14),v(7,"p"),D(8," Attack - this determines how much damage the creature deals"),m(),V(9,"br")(10,"img",15),v(11,"p"),D(12,"HP - this determines how much damage a creature can take before dying"),m(),V(13,"br")(14,"img",16),v(15,"p"),D(16,"Speed - when fighting another creature this determines who goes first. In case of a tie, creaute deal damage simultaneously"),m(),V(17,"br"),v(18,"p"),D(19,"Any changes to stats are permanent, whether through spells or combat. Certain abilities can heal creatures, however."),m()()),2&t){const n=P();C(3),S("card",n.creature)}}function dB(t,e){if(1&t&&(v(0,"div")(1,"h2"),D(2,"Card Types"),m(),v(3,"div",17),V(4,"app-card",6)(5,"app-card",6)(6,"app-card",6),m(),v(7,"p"),D(8,"In this demo there are 3 card types: "),m(),v(9,"ul")(10,"li"),D(11,"Creatures - attacks, blocks, and has various abilities"),m(),v(12,"li"),D(13,"Spells - does a one use effect"),m(),v(14,"li"),D(15,"Mines - produces resources"),m()(),v(16,"p"),D(17,"More types are planned as the game is built out!"),m()()),2&t){const n=P();C(4),S("card",n.creature),C(1),S("card",n.spell),C(1),S("card",n.mine)}}function hB(t,e){1&t&&(v(0,"div")(1,"h2"),D(2,"Horde Phases"),m(),v(3,"p"),D(4,"Each Turn consists of several phases."),m(),v(5,"p"),D(6,"These phases different between the horde and the player. The horde's turns are automatic. Let's look at the horde first:"),m(),V(7,"br"),v(8,"p"),D(9,"Main - the horde draws and plays cards. The horde deck has 2 types of cards: Regular ones and minions"),m(),V(10,"img",18),v(11,"p"),D(12,"When drawing, the horde draws and plays minion cards until it draws and plays a regular card"),m(),V(13,"br"),v(14,"p"),D(15,"Combat - The horde will attack with all of its creatures. All horde creatures may attack right away. Attacking is signifier in 2 ways the card is rotated 90 degrees and the red sword appears over the card. "),m(),V(16,"img",19),v(17,"p"),D(18,"If the player chooses to block an attacker, the blocking creature will have a shield appear over them."),m(),V(19,"img",20),v(20,"p"),D(21,"The player may block horde creatures to prevent damage to themselves."),m(),v(22,"p"),D(23,"Blockers - the player may decide to block the horde's creatures. A blocked creature will not damage a player's wall or HP"),m(),V(24,"br"),v(25,"p"),D(26,"Combat Results - displays how much damage creatures have taken. If a creature becomes faded, it has taken enough damage to die."),m(),V(27,"img",21)(28,"br"),v(29,"p"),D(30,"End - any until end of turn effects wear off here. Some cards will activate here as well."),m(),v(31,"p"),D(32,"Should the horde play a card that requires any kind of decision making, it will choose targets randomly. "),m()())}function fB(t,e){1&t&&(v(0,"div")(1,"h2"),D(2,"Player Phases"),m(),v(3,"p"),D(4,"Now let's get into the player's phases:"),m(),v(5,"p"),D(6,"Main 1 - At the start of this phase you gain your income from your mines and all of your creatures turn upright, ready to attack again. You may play any cards you can afford during this phase. Anything you can play will be highlighted with a green border. Anything you cannot play will be highlighted in red."),m(),V(7,"br"),v(8,"p"),D(9,"Combat - This is more straight forward than the the horde. Pick what creatures you want to attack and they will damage the enemy's wall, and then once that's destroyed, their deck. However, any rotated creature may NOT block, so measure the risk/reward carefully. "),m(),V(10,"br"),v(11,"p"),D(12,"Main 2 - This occurs only when you attacked. No income, but you may play cards following the same rules as the previous main phase. When you are done with this phase, it swaps to the enemy's turn"),m()())}let aD=(()=>{class t{constructor(){this.step=0,this.cardService={},this.gembag=new I(1,1,1,1,1,1),this.tutorialDone=new he,this.cardFa=new Ti(this.cardService),this.dmgEffect=new Hs(4,this.cardService,j.Single,p.Opponent,!1,!0),this.targeted=new tn([x.Creature,x.Player],p.Opponent,[y.play],1,[this.dmgEffect],this.cardService),this.spell=new Ze("Fire Blast",new I(1,1),"","Deal 4 damage to any opponent or opponent's creature",[this.targeted],!0,p.Self,y.any,[w.Sun]),this.mine=this.cardFa.generateBasicMine(A.LionEye),this.creature=new L(2,2,2,"Goblin",new I(1,1),"","",!1,p.Self,y.any,[w.Sun])}nextStep(){this.step++}prevStep(){this.step--,this.step<0&&(this.step=0)}done(){this.tutorialDone.emit()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=$e({type:t,selectors:[["app-tutorial"]],inputs:{cardService:"cardService"},outputs:{tutorialDone:"tutorialDone"},decls:14,vars:9,consts:[[1,"mapColors","centerElement","mainMargins","tutorialHeight","blackFont"],[2,"float","right","margin","15px",3,"click"],[3,"click",4,"ngIf"],[4,"ngIf"],[3,"click"],["src","assets/LifeTotals.png"],[3,"card"],["src","assets/Income.png"],[3,"bag","imgWidth"],["width","64px","src","assets/Ruby.png"],["width","64px","src","assets/Saphire.png"],["width","64px","src","assets/topaz.png"],["width","64px","src","assets/Emerald.png"],["width","64px","src","assets/eye.png"],["height","64px","src","assets/attackSymbol.png"],["height","64px","src","assets/HP Symbol.png"],["height","64px","src","assets/Speed Symbol.png"],[1,"cardRow"],["src","assets/Minions.png"],["src","assets/Attacking.png"],["src","assets/Blocking.png"],["src","assets/Result.png"]],template:function(r,i){1&r&&(v(0,"div",0)(1,"button",1),$("click",function(){return i.done()}),D(2,"X"),m(),v(3,"h2"),D(4,"Tutorial"),m(),N(5,sB,2,0,"button",2),N(6,oB,2,0,"button",2),N(7,aB,13,0,"div",3),N(8,lB,24,2,"div",3),N(9,cB,52,2,"div",3),N(10,uB,20,1,"div",3),N(11,dB,18,3,"div",3),N(12,hB,33,0,"div",3),N(13,fB,13,0,"div",3),m()),2&r&&(C(5),S("ngIf",i.step<6),C(1),S("ngIf",i.step>0),C(1),S("ngIf",0===i.step),C(1),S("ngIf",1===i.step),C(1),S("ngIf",2===i.step),C(1),S("ngIf",3===i.step),C(1),S("ngIf",4===i.step),C(1),S("ngIf",5===i.step),C(1),S("ngIf",6===i.step))},dependencies:[mt,cr,va],styles:[".centerText[_ngcontent-%COMP%]{text-align:center}.alignCard[_ngcontent-%COMP%]{margin-left:50%}.windowDimensions[_ngcontent-%COMP%]{width:80%;height:90%;padding:10px}p[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], .margin[_ngcontent-%COMP%]{margin-left:15px}"]})}return t})();const pB=function(t,e){return{"top.px":t,"left.px":e}};function gB(t,e){if(1&t&&(v(0,"div",2)(1,"p",3),D(2),m(),v(3,"p"),D(4),m()()),2&t){const n=P();S("ngStyle",ia(3,pB,n.popupY,n.popupX)),C(2),gt(n.relic.name),C(2),gt(n.relic.description)}}let lD=(()=>{class t{constructor(){this.relic={},this.prefix="assets",this.popupVisible=!1,this.popupX=100,this.popupY=100}getImageSrc(){return"assets/"+this.relic.image}showPopup(n){this.popupVisible=!0,this.updatePopupPosition(n)}movePopup(n){this.updatePopupPosition(n)}hidePopup(){this.popupVisible=!1}updatePopupPosition(n){this.popupX=n.clientX+10,this.popupY=n.clientY+10}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=$e({type:t,selectors:[["app-relic"]],inputs:{relic:"relic"},decls:2,vars:2,consts:[["width","64px","height","64px","alt","Your Image",1,"relic",3,"src","mouseover","mousemove","mouseout"],["class","popUp","class","popup",3,"ngStyle",4,"ngIf"],[1,"popup",3,"ngStyle"],[1,"relicHeader"]],template:function(r,i){1&r&&(v(0,"img",0),$("mouseover",function(o){return i.showPopup(o)})("mousemove",function(o){return i.movePopup(o)})("mouseout",function(){return i.hidePopup()}),m(),N(1,gB,5,6,"div",1)),2&r&&(Kr("src",i.getImageSrc(),Sr),C(1),S("ngIf",i.popupVisible))},dependencies:[mt,Mi],styles:[".relicHeader[_ngcontent-%COMP%]{color:#f3e712}"]})}return t})();function mB(t,e){1&t&&V(0,"app-relic",8),2&t&&S("relic",P().$implicit)}function yB(t,e){if(1&t&&(v(0,"div"),N(1,mB,1,1,"app-relic",7),m()),2&t){const n=e.$implicit;C(1),S("ngIf",void 0!==n)}}function vB(t,e){if(1&t&&(v(0,"div")(1,"p",9),D(2),m()()),2&t){const n=P();C(2),gt(n.cardService.difficultyMods)}}function _B(t,e){if(1&t){const n=fe();v(0,"div",10)(1,"button",11),$("click",function(){return X(n),J(P().toggleShowDeck())}),D(2,"X"),m(),V(3,"app-deck-viewer",12),m()}if(2&t){const n=P();C(3),S("deck",n.deck)}}function wB(t,e){if(1&t){const n=fe();v(0,"div",10)(1,"button",11),$("click",function(){return X(n),J(P().toggleDisplayHelp())}),D(2,"X"),m(),V(3,"app-tutorial"),m()}}let CB=(()=>{class t{constructor(){this.showDeck=!1,this.displayHelp=!1,this.deck=[],this.relics=[],this.cardService={}}toggleShowDeck(){this.showDeck=!this.showDeck,this.displayHelp=!1}toggleDisplayHelp(){this.displayHelp=!this.displayHelp,this.showDeck=!1}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=$e({type:t,selectors:[["app-header"]],inputs:{deck:"deck",relics:"relics",cardService:"cardService"},decls:13,vars:4,consts:[[1,"wrapper"],["id","MenuButtons"],[3,"click"],["id","Header"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","paneBg whiteFont popUp scrollBar",4,"ngIf"],[3,"relic",4,"ngIf"],[3,"relic"],[1,"whiteFont"],[1,"paneBg","whiteFont","popUp","scrollBar"],[1,"xButton",3,"click"],[1,"popUp",3,"deck"]],template:function(r,i){1&r&&(v(0,"div",0)(1,"div",1)(2,"button",2),$("click",function(){return i.toggleShowDeck()}),v(3,"p"),D(4,"Show your Deck"),m()(),v(5,"button",2),$("click",function(){return i.toggleDisplayHelp()}),v(6,"p"),D(7,"Glossary"),m()()(),v(8,"div",3),N(9,yB,2,1,"div",4),m(),N(10,vB,3,1,"div",5),N(11,_B,4,1,"div",6),N(12,wB,4,0,"div",6),m()),2&r&&(C(9),S("ngForOf",i.relics),C(1),S("ngIf",""!==i.cardService.difficultyMods),C(1),S("ngIf",i.showDeck),C(1),S("ngIf",i.displayHelp))},dependencies:[$t,mt,oD,aD,lD],styles:["#HowToPlay[_ngcontent-%COMP%]{position:fixed;left:auto;right:auto;width:80%;top:50px}.popUp[_ngcontent-%COMP%]{position:absolute;top:50px;z-index:999;scroll-behavior:auto;left:12%;right:12%;height:90%;width:80%}h3[_ngcontent-%COMP%]{margin-top:15px;font-size:30px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.scrollBar[_ngcontent-%COMP%]{overflow-y:auto}.xButton[_ngcontent-%COMP%]{position:absolute;z-index:1000;top:5px;right:5px}#Header[_ngcontent-%COMP%]{display:flex;min-height:64px}#MenuButtons[_ngcontent-%COMP%]{float:right}.wrapper[_ngcontent-%COMP%]{background-color:#0c0303}"]})}return t})();class cD{constructor(e){this.cardService=e,this.deckStorage=new $s(e,this.cardService.playerService)}getHeroes(){let e=[],n=new Re(1,1,1,this.cardService,p.Self,j.All),r=new rt([n],this.cardService),i=new en(2,2,2,"Ser Grimith the bland",new I(2),"","All your creatures get +1/+1/+1",p.Self,y.hero,[w.Colorless],!1,[r],[],ge.Common);e.push(i);let s=new Re(0,2,2,this.cardService,p.Self,j.All),o=new rt([s],this.cardService),a=new en(5,3,5,"Solara the Radiant",new I(2,2,0,2),"Sun, Earth","All your creatures get +2/+2/+0",p.Self,y.hero,[w.Sun,w.Earth],!1,[o],[],ge.Rare);e.push(a);let l=new Re(1,1,1,this.cardService,p.Self,j.All),u=(new Me([l],[z.DrawCard],this.cardService,p.Self,[y.play]),new Re(-1,-1,-1,this.cardService,p.Opponent,j.All));u.repeatable=!0;let d=new Et(Ie.Gems,1,A.Sapphire),h=new Et(Ie.Gems,1,A.LionEye),f=new yt(this.cardService,[d,h],[u],{}),g=new en(4,3,4,"Lunara the Tidal",new I(2,0,1,0,1),"","Pay 1 Sapphire and 1 Lion's Eye Diamond: All enemy creatures get -1/-1/-1",p.Self,y.hero,[w.Neptune,w.MoonAndStars],!1,[f],[],ge.SuperRare);e.push(g),f.user=g;let _=new Et(Ie.Gems,2,A.Gold),M=new Pn(this.cardService,j.Single,p.Self),T=new yt(this.cardService,[_],[M],{}),b=new en(3,2,2,"King Aves",new I(1,0,1,0,0,1),"","Pay 2 Gold: Draw a card",p.Self,y.hero,[w.Sky,w.Neptune],!1,[T],[E.Flying],ge.SuperRare);e.push(b);let F=new Re(0,3,0,this.cardService,p.Self,j.All),B=new Ii(this.cardService,j.All,[y.play],p.Self,[E.Repair]),q=new rt([F,B],this.cardService),ce=new en(5,6,4,"Terra the Grounded",new I(2,0,0,3),"","All your creatures get +3 HP and gain Repair 1",p.Self,y.hero,[w.Earth],!1,[q],[],ge.Rare);i.repairAmount=2,e.push(ce),new Re(0,0,0,this.cardService,p.Self,j.All),new Et(Ie.Gems,5,A.Sapphire),new Et(Ie.Gems,5,A.Emerald);let at=new en(1,1,1,"Buck Bumble",new I(0,0,0,2,0,2),"Sky, Earth","",p.Self,y.hero,[w.Sky,w.Earth],!1,[],[E.Flying,E.Armorer,E.Sharpen,E.Momentum,E.Ensnare,E.Sentry],ge.Rare);at.ensnareAmount=3,e.push(at);let vn=this.deckStorage.getCardByName("fire bolt",p.Self),nn=this.deckStorage.getCardByName("freeze",p.Self),Gt=this.deckStorage.getCardByName("divine eyes",p.Self),li=new IL(this.cardService,[vn,nn,Gt],p.Self),ci=new Me([li],[z.Start],this.cardService,p.Self,[y.hero]),U=new en(5,4,8,"Mystic with no name",new I(1,1,1,0,1),"Moon, Fire, Water","At the start of your turn, add a random spell to your hand",p.Self,y.hero,[w.MoonAndStars,w.Sun,w.Neptune],!1,[ci],[],ge.Rare);return e.push(U),e}getHeroDecks(e){return[]}getHeroByIndex(e){return this.getHeroes()[e]}getHeroByName(e){return this.getHeroes().find(n=>n.name===e)}}class SB{constructor(e,n){this.hero=e,this.deck=n}}function bB(t,e){if(1&t&&V(0,"img",8),2&t){const n=e.$implicit;Kr("src",P(2).gemBag.getImageByFaction(n),Sr)}}function DB(t,e){if(1&t){const n=fe();v(0,"button",6),$("click",function(){const s=X(n).$implicit;return J(P().swapHeroView(s))}),N(1,bB,1,1,"img",7),v(2,"p"),D(3),m()()}if(2&t){const n=e.$implicit;C(1),S("ngForOf",n.hero.factions),C(2),gt(n.hero.name)}}let EB=(()=>{class t{constructor(){this.cardService={},this.player={},this.enemy={},this.decks={},this.heroStorage={},this.selectedDeck=[],this.heroDecks=[],this.selectDeckEvent=new he,this.showEarth=!1,this.showFire=!1,this.showAir=!1,this.showMoon=!1,this.showWater=!1,this.blurb="",this.gemBag=new I}ngOnInit(){this.heroStorage=new cD(this.cardService),this.decks=new $s(this.cardService,this.cardService.playerService);let n=this.heroStorage.getHeroes();for(let r=0;r<n.length;r++){let i=n[r],s=this.decks.getHeroDeck(i);console.log(s);let o=new SB(i,s);this.heroDecks.push(o)}}swapHeroView(n){this.blurb=this.getBlurb(n.hero.factions)+" ",this.selectedDeck=n.deck,this.cardService.selectedFactions=n.hero.factions,console.log("remember to remove this once the hero images are added"),n.hero.image="",this.cardService.hero=n.hero}getBlurb(n){let r="";for(let i=0;i<n.length;i++)switch(n[i]){case w.Sky:r+="Air is the faction of wisdom, flexibility, and flight. Air values freedom.";break;case w.Neptune:r+="Water is the faction of logic, knowledge, and change. Water values truth.";break;case w.Sun:r+="Fire is the faction of offense, impulse, and emotion. Fire values passion.";break;case w.MoonAndStars:r+="Moon and Stars is the faction of life, death, and the cosmos. They value mystery and paradox.";break;case w.Earth:r+="Earth is the faction of loyalty, hardiness, and mining. Earth values order.";break;default:r+="Colorless is neutral and mercenary. They pretty much only care about gold."}return r}swapView(n){switch(this.showAir=!1,this.showEarth=!1,this.showFire=!1,this.showWater=!1,this.showMoon=!1,n){case"air":this.showAir=!0,this.cardService.selectedFactions=[w.Sky],this.selectedDeck=this.decks.airDeck(p.Self),this.blurb="Air is the faction of wisdom, flexibility, and flight. Air values freedom.";break;case"water":this.showWater=!0,this.cardService.selectedFactions=[w.Neptune],this.selectedDeck=this.decks.waterDeck(p.Self),this.blurb="Water is the faction of logic, knowledge, and change. Water values truth.";break;case"fire":this.showFire=!0,this.cardService.selectedFactions=[w.Sun],this.selectedDeck=this.decks.fireDeck(p.Self),this.blurb="Fire is the faction of offense, impulse, and emotion. Fire values passion.";break;case"moon":this.showMoon=!0,this.cardService.selectedFactions=[w.MoonAndStars],this.selectedDeck=this.decks.starDeck(p.Self),this.blurb="Moon and Stars is the faction of life, death, and the cosmos. They value mystery and paradox.";break;case"earth":this.showEarth=!0,this.cardService.selectedFactions=[w.Earth],this.selectedDeck=this.decks.earthDeck(p.Self),this.blurb="Earth is the faction of loyalty, hardiness, and mining. Earth values order."}this.selectedDeck.push(...this.decks.getRandomNeutralCards(p.Self))}showDeck(){return this.showFire||this.showAir||this.showEarth||this.showMoon||this.showWater}deckChoosen(){this.selectDeckEvent.emit(this.selectedDeck)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=$e({type:t,selectors:[["app-deck-picker"]],inputs:{cardService:"cardService",player:"player",enemy:"enemy"},outputs:{selectDeckEvent:"selectDeckEvent"},decls:11,vars:4,consts:[[1,"centerText"],[1,"iconRow","centerElement"],[3,"click",4,"ngFor","ngForOf"],[1,"centerElement",3,"click"],["id","HeroDisplay",1,"centerElement",3,"card"],[3,"deck"],[3,"click"],["class","iconDimensions",3,"src",4,"ngFor","ngForOf"],[1,"iconDimensions",3,"src"]],template:function(r,i){1&r&&(v(0,"h2",0),D(1,"Select which deck you want to play"),m(),v(2,"div",1),N(3,DB,4,2,"button",2),m(),v(4,"div")(5,"button",3),$("click",function(){return i.deckChoosen()}),D(6,"Select this deck"),m(),V(7,"app-card",4),m(),v(8,"p",0),D(9),m(),V(10,"app-deck-viewer",5)),2&r&&(C(3),S("ngForOf",i.heroDecks),C(4),S("card",i.cardService.hero),C(2),gt(i.blurb),C(1),S("deck",i.selectedDeck))},dependencies:[$t,cr,oD],styles:[".popUp[_ngcontent-%COMP%]{position:fixed;top:50px;z-index:999999;scroll-behavior:auto;left:7%;right:15%}button[_ngcontent-%COMP%]{margin-bottom:10px}.iconDimensions[_ngcontent-%COMP%]{width:4rem}.iconRow[_ngcontent-%COMP%]{display:flex;justify-content:center}#HeroDisplay[_ngcontent-%COMP%]{width:150px;font-size:medium}"]})}return t})();var De=function(t){return t[t.Random=0]="Random",t[t.Event=1]="Event",t[t.Battle=2]="Battle",t[t.Relic=3]="Relic",t[t.Pack=4]="Pack",t[t.Boss=5]="Boss",t}(De||{});class AB{constructor(e,n){this.nodes=[],this.columnPos=e,this.nodes=n}}class kt{constructor(e,n,r,i,s){this.nextNodes=[],this.rewards=[],this.image="",this.description="",this.nodeType=e,this.difficulty=n,this.nodePos=i,void 0!==s&&(this.rewards=s),this.image=this.getImage(),this.cardService=r,this.decks=new $s(this.cardService,this.cardService.playerService),this.setDescription()}setDescription(){switch(this.nodeType){case De.Random:this.description="Random - Anything can happen";break;case De.Battle:this.description="Battle - Fight a horde, get a reward";break;case De.Relic:this.description="Relic Chest - Gain a permanent passive buff";break;case De.Boss:this.description="Boss Battle - A harder fight, bosses gain randomized boosts";break;case De.Event:this.description="Event - Anything can happen";break;case De.Pack:this.description="Pack - Choose 1 of 6 cards"}}getImage(){let e="assets/";switch(this.nodeType){case De.Random||De.Event:return e+"random.png";case De.Battle:return e+"battle.png";case De.Relic:return e+"chest.png";case De.Boss:return e+"boss.png";case De.Pack:return e+"pack.png";default:return""}}makeEnemyDeck(){let e=this.cardService.difficulty,n=Math.floor(6*Math.random());this.decks.cardAmount=2;let r=this.decks.getEnemyDeck(e,1,n);this.decks.cardAmount=4;let i=new uD(this.cardService);this.cardService.cardList.push(...r),i.applyDifficultyNormalBoosters(this.difficulty,n)}makeBossDeck(){let e=this.cardService.difficulty,n=new uD(this.cardService),r=Math.floor(6*Math.random()),i=this.decks.getEnemyDeck(e,1,r);this.cardService.cardList.push(...i),n.applyDifficultyBossBoosters(3,r)}Visit(e){switch(this.nodeType){case De.Random:break;case De.Battle:this.makeEnemyDeck();break;case De.Relic:break;case De.Boss:this.makeBossDeck()}}}class uD{constructor(e){this.enemyDeck=[],this.difficulty=0,this.description="",this.cardService=e}applyDifficultyNormalBoosters(e,n){for(let r=0;r<e;r++)switch(Ue(2,6)){case 2:this.moreSpeed(1),this.description+="All enemy creatures get +1 speed. ";break;case 3:this.moreAttack(1),this.description+="All enemy creatures get +1 attack. ";break;case 4:this.moreHp(1),this.description+="All enemy creatures get +1 HP. ";break;case 5:this.moreMinions(2*this.difficulty,n),this.description+="The enemy deck has more minions. ";break;case 6:this.addBoss(this.difficulty,n),this.description+="The enemy deck has several elite creatures. "}this.cardService.difficultyMods=this.description,console.log(this.cardService.difficultyMods)}applyDifficultyBossBoosters(e,n){for(let r=0;r<e;r++)switch(Ue(1,7)){case 1:this.extraPull(),this.description+="Every turn, the enemy flips over cards a second time. ";break;case 2:this.moreSpeed(2),this.description+="All enemy creatures get +2 speed. ";break;case 3:this.moreAttack(2),this.description+="All enemy creatures get +2 attack. ";break;case 4:this.moreHp(2),this.description+="All enemy creatures get +2 HP. ";break;case 5:this.moreMinions(5,n),this.description+="The enemy deck has 10 more minions. ";break;case 6:this.addBoss(4,n),this.description+="The enemy deck has 4 extra elite creatures. ";break;case 7:this.addRandomKeyword(),this.description+="Enemy creatures all have a random extra keyword. "}this.cardService.difficultyMods=this.description,console.log(this.cardService.difficultyMods)}extraPull(){this.cardService.playerService.opponent.pullsPerTurn++}moreSpeed(e){let n=this.cardService.getCards(y.any,p.Opponent,x.Creature);for(let r=0;r<n.length;r++)n[r].speed+=e}moreAttack(e){let n=this.cardService.getCards(y.any,p.Opponent,x.Creature);for(let r=0;r<n.length;r++)n[r].attack+=e}moreHp(e){let n=this.cardService.getCards(y.any,p.Opponent,x.Creature);for(let r=0;r<n.length;r++){let i=n[r];i.baseHp+=e,i.hp=i.baseHp}}addBoss(e,n){let r=new Ti(this.cardService);for(let i=0;i<e;i++){let s=Ue(5,8),o=r.generateAiMinion(n,s,y.deck);o.isMinion=!1,o.name="Elite",o.owner=p.Opponent,this.cardService.cardList.push(o)}}moreMinions(e,n){let r=new Ti(this.cardService);for(let i=0;i<e;i++){let s=Ue(1,5),o=r.generateAiBasicMinion(n,s,y.deck);o.owner=p.Opponent,this.cardService.cardList.push(o),s=Ue(1,5);let a=r.generateAiMinion(n,s,y.deck);a.owner=p.Opponent,this.cardService.cardList.push(a)}}addRandomKeyword(){let e=this.cardService.getCards(y.any,p.Opponent,x.Creature);for(let n=0;n<e.length;n++){let r=Ue(0,15),i=e[n];i.keywords.includes(r)||i.keywords.push(r)}}}function TB(t,e){if(1&t&&(v(0,"div",15),D(1),m()),2&t){const n=P().$implicit;C(1),tt(" ",n.description," ")}}const IB=function(t,e){return{nodeImage:t,prevNode:e}};function kB(t,e){if(1&t){const n=fe();v(0,"div",12),$("click",function(){const s=X(n).$implicit,o=P().$implicit,a=P(2);return J(o.columnPos===a.cardService.currentPos?a.selectNode(s):null)})("mouseenter",function(){const s=X(n).$implicit;return J(P(3).showDescription=s.description)})("mouseleave",function(){return X(n),J(P(3).showDescription="")}),V(1,"img",13),N(2,TB,2,1,"div",14),m()}if(2&t){const n=e.$implicit,r=P().$implicit,i=P(2);S("ngClass",ia(3,IB,r.columnPos===i.cardService.currentPos,r.columnPos<i.cardService.currentPos)),C(1),S("src",n.image,Sr),C(1),S("ngIf",i.showDescription===n.description)}}function PB(t,e){if(1&t&&(v(0,"div"),N(1,kB,3,6,"div",11),m()),2&t){const n=e.$implicit;C(1),S("ngForOf",n.nodes)}}function NB(t,e){if(1&t&&(v(0,"div",9),N(1,PB,2,1,"div",10),m()),2&t){const n=P();C(1),S("ngForOf",n.displayNodes)}}function RB(t,e){1&t&&(v(0,"div",16)(1,"h2",6),D(2,"You Win the game! Thanks for playing!"),m()())}let OB=(()=>{class t{constructor(){this.player={},this.cardService={},this.enemyDeckEvent=new he,this.packSelectEvent=new he,this.relicSelectEvent=new he,this.enemyDeck=[],this.currentPos=0,this.nodes=[],this.displayNodes=[],this.showDescription=""}ngOnInit(){this.player.cardService=this.cardService,this.nodes=[new kt(De.Relic,1,this.cardService,0),new kt(De.Pack,1,this.cardService,0),new kt(De.Battle,1,this.cardService,1),new kt(De.Pack,1,this.cardService,2),new kt(De.Battle,1,this.cardService,3),new kt(Ue(2,4),1,this.cardService,4),new kt(Ue(2,4),1,this.cardService,4),new kt(Ue(2,4),1,this.cardService,5),new kt(Ue(2,4),1,this.cardService,5),new kt(Ue(2,4),1,this.cardService,6),new kt(Ue(2,4),1,this.cardService,6),new kt(Ue(2,4),1,this.cardService,6),new kt(De.Battle,1,this.cardService,7),new kt(De.Relic,1,this.cardService,8),new kt(Ue(1,5),1,this.cardService,9),new kt(De.Boss,1,this.cardService,10)],this.getDisplayNodes()}getDisplayNodes(){let n=Math.max(...this.nodes.map(r=>r.nodePos),0);for(let r=0;r<=n;r++){let i=this.nodes.filter(s=>s.nodePos===r);this.displayNodes.push(new AB(r,i))}}selectNode(n){n.nodePos===this.cardService.currentPos&&(n.Visit(this.player),this.cardService.currentPos++,n.nodeType===De.Battle?this.enemyDeckEvent.emit():n.nodeType===De.Relic?this.relicSelectEvent.emit():n.nodeType===De.Boss?this.enemyDeckEvent.emit():n.nodeType===De.Pack&&this.packSelectEvent.emit())}getFutureNodes(){return this.nodes.filter(r=>r.nodePos>this.player.currentPos)}getCurrentNodes(){return this.nodes.filter(r=>r.nodePos===this.player.currentPos)}getPreviousNodes(){return this.nodes.filter(r=>r.nodePos<this.player.currentPos)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=$e({type:t,selectors:[["app-map"]],inputs:{player:"player",cardService:"cardService",currentPos:"currentPos"},outputs:{enemyDeckEvent:"enemyDeckEvent",packSelectEvent:"packSelectEvent",relicSelectEvent:"relicSelectEvent"},decls:28,vars:2,consts:[[1,"mapColors","legend"],["src","assets/battle.png",1,"centerElement"],["src","assets/random.png",1,"centerElement"],["src","assets/chest.png",1,"centerElement"],["src","assets/pack.png",1,"centerElement"],["src","assets/boss.png",1,"centerElement"],[1,"whiteFont","centerText"],["class","mapColors cardRow","style","margin-left: auto; margin-right: auto; width: 70%;",4,"ngIf","ngIfElse"],["youWin",""],[1,"mapColors","cardRow",2,"margin-left","auto","margin-right","auto","width","70%"],[4,"ngFor","ngForOf"],["class","node-container",3,"ngClass","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],[1,"node-container",3,"ngClass","click","mouseenter","mouseleave"],[3,"src"],["class","node-popup",4,"ngIf"],[1,"node-popup"],[1,"mapColors"]],template:function(r,i){if(1&r&&(v(0,"div",0)(1,"h2"),D(2,"Legend"),m(),V(3,"br"),v(4,"p"),D(5,"Battle"),m(),V(6,"img",1)(7,"br"),v(8,"p"),D(9,"Random Event"),m(),V(10,"img",2)(11,"br"),v(12,"p"),D(13,"Relics"),m(),V(14,"img",3)(15,"br"),v(16,"p"),D(17,"Card Pack"),m(),V(18,"img",4)(19,"br"),v(20,"p"),D(21,"Boss Battle"),m(),V(22,"img",5),m(),v(23,"h2",6),D(24,"Select where you want to go on the map"),m(),N(25,NB,2,1,"div",7),N(26,RB,3,0,"ng-template",null,8,xs)),2&r){const s=Ps(27);C(25),S("ngIf",i.currentPos<11)("ngIfElse",s)}},dependencies:[ha,$t,mt],styles:[".prevNode[_ngcontent-%COMP%]{opacity:.3}.legend[_ngcontent-%COMP%]{border:solid 5px black;padding:10px;float:right;width:10rem;text-align:center}.nodeImage[_ngcontent-%COMP%]{cursor:pointer;animation:_ngcontent-%COMP%_shrinkGrow 1.5s infinite ease-in-out;transition:transform .3s ease}@keyframes _ngcontent-%COMP%_shrinkGrow{0%{transform:scale(1.4)}50%{transform:scale(1)}to{transform:scale(1.4)}}.column[_ngcontent-%COMP%]{flex-direction:column}.node-container[_ngcontent-%COMP%]{position:relative}.node-popup[_ngcontent-%COMP%]{position:absolute;top:50px;left:50%;transform:translate(-50%);background-color:#fff;border:1px solid #ccc;z-index:10;width:200px;box-shadow:0 4px 8px #0003;font-size:14px;display:none;font-size:.7rem;width:10rem;height:auto;border:white solid 2px;background-image:linear-gradient(to bottom left,rgb(0,0,0),rgb(87,87,87));color:#fff;padding:5px 10px;border-radius:5px;font-family:Verdana,Geneva,Tahoma,sans-serif}.node-container[_ngcontent-%COMP%]:hover   .node-popup[_ngcontent-%COMP%]{display:block}"]})}return t})(),xB=(()=>{class t{constructor(){this.tutorialEvent=new he,this.newGameEvent=new he,this.debugEvent=new he,this.glossaryEvent=new he,this.gemBag=new I(0,1,1,1,1,1)}tutorial(){this.tutorialEvent.emit()}newGame(){this.newGameEvent.emit()}debug(){this.debugEvent.emit()}glossary(){this.glossaryEvent.emit()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=$e({type:t,selectors:[["app-main-menu"]],outputs:{tutorialEvent:"tutorialEvent",newGameEvent:"newGameEvent",debugEvent:"debugEvent",glossaryEvent:"glossaryEvent"},decls:15,vars:2,consts:[[1,"mapColors","centerElement","mainMenuWidth"],[1,"cardRow",2,"justify-content","center"],[3,"bag","imgWidth"],[1,"centerText"],[1,"centerElement","buttonWidth",3,"click"],[1,"centerElement","buttonWidth"]],template:function(r,i){1&r&&(v(0,"div",0)(1,"div",1),V(2,"app-gembag",2),m(),v(3,"h1",3),D(4,"Super Gem Bag Wars"),m(),v(5,"button",4),$("click",function(){return i.newGame()}),D(6,"New Game"),m(),V(7,"br"),v(8,"button",4),$("click",function(){return i.debug()}),D(9,"Debug Mode"),m(),v(10,"button",4),$("click",function(){return i.glossary()}),D(11,"Glossary"),m(),V(12,"br"),v(13,"button",5),D(14,"Exit"),m()()),2&r&&(C(2),S("bag",i.gemBag)("imgWidth",96))},dependencies:[va],styles:[".mainMenuWidth[_ngcontent-%COMP%]{width:80%;padding:10% 10px}.buttonWidth[_ngcontent-%COMP%]{width:10%}"]})}return t})();const{isArray:FB}=Array,{getPrototypeOf:LB,prototype:VB,keys:BB}=Object;function dD(t){if(1===t.length){const e=t[0];if(FB(e))return{args:e,keys:null};if(function jB(t){return t&&"object"==typeof t&&LB(t)===VB}(e)){const n=BB(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:HB}=Array;function hD(t){return Oe(e=>function $B(t,e){return HB(e)?t(...e):t(e)}(t,e))}function fD(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let pD=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(O(br),O(un))};static#t=this.\u0275dir=ie({type:t})}return t})(),Pi=(()=>{class t extends pD{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=bt(t)))(i||t)}}();static#t=this.\u0275dir=ie({type:t,features:[Te]})}return t})();const ur=new W("NgValueAccessor"),zB={provide:ur,useExisting:Fe(()=>vp),multi:!0},qB=new W("CompositionEventMode");let vp=(()=>{class t extends pD{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function WB(){const t=Yr()?Yr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(O(br),O(un),O(qB,8))};static#t=this.\u0275dir=ie({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&$("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[qe([zB]),Te]})}return t})();const Pt=new W("NgValidators"),ti=new W("NgAsyncValidators");function ED(t){return null!=t}function MD(t){return Zo(t)?pt(t):t}function AD(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function TD(t,e){return e.map(n=>n(t))}function ID(t){return t.map(e=>function ZB(t){return!t.validate}(e)?e:n=>e.validate(n))}function _p(t){return null!=t?function kD(t){if(!t)return null;const e=t.filter(ED);return 0==e.length?null:function(n){return AD(TD(n,e))}}(ID(t)):null}function wp(t){return null!=t?function PD(t){if(!t)return null;const e=t.filter(ED);return 0==e.length?null:function(n){return function UB(...t){const e=nm(t),{args:n,keys:r}=dD(t),i=new it(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;sn(n[u]).subscribe(st(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?fD(r,a):a),s.complete())}))}});return e?i.pipe(hD(e)):i}(TD(n,e).map(MD)).pipe(Oe(AD))}}(ID(t)):null}function ND(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Cp(t){return t?Array.isArray(t)?t:[t]:[]}function $c(t,e){return Array.isArray(t)?t.includes(e):t===e}function xD(t,e){const n=Cp(e);return Cp(t).forEach(i=>{$c(n,i)||n.push(i)}),n}function FD(t,e){return Cp(e).filter(n=>!$c(t,n))}class LD{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=_p(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=wp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Ut extends LD{get formDirective(){return null}get path(){return null}}class ni extends LD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class VD{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let BD=(()=>{class t extends VD{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(O(ni,2))};static#t=this.\u0275dir=ie({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Qo("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Te]})}return t})();const _a="VALID",Gc="INVALID",Us="PENDING",wa="DISABLED";function zc(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class UD{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===_a}get invalid(){return this.status===Gc}get pending(){return this.status==Us}get disabled(){return this.status===wa}get enabled(){return this.status!==wa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(xD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(xD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(FD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(FD(e,this._rawAsyncValidators))}hasValidator(e){return $c(this._rawValidators,e)}hasAsyncValidator(e){return $c(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Us,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=wa,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=_a,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_a||this.status===Us)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wa:_a}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Us,this._hasOwnPendingAsyncValidator=!0;const n=MD(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new he,this.statusChanges=new he}_calculateStatus(){return this._allControlsDisabled()?wa:this.errors?Gc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Us)?Us:this._anyControlsHaveStatus(Gc)?Gc:_a}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){zc(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function e3(t){return Array.isArray(t)?_p(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function t3(t){return Array.isArray(t)?wp(t):t||null}(this._rawAsyncValidators)}}const Gs=new W("CallSetDisabledState",{providedIn:"root",factory:()=>Wc}),Wc="always";function Ca(t,e,n=Wc){(function Ap(t,e){const n=function RD(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(ND(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function OD(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(ND(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Zc(e._rawValidators,i),Zc(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function i3(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&GD(t,e)})}(t,e),function o3(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function s3(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&GD(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function r3(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Zc(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function GD(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function qD(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function KD(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const ZD=class extends UD{constructor(e=null,n,r){super(function Dp(t){return(zc(t)?t.validators:t)||null}(n),function Ep(t,e){return(zc(e)?e.asyncValidators:t)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zc(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=KD(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){qD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){qD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){KD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},p3={provide:ni,useExisting:Fe(()=>Np)},XD=(()=>Promise.resolve())();let Np=(()=>{class t extends ni{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new ZD,this._registered=!1,this.name="",this.update=new he,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function kp(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===vp?n=s:function c3(t){return Object.getPrototypeOf(t.constructor)===Pi}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function Ip(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ca(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){XD.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&function Vs(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(r);XD.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function qc(t,e){return[...e.path,t]}(n,this._parent):[n]}static#e=this.\u0275fac=function(r){return new(r||t)(O(Ut,9),O(Pt,10),O(ti,10),O(ur,10),O(_c,8),O(Gs,8))};static#t=this.\u0275dir=ie({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[qe([p3]),Te,Dn]})}return t})(),eE=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Yn({type:t});static#n=this.\u0275inj=Fn({})}return t})();const E3={provide:ur,useExisting:Fe(()=>Yc),multi:!0};function aE(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Yc=(()=>{class t extends Pi{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=aE(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function M3(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=bt(t)))(i||t)}}();static#t=this.\u0275dir=ie({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&$("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[qe([E3]),Te]})}return t})(),lE=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(aE(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(O(un),O(br),O(Yc,9))};static#t=this.\u0275dir=ie({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})();const A3={provide:ur,useExisting:Fe(()=>Fp),multi:!0};function cE(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Fp=(()=>{class t extends Pi{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function T3(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=bt(t)))(i||t)}}();static#t=this.\u0275dir=ie({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&$("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[qe([A3]),Te]})}return t})(),uE=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(cE(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(cE(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(O(un),O(br),O(Fp,9))};static#t=this.\u0275dir=ie({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})(),L3=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Yn({type:t});static#n=this.\u0275inj=Fn({imports:[eE]})}return t})(),B3=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Gs,useValue:n.callSetDisabledState??Wc}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Yn({type:t});static#n=this.\u0275inj=Fn({imports:[L3]})}return t})();function j3(t,e){if(1&t&&(v(0,"option",3),D(1),m()),2&t){const n=e.$implicit;S("value",e.index),C(1),gt(n.name)}}function H3(t,e){if(1&t&&(v(0,"option",3),D(1),m()),2&t){const n=e.$implicit;S("value",e.index),C(1),gt(n.name)}}function $3(t,e){if(1&t&&(v(0,"option",3),D(1),m()),2&t){const n=e.$implicit;S("value",e.index),C(1),gt(n.name)}}let U3=(()=>{class t{constructor(){this.cardService={},this.deckStorage={},this.relicStorage={},this.heroStorage={},this.filterText="",this.selectedCard={},this.selectedRelic={},this.selectedHero={},this.selectedIndex=0,this.selectedRelicIndex=0,this.selectedHeroIndex=0,this.allCards=[],this.allRelics=[],this.allHeroes=[]}ngOnInit(){this.deckStorage=new $s(this.cardService,this.cardService.playerService),this.relicStorage=new Lc(this.cardService),this.heroStorage=new cD(this.cardService),this.allCards=this.deckStorage.getAllCards(p.Any),this.allRelics=this.relicStorage.getAllRelics(),this.allHeroes=this.heroStorage.getHeroes()}addHero(){this.selectedHero=this.allHeroes[this.selectedHeroIndex];let n={};this.selectedHero&&(n=(new js).copyHero(this.selectedHero),n.cost=new I(0,0,0,0,0,0),n.zone=y.hero,n.owner=p.Self,this.cardService.hero=n)}addCard(){this.selectedCard=this.allCards[this.selectedIndex];let n={};if(this.selectedCard){let r=new js;switch(this.selectedCard.type){case x.Creature:n=r.copyCreature(this.selectedCard);break;case x.Spell:n=r.copySpell(this.selectedCard);break;case x.Mine:n=r.copyMine(this.selectedCard)}n.cost=new I(0,0,0,0,0,0),n.zone=y.hand,n.owner=p.Self,this.cardService.cardList.push(n)}}addRelic(){let n=this.allRelics[this.selectedRelicIndex];console.log(n);let r=this.cardService.playerService.player,i=new js;r.addRelic(i.copyRelic(n))}filterCards(n){return""==n?this.allCards:this.allCards.filter(r=>r.name.toLowerCase().includes(n.toLowerCase()))}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=$e({type:t,selectors:[["app-debug"]],inputs:{cardService:"cardService"},decls:13,vars:6,consts:[[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"click"],[3,"value"]],template:function(r,i){1&r&&(v(0,"select",0),$("ngModelChange",function(o){return i.selectedRelicIndex=o}),N(1,j3,2,2,"option",1),m(),v(2,"button",2),$("click",function(){return i.addRelic()}),D(3,"Add Relic"),m(),V(4,"br"),v(5,"select",0),$("ngModelChange",function(o){return i.selectedIndex=o}),N(6,H3,2,2,"option",1),m(),v(7,"button",2),$("click",function(){return i.addCard()}),D(8,"Add Card"),m(),v(9,"select",0),$("ngModelChange",function(o){return i.selectedHeroIndex=o}),N(10,$3,2,2,"option",1),m(),v(11,"button",2),$("click",function(){return i.addHero()}),D(12,"Add Hero"),m()),2&r&&(S("ngModel",i.selectedRelicIndex),C(1),S("ngForOf",i.allRelics),C(4),S("ngModel",i.selectedIndex),C(1),S("ngForOf",i.allCards),C(3),S("ngModel",i.selectedHeroIndex),C(1),S("ngForOf",i.allHeroes))},dependencies:[$t,lE,uE,Yc,BD,Np]})}return t})();function G3(t,e){if(1&t){const n=fe();v(0,"app-relic",5),$("click",function(){const s=X(n).$implicit;return J(P(2).setRelic(s))}),m()}2&t&&S("relic",e.$implicit)}function z3(t,e){if(1&t&&(v(0,"div"),N(1,G3,1,1,"app-relic",4),m()),2&t){const n=P();C(1),S("ngForOf",n.relics)}}let W3=(()=>{class t{constructor(){this.cardService={},this.factions=[],this.mode=Ub.Random,this.rewardTypes=[],this.selectedRelic=new he,this.proceed=new he,this.relicManager={},this.cardFactory=new Ti(this.cardService),this.rewards=[],this.hideRelics=!1,this.relics=[]}ngOnInit(){this.relicManager=new Lc(this.cardService),this.getRelics()}getRelics(){for(let n=0;n<3;n++){let r=this.relicManager.getRandomRelic();this.relics.includes(r)?n--:this.relics.push(r)}}setRelic(n){this.hideRelics=!0,this.selectedRelic.emit(n)}done(){this.relics=[],this.getRelics(),this.proceed.emit()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=$e({type:t,selectors:[["app-chest"]],inputs:{cardService:"cardService",factions:"factions",mode:"mode",rewardTypes:"rewardTypes"},outputs:{selectedRelic:"selectedRelic",proceed:"proceed"},decls:5,vars:1,consts:[[1,"mainMargins","mapColors","centerElement"],[1,"centerElement","relicBar"],[1,"centerText"],[4,"ngIf"],["class","relic",3,"relic","click",4,"ngFor","ngForOf"],[1,"relic",3,"relic","click"]],template:function(r,i){1&r&&(v(0,"div",0)(1,"div",1)(2,"h2",2),D(3,"Select a new Relic"),m(),N(4,z3,2,1,"div",3),m()()),2&r&&(C(4),S("ngIf",!1===i.hideRelics))},dependencies:[$t,mt,lD],styles:[".relic[_ngcontent-%COMP%]{cursor:pointer;margin-left:15px;margin-right:15px}.relicBar[_ngcontent-%COMP%]{width:26%}"]})}return t})();function q3(t,e){if(1&t){const n=fe();v(0,"app-card",5),$("click",function(){const s=X(n).$implicit;return J(P(2).selectCard(s))}),m()}2&t&&S("card",e.$implicit)}function K3(t,e){if(1&t&&(v(0,"div")(1,"h2",2),D(2,"Select a new card for your deck"),m(),v(3,"div",3),N(4,q3,1,1,"app-card",4),m()()),2&t){const n=P();C(4),S("ngForOf",n.displayCards)}}let Z3=(()=>{class t{constructor(){this.cardservice={},this.cardAmount=6,this.faction=w.Any,this.cardSelectedEvent=new he,this.proceed=new he,this.showCards=!0,this.deckStorage={},this.displayCards=[]}ngOnInit(){this.deckStorage=new $s(this.cardservice,this.cardservice.playerService);let n=this.deckStorage.getStarterDeck(p.Self,this.cardservice.selectedFactions);console.log(this.cardservice.playerService);for(let r=0;r<this.cardAmount;r++){let i=Ue(0,n.length),s=n[i];this.displayCards.includes(s)||(this.displayCards.push(s),n.slice(i,1))}this.showCards=!0}selectCard(n){this.showCards=!1,this.cardservice.cardList.push(n)}done(){this.proceed.emit()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=$e({type:t,selectors:[["app-pack"]],inputs:{cardservice:"cardservice",cardAmount:"cardAmount",faction:"faction"},outputs:{cardSelectedEvent:"cardSelectedEvent",proceed:"proceed"},decls:2,vars:1,consts:[[1,"mapColors"],[4,"ngIf"],[1,"centerText"],["id","PackCenter",1,"selectCard","cardRow"],[3,"card","click",4,"ngFor","ngForOf"],[3,"card","click"]],template:function(r,i){1&r&&(v(0,"div",0),N(1,K3,5,1,"div",1),m()),2&r&&(C(1),S("ngIf",i.showCards))},dependencies:[$t,mt,cr],styles:[".selectCard[_ngcontent-%COMP%]:hover{cursor:pointer}.packHeight[_ngcontent-%COMP%]{min-height:80%}#PackCenter[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:80%}"]})}return t})();function Q3(t,e){if(1&t){const n=fe();v(0,"div")(1,"app-chest",2),$("selectedRelic",function(i){return X(n),J(P(2).outputRelic(i))}),m()()}if(2&t){const n=P(2);C(1),S("factions",n.factions)("cardService",n.cardService)}}function Y3(t,e){if(1&t){const n=fe();v(0,"div")(1,"app-pack",3),$("cardSelectedEvent",function(i){return X(n),J(P(2).outputCard(i))}),m()()}if(2&t){const n=P(2);C(1),S("cardservice",n.cardService)}}function X3(t,e){if(1&t&&(v(0,"div"),N(1,Q3,2,2,"div",0),N(2,Y3,2,1,"div",0),m()),2&t){const n=P();C(1),S("ngIf",1===n.currentReward),C(1),S("ngIf",0===n.currentReward)}}function J3(t,e){1&t&&V(0,"div")}let ej=(()=>{class t{constructor(){this.cardService={},this.rewardMax=3,this.rewardsReceived=0,this.factions=[],this.currentReward=Ai.Card,this.proceed=new he,this.relicSelected=new he,this.cardSelected=new he}selectRandomReward(){let n=Math.floor(2*Math.random());this.currentReward=n}reset(){this.rewardsReceived=0}outputRelic(n){this.relicSelected.emit(n)}outputCard(n){this.cardSelected.emit(n)}done(){this.rewardsReceived<this.rewardMax?(this.rewardsReceived++,this.selectRandomReward(),console.log("Rewards: "+this.rewardsReceived),this.rewardsReceived>=this.rewardMax&&this.proceed.emit()):this.proceed.emit()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=$e({type:t,selectors:[["app-reward"]],inputs:{cardService:"cardService",rewardMax:"rewardMax",factions:"factions",currentReward:"currentReward"},outputs:{proceed:"proceed",relicSelected:"relicSelected",cardSelected:"cardSelected"},decls:4,vars:2,consts:[[4,"ngIf"],[1,"centerElement",3,"click"],[3,"factions","cardService","selectedRelic"],[3,"cardservice","cardSelectedEvent"]],template:function(r,i){1&r&&(N(0,X3,3,2,"div",0),N(1,J3,1,0,"div",0),v(2,"button",1),$("click",function(){return i.done()}),D(3,"Proceed"),m()),2&r&&(S("ngIf",i.rewardsReceived<i.rewardMax),C(1),S("ngIf",2===i.currentReward))},dependencies:[mt,W3,Z3]})}return t})();const wE=function(t){return{fadeIn:t}};function tj(t,e){if(1&t&&(v(0,"div",7)(1,"p"),D(2,"Your Turn"),m()()),2&t){const n=P();S("ngClass",Tn(1,wE,n.game.phaseManager.showTurnPlayer))}}function nj(t,e){if(1&t&&(v(0,"div",8)(1,"p"),D(2,"Enemy Turn"),m()()),2&t){const n=P();S("ngClass",Tn(1,wE,n.game.phaseManager.showTurnEnemy))}}function rj(t,e){if(1&t){const n=fe();v(0,"app-tutorial",12),$("tutorialDone",function(){return X(n),J(P(2).done())}),m()}}function ij(t,e){if(1&t){const n=fe();v(0,"div",13)(1,"app-deck-picker",14),$("selectDeckEvent",function(i){return X(n),J(P(2).setPlayerDeck(i))}),m(),V(2,"br"),m()}if(2&t){const n=P(2);C(1),S("cardService",n.cardService)("enemy",n.enemy)("player",n.player)}}function sj(t,e){if(1&t&&(v(0,"div",9)(1,"div",9),N(2,rj,1,0,"app-tutorial",10),m(),N(3,ij,3,3,"div",11),m()),2&t){const n=P();C(2),S("ngIf",n.showGlossary&&!n.showBattle),C(1),S("ngIf",!(n.showBattle||n.showTutorial||n.showGlossary||n.showReward||n.showMenu))}}function oj(t,e){1&t&&V(0,"div")}const aj=function(t){return{glow:t}};function lj(t,e){if(1&t){const n=fe();v(0,"button",26),$("click",function(){return X(n),J(P(4).game.phaseManager.nextPhase())}),D(1,"Next Phase"),m()}if(2&t){const n=P(4);S("ngClass",Tn(1,aj,!n.player.hasPlayableCards(n.game)&&n.game.currentTurn===n.player))}}function cj(t,e){if(1&t){const n=fe();v(0,"button",27),$("click",function(){X(n);const i=P(4);return i.game.phaseManager.passTurn(),J(i.hidePopup())}),D(1,"Pass Turn"),m()}}function uj(t,e){if(1&t){const n=fe();v(0,"button",15),$("click",function(){X(n);const i=P(4);return i.game.phaseManager.nextPhase(),J(i.hidePopup())}),D(1," Run Attack "),m()}}function dj(t,e){if(1&t){const n=fe();v(0,"div",22),$("mouseover",function(i){return X(n),J(P(3).showPopup(i))})("mousemove",function(i){return X(n),J(P(3).movePopup(i))})("mouseout",function(){return X(n),J(P(3).hidePopup())}),v(1,"h3"),D(2),m(),v(3,"h3"),D(4),m(),N(5,lj,2,3,"button",23),N(6,cj,2,0,"button",24),N(7,uj,2,0,"button",25),m()}if(2&t){const n=P(3);C(2),tt("Current Turn: ",n.game.currentTurn.name,""),C(2),tt("Current Phase: ",n.game.phaseDisplay,""),C(1),S("ngIf",n.game.currentTurn===n.game.enemy),C(1),S("ngIf",n.isPassableTime()&&!n.player.attacking),C(1),S("ngIf",n.player.attacking)}}function hj(t,e){if(1&t&&(v(0,"div"),N(1,dj,8,5,"div",21),m()),2&t){const n=P(2);C(1),S("ngIf",n.player.hp>0&&n.player.cardService.getCards(4,1).length>0)}}function fj(t,e){if(1&t){const n=fe();v(0,"div",28)(1,"h3"),D(2,"You lose!"),m(),v(3,"button",15),$("click",function(){return X(n),J(P(2).backToMenu())}),D(4,"Back to Main Menu"),m()()}}function pj(t,e){if(1&t){const n=fe();v(0,"div",28)(1,"h3"),D(2,"You Win!"),m(),v(3,"button",15),$("click",function(){return X(n),J(P(2).battleDoneEvent())}),D(4,"Get Rewards"),m()()}}function gj(t,e){if(1&t){const n=fe();v(0,"div")(1,"button",15),$("click",function(){X(n);const i=P();return J(i.showDebug=!i.showDebug)}),D(2,"Debug"),m(),N(3,oj,1,0,"div",4),N(4,hj,2,1,"div",4),N(5,fj,5,0,"div",16),N(6,pj,5,0,"div",16),v(7,"div",17)(8,"div",18),V(9,"app-ai",19),m(),v(10,"div",18),V(11,"app-player",20),m()()()}if(2&t){const n=P();C(3),S("ngIf",n.showDebug),C(1),S("ngIf",!n.player.stopPhases&&!n.enemy.stopPhases),C(1),S("ngIf",n.player.hp<=0),C(1),S("ngIf",n.player.cardService.getCards(4,1).length<=0),C(3),S("hoard",n.enemy)("game",n.game),C(2),S("Player",n.player)("game",n.game)}}function mj(t,e){if(1&t){const n=fe();v(0,"div")(1,"app-map",29),$("enemyDeckEvent",function(){return X(n),J(P().enemyReady())})("packSelectEvent",function(){return X(n),J(P().packEvent())})("relicSelectEvent",function(){return X(n),J(P().relicEvent())}),m()()}if(2&t){const n=P();C(1),S("player",n.player)("cardService",n.cardService)}}function yj(t,e){if(1&t){const n=fe();v(0,"app-reward",30),$("proceed",function(){return X(n),J(P().backToMap())})("cardSelected",function(i){return X(n),J(P().addCard(i))})("relicSelected",function(i){return X(n),J(P().addRelic(i))}),m()}if(2&t){const n=P();S("cardService",n.cardService)("factions",n.cardService.selectedFactions)("currentReward",n.currentReward)("rewardMax",n.rewardMax)}}function vj(t,e){if(1&t){const n=fe();v(0,"div")(1,"app-main-menu",31),$("newGameEvent",function(){return X(n),J(P().showMenu=!1)})("glossaryEvent",function(){X(n);const i=P();return i.showGlossary=!0,J(i.showMenu=!1)})("debugEvent",function(){return X(n),J(P().debugGame())}),m()()}}function _j(t,e){if(1&t&&(v(0,"div"),V(1,"app-debug",32),m()),2&t){const n=P();C(1),S("cardService",n.cardService)}}const wj=function(t,e){return{"top.px":t,"left.px":e}};function Cj(t,e){if(1&t&&(v(0,"div",33)(1,"p"),D(2),m(),v(3,"p"),D(4),m()()),2&t){const n=P();S("ngStyle",ia(3,wj,n.popupY,n.popupX)),C(2),gt(n.game.phaseDisplay),C(2),gt(n.game.phaseManager.getPhaseText())}}let CE=(()=>{class t{ngOnInit(){this.player=new ft(this.cardService),this.enemy=new Jr(this.cardService),this.cardService.makePlayerService(this.player,this.enemy),console.log(this.cardService.playerService),this.game=new mp(this.player,this.enemy,this.cardService),this.cardService.cardList.push(...this.playerDeck),this.player.cardService=this.cardService,this.enemy.cardService=this.cardService,new Lc(this.cardService),this.player.applyStaticAbilities()}constructor(n){this.animationService=n,this.winner=!1,this.spellNeedsTargets=!1,this.showBattle=!1,this.showTutorial=!1,this.showMap=!1,this.showReward=!1,this.showMenu=!0,this.showDebug=!1,this.showGlossary=!1,this.rewardMax=1,this.rewardsReceived=0,this.cardService=new xL,this.player={},this.enemy=new Jr(this.cardService),this.game={},this.playerDeck=[],this.drawnCards=[],this.currentReward=Ai.Relic,this.popupVisible=!1,this.popupX=100,this.popupY=100}handleKeyboardE(n){this.canProgressTurn()&&this.game.phaseManager.nextPhase()}handleKeyboardSpace(n){this.canProgressTurn()&&this.game.phaseManager.nextPhase()}handleKeyboardA(n){let r=this.player.getCreatures();if(this.player.canAttack()&&!this.player.attacking)for(let i=0;i<r.length;i++);}canProgressTurn(){return!this.player.stopPhases&&!this.enemy.stopPhases&&this.player.hp>0&&this.enemy.getAllCards().length>0}isPassableTime(){return(1===this.game.currentPhase||2===this.game.currentPhase||3===this.game.currentPhase||4===this.game.currentPhase||5===this.game.currentPhase)&&this.game.currentTurn===this.game.player}setPlayerDeck(n){this.cardService.cardList.push(...n),this.cardService.shuffleDeck(this.cardService.cardList),this.showMap=!0,this.player.drawCards(6);let r=this.cardService.getCards(y.deck,p.Self,x.Mine);for(let i=0;i<r.length;i++){let s=r[i];if(s.factions.includes(w.Colorless)){s.zone=y.hand;break}}}enemyReady(){this.cardService.shuffleDeck(this.cardService.cardList);let n=this.player.relics;this.cardService.checkTriggers(z.StartFight),this.cardService.checkTriggers(z.Start);for(let r=0;r<n.length;r++)this.player.processAbilities(n[r]);this.showMap=!1,this.showBattle=!0}rewardReady(){this.showReward=!0}rewardEvent(){}packEvent(){this.rewardMax=1,this.currentReward=Ai.Card,this.showReward=!0,this.showMap=!1}relicEvent(){this.rewardMax=1,this.currentReward=Ai.Relic,this.showReward=!0,this.showMap=!1}battleDoneEvent(){this.cardService.resetCreatures(),this.rewardsReceived=0,this.rewardMax=2;const n=[Ai.Relic,Ai.Card];this.currentReward=n[Math.floor(Math.random()*n.length)],this.showReward=!0,this.showBattle=!1,this.showMap=!1}debugGame(){let n=new $s(this.cardService,this.cardService.playerService),r=n.getRandomFactionCards(p.Self);this.setPlayerDeck(r);let i=[];i.push(n.getCardByName("slow",p.Opponent)),i.push(n.getCardByName("gust",p.Opponent)),i.push(n.getCardByName("haste",p.Opponent)),i.push(n.getCardByName("great dragon",p.Opponent)),this.cardService.cardList.push(...i),this.enemyReady(),this.game.currentPhase=Q.main,this.showDebug=!0,this.showBattle=!0,this.showMenu=!1,this.showGlossary=!1}randomReward(){this.rewardsReceived<this.rewardMax?(this.showBattle=!1,this.hidePopup(),this.cardService.resetCreatures(),this.showReward=!0):this.backToMap()}backToMap(){this.showMap=!0,this.showBattle=!1,this.showReward=!1,this.popupVisible=!1,this.cardService.difficulty++,this.cardService.reset(),this.cardService.hero.resetGoldCost(),this.cardService.shuffleDeck(this.cardService.cardList),this.cardService.drawInitialHand(),this.game.phaseManager.resetPhase(),this.cardService.resetCreatures(),this.cardService.difficultyMods="",this.player.currentPos++,this.player.minesPlayed=0,this.player.mineLimits=1,this.player.applyStaticAbilities(),this.hidePopup()}backToMenu(){this.player=new ft(this.cardService),this.cardService.hero.resetGoldCost(),this.cardService.cardList=[],this.player.resetMines(),this.cardService.makePlayerService(this.player,this.enemy),this.cardService.nodePos=0,this.showBattle=!1,this.showMap=!1,this.cardService.cardList=[],this.player.hp=40,this.player.wall.hp=20,this.game.currentTurn=this.player,this.game.phaseManager.resetPhase(),this.cardService.currentPos=0,this.cardService.difficultyMods="",this.cardService.difficulty=0,this.popupVisible=!1,this.player.minesPlayed=0,this.player.mineLimits=1,this.hidePopup()}addRelic(n){this.player.addRelic(n)}addCard(n){this.cardService.cardList.push(n)}done(){this.showTutorial=!1,this.showGlossary=!1,this.showMenu=!0}showPopup(n){this.popupVisible=!0,this.updatePopupPosition(n)}movePopup(n){this.updatePopupPosition(n)}hidePopup(){this.popupVisible=!1}updatePopupPosition(n){this.popupX=n.clientX+10,this.popupY=n.clientY+10}animateDrawnCards(n){this.drawnCards=n,setTimeout(()=>{this.drawnCards=[]},1e3)}static#e=this.\u0275fac=function(r){return new(r||t)(O(gn))};static#t=this.\u0275cmp=$e({type:t,selectors:[["app-game"]],hostBindings:function(r,i){1&r&&$("keyup.e",function(o){return i.handleKeyboardE(o)},0,Bo)("keyup.space",function(o){return i.handleKeyboardSpace(o)},!1,Bo)("keyup.a",function(o){return i.handleKeyboardA(o)},!1,Bo)},inputs:{playerDeck:"playerDeck"},decls:10,vars:12,consts:[[3,"relics","deck","cardService"],["class","turnPopUp whiteFont fadeIn",3,"ngClass",4,"ngIf"],["class","turnPopUp whiteFont",3,"ngClass",4,"ngIf"],["class","",4,"ngIf"],[4,"ngIf"],[3,"cardService","factions","currentReward","rewardMax","proceed","cardSelected","relicSelected",4,"ngIf"],["class","popUp","class","popup",3,"ngStyle",4,"ngIf"],[1,"turnPopUp","whiteFont","fadeIn",3,"ngClass"],[1,"turnPopUp","whiteFont",3,"ngClass"],[1,""],[3,"tutorialDone",4,"ngIf"],["class","centerElement mapColors mainMargins",4,"ngIf"],[3,"tutorialDone"],[1,"centerElement","mapColors","mainMargins"],[3,"cardService","enemy","player","selectDeckEvent"],[3,"click"],["class","uiPanel paneBg turnDisplay whiteFont noMargin",4,"ngIf"],[1,"fireColors"],[1,"playerArea"],[1,"noMargin",3,"hoard","game"],[1,"noMargin",3,"Player","game"],["class","uiPanel paneBg turnDisplay whiteFont noMargin",3,"mouseover","mousemove","mouseout",4,"ngIf"],[1,"uiPanel","paneBg","turnDisplay","whiteFont","noMargin",3,"mouseover","mousemove","mouseout"],[3,"ngClass","click",4,"ngIf"],["style","margin-left: 2%;",3,"click",4,"ngIf"],[3,"click",4,"ngIf"],[3,"ngClass","click"],[2,"margin-left","2%",3,"click"],[1,"uiPanel","paneBg","turnDisplay","whiteFont","noMargin"],[3,"player","cardService","enemyDeckEvent","packSelectEvent","relicSelectEvent"],[3,"cardService","factions","currentReward","rewardMax","proceed","cardSelected","relicSelected"],[3,"newGameEvent","glossaryEvent","debugEvent"],[3,"cardService"],[1,"popup",3,"ngStyle"]],template:function(r,i){1&r&&(V(0,"app-header",0),N(1,tj,3,3,"div",1),N(2,nj,3,3,"div",2),N(3,sj,4,2,"div",3),N(4,gj,12,8,"div",4),N(5,mj,2,2,"div",4),N(6,yj,1,4,"app-reward",5),N(7,vj,2,0,"div",4),N(8,_j,2,1,"div",4),N(9,Cj,5,6,"div",6)),2&r&&(S("relics",i.player.relics)("deck",i.player.getAllCards())("cardService",i.cardService),C(1),S("ngIf",i.game.phaseManager.showTurnPlayer),C(1),S("ngIf",i.game.phaseManager.showTurnEnemy),C(1),S("ngIf",!i.showBattle&&!i.showMap&&!i.showReward),C(1),S("ngIf",i.showBattle),C(1),S("ngIf",i.showMap),C(1),S("ngIf",i.showReward),C(1),S("ngIf",i.showMenu),C(1),S("ngIf",i.showDebug),C(1),S("ngIf",i.popupVisible))},dependencies:[ha,mt,Mi,YV,rB,CB,EB,aD,OB,xB,U3,ej],styles:[".displayRow[_ngcontent-%COMP%]{display:flex;flex-flow:row;justify-content:space-between}.turnDisplay[_ngcontent-%COMP%]{position:fixed;padding:10px;bottom:25%;right:0;top:50%}.glow[_ngcontent-%COMP%]{box-shadow:0 0 25px 8px #baa237e6}@media screen and (min-width: 1300px){.turnDisplay[_ngcontent-%COMP%]{position:fixed;padding:10px;bottom:auto;right:0;top:50%}}@media screen and (max-width: 1100px){.turnDisplay[_ngcontent-%COMP%]{position:fixed;bottom:auto;top:40%}}.turnPopUp[_ngcontent-%COMP%]{position:absolute;border:2px solid white;background-color:#000;width:95%;left:2.5%;right:2.5%;text-align:center;top:50%;padding:3px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}.fighting[_ngcontent-%COMP%]{transform:translateY(50px)}.attacker[_ngcontent-%COMP%], .blocker[_ngcontent-%COMP%]{display:inline-block;transition:transform .3s ease-in-out}.attacker[_ngcontent-%COMP%]{border-color:#f6a5a5}.blocker[_ngcontent-%COMP%]{border-color:#6b81ff}.battleBg[_ngcontent-%COMP%]{background-color:#90ff7991}.fireGradient[_ngcontent-%COMP%]{background-image:linear-gradient(rgb(8,8,8),rgb(141,79,42));background-size:100% 200%;animation:_ngcontent-%COMP%_fireFlare 30s infinite ease-in-out}@keyframes _ngcontent-%COMP%_fireFlare{0%{background-position:0% 0%;background-image:linear-gradient(rgb(8,8,8),rgb(141,79,42))}25%{background-position:0% 100%;background-image:linear-gradient(rgb(8,8,8),rgb(192,88,52))}50%{background-position:0% 0%;background-image:linear-gradient(rgb(8,8,8),rgb(171,69,32))}75%{background-position:0% 100%;background-image:linear-gradient(rgb(8,8,8),rgb(141,79,42))}to{background-position:0% 0%;background-image:linear-gradient(rgb(8,8,8),rgb(192,88,52))}}@keyframes _ngcontent-%COMP%_flip{0%{transform:perspective(600px) rotateY(0)}50%{transform:perspective(600px) rotateY(180deg)}to{transform:perspective(600px) rotateY(360deg)}}@keyframes _ngcontent-%COMP%_moveToPlayArea{0%{transform:translate(0)}to{transform:translate(300px,200px)}}.card[_ngcontent-%COMP%]{transition:transform 1s;transform-style:preserve-3d}.flip[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_flip 1s forwards}.move[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_moveToPlayArea 1s forwards}"],data:{animation:[gn.drawCard]}})}return t})(),Sj=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=$e({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&V(0,"app-game")},dependencies:[CE]})}return t})();function Vp(...t){const e=so(t),n=nm(t),{args:r,keys:i}=dD(t);if(0===r.length)return pt([],e);const s=new it(function Dj(t,e,n=Vr){return r=>{SE(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)SE(e,()=>{const c=pt(t[l],e);let u=!1;c.subscribe(st(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>fD(i,o):Vr));return n?s.pipe(hD(n)):s}function SE(t,e,n){t?gr(n,t,e):e()}const Xc=no(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Bp(...t){return function Ej(){return Hi(1)}()(pt(t,so(t)))}function bE(t){return new it(e=>{sn(t()).subscribe(e)})}function ba(t,e){const n=Pe(t)?t:()=>t,r=i=>i.error(n());return new it(e?i=>e.schedule(r,0,i):r)}function jp(){return ct((t,e)=>{let n=null;t._refCount++;const r=st(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class DE extends it{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Hg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new rn;const n=this.getSubject();e.add(this.source.subscribe(st(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=rn.EMPTY)}return e}refCount(){return jp()(this)}}function zs(t){return t<=0?()=>Kn:ct((e,n)=>{let r=0;e.subscribe(st(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function ri(t,e){return ct((n,r)=>{let i=0;n.subscribe(st(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Jc(t){return ct((e,n)=>{let r=!1;e.subscribe(st(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function EE(t=Aj){return ct((e,n)=>{let r=!1;e.subscribe(st(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Aj(){return new Xc}function Ri(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ri((i,s)=>t(i,s,r)):Vr,zs(1),n?Jc(e):EE(()=>new Xc))}function Da(t,e){return Pe(e)?vt(t,e,1):vt(t,1)}function Nt(t,e,n){const r=Pe(t)||e||n?{next:t,error:e,complete:n}:t;return r?ct((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(st(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Vr}function Oi(t){return ct((e,n)=>{let s,r=null,i=!1;r=e.subscribe(st(n,void 0,void 0,o=>{s=sn(t(o,Oi(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Hp(t){return t<=0?()=>Kn:ct((e,n)=>{let r=[];e.subscribe(st(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function $p(t){return ct((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const de="primary",Ea=Symbol("RouteTitle");class Rj{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ws(t){return new Rj(t)}function Oj(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function dr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!ME(t[i],e[i]))return!1;return!0}function ME(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function AE(t){return t.length>0?t[t.length-1]:null}function ii(t){return function bj(t){return!!t&&(t instanceof it||Pe(t.lift)&&Pe(t.subscribe))}(t)?t:Zo(t)?pt(Promise.resolve(t)):se(t)}const Fj={exact:function kE(t,e,n){if(!xi(t.segments,e.segments)||!eu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!kE(t.children[r],e.children[r],n))return!1;return!0},subset:PE},TE={exact:function Lj(t,e){return dr(t,e)},subset:function Vj(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ME(t[n],e[n]))},ignored:()=>!0};function IE(t,e,n){return Fj[n.paths](t.root,e.root,n.matrixParams)&&TE[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function PE(t,e,n){return NE(t,e,e.segments,n)}function NE(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!xi(i,n)||e.hasChildren()||!eu(i,n,r))}if(t.segments.length===n.length){if(!xi(t.segments,n)||!eu(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!PE(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(xi(t.segments,i)&&eu(t.segments,i,r)&&t.children[de])&&NE(t.children[de],e,s,r)}}function eu(t,e,n){return e.every((r,i)=>TE[n](t[i].parameters,r.parameters))}class qs{constructor(e=new ke([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ws(this.queryParams)),this._queryParamMap}toString(){return Hj.serialize(this)}}class ke{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tu(this)}}class Ma{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ws(this.parameters)),this._parameterMap}toString(){return xE(this)}}function xi(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Aa=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Z({token:t,factory:function(){return new Up},providedIn:"root"})}return t})();class Up{parse(e){const n=new Xj(e);return new qs(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Ta(e.root,!0)}`,r=function Gj(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${nu(n)}=${nu(i)}`).join("&"):`${nu(n)}=${nu(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function $j(t){return encodeURI(t)}(e.fragment)}`:""}`}}const Hj=new Up;function tu(t){return t.segments.map(e=>xE(e)).join("/")}function Ta(t,e){if(!t.hasChildren())return tu(t);if(e){const n=t.children[de]?Ta(t.children[de],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==de&&r.push(`${i}:${Ta(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function jj(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===de&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==de&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===de?[Ta(t.children[de],!1)]:[`${i}:${Ta(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[de]?`${tu(t)}/${n[0]}`:`${tu(t)}/(${n.join("//")})`}}function RE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nu(t){return RE(t).replace(/%3B/gi,";")}function Gp(t){return RE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ru(t){return decodeURIComponent(t)}function OE(t){return ru(t.replace(/\+/g,"%20"))}function xE(t){return`${Gp(t.path)}${function Uj(t){return Object.keys(t).map(e=>`;${Gp(e)}=${Gp(t[e])}`).join("")}(t.parameters)}`}const zj=/^[^\/()?;#]+/;function zp(t){const e=t.match(zj);return e?e[0]:""}const Wj=/^[^\/()?;=#]+/,Kj=/^[^=?&#]+/,Qj=/^[^&#]+/;class Xj{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ke([],{}):new ke([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[de]=new ke(e,n)),r}parseSegment(){const e=zp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new k(4009,!1);return this.capture(e),new Ma(ru(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function qj(t){const e=t.match(Wj);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=zp(this.remaining);i&&(r=i,this.capture(r))}e[ru(n)]=ru(r)}parseQueryParam(e){const n=function Zj(t){const e=t.match(Kj);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function Yj(t){const e=t.match(Qj);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=OE(n),s=OE(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=zp(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new k(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=de);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[de]:new ke([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new k(4011,!1)}}function FE(t){return t.segments.length>0?new ke([],{[de]:t}):t}function LE(t){const e={};for(const r of Object.keys(t.children)){const s=LE(t.children[r]);if(r===de&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Jj(t){if(1===t.numberOfChildren&&t.children[de]){const e=t.children[de];return new ke(t.segments.concat(e.segments),e.children)}return t}(new ke(t.segments,e))}function Fi(t){return t instanceof qs}function VE(t){let e;const i=FE(function n(s){const o={};for(const l of s.children){const c=n(l);o[l.outlet]=c}const a=new ke(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function BE(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return Wp(i,i,i,n,r);const s=function tH(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new HE(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new HE(n,e,r)}(e);if(s.toRoot())return Wp(i,i,new ke([],{}),n,r);const o=function nH(t,e,n){if(t.isAbsolute)return new su(e,!0,0);if(!n)return new su(e,!1,NaN);if(null===n.parent)return new su(n,!0,0);const r=iu(t.commands[0])?0:1;return function rH(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new k(4005,!1);i=r.segments.length}return new su(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?ka(o.segmentGroup,o.index,s.commands):$E(o.segmentGroup,o.index,s.commands);return Wp(i,o.segmentGroup,a,n,r)}function iu(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ia(t){return"object"==typeof t&&null!=t&&t.outlets}function Wp(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),o=t===e?n:jE(t,e,n);const a=FE(LE(o));return new qs(a,s,i)}function jE(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:jE(s,e,n)}),new ke(t.segments,r)}class HE{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&iu(r[0]))throw new k(4003,!1);const i=r.find(Ia);if(i&&i!==AE(r))throw new k(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class su{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function $E(t,e,n){if(t||(t=new ke([],{})),0===t.segments.length&&t.hasChildren())return ka(t,e,n);const r=function sH(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Ia(a))break;const l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!GE(l,c,o))return s;r+=2}else{if(!GE(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new ke(t.segments.slice(0,r.pathIndex),{});return s.children[de]=new ke(t.segments.slice(r.pathIndex),t.children),ka(s,0,i)}return r.match&&0===i.length?new ke(t.segments,{}):r.match&&!t.hasChildren()?qp(t,e,n):r.match?ka(t,0,i):qp(t,e,n)}function ka(t,e,n){if(0===n.length)return new ke(t.segments,{});{const r=function iH(t){return Ia(t[0])?t[0].outlets:{[de]:t}}(n),i={};if(Object.keys(r).some(s=>s!==de)&&t.children[de]&&1===t.numberOfChildren&&0===t.children[de].segments.length){const s=ka(t.children[de],e,n);return new ke(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=$E(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new ke(t.segments,i)}}function qp(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Ia(s)){const l=oH(s.outlets);return new ke(r,l)}if(0===i&&iu(n[0])){r.push(new Ma(t.segments[e].path,UE(n[0]))),i++;continue}const o=Ia(s)?s.outlets[de]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&iu(a)?(r.push(new Ma(o,UE(a))),i+=2):(r.push(new Ma(o,{})),i++)}return new ke(r,{})}function oH(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=qp(new ke([],{}),0,r))}),e}function UE(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function GE(t,e,n){return t==n.path&&dr(e,n.parameters)}const Pa="imperative";class hr{constructor(e,n){this.id=e,this.url=n}}class ou extends hr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class si extends hr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Na extends hr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ks extends hr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class au extends hr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zE extends hr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aH extends hr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lH extends hr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class cH extends hr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uH extends hr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dH{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hH{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fH{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pH{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gH{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mH{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WE{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Kp{}class Zp{constructor(e){this.url=e}}class yH{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ra,this.attachRef=null}}let Ra=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new yH,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class qE{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Qp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Qp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Yp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Yp(e,this._root).map(n=>n.value)}}function Qp(t,e){if(t===e.value)return e;for(const n of e.children){const r=Qp(t,n);if(r)return r}return null}function Yp(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Yp(t,n);if(r.length)return r.unshift(e),r}return[]}class xr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Zs(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class KE extends qE{constructor(e,n){super(e),this.snapshot=n,Xp(this,e)}toString(){return this.snapshot.toString()}}function ZE(t,e){const n=function vH(t,e){const o=new lu([],{},{},"",{},de,e,null,{});return new YE("",new xr(o,[]))}(0,e),r=new wn([new Ma("",{})]),i=new wn({}),s=new wn({}),o=new wn({}),a=new wn(""),l=new Qs(r,i,o,a,s,de,e,n.root);return l.snapshot=n.root,new KE(new xr(l,[]),n)}class Qs{constructor(e,n,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Oe(c=>c[Ea]))??se(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Oe(e=>Ws(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Oe(e=>Ws(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function QE(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function _H(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class lu{get title(){return this.data?.[Ea]}constructor(e,n,r,i,s,o,a,l,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ws(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ws(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class YE extends qE{constructor(e,n){super(n),this.url=e,Xp(this,n)}toString(){return XE(this._root)}}function Xp(t,e){e.value._routerState=t,e.children.forEach(n=>Xp(t,n))}function XE(t){const e=t.children.length>0?` { ${t.children.map(XE).join(", ")} } `:"";return`${t.value}${e}`}function Jp(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,dr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),dr(e.params,n.params)||t.paramsSubject.next(n.params),function xj(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!dr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),dr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function eg(t,e){const n=dr(t.params,e.params)&&function Bj(t,e){return xi(t,e)&&t.every((n,r)=>dr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||eg(t.parent,e.parent))}let JE=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=de,this.activateEvents=new he,this.deactivateEvents=new he,this.attachEvents=new he,this.detachEvents=new he,this.parentContexts=G(Ra),this.location=G($n),this.changeDetector=G(_c),this.environmentInjector=G(Mn),this.inputBinder=G(cu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new k(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new k(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new k(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new k(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new wH(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=ie({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Dn]})}return t})();class wH{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Qs?this.route:e===Ra?this.childContexts:this.parent.get(e,n)}}const cu=new W("");let e0=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=Vp([r.queryParams,r.params,r.data]).pipe(Zn(([s,o,a],l)=>(a={...s,...o,...a},0===l?se(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function nF(t){const e=_e(t);if(!e)return null;const n=new Go(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Z({token:t,factory:t.\u0275fac})}return t})();function Oa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function SH(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Oa(t,r,i);return Oa(t,r)})}(t,e,n);return new xr(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Oa(t,a)),o}}const r=function bH(t){return new Qs(new wn(t.url),new wn(t.params),new wn(t.queryParams),new wn(t.fragment),new wn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Oa(t,s));return new xr(r,i)}}const tg="ngNavigationCancelingError";function t0(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Fi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=n0(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function n0(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[tg]=!0,r.cancellationCode=e,n&&(r.url=n),r}function r0(t){return t&&t[tg]}let s0=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=$e({type:t,selectors:[["ng-component"]],standalone:!0,features:[DC],decls:1,vars:0,template:function(r,i){1&r&&V(0,"router-outlet")},dependencies:[JE],encapsulation:2})}return t})();function ng(t){const e=t.children&&t.children.map(ng),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==de&&(n.component=s0),n}function Wn(t){return t.outlet||de}function xa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class PH{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Jp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Zs(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Zs(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Zs(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Zs(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new mH(s.value.snapshot))}),e.children.length&&this.forwardEvent(new pH(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Jp(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Jp(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=xa(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class o0{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class uu{constructor(e,n){this.component=e,this.route=n}}function NH(t,e,n){const r=t._root;return Fa(r,e?e._root:null,n,[r.value])}function Ys(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function g1(t){return null!==Qa(t)}(t)?e.get(t):t:r}function Fa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Zs(e);return t.children.forEach(o=>{(function OH(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function xH(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!xi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!xi(t.url,e.url)||!dr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!eg(t,e)||!dr(t.queryParams,e.queryParams);default:return!eg(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new o0(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Fa(t,e,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new uu(a.outlet.component,o))}else o&&La(e,a,i),i.canActivateChecks.push(new o0(r)),Fa(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>La(a,n.getContext(o),i)),i}function La(t,e,n){const r=Zs(t),i=t.value;Object.entries(r).forEach(([s,o])=>{La(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new uu(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Va(t){return"function"==typeof t}function a0(t){return t instanceof Xc||"EmptyError"===t?.name}const du=Symbol("INITIAL_VALUE");function Xs(){return Zn(t=>Vp(t.map(e=>e.pipe(zs(1),function Mj(...t){const e=so(t);return ct((n,r)=>{(e?Bp(t,n,e):Bp(t,n)).subscribe(r)})}(du)))).pipe(Oe(e=>{for(const n of e)if(!0!==n){if(n===du)return du;if(!1===n||n instanceof qs)return n}return!0}),ri(e=>e!==du),zs(1)))}function l0(t){return function yM(...t){return Vg(t)}(Nt(e=>{if(Fi(e))throw t0(0,e)}),Oe(e=>!0===e))}class hu{constructor(e){this.segmentGroup=e||null}}class c0{constructor(e){this.urlTree=e}}function Js(t){return ba(new hu(t))}function u0(t){return ba(new c0(t))}class t${constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new k(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return se(r);if(i.numberOfChildren>1||!i.children[de])return ba(new k(4e3,!1));i=i.children[de]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new qs(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new ke(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new k(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const rg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function n$(t,e,n,r,i){const s=ig(t,e,n);return s.matched?(r=function EH(t,e){return t.providers&&!t._injector&&(t._injector=sf(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function XH(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?se(i.map(o=>{const a=Ys(o,t);return ii(function HH(t){return t&&Va(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Xs(),l0()):se(!0)}(r,e,n).pipe(Oe(o=>!0===o?s:{...rg}))):se(s)}function ig(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...rg}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Oj)(n,t,e);if(!i)return{...rg};const s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function d0(t,e,n,r){return n.length>0&&function s$(t,e,n){return n.some(r=>fu(t,e,r)&&Wn(r)!==de)}(t,n,r)?{segmentGroup:new ke(e,i$(r,new ke(n,t.children))),slicedSegments:[]}:0===n.length&&function o$(t,e,n){return n.some(r=>fu(t,e,r))}(t,n,r)?{segmentGroup:new ke(t.segments,r$(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ke(t.segments,t.children),slicedSegments:n}}function r$(t,e,n,r,i){const s={};for(const o of r)if(fu(t,n,o)&&!i[Wn(o)]){const a=new ke([],{});s[Wn(o)]=a}return{...i,...s}}function i$(t,e){const n={};n[de]=e;for(const r of t)if(""===r.path&&Wn(r)!==de){const i=new ke([],{});n[Wn(r)]=i}return n}function fu(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class u${constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new t$(this.urlSerializer,this.urlTree)}noMatchError(e){return new k(4002,!1)}recognize(){const e=d0(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,de).pipe(Oi(n=>{if(n instanceof c0)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof hu?this.noMatchError(n):n}),Oe(n=>{const r=new lu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},de,this.rootComponentType,null,{}),i=new xr(r,n),s=new YE("",i),o=function eH(t,e,n=null,r=null){return BE(VE(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,de).pipe(Oi(r=>{throw r instanceof hu?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=QE(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return pt(i).pipe(Da(s=>{const o=r.children[s],a=function IH(t,e){const n=t.filter(r=>Wn(r)===e);return n.push(...t.filter(r=>Wn(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function Ij(t,e){return ct(function Tj(t,e,n,r,i){return(s,o)=>{let a=n,l=e,c=0;s.subscribe(st(o,u=>{const d=c++;l=a?t(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Jc(null),function kj(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ri((i,s)=>t(i,s,r)):Vr,Hp(1),n?Jc(e):EE(()=>new Xc))}(),vt(s=>{if(null===s)return Js(r);const o=h0(s);return function d$(t){t.sort((e,n)=>e.value.outlet===de?-1:n.value.outlet===de?1:e.value.outlet.localeCompare(n.value.outlet))}(o),se(o)}))}processSegment(e,n,r,i,s,o){return pt(n).pipe(Da(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Oi(l=>{if(l instanceof hu)return se(null);throw l}))),Ri(a=>!!a),Oi(a=>{if(a0(a))return function l$(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?se([]):Js(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function a$(t,e,n,r){return!!(Wn(t)===r||r!==de&&fu(e,n,t))&&("**"===t.path||ig(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Js(i):Js(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?u0(s):this.applyRedirects.lineralizeSegments(r,s).pipe(vt(o=>{const a=new ke(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=ig(n,i,s);if(!a)return Js(n);const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?u0(d):this.applyRedirects.lineralizeSegments(i,d).pipe(vt(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const l=i.length>0?AE(i).parameters:{};a=se({snapshot:new lu(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,f0(r),Wn(r),r.component??r._loadedComponent??null,r,p0(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=n$(n,r,i,e).pipe(Oe(({matched:l,consumedSegments:c,remainingSegments:u,parameters:d})=>l?{snapshot:new lu(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,f0(r),Wn(r),r.component??r._loadedComponent??null,r,p0(r)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(Zn(l=>null===l?Js(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Zn(({routes:c})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=l,{segmentGroup:g,slicedSegments:_}=d0(n,h,f,c);if(0===_.length&&g.hasChildren())return this.processChildren(u,c,g).pipe(Oe(T=>null===T?null:[new xr(d,T)]));if(0===c.length&&0===_.length)return se([new xr(d,[])]);const M=Wn(r)===s;return this.processSegment(u,c,g,_,M?de:s,!0).pipe(Oe(T=>[new xr(d,T)]))}))))}getChildConfig(e,n,r){return n.children?se({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?se({routes:n._loadedRoutes,injector:n._loadedInjector}):function YH(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?se(!0):se(i.map(o=>{const a=Ys(o,t);return ii(function LH(t){return t&&Va(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Xs(),l0())}(e,n,r).pipe(vt(i=>i?this.configLoader.loadChildren(e,n).pipe(Nt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function e$(t){return ba(n0(!1,3))}())):se({routes:[],injector:e})}}function h$(t){const e=t.value.routeConfig;return e&&""===e.path}function h0(t){const e=[],n=new Set;for(const r of t){if(!h$(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=h0(r.children);e.push(new xr(r.value,i))}return e.filter(r=>!n.has(r))}function f0(t){return t.data||{}}function p0(t){return t.resolve||{}}function g0(t){return"string"==typeof t.title||null===t.title}function sg(t){return Zn(e=>{const n=t(e);return n?pt(n).pipe(Oe(()=>e)):se(e)})}const eo=new W("ROUTES");let og=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=G(_S)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return se(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=ii(n.loadComponent()).pipe(Oe(m0),Nt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),$p(()=>{this.componentLoaders.delete(n)})),i=new DE(r,()=>new _n).pipe(jp());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return se({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function _$(t,e,n,r){return ii(t.loadChildren()).pipe(Oe(m0),vt(i=>i instanceof SC||Array.isArray(i)?se(i):pt(e.compileModuleAsync(i))),Oe(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(eo,[],{optional:!0,self:!0}).flat()),{routes:o.map(ng),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe($p(()=>{this.childrenLoaders.delete(r)})),o=new DE(s,()=>new _n).pipe(jp());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function m0(t){return function w$(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let pu=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new _n,this.transitionAbortSubject=new _n,this.configLoader=G(og),this.environmentInjector=G(Mn),this.urlSerializer=G(Aa),this.rootContexts=G(Ra),this.inputBindingEnabled=null!==G(cu,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>se(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new hH(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new dH(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new wn({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Pa,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ri(s=>0!==s.id),Oe(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),Zn(s=>{this.currentTransition=s;let o=!1,a=!1;return se(s).pipe(Nt(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Zn(l=>{const c=l.currentBrowserUrl.toString(),u=!n.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new Ks(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),Kn}if(n.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return se(l).pipe(Zn(h=>{const f=this.transitions?.getValue();return this.events.next(new ou(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Kn:Promise.resolve(h)}),function f$(t,e,n,r,i,s){return vt(o=>function c$(t,e,n,r,i,s,o="emptyOnly"){return new u$(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Oe(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Nt(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new zE(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:f,source:g,restoredState:_,extras:M}=l,T=new ou(h,this.urlSerializer.serialize(f),g,_);this.events.next(T);const b=ZE(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:b,urlAfterRedirects:f,extras:{...M,skipLocationChange:!1,replaceUrl:!1}},se(s)}{const h="";return this.events.next(new Ks(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),Kn}}),Nt(l=>{const c=new aH(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Oe(l=>(this.currentTransition=s={...l,guards:NH(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function UH(t,e){return vt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?se({...n,guardsResult:!0}):function GH(t,e,n,r){return pt(t).pipe(vt(i=>function QH(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?se(s.map(a=>{const l=xa(e)??i,c=Ys(a,l);return ii(function jH(t){return t&&Va(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):l.runInContext(()=>c(t,e,n,r))).pipe(Ri())})).pipe(Xs()):se(!0)}(i.component,i.route,n,e,r)),Ri(i=>!0!==i,!0))}(o,r,i,t).pipe(vt(a=>a&&function FH(t){return"boolean"==typeof t}(a)?function zH(t,e,n,r){return pt(e).pipe(Da(i=>Bp(function qH(t,e){return null!==t&&e&&e(new fH(t)),se(!0)}(i.route.parent,r),function WH(t,e){return null!==t&&e&&e(new gH(t)),se(!0)}(i.route,r),function ZH(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function RH(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>bE(()=>se(o.guards.map(l=>{const c=xa(o.node)??n,u=Ys(l,c);return ii(function BH(t){return t&&Va(t.canActivateChild)}(u)?u.canActivateChild(r,t):c.runInContext(()=>u(r,t))).pipe(Ri())})).pipe(Xs())));return se(s).pipe(Xs())}(t,i.path,n),function KH(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return se(!0);const i=r.map(s=>bE(()=>{const o=xa(e)??n,a=Ys(s,o);return ii(function VH(t){return t&&Va(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Ri())}));return se(i).pipe(Xs())}(t,i.route,n))),Ri(i=>!0!==i,!0))}(r,s,t,e):se(a)),Oe(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Nt(l=>{if(s.guardsResult=l.guardsResult,Fi(l.guardsResult))throw t0(0,l.guardsResult);const c=new lH(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),ri(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),sg(l=>{if(l.guards.canActivateChecks.length)return se(l).pipe(Nt(c=>{const u=new cH(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Zn(c=>{let u=!1;return se(c).pipe(function p$(t,e){return vt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return se(n);let s=0;return pt(i).pipe(Da(o=>function g$(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!g0(i)&&(s[Ea]=i.title),function m$(t,e,n,r){const i=function y$(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return se({});const s={};return pt(i).pipe(vt(o=>function v$(t,e,n,r){const i=xa(e)??r,s=Ys(t,i);return ii(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Ri(),Nt(a=>{s[o]=a}))),Hp(1),function Pj(t){return Oe(()=>t)}(s),Oi(o=>a0(o)?Kn:ba(o)))}(s,t,e,r).pipe(Oe(o=>(t._resolvedData=o,t.data=QE(t,n).resolve,i&&g0(i)&&(t.data[Ea]=i.title),null)))}(o.route,r,t,e)),Nt(()=>s++),Hp(1),vt(o=>s===i.length?se(n):Kn))})}(n.paramsInheritanceStrategy,this.environmentInjector),Nt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",2)}}))}),Nt(c=>{const u=new uH(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),sg(l=>{const c=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Nt(h=>{u.component=h}),Oe(()=>{})));for(const h of u.children)d.push(...c(h));return d};return Vp(c(l.targetSnapshot.root)).pipe(Jc(),zs(1))}),sg(()=>this.afterPreactivation()),Oe(l=>{const c=function CH(t,e,n){const r=Oa(t,e._root,n?n._root:void 0);return new KE(r,e)}(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},s}),Nt(()=>{this.events.next(new Kp)}),((t,e,n,r)=>Oe(i=>(new PH(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),zs(1),Nt({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new si(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),n.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),function Nj(t){return ct((e,n)=>{sn(t).subscribe(st(n,()=>n.complete(),Nu)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Nt(l=>{throw l}))),$p(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Oi(l=>{if(a=!0,r0(l))this.events.next(new Na(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function DH(t){return r0(t)&&Fi(t.url)}(l)?this.events.next(new Zp(l.url)):s.resolve(!1);else{this.events.next(new au(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(l))}catch(c){s.reject(c)}}return Kn}))}))}cancelNavigationTransition(n,r,i){const s=new Na(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function y0(t){return t!==Pa}let v0=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===de);return r}getResolvedTitleForRoute(n){return n.data[Ea]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Z({token:t,factory:function(){return G(C$)},providedIn:"root"})}return t})(),C$=(()=>{class t extends v0{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(K(Vb))};static#t=this.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),S$=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Z({token:t,factory:function(){return G(D$)},providedIn:"root"})}return t})();class b${shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let D$=(()=>{class t extends b${static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=bt(t)))(i||t)}}();static#t=this.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const gu=new W("",{providedIn:"root",factory:()=>({})});let E$=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Z({token:t,factory:function(){return G(M$)},providedIn:"root"})}return t})(),M$=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ba=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ba||{});function _0(t,e){t.events.pipe(ri(n=>n instanceof si||n instanceof Na||n instanceof au||n instanceof Ks),Oe(n=>n instanceof si||n instanceof Ks?Ba.COMPLETE:n instanceof Na&&(0===n.code||1===n.code)?Ba.REDIRECTING:Ba.FAILED),ri(n=>n!==Ba.REDIRECTING),zs(1)).subscribe(()=>{e()})}function A$(t){throw t}function T$(t,e,n){return e.parse("/")}const I$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},k$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Nn=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=G(yS),this.isNgZoneEnabled=!1,this._events=new _n,this.options=G(gu,{optional:!0})||{},this.pendingTasks=G(vS),this.errorHandler=this.options.errorHandler||A$,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||T$,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=G(E$),this.routeReuseStrategy=G(S$),this.titleStrategy=G(v0),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=G(eo,{optional:!0})?.flat()??[],this.navigationTransitions=G(pu),this.urlSerializer=G(Aa),this.location=G(Vf),this.componentInputBindingEnabled=!!G(cu,{optional:!0}),this.eventsSubscription=new rn,this.isNgZoneEnabled=G(Ne)instanceof Ne&&Ne.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new qs,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ZE(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(w0(r)&&this._events.next(r));if(r instanceof ou)y0(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Ks)this.rawUrlTree=i.rawUrl;else if(r instanceof zE){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof Kp)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Na)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof Zp){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||y0(i.source)};this.scheduleNavigation(s,Pa,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof au&&this.restoreHistory(i,!0),r instanceof si&&(this.navigated=!0),w0(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Pa,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(ng),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:o;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{d=VE(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return BE(d,n,u,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Fi(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Pa,null,r)}navigate(n,r={skipLocationChange:!1}){return function P$(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new k(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...I$}:!1===r?{...k$}:r,Fi(n))return IE(this.currentUrlTree,n,i);const s=this.parseUrl(n);return IE(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,l=h});const u=this.pendingTasks.add();return _0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function w0(t){return!(t instanceof Kp||t instanceof Zp)}class C0{}let O$=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ri(n=>n instanceof si),Da(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=sf(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return pt(i).pipe(Hi())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):se(null);const s=i.pipe(vt(o=>null===o?se(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?pt([s,this.loader.loadComponent(r)]).pipe(Hi()):s})}static#e=this.\u0275fac=function(r){return new(r||t)(K(Nn),K(_S),K(Mn),K(C0),K(og))};static#t=this.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const lg=new W("");let S0=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ou?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof si?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Ks&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof WE&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new WE(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function h_(){throw new Error("invalid")}()};static#t=this.\u0275prov=Z({token:t,factory:t.\u0275fac})}return t})();function Fr(t,e){return{\u0275kind:t,\u0275providers:e}}function D0(){const t=G(dn);return e=>{const n=t.get(bi);if(e!==n.components[0])return;const r=t.get(Nn),i=t.get(E0);1===t.get(cg)&&r.initialNavigation(),t.get(M0,null,me.Optional)?.setUpPreloading(),t.get(lg,null,me.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const E0=new W("",{factory:()=>new _n}),cg=new W("",{providedIn:"root",factory:()=>1}),M0=new W("");function V$(t){return Fr(0,[{provide:M0,useExisting:O$},{provide:C0,useExisting:t}])}const A0=new W("ROUTER_FORROOT_GUARD"),j$=[Vf,{provide:Aa,useClass:Up},Nn,Ra,{provide:Qs,useFactory:function b0(t){return t.routerState.root},deps:[Nn]},og,[]];function H$(){return new MS("Router",Nn)}let T0=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[j$,[],{provide:eo,multi:!0,useValue:n},{provide:A0,useFactory:z$,deps:[[Nn,new wl,new Cl]]},{provide:gu,useValue:r||{}},r?.useHash?{provide:Ei,useClass:aF}:{provide:Ei,useClass:nb},{provide:lg,useFactory:()=>{const t=G(M2),e=G(Ne),n=G(gu),r=G(pu),i=G(Aa);return n.scrollOffset&&t.setOffset(n.scrollOffset),new S0(i,r,t,e,n)}},r?.preloadingStrategy?V$(r.preloadingStrategy).\u0275providers:[],{provide:MS,multi:!0,useFactory:H$},r?.initialNavigation?W$(r):[],r?.bindToComponentInputs?Fr(8,[e0,{provide:cu,useExisting:e0}]).\u0275providers:[],[{provide:I0,useFactory:D0},{provide:Tf,multi:!0,useExisting:I0}]]}}static forChild(n){return{ngModule:t,providers:[{provide:eo,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(K(A0,8))};static#t=this.\u0275mod=Yn({type:t});static#n=this.\u0275inj=Fn({})}return t})();function z$(t){return"guarded"}function W$(t){return["disabled"===t.initialNavigation?Fr(3,[{provide:wf,multi:!0,useFactory:()=>{const e=G(Nn);return()=>{e.setUpLocationChangeListener()}}},{provide:cg,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Fr(2,[{provide:cg,useValue:0},{provide:wf,multi:!0,deps:[dn],useFactory:e=>{const n=e.get(sF,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Nn),s=e.get(E0);_0(i,()=>{r(!0)}),e.get(pu).afterPreactivation=()=>(r(!0),s.closed?se(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const I0=new W("");function k0(t){return new k(3e3,!1)}function oi(t){switch(t.length){case 0:return new ya;case 1:return t[0];default:return new Jb(t)}}function P0(t,e,n=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(l=>{const c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((h,f)=>{let g=f,_=h;if("offset"!==f)switch(g=t.normalizePropertyName(g,i),_){case"!":_=n.get(f);break;case Nr:_=r.get(f);break;default:_=t.normalizeStyleValue(f,g,_,i)}d.set(g,_)}),u||s.push(d),a=d,o=c}),i.length)throw function mU(t){return new k(3502,!1)}();return s}function ug(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&dg(n,"start",t)));break;case"done":t.onDone(()=>r(n&&dg(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&dg(n,"destroy",t)))}}function dg(t,e,n){const s=hg(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,n.totalTime??t.totalTime,!!n.disabled),o=t._data;return null!=o&&(s._data=o),s}function hg(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function mn(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function N0(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}const TU=(()=>typeof document>"u"?null:document.documentElement)();function fg(t){const e=t.parentNode||t.host||null;return e===TU?null:e}let Li=null,R0=!1;function O0(t,e){for(;e;){if(e===t)return!0;e=fg(e)}return!1}function x0(t,e,n){if(n)return Array.from(t.querySelectorAll(e));const r=t.querySelector(e);return r?[r]:[]}let F0=(()=>{class t{validateStyleProperty(n){return function kU(t){Li||(Li=function PU(){return typeof document<"u"?document.body:null}()||{},R0=!!Li.style&&"WebkitAppearance"in Li.style);let e=!0;return Li.style&&!function IU(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Li.style,!e&&R0&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Li.style)),e}(n)}matchesElement(n,r){return!1}containsElement(n,r){return O0(n,r)}getParentElement(n){return fg(n)}query(n,r,i){return x0(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,s,o,a=[],l){return new ya(i,s)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Z({token:t,factory:t.\u0275fac})}return t})(),pg=(()=>{class t{static#e=this.NOOP=new F0}return t})();const NU=1e3,gg="ng-enter",mu="ng-leave",yu="ng-trigger",vu=".ng-trigger",V0="ng-animating",mg=".ng-animating";function Lr(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:yg(parseFloat(e[1]),e[2])}function yg(t,e){return"s"===e?t*NU:t}function _u(t,e,n){return t.hasOwnProperty("duration")?t:function OU(t,e,n){let i,s=0,o="";if("string"==typeof t){const a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(k0()),{duration:0,delay:0,easing:""};i=yg(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=yg(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=t;if(!n){let a=!1,l=e.length;i<0&&(e.push(function K$(){return new k(3100,!1)}()),a=!0),s<0&&(e.push(function Z$(){return new k(3101,!1)}()),a=!0),a&&e.splice(l,0,k0())}return{duration:i,delay:s,easing:o}}(t,e,n)}function ja(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function B0(t){const e=new Map;return Object.keys(t).forEach(n=>{e.set(n,t[n])}),e}function ai(t,e=new Map,n){if(n)for(let[r,i]of n)e.set(r,i);for(let[r,i]of t)e.set(r,i);return e}function fr(t,e,n){e.forEach((r,i)=>{const s=_g(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function Vi(t,e){e.forEach((n,r)=>{const i=_g(r);t.style[i]=""})}function Ha(t){return Array.isArray(t)?1==t.length?t[0]:Xb(t):t}const vg=new RegExp("{{\\s*(.+?)\\s*}}","g");function H0(t){let e=[];if("string"==typeof t){let n;for(;n=vg.exec(t);)e.push(n[1]);vg.lastIndex=0}return e}function $a(t,e,n){const r=t.toString(),i=r.replace(vg,(s,o)=>{let a=e[o];return null==a&&(n.push(function Y$(t){return new k(3003,!1)}()),a=""),a.toString()});return i==r?t:i}function wu(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const LU=/-+([a-z0-9])/g;function _g(t){return t.replace(LU,(...e)=>e[1].toUpperCase())}function yn(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw function X$(t){return new k(3004,!1)}()}}function $0(t,e){return window.getComputedStyle(t)[e]}const Cu="*";function jU(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function HU(t,e,n){if(":"==t[0]){const l=function $U(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(function hU(t){return new k(3016,!1)}()),"* => *"}}(t,n);if("function"==typeof l)return void e.push(l);t=l}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function dU(t){return new k(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(U0(i,o));"<"==s[0]&&!(i==Cu&&o==Cu)&&e.push(U0(o,i))}(r,n,e)):n.push(t),n}const Su=new Set(["true","1"]),bu=new Set(["false","0"]);function U0(t,e){const n=Su.has(t)||bu.has(t),r=Su.has(e)||bu.has(e);return(i,s)=>{let o=t==Cu||t==i,a=e==Cu||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?Su.has(t):bu.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?Su.has(e):bu.has(e)),o&&a}}const UU=new RegExp("s*:selfs*,?","g");function wg(t,e,n,r){return new GU(t).build(e,n,r)}class GU{constructor(e){this._driver=e}build(e,n,r){const i=new qU(n);return this._resetContextStyleTimingState(i),yn(this,Ha(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&n.errors.push(function eU(){return new k(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,n))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,n);r+=l.queryCount,i+=l.depCount,o.push(l)}else n.errors.push(function tU(){return new k(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){const r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{H0(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(wu(s.values()),n.errors.push(function nU(t,e){return new k(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const r=yn(this,Ha(e.animation),n);return{type:1,matchers:jU(e.expr,n.errors),animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Bi(e.options)}}visitSequence(e,n){return{type:2,steps:e.steps.map(r=>yn(this,r,n)),options:Bi(e.options)}}visitGroup(e,n){const r=n.currentTime;let i=0;const s=e.steps.map(o=>{n.currentTime=r;const a=yn(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:3,steps:s,options:Bi(e.options)}}visitAnimate(e,n){const r=function ZU(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return Cg(_u(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Cg(0,0,"");return s.dynamic=!0,s.strValue=n,s}const i=_u(n,e);return Cg(i.duration,i.delay,i.easing)}(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:Mt({});if(5==s.type)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=Mt(c)}n.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,n);l.isEmptyStep=a,i=l}return n.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,n){const r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===Nr?r.push(a):n.errors.push(new k(3002,!1)):r.push(B0(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){const r=n.currentAnimateTimings;let i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=n.collectedStyles.get(n.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(n.errors.push(function iU(t,e,n,r,i){return new k(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:i}),n.options&&function FU(t,e,n){const r=e.params||{},i=H0(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(function Q$(t){return new k(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(e,n){const r={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function sU(){return new k(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(T=>{const b=this._makeStyleAst(T,n);let F=null!=b.offset?b.offset:function KU(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}(b.styles),B=0;return null!=F&&(s++,B=b.offset=F),l=l||B<0||B>1,a=a||B<c,c=B,o.push(B),b});l&&n.errors.push(function oU(){return new k(3012,!1)}()),a&&n.errors.push(function aU(){return new k(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?n.errors.push(function lU(){return new k(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,g=n.currentTime,_=n.currentAnimateTimings,M=_.duration;return u.forEach((T,b)=>{const F=h>0?b==f?1:h*b:o[b],B=F*M;n.currentTime=g+_.delay+B,_.duration=B,this._validateStyleAst(T,n),T.offset=F,r.styles.push(T)}),r}visitReference(e,n){return{type:8,animation:yn(this,Ha(e.animation),n),options:Bi(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:9,options:Bi(e.options)}}visitAnimateRef(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:Bi(e.options)}}visitQuery(e,n){const r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;const[s,o]=function zU(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(UU,"")),t=t.replace(/@\*/g,vu).replace(/@\w+/g,n=>vu+"-"+n.slice(1)).replace(/:animating/g,mg),[t,e]}(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,mn(n.collectedStyles,n.currentQuerySelector,new Map);const a=yn(this,Ha(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Bi(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function cU(){return new k(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:_u(e.timings,n.errors,!0);return{type:12,animation:yn(this,Ha(e.animation),n),timings:r,options:null}}}class qU{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Bi(t){return t?(t=ja(t)).params&&(t.params=function WU(t){return t?ja(t):null}(t.params)):t={},t}function Cg(t,e,n){return{duration:t,delay:e,easing:n}}function Sg(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Du{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const XU=new RegExp(":enter","g"),e4=new RegExp(":leave","g");function bg(t,e,n,r,i,s=new Map,o=new Map,a,l,c=[]){return(new t4).buildKeyframes(t,e,n,r,i,s,o,a,l,c)}class t4{buildKeyframes(e,n,r,i,s,o,a,l,c,u=[]){c=c||new Du;const d=new Dg(e,n,c,i,s,u,[]);d.options=l;const h=l.delay?Lr(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),yn(this,r,d);const f=d.timelines.filter(g=>g.containsAnimation());if(f.length&&a.size){let g;for(let _=f.length-1;_>=0;_--){const M=f[_];if(M.element===n){g=M;break}}g&&!g.allowOnlyTimelineStyles()&&g.setStyles([a],null,d.errors,l)}return f.length?f.map(g=>g.buildKeyframes()):[Sg(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){const r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:Lr($a(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime;const o=null!=r.duration?Lr(r.duration):null,a=null!=r.delay?Lr(r.delay):null;return 0!==o&&e.forEach(l=>{const c=n.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),yn(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const r=n.subContextCount;let i=n;const s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Eu);const o=Lr(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>yn(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const r=[];let i=n.currentTimeline.currentTime;const s=e.options&&e.options.delay?Lr(e.options.delay):0;e.steps.forEach(o=>{const a=n.createSubContext(e.options);s&&a.delayNextStep(s),yn(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const r=e.strValue;return _u(n.params?$a(r,n.params,n.errors):r,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){const r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?Lr(i.delay):0;s&&(6===n.previousNode.type||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Eu);let o=r;const a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{n.currentQueryIndex=u;const d=n.createSubContext(e.options,c);s&&d.delayNextStep(s),c===n.element&&(l=d.currentTimeline),yn(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1);let l=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=n.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;yn(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const Eu={};class Dg{constructor(e,n,r,i,s,o,a,l){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Eu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Mu(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Lr(r.duration)),null!=r.delay&&(i.delay=Lr(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=$a(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){const i=n||this.element,s=new Dg(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Eu,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){const i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new n4(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(XU,"."+this._enterClassName)).replace(e4,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function uU(t){return new k(3014,!1)}()),a}}class Mu{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new Mu(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Nr),this._currentKeyframe.set(n,Nr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);const s=i&&i.params||{},o=function r4(t,e){const n=new Map;let r;return t.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)n.set(s,Nr)}else ai(i,n)}),n}(e,this._globalTimelineStyles);for(let[a,l]of o){const c=$a(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Nr),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{const i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=ai(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?e.add(d):u===Nr&&n.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});const s=e.size?wu(e.values()):[],o=n.size?wu(n.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return Sg(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class n4 extends Mu{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const s=[],o=r+n,a=n/o,l=ai(e[0]);l.set("offset",0),s.push(l);const c=ai(e[0]);c.set("offset",W0(a)),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=ai(e[d]);const f=h.get("offset");h.set("offset",W0((n+f*r)/o)),s.push(h)}r=o,n=0,i="",e=s}return Sg(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function W0(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Eg{}const i4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class s4 extends Eg{normalizePropertyName(e,n){return _g(e)}normalizeStyleValue(e,n,r,i){let s="";const o=r.toString().trim();if(i4.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function J$(t,e){return new k(3005,!1)}())}return o+s}}function q0(t,e,n,r,i,s,o,a,l,c,u,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const Mg={};class K0{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return function o4(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||Mg,g=this.buildStyles(r,a&&a.params||Mg,d),_=l&&l.params||Mg,M=this.buildStyles(i,_,d),T=new Set,b=new Map,F=new Map,B="void"===i,q={params:a4(_,h),delay:this.ast.options?.delay},ce=u?[]:bg(e,n,this.ast.animation,s,o,g,M,q,c,d);let pe=0;if(ce.forEach(Qe=>{pe=Math.max(Qe.duration+Qe.delay,pe)}),d.length)return q0(n,this._triggerName,r,i,B,g,M,[],[],b,F,pe,d);ce.forEach(Qe=>{const at=Qe.element,vn=mn(b,at,new Set);Qe.preStyleProps.forEach(Gt=>vn.add(Gt));const nn=mn(F,at,new Set);Qe.postStyleProps.forEach(Gt=>nn.add(Gt)),at!==n&&T.add(at)});const He=wu(T.values());return q0(n,this._triggerName,r,i,B,g,M,ce,He,b,F,pe)}}function a4(t,e){const n=ja(e);for(const r in t)t.hasOwnProperty(r)&&null!=t[r]&&(n[r]=t[r]);return n}class l4{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){const r=new Map,i=ja(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=$a(o,i,n));const l=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,l,o,n),r.set(a,o)})}),r}}class u4{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{this.states.set(i.name,new l4(i.style,i.options&&i.options.params||{},r))}),Z0(this.states,"true","1"),Z0(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new K0(e,i,this.states))}),this.fallbackTransition=function d4(t,e,n){return new K0(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}}function Z0(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}const h4=new Du;class f4{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const r=[],s=wg(this._driver,n,r,[]);if(r.length)throw function yU(t){return new k(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,n,r){const i=e.element,s=P0(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=bg(this._driver,n,s,gg,mu,new Map,new Map,r,h4,i),o.forEach(u=>{const d=mn(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function vU(){return new k(3300,!1)}()),o=[]),i.length)throw function _U(t){return new k(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,Nr))})});const c=oi(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function wU(t){return new k(3301,!1)}();return n}listen(e,n,r,i){const s=hg(n,"","","");return ug(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,n,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const Q0="ng-animate-queued",Ag="ng-animate-disabled",v4=[],Y0={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_4={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},qn="__ng_removed";class Tg{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;const r=e&&e.hasOwnProperty("value");if(this.value=function b4(t){return t??null}(r?e.value:e),r){const s=ja(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const n=e.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const Ua="void",Ig=new Tg(Ua);class w4{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Rn(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw function CU(t,e){return new k(3302,!1)}();if(null==r||0==r.length)throw function SU(t){return new k(3303,!1)}();if(!function D4(t){return"start"==t||"done"==t}(r))throw function bU(t,e){return new k(3400,!1)}();const s=mn(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);const a=mn(this._engine.statesByElement,e,new Map);return a.has(n)||(Rn(e,yu),Rn(e,yu+"-"+n),a.set(n,Ig)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function DU(t){return new k(3401,!1)}();return n}trigger(e,n,r,i=!0){const s=this._getTrigger(n),o=new kg(this.id,n,e);let a=this._engine.statesByElement.get(e);a||(Rn(e,yu),Rn(e,yu+"-"+n),this._engine.statesByElement.set(e,a=new Map));let l=a.get(n);const c=new Tg(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(n,c),l||(l=Ig),c.value!==Ua&&l.value===c.value){if(!function A4(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}(l.params,c.params)){const _=[],M=s.matchStyles(l.value,l.params,_),T=s.matchStyles(c.value,c.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{Vi(e,M),fr(e,T)})}return}const h=mn(this._engine.playersByElement,e,[]);h.forEach(_=>{_.namespaceId==this.id&&_.triggerName==n&&_.queued&&_.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),g=!1;if(!f){if(!i)return;f=s.fallbackTransition,g=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:g}),g||(Rn(e,Q0),o.onStart(()=>{to(e,Q0)})),o.onDone(()=>{let _=this.players.indexOf(o);_>=0&&this.players.splice(_,1);const M=this._engine.playersByElement.get(e);if(M){let T=M.indexOf(o);T>=0&&M.splice(T,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const r=this._engine.driver.query(e,vu,!0);r.forEach(i=>{if(i[qn])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,Ua,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&oi(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){const i=new Set;n.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,c=r.get(o)||Ig,u=new Tg(Ua),d=new kg(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,n){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{const s=e[qn];(!s||s===Y0)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Rn(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=hg(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,ug(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class C4{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){const r=new w4(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}return n}trigger(e,n,r,i){if(Au(n)){const s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!Au(n))return;const s=n[qn];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Rn(e,Ag)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),to(e,Ag))}removeNode(e,n,r){if(Au(n)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);const s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[qn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return Au(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,vu,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,mg,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return oi(this.players).onDone(()=>e());e()})}processLeaveNode(e){const n=e[qn];if(n&&n.setForRemoval){if(e[qn]=Y0,n.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(Ag)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Rn(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?oi(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function EU(t){return new k(3402,!1)}()}_flushAnimations(e,n){const r=new Du,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(U=>{u.add(U);const Y=this.driver.query(U,".ng-animate-queued",!0);for(let ee=0;ee<Y.length;ee++)u.add(Y[ee])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=eM(h,this.collectedEnterElements),g=new Map;let _=0;f.forEach((U,Y)=>{const ee=gg+_++;g.set(Y,ee),U.forEach(ve=>Rn(ve,ee))});const M=[],T=new Set,b=new Set;for(let U=0;U<this.collectedLeaveElements.length;U++){const Y=this.collectedLeaveElements[U],ee=Y[qn];ee&&ee.setForRemoval&&(M.push(Y),T.add(Y),ee.hasAnimation?this.driver.query(Y,".ng-star-inserted",!0).forEach(ve=>T.add(ve)):b.add(Y))}const F=new Map,B=eM(h,Array.from(T));B.forEach((U,Y)=>{const ee=mu+_++;F.set(Y,ee),U.forEach(ve=>Rn(ve,ee))}),e.push(()=>{f.forEach((U,Y)=>{const ee=g.get(Y);U.forEach(ve=>to(ve,ee))}),B.forEach((U,Y)=>{const ee=F.get(Y);U.forEach(ve=>to(ve,ee))}),M.forEach(U=>{this.processLeaveNode(U)})});const q=[],ce=[];for(let U=this._namespaceList.length-1;U>=0;U--)this._namespaceList[U].drainQueuedTransitions(n).forEach(ee=>{const ve=ee.player,lt=ee.element;if(q.push(ve),this.collectedEnterElements.length){const Rt=lt[qn];if(Rt&&Rt.setForMove){if(Rt.previousTriggersValues&&Rt.previousTriggersValues.has(ee.triggerName)){const ji=Rt.previousTriggersValues.get(ee.triggerName),xn=this.statesByElement.get(ee.element);if(xn&&xn.has(ee.triggerName)){const Pu=xn.get(ee.triggerName);Pu.value=ji,xn.set(ee.triggerName,Pu)}}return void ve.destroy()}}const On=!d||!this.driver.containsElement(d,lt),zt=F.get(lt),pr=g.get(lt),ze=this._buildInstruction(ee,r,pr,zt,On);if(ze.errors&&ze.errors.length)return void ce.push(ze);if(On)return ve.onStart(()=>Vi(lt,ze.fromStyles)),ve.onDestroy(()=>fr(lt,ze.toStyles)),void i.push(ve);if(ee.isFallbackTransition)return ve.onStart(()=>Vi(lt,ze.fromStyles)),ve.onDestroy(()=>fr(lt,ze.toStyles)),void i.push(ve);const ku=[];ze.timelines.forEach(Rt=>{Rt.stretchStartingKeyframe=!0,this.disabledNodes.has(Rt.element)||ku.push(Rt)}),ze.timelines=ku,r.append(lt,ze.timelines),o.push({instruction:ze,player:ve,element:lt}),ze.queriedElements.forEach(Rt=>mn(a,Rt,[]).push(ve)),ze.preStyleProps.forEach((Rt,ji)=>{if(Rt.size){let xn=l.get(ji);xn||l.set(ji,xn=new Set),Rt.forEach((Pu,Rg)=>xn.add(Rg))}}),ze.postStyleProps.forEach((Rt,ji)=>{let xn=c.get(ji);xn||c.set(ji,xn=new Set),Rt.forEach((Pu,Rg)=>xn.add(Rg))})});if(ce.length){const U=[];ce.forEach(Y=>{U.push(function MU(t,e){return new k(3505,!1)}())}),q.forEach(Y=>Y.destroy()),this.reportError(U)}const pe=new Map,He=new Map;o.forEach(U=>{const Y=U.element;r.has(Y)&&(He.set(Y,Y),this._beforeAnimationBuild(U.player.namespaceId,U.instruction,pe))}),i.forEach(U=>{const Y=U.element;this._getPreviousPlayers(Y,!1,U.namespaceId,U.triggerName,null).forEach(ve=>{mn(pe,Y,[]).push(ve),ve.destroy()})});const Qe=M.filter(U=>nM(U,l,c)),at=new Map;J0(at,this.driver,b,c,Nr).forEach(U=>{nM(U,l,c)&&Qe.push(U)});const nn=new Map;f.forEach((U,Y)=>{J0(nn,this.driver,new Set(U),l,"!")}),Qe.forEach(U=>{const Y=at.get(U),ee=nn.get(U);at.set(U,new Map([...Y?.entries()??[],...ee?.entries()??[]]))});const Gt=[],li=[],ci={};o.forEach(U=>{const{element:Y,player:ee,instruction:ve}=U;if(r.has(Y)){if(u.has(Y))return ee.onDestroy(()=>fr(Y,ve.toStyles)),ee.disabled=!0,ee.overrideTotalTime(ve.totalTime),void i.push(ee);let lt=ci;if(He.size>1){let zt=Y;const pr=[];for(;zt=zt.parentNode;){const ze=He.get(zt);if(ze){lt=ze;break}pr.push(zt)}pr.forEach(ze=>He.set(ze,lt))}const On=this._buildAnimation(ee.namespaceId,ve,pe,s,nn,at);if(ee.setRealPlayer(On),lt===ci)Gt.push(ee);else{const zt=this.playersByElement.get(lt);zt&&zt.length&&(ee.parentPlayer=oi(zt)),i.push(ee)}}else Vi(Y,ve.fromStyles),ee.onDestroy(()=>fr(Y,ve.toStyles)),li.push(ee),u.has(Y)&&i.push(ee)}),li.forEach(U=>{const Y=s.get(U.element);if(Y&&Y.length){const ee=oi(Y);U.setRealPlayer(ee)}}),i.forEach(U=>{U.parentPlayer?U.syncPlayerEvents(U.parentPlayer):U.destroy()});for(let U=0;U<M.length;U++){const Y=M[U],ee=Y[qn];if(to(Y,mu),ee&&ee.hasAnimation)continue;let ve=[];if(a.size){let On=a.get(Y);On&&On.length&&ve.push(...On);let zt=this.driver.query(Y,mg,!0);for(let pr=0;pr<zt.length;pr++){let ze=a.get(zt[pr]);ze&&ze.length&&ve.push(...ze)}}const lt=ve.filter(On=>!On.destroyed);lt.length?E4(this,Y,lt):this.processLeaveNode(Y)}return M.length=0,Gt.forEach(U=>{this.players.push(U),U.onDone(()=>{U.destroy();const Y=this.players.indexOf(U);this.players.splice(Y,1)}),U.play()}),Gt}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==Ua;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){const s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:n.triggerName;for(const l of n.timelines){const c=l.element,u=c!==s,d=mn(r,c,[]);this._getPreviousPlayers(c,u,o,a,n.toState).forEach(f=>{const g=f.getRealPlayer();g.beforeDestroy&&g.beforeDestroy(),f.destroy(),d.push(f)})}Vi(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){const a=n.triggerName,l=n.element,c=[],u=new Set,d=new Set,h=n.timelines.map(g=>{const _=g.element;u.add(_);const M=_[qn];if(M&&M.removedBeforeQueried)return new ya(g.duration,g.delay);const T=_!==l,b=function M4(t){const e=[];return tM(t,e),e}((r.get(_)||v4).map(pe=>pe.getRealPlayer())).filter(pe=>!!pe.element&&pe.element===_),F=s.get(_),B=o.get(_),q=P0(this._normalizer,g.keyframes,F,B),ce=this._buildPlayer(g,q,b);if(g.subTimeline&&i&&d.add(_),T){const pe=new kg(e,a,_);pe.setRealPlayer(ce),c.push(pe)}return ce});c.forEach(g=>{mn(this.playersByQueriedElement,g.element,[]).push(g),g.onDone(()=>function S4(t,e,n){let r=t.get(e);if(r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}return r}(this.playersByQueriedElement,g.element,g))}),u.forEach(g=>Rn(g,V0));const f=oi(h);return f.onDestroy(()=>{u.forEach(g=>to(g,V0)),fr(l,n.toStyles)}),d.forEach(g=>{mn(i,g,[]).push(f)}),f}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new ya(e.duration,e.delay)}}class kg{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new ya,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>ug(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){mn(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function Au(t){return t&&1===t.nodeType}function X0(t,e){const n=t.style.display;return t.style.display=e??"none",n}function J0(t,e,n,r,i){const s=[];n.forEach(l=>s.push(X0(l)));const o=[];r.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=e.computeStyle(c,d,i);u.set(d,h),(!h||0==h.length)&&(c[qn]=_4,o.push(c))}),t.set(c,u)});let a=0;return n.forEach(l=>X0(l,s[a++])),o}function eM(t,e){const n=new Map;if(t.forEach(a=>n.set(a,[])),0==e.length)return n;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=n.has(c)?c:i.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&n.get(l).push(a)}),n}function Rn(t,e){t.classList?.add(e)}function to(t,e){t.classList?.remove(e)}function E4(t,e,n){oi(n).onDone(()=>t.processLeaveNode(e))}function tM(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof Jb?tM(r.players,e):e.push(r)}}function nM(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}class Tu{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new C4(e,n,r),this._timelineEngine=new f4(e,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,n,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],u=wg(this._driver,s,l,[]);if(l.length)throw function gU(t,e){return new k(3404,!1)}();a=function c4(t,e,n){return new u4(t,e,n)}(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if("@"==r.charAt(0)){const[s,o]=N0(r);this._timelineEngine.command(s,n,o,i)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if("@"==r.charAt(0)){const[o,a]=N0(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let I4=(()=>{class t{static#e=this.initialStylesByElement=new WeakMap;constructor(n,r,i){this._element=n,this._startStyles=r,this._endStyles=i,this._state=0;let s=t.initialStylesByElement.get(n);s||t.initialStylesByElement.set(n,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&fr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(fr(this._element,this._initialStyles),this._endStyles&&(fr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Vi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Vi(this._element,this._endStyles),this._endStyles=null),fr(this._element,this._initialStyles),this._state=3)}}return t})();function Pg(t){let e=null;return t.forEach((n,r)=>{(function k4(t){return"display"===t||"position"===t})(r)&&(e=e||new Map,e.set(r,n))}),e}class rM{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:$0(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class P4{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return O0(e,n)}getParentElement(e){return fg(e)}query(e,n,r){return x0(e,n,r)}computeStyle(e,n,r){return window.getComputedStyle(e)[n]}animate(e,n,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(f=>f instanceof rM);(function VU(t,e){return 0===t||0===e})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((g,_)=>c.set(_,g))});let d=function xU(t){return t.length?t[0]instanceof Map?t:t.map(e=>B0(e)):[]}(n).map(f=>ai(f));d=function BU(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,$0(t,a)))}}return e}(e,d,c);const h=function T4(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Pg(e[0]),e.length>1&&(r=Pg(e[e.length-1]))):e instanceof Map&&(n=Pg(e)),n||r?new I4(t,n,r):null}(e,d);return new rM(e,d,l,h)}}let N4=(()=>{class t extends Yb{constructor(n,r){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(r.body,{id:"0",encapsulation:Sn.None,styles:[],data:{animation:[]}})}build(n){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(n)?Xb(n):n;return iM(this._renderer,null,r,"register",[i]),new R4(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||t)(K(Lo),K(Jt))};static#t=this.\u0275prov=Z({token:t,factory:t.\u0275fac})}return t})();class R4 extends jL{constructor(e,n){super(),this._id=e,this._renderer=n}create(e,n){return new O4(this._id,e,n||{},this._renderer)}}class O4{constructor(e,n,r,i){this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,n){return this._renderer.listen(this.element,`@@${this.id}:${e}`,n)}_command(e,...n){return iM(this._renderer,this.element,this.id,e,n)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function iM(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const sM="@.disabled";let x4=(()=>{class t{constructor(n,r,i){this.delegate=n,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(n,r){const s=this.delegate.createRenderer(n,r);if(!(n&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(s);return u||(u=new oM("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,u)),u}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,n);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,n,u.name,u)};return r.data.animation.forEach(l),new F4(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,r,i){n>=0&&n<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||t)(K(Lo),K(Tu),K(Ne))};static#t=this.\u0275prov=Z({token:t,factory:t.\u0275fac})}return t})();class oM{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){"@"==n.charAt(0)&&n==sM?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class F4 extends oM{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==sM?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if("@"==n.charAt(0)){const i=function L4(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let s=n.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function V4(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,n,r)}}const aM=[{provide:Yb,useClass:N4},{provide:Eg,useFactory:function j4(){return new s4}},{provide:Tu,useClass:(()=>{class t extends Tu{constructor(n,r,i,s){super(n.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||t)(K(Jt),K(pg),K(Eg),K(bi))};static#t=this.\u0275prov=Z({token:t,factory:t.\u0275fac})}return t})()},{provide:Lo,useFactory:function H4(t,e,n){return new x4(t,e,n)},deps:[op,Tu,Ne]}],Ng=[{provide:pg,useFactory:()=>new P4},{provide:xv,useValue:"BrowserAnimations"},...aM],lM=[{provide:pg,useClass:F0},{provide:xv,useValue:"NoopAnimations"},...aM];let $4=(()=>{class t{static withConfig(n){return{ngModule:t,providers:n.disableAnimations?lM:Ng}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Yn({type:t});static#n=this.\u0275inj=Fn({providers:Ng,imports:[Lb]})}return t})();const U4=[{path:"game",component:CE},{path:"card",component:cr},{path:"",pathMatch:"full",redirectTo:"game"}];let G4=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Yn({type:t,bootstrap:[Sj]});static#n=this.\u0275inj=Fn({imports:[Lb,B3,vb,$4,[T0.forRoot(U4,{initialNavigation:"enabledBlocking",useHash:!0})],T0]})}return t})();vL().bootstrapModule(G4).catch(t=>console.error(t))}},Pe=>{Pe(Pe.s=94)}]);