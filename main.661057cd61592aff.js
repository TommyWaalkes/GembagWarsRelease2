"use strict";(self.webpackChunkCardApp=self.webpackChunkCardApp||[]).push([[179],{113:()=>{function Re(n){return"function"==typeof n}function po(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const il=po(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function go(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class un{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Re(r))try{r()}catch(s){e=s instanceof il?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{rm(s)}catch(o){e=e??[],o instanceof il?e=[...e,...o.errors]:e.push(o)}}if(e)throw new il(e)}}add(e){var t;if(e&&e!==this)if(this.closed)rm(e);else{if(e instanceof un){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&go(t,e)}remove(e){const{_finalizers:t}=this;t&&go(t,e),e instanceof un&&e._removeParent(this)}}un.EMPTY=(()=>{const n=new un;return n.closed=!0,n})();const tm=un.EMPTY;function nm(n){return n instanceof un||n&&"closed"in n&&Re(n.remove)&&Re(n.add)&&Re(n.unsubscribe)}function rm(n){Re(n)?n():n.unsubscribe()}const yi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},sl={setTimeout(n,e,...t){const{delegate:r}=sl;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=sl;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function im(n){sl.setTimeout(()=>{const{onUnhandledError:e}=yi;if(!e)throw n;e(n)})}function nd(){}const B1=rd("C",void 0,void 0);function rd(n,e,t){return{kind:n,value:e,error:t}}let vi=null;function ol(n){if(yi.useDeprecatedSynchronousErrorHandling){const e=!vi;if(e&&(vi={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=vi;if(vi=null,t)throw r}}else n()}class id extends un{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,nm(e)&&e.add(this)):this.destination=G1}static create(e,t,r){return new mo(e,t,r)}next(e){this.isStopped?od(function U1(n){return rd("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?od(function V1(n){return rd("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?od(B1,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const H1=Function.prototype.bind;function sd(n,e){return H1.call(n,e)}class $1{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){al(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){al(r)}else al(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){al(t)}}}class mo extends id{constructor(e,t,r){let i;if(super(),Re(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&yi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&sd(e.next,s),error:e.error&&sd(e.error,s),complete:e.complete&&sd(e.complete,s)}):i=e}this.destination=new $1(i)}}function al(n){yi.useDeprecatedSynchronousErrorHandling?function j1(n){yi.useDeprecatedSynchronousErrorHandling&&vi&&(vi.errorThrown=!0,vi.error=n)}(n):im(n)}function od(n,e){const{onStoppedNotification:t}=yi;t&&sl.setTimeout(()=>t(n,e))}const G1={closed:!0,next:nd,error:function z1(n){throw n},complete:nd},ad="function"==typeof Symbol&&Symbol.observable||"@@observable";function Yr(n){return n}function sm(n){return 0===n.length?Yr:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let ct=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function K1(n){return n&&n instanceof id||function q1(n){return n&&Re(n.next)&&Re(n.error)&&Re(n.complete)}(n)&&nm(n)}(t)?t:new mo(t,r,i);return ol(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=om(r))((i,s)=>{const o=new mo({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[ad](){return this}pipe(...t){return sm(t)(this)}toPromise(t){return new(t=om(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function om(n){var e;return null!==(e=n??yi.Promise)&&void 0!==e?e:Promise}const Y1=po(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Mn=(()=>{class n extends ct{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new am(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Y1}next(t){ol(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){ol(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ol(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?tm:(this.currentObservers=null,s.push(t),new un(()=>{this.currentObservers=null,go(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new ct;return t.source=this,t}}return n.create=(e,t)=>new am(e,t),n})();class am extends Mn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:tm}}function lm(n){return Re(n?.lift)}function gt(n){return e=>{if(lm(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ut(n,e,t,r,i){return new Z1(n,e,t,r,i)}class Z1 extends id{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Le(n,e){return gt((t,r)=>{let i=0;t.subscribe(ut(r,s=>{r.next(n.call(e,s,i++))}))})}function Zr(n){return this instanceof Zr?(this.v=n,this):new Zr(n)}function hm(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function dd(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const fm=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function pm(n){return Re(n?.then)}function gm(n){return Re(n[ad])}function mm(n){return Symbol.asyncIterator&&Re(n?.[Symbol.asyncIterator])}function ym(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const vm=function vM(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function _m(n){return Re(n?.[vm])}function wm(n){return function dm(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(p){return new Promise(function(v,S){s.push([h,p,v,S])>1||a(h,p)})})}function a(h,p){try{!function l(h){h.value instanceof Zr?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(r[h](p))}catch(v){d(s[0][3],v)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,p){h(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Zr(t.read());if(i)return yield Zr(void 0);yield yield Zr(r)}}finally{t.releaseLock()}})}function Cm(n){return Re(n?.getReader)}function dn(n){if(n instanceof ct)return n;if(null!=n){if(gm(n))return function _M(n){return new ct(e=>{const t=n[ad]();if(Re(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(fm(n))return function wM(n){return new ct(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(pm(n))return function CM(n){return new ct(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,im)})}(n);if(mm(n))return Sm(n);if(_m(n))return function SM(n){return new ct(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Cm(n))return function bM(n){return Sm(wm(n))}(n)}throw ym(n)}function Sm(n){return new ct(e=>{(function DM(n,e){var t,r,i,s;return function cm(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=hm(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Er(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Dt(n,e,t=1/0){return Re(e)?Dt((r,i)=>Le((s,o)=>e(r,s,i,o))(dn(n(r,i))),t):("number"==typeof e&&(t=e),gt((r,i)=>function EM(n,e,t,r,i,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},p=S=>c<r?v(S):l.push(S),v=S=>{s&&e.next(S),c++;let M=!1;dn(t(S,u++)).subscribe(ut(e,k=>{i?.(k),s?p(k):e.next(k)},()=>{M=!0},void 0,()=>{if(M)try{for(c--;l.length&&c<r;){const k=l.shift();o?Er(e,o,()=>v(k)):v(k)}h()}catch(k){e.error(k)}}))};return n.subscribe(ut(e,p,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function Zi(n=1/0){return Dt(Yr,n)}const nr=new ct(n=>n.complete());function hd(n){return n[n.length-1]}function bm(n){return Re(hd(n))?n.pop():void 0}function yo(n){return function AM(n){return n&&Re(n.schedule)}(hd(n))?n.pop():void 0}function Dm(n,e=0){return gt((t,r)=>{t.subscribe(ut(r,i=>Er(r,n,()=>r.next(i),e),()=>Er(r,n,()=>r.complete(),e),i=>Er(r,n,()=>r.error(i),e)))})}function Em(n,e=0){return gt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Mm(n,e){if(!n)throw new Error("Iterable cannot be null");return new ct(t=>{Er(t,e,()=>{const r=n[Symbol.asyncIterator]();Er(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function wt(n,e){return e?function NM(n,e){if(null!=n){if(gm(n))return function kM(n,e){return dn(n).pipe(Em(e),Dm(e))}(n,e);if(fm(n))return function PM(n,e){return new ct(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(pm(n))return function IM(n,e){return dn(n).pipe(Em(e),Dm(e))}(n,e);if(mm(n))return Mm(n,e);if(_m(n))return function xM(n,e){return new ct(t=>{let r;return Er(t,e,()=>{r=n[vm](),Er(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Re(r?.return)&&r.return()})}(n,e);if(Cm(n))return function RM(n,e){return Mm(wm(n),e)}(n,e)}throw ym(n)}(n,e):dn(n)}class An extends Mn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function ae(...n){return wt(n,yo(n))}function Am(n={}){const{connector:e=(()=>new Mn),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},p=()=>{h(),o=l=void 0,u=d=!1},v=()=>{const S=o;p(),S?.unsubscribe()};return gt((S,M)=>{c++,!d&&!u&&h();const k=l=l??e();M.add(()=>{c--,0===c&&!d&&!u&&(a=fd(v,i))}),k.subscribe(M),!o&&c>0&&(o=new mo({next:E=>k.next(E),error:E=>{d=!0,h(),a=fd(p,t,E),k.error(E)},complete:()=>{u=!0,h(),a=fd(p,r),k.complete()}}),dn(S).subscribe(o))})(s)}}function fd(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new mo({next:()=>{r.unsubscribe(),n()}});return dn(e(...t)).subscribe(r)}function rr(n,e){return gt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(ut(r,l=>{i?.unsubscribe();let c=0;const u=s++;dn(n(l,u)).subscribe(i=ut(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function LM(n,e){return n===e}function ke(n){for(let e in n)if(n[e]===ke)return e;throw Error("Could not find renamed property on target object.")}function ll(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function mt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(mt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function pd(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const BM=ke({__forward_ref__:ke});function je(n){return n.__forward_ref__=je,n.toString=function(){return mt(this())},n}function se(n){return gd(n)?n():n}function gd(n){return"function"==typeof n&&n.hasOwnProperty(BM)&&n.__forward_ref__===je}function md(n){return n&&!!n.\u0275providers}const Tm="https://g.co/ng/security#xss";class x extends Error{constructor(e,t){super(function cl(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function le(n){return"string"==typeof n?n:null==n?"":String(n)}function yd(n,e){throw new x(-201,!1)}function Tn(n,e){null==n&&function re(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function J(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Un(n){return{providers:n.providers||[],imports:n.imports||[]}}function ul(n){return km(n,hl)||km(n,Im)}function km(n,e){return n.hasOwnProperty(e)?n[e]:null}function dl(n){return n&&(n.hasOwnProperty(vd)||n.hasOwnProperty(WM))?n[vd]:null}const hl=ke({\u0275prov:ke}),vd=ke({\u0275inj:ke}),Im=ke({ngInjectableDef:ke}),WM=ke({ngInjectorDef:ke});var me=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(me||{});let _d;function Xt(n){const e=_d;return _d=n,e}function xm(n,e,t){const r=ul(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&me.Optional?null:void 0!==e?e:void yd(mt(n))}const He=globalThis;class Y{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=J({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const vo={},Dd="__NG_DI_FLAG__",fl="ngTempTokenPath",YM=/\n/gm,Nm="__source";let Qi;function Qr(n){const e=Qi;return Qi=n,e}function XM(n,e=me.Default){if(void 0===Qi)throw new x(-203,!1);return null===Qi?xm(n,void 0,e):Qi.get(n,e&me.Optional?null:void 0,e)}function Z(n,e=me.Default){return(function Pm(){return _d}()||XM)(se(n),e)}function q(n,e=me.Default){return Z(n,pl(e))}function pl(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Ed(n){const e=[];for(let t=0;t<n.length;t++){const r=se(n[t]);if(Array.isArray(r)){if(0===r.length)throw new x(900,!1);let i,s=me.Default;for(let o=0;o<r.length;o++){const a=r[o],l=JM(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(Z(i,s))}else e.push(Z(r))}return e}function _o(n,e){return n[Dd]=e,n.prototype[Dd]=e,n}function JM(n){return n[Dd]}function Mr(n){return{toString:n}.toString()}var gl=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(gl||{}),kn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(kn||{});const ir={},Se=[],ml=ke({\u0275cmp:ke}),Md=ke({\u0275dir:ke}),Ad=ke({\u0275pipe:ke}),Fm=ke({\u0275mod:ke}),Ar=ke({\u0275fac:ke}),wo=ke({__NG_ELEMENT_ID__:ke}),Lm=ke({__NG_ENV_ID__:ke});function Bm(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function Td(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];Um(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function Vm(n){return 3===n||4===n||6===n}function Um(n){return 64===n.charCodeAt(0)}function Co(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||jm(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function jm(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}const Hm="ng-template";function nA(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==Bm(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function $m(n){return 4===n.type&&n.value!==Hm}function rA(n,e,t){return e===(4!==n.type||t?n.value:Hm)}function iA(n,e,t){let r=4;const i=n.attrs||[],s=function aA(n){for(let e=0;e<n.length;e++)if(Vm(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!rA(n,l,t)||""===l&&1===e.length){if(jn(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!nA(n.attrs,c,t)){if(jn(r))return!1;o=!0}continue}const d=sA(8&r?"class":l,i,$m(n),t);if(-1===d){if(jn(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const p=8&r?h:null;if(p&&-1!==Bm(p,c,0)||2&r&&c!==h){if(jn(r))return!1;o=!0}}}}else{if(!o&&!jn(r)&&!jn(l))return!1;if(o&&jn(l))continue;o=!1,r=l|1&r}}return jn(r)||o}function jn(n){return 0==(1&n)}function sA(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function lA(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function zm(n,e,t=!1){for(let r=0;r<e.length;r++)if(iA(n,e[r],t))return!0;return!1}function Gm(n,e){return n?":not("+e.trim()+")":e}function uA(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!jn(o)&&(e+=Gm(s,i),i=""),r=o,s=s||!jn(r);t++}return""!==i&&(e+=Gm(s,i)),e}function be(n){return Mr(()=>{const e=qm(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===gl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||kn.Emulated,styles:n.styles||Se,_:null,schemas:n.schemas||null,tView:null,id:""};Km(t);const r=n.dependencies;return t.directiveDefs=yl(r,!1),t.pipeDefs=yl(r,!0),t.id=function vA(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function pA(n){return _e(n)||Et(n)}function gA(n){return null!==n}function sr(n){return Mr(()=>({type:n.type,bootstrap:n.bootstrap||Se,declarations:n.declarations||Se,imports:n.imports||Se,exports:n.exports||Se,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Wm(n,e){if(null==n)return ir;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function oe(n){return Mr(()=>{const e=qm(n);return Km(e),e})}function _e(n){return n[ml]||null}function Et(n){return n[Md]||null}function Ut(n){return n[Ad]||null}function fn(n,e){const t=n[Fm]||null;if(!t&&!0===e)throw new Error(`Type ${mt(n)} does not have '\u0275mod' property.`);return t}function qm(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||ir,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Se,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Wm(n.inputs,e),outputs:Wm(n.outputs)}}function Km(n){n.features?.forEach(e=>e(n))}function yl(n,e){if(!n)return null;const t=e?Ut:pA;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(gA)}const tt=0,G=1,de=2,qe=3,Hn=4,So=5,Nt=6,Ji=7,st=8,Xr=9,es=10,ce=11,bo=12,Ym=13,ts=14,ot=15,Do=16,ns=17,or=18,Eo=19,Zm=20,Jr=21,Tr=22,Mo=23,Ao=24,ye=25,kd=1,Qm=2,ar=7,rs=9,Mt=11;function en(n){return Array.isArray(n)&&"object"==typeof n[kd]}function jt(n){return Array.isArray(n)&&!0===n[kd]}function Id(n){return 0!=(4&n.flags)}function wi(n){return n.componentOffset>-1}function _l(n){return 1==(1&n.flags)}function $n(n){return!!n.template}function Pd(n){return 0!=(512&n[de])}function Ci(n,e){return n.hasOwnProperty(Ar)?n[Ar]:null}let At=null,wl=!1;function In(n){const e=At;return At=n,e}const ey={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ny(n){if(!ko(n)||n.dirty){if(!n.producerMustRecompute(n)&&!sy(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function iy(n){n.dirty=!0,function ry(n){if(void 0===n.liveConsumerNode)return;const e=wl;wl=!0;try{for(const t of n.liveConsumerNode)t.dirty||iy(t)}finally{wl=e}}(n),n.consumerMarkedDirty?.(n)}function Rd(n){return n&&(n.nextProducerIndex=0),In(n)}function Nd(n,e){if(In(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(ko(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Cl(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function sy(n){is(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(ny(t),r!==t.version))return!0}return!1}function oy(n){if(is(n),ko(n))for(let e=0;e<n.producerNode.length;e++)Cl(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Cl(n,e){if(function ly(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),is(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)Cl(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];is(i),i.producerIndexOfThis[r]=e}}function ko(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function is(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let cy=null;const fy=()=>{},PA=(()=>({...ey,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:fy}))();class xA{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Pn(){return py}function py(n){return n.type.prototype.ngOnChanges&&(n.setInput=NA),RA}function RA(){const n=my(this),e=n?.current;if(e){const t=n.previous;if(t===ir)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function NA(n,e,t,r){const i=this.declaredInputs[t],s=my(n)||function OA(n,e){return n[gy]=e}(n,{previous:ir,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new xA(l&&l.currentValue,e,a===ir),n[r]=e}Pn.ngInherit=!0;const gy="__ngSimpleChanges__";function my(n){return n[gy]||null}const lr=function(n,e,t){};function $e(n){for(;Array.isArray(n);)n=n[tt];return n}function Sl(n,e){return $e(e[n])}function tn(n,e){return $e(e[n.index])}function _y(n,e){return n.data[e]}function pn(n,e){const t=e[n];return en(t)?t:t[tt]}function ti(n,e){return null==e?null:n[e]}function wy(n){n[ns]=0}function jA(n){1024&n[de]||(n[de]|=1024,Sy(n,1))}function Cy(n){1024&n[de]&&(n[de]&=-1025,Sy(n,-1))}function Sy(n,e){let t=n[qe];if(null===t)return;t[So]+=e;let r=t;for(t=t[qe];null!==t&&(1===e&&1===r[So]||-1===e&&0===r[So]);)t[So]+=e,r=t,t=t[qe]}const ie={lFrame:Ry(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ey(){return ie.bindingsEnabled}function N(){return ie.lFrame.lView}function we(){return ie.lFrame.tView}function $(n){return ie.lFrame.contextLView=n,n[st]}function z(n){return ie.lFrame.contextLView=null,n}function Tt(){let n=My();for(;null!==n&&64===n.type;)n=n.parent;return n}function My(){return ie.lFrame.currentTNode}function cr(n,e){const t=ie.lFrame;t.currentTNode=n,t.isParent=e}function Vd(){return ie.lFrame.isParent}function Ud(){ie.lFrame.isParent=!1}function Ht(){const n=ie.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function as(){return ie.lFrame.bindingIndex++}function Ir(n){const e=ie.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function JA(n,e){const t=ie.lFrame;t.bindingIndex=t.bindingRootIndex=n,jd(e)}function jd(n){ie.lFrame.currentDirectiveIndex=n}function $d(n){ie.lFrame.currentQueryIndex=n}function tT(n){const e=n[G];return 2===e.type?e.declTNode:1===e.type?n[Nt]:null}function Py(n,e,t){if(t&me.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&me.Host||(i=tT(s),null===i||(s=s[ts],10&i.type))););if(null===i)return!1;e=i,n=s}const r=ie.lFrame=xy();return r.currentTNode=e,r.lView=n,!0}function zd(n){const e=xy(),t=n[G];ie.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function xy(){const n=ie.lFrame,e=null===n?null:n.child;return null===e?Ry(n):e}function Ry(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Ny(){const n=ie.lFrame;return ie.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Oy=Ny;function Gd(){const n=Ny();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function $t(){return ie.lFrame.selectedIndex}function Si(n){ie.lFrame.selectedIndex=n}function Qe(){const n=ie.lFrame;return _y(n.tView,n.selectedIndex)}let Ly=!0;function bl(){return Ly}function ni(n){Ly=n}function Dl(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function El(n,e,t){By(n,e,3,t)}function Ml(n,e,t,r){(3&n[de])===t&&By(n,e,t,r)}function Wd(n,e){let t=n[de];(3&t)===e&&(t&=8191,t+=1,n[de]=t)}function By(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[ns]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[ns]+=65536),(a<s||-1==s)&&(cT(n,t,e,l),n[ns]=(4294901760&n[ns])+l+2),l++}function Vy(n,e){lr(4,n,e);const t=In(null);try{e.call(n)}finally{In(t),lr(5,n,e)}}function cT(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];i?n[de]>>13<n[ns]>>16&&(3&n[de])===e&&(n[de]+=8192,Vy(a,s)):Vy(a,s)}const ls=-1;class Po{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Kd(n){return n!==ls}function xo(n){return 32767&n}function Ro(n,e){let t=function fT(n){return n>>16}(n),r=e;for(;t>0;)r=r[ts],t--;return r}let Yd=!0;function Al(n){const e=Yd;return Yd=n,e}const Uy=255,jy=5;let pT=0;const ur={};function Tl(n,e){const t=Hy(n,e);if(-1!==t)return t;const r=e[G];r.firstCreatePass&&(n.injectorIndex=e.length,Zd(r.data,n),Zd(e,null),Zd(r.blueprint,null));const i=kl(n,e),s=n.injectorIndex;if(Kd(i)){const o=xo(i),a=Ro(i,e),l=a[G].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function Zd(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Hy(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function kl(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=Yy(i),null===r)return ls;if(t++,i=i[ts],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return ls}function Qd(n,e,t){!function gT(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(wo)&&(r=t[wo]),null==r&&(r=t[wo]=pT++);const i=r&Uy;e.data[n+(i>>jy)]|=1<<i}(n,e,t)}function $y(n,e,t){if(t&me.Optional||void 0!==n)return n;yd()}function zy(n,e,t,r){if(t&me.Optional&&void 0===r&&(r=null),!(t&(me.Self|me.Host))){const i=n[Xr],s=Xt(void 0);try{return i?i.get(e,r,t&me.Optional):xm(e,r,t&me.Optional)}finally{Xt(s)}}return $y(r,0,t)}function Gy(n,e,t,r=me.Default,i){if(null!==n){if(2048&e[de]&&!(r&me.Self)){const o=function CT(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[de]&&!(512&o[de]);){const a=Wy(s,o,t,r|me.Self,ur);if(a!==ur)return a;let l=s.parent;if(!l){const c=o[Zm];if(c){const u=c.get(t,ur,r);if(u!==ur)return u}l=Yy(o),o=o[ts]}s=l}return i}(n,e,t,r,ur);if(o!==ur)return o}const s=Wy(n,e,t,r,ur);if(s!==ur)return s}return zy(e,t,r,i)}function Wy(n,e,t,r,i){const s=function vT(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(wo)?n[wo]:void 0;return"number"==typeof e?e>=0?e&Uy:wT:e}(t);if("function"==typeof s){if(!Py(e,n,r))return r&me.Host?$y(i,0,r):zy(e,t,r,i);try{let o;if(o=s(r),null!=o||r&me.Optional)return o;yd()}finally{Oy()}}else if("number"==typeof s){let o=null,a=Hy(n,e),l=ls,c=r&me.Host?e[ot][Nt]:null;for((-1===a||r&me.SkipSelf)&&(l=-1===a?kl(n,e):e[a+8],l!==ls&&Ky(r,!1)?(o=e[G],a=xo(l),e=Ro(l,e)):a=-1);-1!==a;){const u=e[G];if(qy(s,a,u.data)){const d=yT(a,e,t,o,r,c);if(d!==ur)return d}l=e[a+8],l!==ls&&Ky(r,e[G].data[a+8]===c)&&qy(s,a,e)?(o=u,a=xo(l),e=Ro(l,e)):a=-1}}return i}function yT(n,e,t,r,i,s){const o=e[G],a=o.data[n+8],u=function Il(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=i?a+u:n.directiveEnd;for(let p=r?a:a+u;p<h;p++){const v=o[p];if(p<l&&t===v||p>=l&&v.type===t)return p}if(i){const p=o[l];if(p&&$n(p)&&p.type===t)return l}return null}(a,o,t,null==r?wi(a)&&Yd:r!=o&&0!=(3&a.type),i&me.Host&&s===a);return null!==u?bi(e,o,u,a):ur}function bi(n,e,t,r){let i=n[t];const s=e.data;if(function uT(n){return n instanceof Po}(i)){const o=i;o.resolving&&function VM(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new x(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Te(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():le(n)}(s[t]));const a=Al(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Xt(o.injectImpl):null;Py(n,r,me.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function lT(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=py(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==c&&Xt(c),Al(a),o.resolving=!1,Oy()}}return i}function qy(n,e,t){return!!(t[e+(n>>jy)]&1<<n)}function Ky(n,e){return!(n&me.Self||n&me.Host&&e)}class zt{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Gy(this._tNode,this._lView,e,pl(r),t)}}function wT(){return new zt(Tt(),N())}function kt(n){return Mr(()=>{const e=n.prototype.constructor,t=e[Ar]||Xd(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Ar]||Xd(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Xd(n){return gd(n)?()=>{const e=Xd(se(n));return e&&e()}:Ci(n)}function Yy(n){const e=n[G],t=e.type;return 2===t?e.declTNode:1===t?n[Nt]:null}const us="__parameters__";function hs(n,e,t){return Mr(()=>{const r=function Jd(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(us)?l[us]:Object.defineProperty(l,us,{value:[]})[us];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function ps(n,e){n.forEach(t=>Array.isArray(t)?ps(t,e):e(t))}function Qy(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function xl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function gn(n,e,t){let r=gs(n,e);return r>=0?n[1|r]=t:(r=~r,function TT(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function eh(n,e){const t=gs(n,e);if(t>=0)return n[1|t]}function gs(n,e){return function Xy(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Nl=_o(hs("Optional"),8),Ol=_o(hs("SkipSelf"),4);function Ul(n){return 128==(128&n.flags)}var ri=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ri||{});const YT=/^>|^->|<!--|-->|--!>|<!-$/g,ZT=/(<|>)/g,QT="\u200b$1\u200b";const sh=new Map;let XT=0;const ah="__ngContext__";function Ot(n,e){en(e)?(n[ah]=e[Eo],function ek(n){sh.set(n[Eo],n)}(e)):n[ah]=e}let lh;function ch(n,e){return lh(n,e)}function Vo(n){const e=n[qe];return jt(e)?e[qe]:e}function vv(n){return wv(n[bo])}function _v(n){return wv(n[Hn])}function wv(n){for(;null!==n&&!jt(n);)n=n[Hn];return n}function vs(n,e,t,r,i){if(null!=r){let s,o=!1;jt(r)?s=r:en(r)&&(o=!0,r=r[tt]);const a=$e(r);0===n&&null!==t?null==i?Dv(e,t,a):Di(e,t,a,i||null,!0):1===n&&null!==t?Di(e,t,a,i||null,!0):2===n?function ql(n,e,t){const r=Gl(n,e);r&&function _k(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function Sk(n,e,t,r,i){const s=t[ar];s!==$e(t)&&vs(e,n,r,s,i);for(let a=Mt;a<t.length;a++){const l=t[a];jo(l[G],l,n,e,r,s)}}(e,n,s,t,i)}}function uh(n,e){return n.createComment(function uv(n){return n.replace(YT,e=>e.replace(ZT,QT))}(e))}function $l(n,e,t){return n.createElement(e,t)}function Sv(n,e){const t=n[rs],r=t.indexOf(e);Cy(e),t.splice(r,1)}function zl(n,e){if(n.length<=Mt)return;const t=Mt+e,r=n[t];if(r){const i=r[Do];null!==i&&i!==n&&Sv(i,r),e>0&&(n[t-1][Hn]=r[Hn]);const s=xl(n,Mt+e);!function dk(n,e){jo(n,e,e[ce],2,null,null),e[tt]=null,e[Nt]=null}(r[G],r);const o=s[or];null!==o&&o.detachView(s[G]),r[qe]=null,r[Hn]=null,r[de]&=-129}return r}function dh(n,e){if(!(256&e[de])){const t=e[ce];e[Mo]&&oy(e[Mo]),e[Ao]&&oy(e[Ao]),t.destroyNode&&jo(n,e,t,3,null,null),function pk(n){let e=n[bo];if(!e)return hh(n[G],n);for(;e;){let t=null;if(en(e))t=e[bo];else{const r=e[Mt];r&&(t=r)}if(!t){for(;e&&!e[Hn]&&e!==n;)en(e)&&hh(e[G],e),e=e[qe];null===e&&(e=n),en(e)&&hh(e[G],e),t=e&&e[Hn]}e=t}}(e)}}function hh(n,e){if(!(256&e[de])){e[de]&=-129,e[de]|=256,function vk(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Po)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];lr(4,a,l);try{l.call(a)}finally{lr(5,a,l)}}else{lr(4,i,s);try{s.call(i)}finally{lr(5,i,s)}}}}}(n,e),function yk(n,e){const t=n.cleanup,r=e[Ji];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(e[Ji]=null);const i=e[Jr];if(null!==i){e[Jr]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(n,e),1===e[G].type&&e[ce].destroy();const t=e[Do];if(null!==t&&jt(e[qe])){t!==e[qe]&&Sv(t,e);const r=e[or];null!==r&&r.detachView(n)}!function tk(n){sh.delete(n[Eo])}(e)}}function fh(n,e,t){return function bv(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[tt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===kn.None||s===kn.Emulated)return null}return tn(r,t)}}(n,e.parent,t)}function Di(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Dv(n,e,t){n.appendChild(e,t)}function Ev(n,e,t,r,i){null!==r?Di(n,e,t,r,i):Dv(n,e,t)}function Gl(n,e){return n.parentNode(e)}let ph,Kl,vh,Yl,Tv=function Av(n,e,t){return 40&n.type?tn(n,t):null};function Wl(n,e,t,r){const i=fh(n,r,e),s=e[ce],a=function Mv(n,e,t){return Tv(n,e,t)}(r.parent||e[Nt],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)Ev(s,i,t[l],a,!1);else Ev(s,i,t,a,!1);void 0!==ph&&ph(s,r,e,t,i)}function Uo(n,e){if(null!==e){const t=e.type;if(3&t)return tn(e,n);if(4&t)return gh(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Uo(n,r);{const i=n[e.index];return jt(i)?gh(-1,i):$e(i)}}if(32&t)return ch(e,n)()||$e(n[e.index]);{const r=Iv(n,e);return null!==r?Array.isArray(r)?r[0]:Uo(Vo(n[ot]),r):Uo(n,e.next)}}return null}function Iv(n,e){return null!==e?n[ot][Nt].projection[e.projection]:null}function gh(n,e){const t=Mt+n+1;if(t<e.length){const r=e[t],i=r[G].firstChild;if(null!==i)return Uo(r,i)}return e[ar]}function mh(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&Ot($e(a),r),t.flags|=2),32!=(32&t.flags))if(8&l)mh(n,e,t.child,r,i,s,!1),vs(e,n,i,a,s);else if(32&l){const c=ch(t,r);let u;for(;u=c();)vs(e,n,i,u,s);vs(e,n,i,a,s)}else 16&l?xv(n,e,r,t,i,s):vs(e,n,i,a,s);t=o?t.projectionNext:t.next}}function jo(n,e,t,r,i,s){mh(t,r,n.firstChild,e,i,s,!1)}function xv(n,e,t,r,i,s){const o=t[ot],l=o[Nt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)vs(e,n,i,l[c],s);else{let c=l;const u=o[qe];Ul(r)&&(c.flags|=128),mh(n,e,c,u,i,s,!0)}}function Rv(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Nv(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&Td(n,e,r),null!==i&&Rv(n,e,i),null!==s&&function Dk(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function _s(n){return function yh(){if(void 0===Kl&&(Kl=null,He.trustedTypes))try{Kl=He.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Kl}()?.createHTML(n)||n}function ws(){if(void 0!==vh)return vh;if(typeof document<"u")return document;throw new x(210,!1)}function Ov(n){return function _h(){if(void 0===Yl&&(Yl=null,He.trustedTypes))try{Yl=He.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Yl}()?.createHTML(n)||n}class Bv{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Tm})`}}function ii(n){return n instanceof Bv?n.changingThisBreaksApplicationSecurity:n}function Ho(n,e){const t=function Nk(n){return n instanceof Bv&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Tm})`)}return t===e}class Ok{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(_s(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class Fk{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=_s(e),t}}const Bk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function wh(n){return(n=String(n)).match(Bk)?n:"unsafe:"+n}function Pr(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function $o(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const Uv=Pr("area,br,col,hr,img,wbr"),jv=Pr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Hv=Pr("rp,rt"),Ch=$o(Uv,$o(jv,Pr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$o(Hv,Pr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$o(Hv,jv)),Sh=Pr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$v=$o(Sh,Pr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Pr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Vk=Pr("script,style,template");class Uk{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Ch.hasOwnProperty(t))return this.sanitizedSomething=!0,!Vk.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!$v.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;Sh[a]&&(l=wh(l)),this.buf.push(" ",o,'="',zv(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Ch.hasOwnProperty(t)&&!Uv.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(zv(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const jk=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Hk=/([^\#-~ |!])/g;function zv(n){return n.replace(/&/g,"&amp;").replace(jk,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Hk,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Zl;function bh(n){return"content"in n&&function zk(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Cs=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Cs||{});function Gv(n){const e=zo();return e?Ov(e.sanitize(Cs.HTML,n)||""):Ho(n,"HTML")?Ov(ii(n)):function $k(n,e){let t=null;try{Zl=Zl||function Vv(n){const e=new Fk(n);return function Lk(){try{return!!(new window.DOMParser).parseFromString(_s(""),"text/html")}catch{return!1}}()?new Ok(e):e}(n);let r=e?String(e):"";t=Zl.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=Zl.getInertBodyElement(r)}while(r!==s);return _s((new Uk).sanitizeChildren(bh(t)||t))}finally{if(t){const r=bh(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}(ws(),le(n))}function zn(n){const e=zo();return e?e.sanitize(Cs.URL,n)||"":Ho(n,"URL")?ii(n):wh(le(n))}function zo(){const n=N();return n&&n[es].sanitizer}const Go=new Y("ENVIRONMENT_INITIALIZER"),Kv=new Y("INJECTOR",-1),Yv=new Y("INJECTOR_DEF_TYPES");class Dh{get(e,t=vo){if(t===vo){const r=new Error(`NullInjectorError: No provider for ${mt(e)}!`);throw r.name="NullInjectorError",r}return t}}function Zk(...n){return{\u0275providers:Qv(0,n),\u0275fromNgModule:!0}}function Qv(n,...e){const t=[],r=new Set;let i;const s=o=>{t.push(o)};return ps(e,o=>{const a=o;Ql(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&Xv(i,s),t}function Xv(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];Eh(i,s=>{e(s,r)})}}function Ql(n,e,t,r){if(!(n=se(n)))return!1;let i=null,s=dl(n);const o=!s&&_e(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const l=n.ngModule;if(s=dl(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)Ql(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{ps(s.imports,u=>{Ql(u,e,t,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&Xv(c,e)}if(!a){const c=Ci(i)||(()=>new i);e({provide:i,useFactory:c,deps:Se},i),e({provide:Yv,useValue:i,multi:!0},i),e({provide:Go,useValue:()=>Z(i),multi:!0},i)}const l=s.providers;if(null!=l&&!a){const c=n;Eh(l,u=>{e(u,c)})}}}return i!==n&&void 0!==n.providers}function Eh(n,e){for(let t of n)md(t)&&(t=t.\u0275providers),Array.isArray(t)?Eh(t,e):e(t)}const Qk=ke({provide:String,useValue:ke});function Mh(n){return null!==n&&"object"==typeof n&&Qk in n}function Ei(n){return"function"==typeof n}const Ah=new Y("Set Injector scope."),Xl={},Jk={};let Th;function Jl(){return void 0===Th&&(Th=new Dh),Th}class Rn{}class Ss extends Rn{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ih(e,o=>this.processProvider(o)),this.records.set(Kv,bs(void 0,this)),i.has("environment")&&this.records.set(Rn,bs(void 0,this));const s=this.records.get(Ah);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Yv.multi,Se,me.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Qr(this),r=Xt(void 0);try{return e()}finally{Qr(t),Xt(r)}}get(e,t=vo,r=me.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Lm))return e[Lm](this);r=pl(r);const s=Qr(this),o=Xt(void 0);try{if(!(r&me.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function iI(n){return"function"==typeof n||"object"==typeof n&&n instanceof Y}(e)&&ul(e);l=c&&this.injectableDefInScope(c)?bs(kh(e),Xl):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&me.Self?Jl():this.parent).get(e,t=r&me.Optional&&t===vo?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[fl]=a[fl]||[]).unshift(mt(e)),s)throw a;return function eA(n,e,t,r){const i=n[fl];throw e[Nm]&&i.unshift(e[Nm]),n.message=function tA(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=mt(e);if(Array.isArray(e))i=e.map(mt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):mt(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(YM,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[fl]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Xt(o),Qr(s)}}resolveInjectorInitializers(){const e=Qr(this),t=Xt(void 0);try{const i=this.get(Go.multi,Se,me.Self);for(const s of i)s()}finally{Qr(e),Xt(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(mt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new x(205,!1)}processProvider(e){let t=Ei(e=se(e))?e:se(e&&e.provide);const r=function tI(n){return Mh(n)?bs(void 0,n.useValue):bs(t_(n),Xl)}(e);if(Ei(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=bs(void 0,Xl,!0),i.factory=()=>Ed(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Xl&&(t.value=Jk,t.value=t.factory()),"object"==typeof t.value&&t.value&&function rI(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=se(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function kh(n){const e=ul(n),t=null!==e?e.factory:Ci(n);if(null!==t)return t;if(n instanceof Y)throw new x(204,!1);if(n instanceof Function)return function eI(n){const e=n.length;if(e>0)throw function Fo(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new x(204,!1);const t=function GM(n){return n&&(n[hl]||n[Im])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new x(204,!1)}function t_(n,e,t){let r;if(Ei(n)){const i=se(n);return Ci(i)||kh(i)}if(Mh(n))r=()=>se(n.useValue);else if(function e_(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Ed(n.deps||[]));else if(function Jv(n){return!(!n||!n.useExisting)}(n))r=()=>Z(se(n.useExisting));else{const i=se(n&&(n.useClass||n.provide));if(!function nI(n){return!!n.deps}(n))return Ci(i)||kh(i);r=()=>new i(...Ed(n.deps))}return r}function bs(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Ih(n,e){for(const t of n)Array.isArray(t)?Ih(t,e):t&&md(t)?Ih(t.\u0275providers,e):e(t)}const ec=new Y("AppId",{providedIn:"root",factory:()=>sI}),sI="ng",n_=new Y("Platform Initializer"),Ds=new Y("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),r_=new Y("AnimationModuleType"),i_=new Y("CSP nonce",{providedIn:"root",factory:()=>ws().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let s_=(n,e,t)=>null;function Bh(n,e,t=!1){return s_(n,e,t)}class gI{}class l_{}class yI{resolveComponentFactory(e){throw function mI(n){const e=Error(`No component factory found for ${mt(n)}.`);return e.ngComponent=n,e}(e)}}let oc=(()=>{class n{static#e=this.NULL=new yI}return n})();function vI(){return As(Tt(),N())}function As(n,e){return new mn(tn(n,e))}let mn=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=vI}return n})();class Ko{}let xr=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function wI(){const n=N(),t=pn(Tt().index,n);return(en(t)?t:n)[ce]}()}return n})(),CI=(()=>{class n{static#e=this.\u0275prov=J({token:n,providedIn:"root",factory:()=>null})}return n})();class Yo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const SI=new Yo("16.2.12"),jh={};function f_(n,e=null,t=null,r){const i=p_(n,e,t,r);return i.resolveInjectorInitializers(),i}function p_(n,e=null,t=null,r,i=new Set){const s=[t||Se,Zk(n)];return r=r||("object"==typeof n?void 0:mt(n)),new Ss(s,e||Jl(),r||null,i)}let yn=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=vo;static#t=this.NULL=new Dh;static create(t,r){if(Array.isArray(t))return f_({name:""},r,t,"");{const i=t.name??"";return f_({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=J({token:n,providedIn:"any",factory:()=>Z(Kv)});static#r=this.__NG_ELEMENT_ID__=-1}return n})();function $h(n){return n.ngOriginalError}class Rr{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&$h(e);for(;t&&$h(t);)t=$h(t);return t||null}}function Gh(n){return e=>{setTimeout(n,void 0,e)}}const ne=class kI extends Mn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Gh(s),i&&(i=Gh(i)),o&&(o=Gh(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof un&&e.add(a),a}};function m_(...n){}class Ne{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ne(!1),this.onMicrotaskEmpty=new ne(!1),this.onStable=new ne(!1),this.onError=new ne(!1),typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function II(){const n="function"==typeof He.requestAnimationFrame;let e=He[n?"requestAnimationFrame":"setTimeout"],t=He[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function RI(n){const e=()=>{!function xI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(He,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,qh(n),n.isCheckStableRunning=!0,Wh(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),qh(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{if(function OI(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,s,o,a);try{return y_(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),v_(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return y_(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),v_(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,qh(n),Wh(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ne.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(Ne.isInAngularZone())throw new x(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,PI,m_,m_);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const PI={};function Wh(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function qh(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function y_(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function v_(n){n._nesting--,Wh(n)}class NI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ne,this.onMicrotaskEmpty=new ne,this.onStable=new ne,this.onError=new ne}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const __=new Y("",{providedIn:"root",factory:w_});function w_(){const n=q(Ne);let e=!0;return function OM(...n){const e=yo(n),t=function TM(n,e){return"number"==typeof hd(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?dn(r[0]):Zi(t)(wt(r,e)):nr}(new ct(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new ct(i=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{Ne.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=n.onUnstable.subscribe(()=>{Ne.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(Am()))}function ac(n){return n.ownerDocument}function Nr(n){return n instanceof Function?n():n}let Kh=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=J({token:n,providedIn:"root",factory:()=>new n})}return n})();function Zo(n){for(;n;){n[de]|=64;const e=Vo(n);if(Pd(n)&&!e)return n;n=e}return null}const E_=new Y("",{providedIn:"root",factory:()=>!1});let cc=null;function k_(n,e){return n[e]??x_()}function I_(n,e){const t=x_();t.producerNode?.length&&(n[e]=cc,t.lView=n,cc=P_())}const zI={...ey,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Zo(n.lView)},lView:null};function P_(){return Object.create(zI)}function x_(){return cc??=P_(),cc}const ue={};function _(n){R_(we(),N(),$t()+n,!1)}function R_(n,e,t,r){if(!r)if(3==(3&e[de])){const s=n.preOrderCheckHooks;null!==s&&El(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Ml(e,s,0,t)}Si(t)}function F(n,e=me.Default){const t=N();return null===t?Z(n,e):Gy(Tt(),t,se(n),e)}function uc(n,e,t,r,i,s,o,a,l,c,u){const d=e.blueprint.slice();return d[tt]=i,d[de]=140|r,(null!==c||n&&2048&n[de])&&(d[de]|=2048),wy(d),d[qe]=d[ts]=n,d[st]=t,d[es]=o||n&&n[es],d[ce]=a||n&&n[ce],d[Xr]=l||n&&n[Xr]||null,d[Nt]=s,d[Eo]=function JT(){return XT++}(),d[Tr]=u,d[Zm]=c,d[ot]=2==e.type?n[ot]:d,d}function Is(n,e,t,r,i){let s=n.data[e];if(null===s)s=function Yh(n,e,t,r,i){const s=My(),o=Vd(),l=n.data[e]=function XI(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function os(){return null!==ie.skipHydrationRootTNode}()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,e,t,r,i),function XA(){return ie.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Io(){const n=ie.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return cr(s,!0),s}function Qo(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function O_(n,e,t,r,i){const s=k_(e,Mo),o=$t(),a=2&r;try{Si(-1),a&&e.length>ye&&R_(n,e,ye,!1),lr(a?2:0,i);const c=a?s:null,u=Rd(c);try{null!==c&&(c.dirty=!1),t(r,i)}finally{Nd(c,u)}}finally{a&&null===e[Mo]&&I_(e,Mo),Si(o),lr(a?3:1,i)}}function Zh(n,e,t){if(Id(e)){const r=In(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{In(r)}}}function Qh(n,e,t){Ey()&&(function sP(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;wi(t)&&function hP(n,e,t){const r=tn(e,n),i=F_(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=dc(n,uc(n,i,null,o,r,e,null,n[es].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Tl(t,e),Ot(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=bi(e,n,a,t);Ot(c,e),null!==o&&fP(0,a-i,c,l,0,o),$n(l)&&(pn(t.index,e)[st]=bi(e,n,a,t))}}(n,e,t,tn(t,e)),64==(64&t.flags)&&j_(n,e,t))}function Xh(n,e,t=tn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function F_(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Jh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Jh(n,e,t,r,i,s,o,a,l,c,u){const d=ye+r,h=d+i,p=function WI(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ue);return t}(d,h),v="function"==typeof c?c():c;return p[G]={type:n,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1,ssrId:u}}let L_=n=>null;function B_(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?V_(t,e,i,s):r.hasOwnProperty(i)&&V_(t,e,r[i],s)}return t}function V_(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function vn(n,e,t,r,i,s,o,a){const l=tn(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(sf(n,t,u,r,i),wi(e)&&function tP(n,e){const t=pn(e,n);16&t[de]||(t[de]|=64)}(t,e.index)):3&e.type&&(r=function eP(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}function ef(n,e,t,r){if(Ey()){const i=null===r?null:{"":-1},s=function aP(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(zm(e,o.selectors,!1))if(r||(r=[]),$n(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),tf(n,e,a.length)}else r.unshift(o),tf(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&U_(n,e,t,o,i,a),i&&function lP(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new x(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=Co(t.mergedAttrs,t.attrs)}function U_(n,e,t,r,i,s){for(let c=0;c<r.length;c++)Qd(Tl(t,e),n,r[c].type);!function uP(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Qo(n,e,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];t.mergedAttrs=Co(t.mergedAttrs,u.hostAttrs),dP(n,t,e,l,u),cP(l,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function JI(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<i;u++){const d=s[u],h=t?t.get(d):null,v=h?h.outputs:null;l=B_(d.inputs,u,l,h?h.inputs:null),c=B_(d.outputs,u,c,v);const S=null===l||null===o||$m(e)?null:pP(l,u,o);a.push(S)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,s)}function j_(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function eT(){return ie.lFrame.currentDirectiveIndex}();try{Si(s);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];jd(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&oP(l,c)}}finally{Si(-1),jd(o)}}function oP(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function tf(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function cP(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;$n(e)&&(t[""]=n)}}function dP(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Ci(i.type)),o=new Po(s,$n(i),F);n.blueprint[r]=o,t[r]=o,function rP(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function iP(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,Qo(n,t,i.hostVars,ue),i)}function fP(n,e,t,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)H_(r,t,o[a++],o[a++],o[a++])}function H_(n,e,t,r,i){const s=In(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{In(s)}}function pP(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function $_(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function z_(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];$d(t[r]),o.contentQueries(2,e[s],s)}}}function dc(n,e){return n[bo]?n[Ym][Hn]=e:n[bo]=e,n[Ym]=e,e}function rf(n,e,t){$d(0);const r=In(null);try{e(n,t)}finally{In(r)}}function K_(n,e){const t=n[Xr],r=t?t.get(Rr,null):null;r&&r.handleError(e)}function sf(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++];H_(n.data[o],e[o],r,a,i)}}function Or(n,e,t){const r=Sl(e,n);!function Cv(n,e,t){n.setValue(e,t)}(n[ce],r,t)}function gP(n,e){const t=pn(e,n),r=t[G];!function mP(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[tt];null!==i&&null===t[Tr]&&(t[Tr]=Bh(i,t[Xr])),af(r,t,t[st])}function af(n,e,t){zd(e);try{const r=n.viewQuery;null!==r&&rf(1,r,t);const i=n.template;null!==i&&O_(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&z_(n,e),n.staticViewQueries&&rf(2,n.viewQuery,t);const s=n.components;null!==s&&function yP(n,e){for(let t=0;t<e.length;t++)gP(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[de]&=-5,Gd()}}let Y_=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function IA(n,e,t){const r=Object.create(PA);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>iy(r),run:()=>{if(r.dirty=!1,r.hasRun&&!sy(r))return;r.hasRun=!0;const o=Rd(r);try{r.cleanupFn(),r.cleanupFn=fy,r.fn(i)}finally{Nd(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(t,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=J({token:n,providedIn:"root",factory:()=>new n})}return n})();function hc(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=pd(i,a):2==s&&(r=pd(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Xo(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];null!==s&&r.push($e(s)),jt(s)&&Z_(s,r);const o=t.type;if(8&o)Xo(n,e,t.child,r);else if(32&o){const a=ch(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=Iv(e,t);if(Array.isArray(a))r.push(...a);else{const l=Vo(e[ot]);Xo(l[G],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Z_(n,e){for(let t=Mt;t<n.length;t++){const r=n[t],i=r[G].firstChild;null!==i&&Xo(r[G],r,i,e)}n[ar]!==n[tt]&&e.push(n[ar])}function fc(n,e,t,r=!0){const i=e[es],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{Q_(n,e,n.template,t)}catch(l){throw r&&K_(e,l),l}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function Q_(n,e,t,r){const i=e[de];if(256!=(256&i)){e[es].effectManager?.flush(),zd(e);try{wy(e),function Ty(n){return ie.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&O_(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&El(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Ml(e,c,0,null),Wd(e,0)}if(function wP(n){for(let e=vv(n);null!==e;e=_v(e)){if(!e[Qm])continue;const t=e[rs];for(let r=0;r<t.length;r++){jA(t[r])}}}(e),X_(e,2),null!==n.contentQueries&&z_(n,e),o){const c=n.contentCheckHooks;null!==c&&El(e,c)}else{const c=n.contentHooks;null!==c&&Ml(e,c,1),Wd(e,1)}!function GI(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=k_(e,Ao);try{for(let i=0;i<t.length;i++){const s=t[i];if(s<0)Si(~s);else{const o=s,a=t[++i],l=t[++i];JA(a,o),r.dirty=!1;const c=Rd(r);try{l(2,e[o])}finally{Nd(r,c)}}}}finally{null===e[Ao]&&I_(e,Ao),Si(-1)}}(n,e);const a=n.components;null!==a&&ew(e,a,0);const l=n.viewQuery;if(null!==l&&rf(2,l,r),o){const c=n.viewCheckHooks;null!==c&&El(e,c)}else{const c=n.viewHooks;null!==c&&Ml(e,c,2),Wd(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[de]&=-73,Cy(e)}finally{Gd()}}}function X_(n,e){for(let t=vv(n);null!==t;t=_v(t))for(let r=Mt;r<t.length;r++)J_(t[r],e)}function CP(n,e,t){J_(pn(e,n),t)}function J_(n,e){if(!function VA(n){return 128==(128&n[de])}(n))return;const t=n[G],r=n[de];if(80&r&&0===e||1024&r||2===e)Q_(t,n,t.template,n[st]);else if(n[So]>0){X_(n,1);const i=t.components;null!==i&&ew(n,i,1)}}function ew(n,e,t){for(let r=0;r<e.length;r++)CP(n,e[r],t)}class Jo{get rootNodes(){const e=this._lView,t=e[G];return Xo(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[st]}set context(e){this._lView[st]=e}get destroyed(){return 256==(256&this._lView[de])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[qe];if(jt(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(zl(e,r),xl(t,r))}this._attachedToViewContainer=!1}dh(this._lView[G],this._lView)}onDestroy(e){!function by(n,e){if(256==(256&n[de]))throw new x(911,!1);null===n[Jr]&&(n[Jr]=[]),n[Jr].push(e)}(this._lView,e)}markForCheck(){Zo(this._cdRefInjectingView||this._lView)}detach(){this._lView[de]&=-129}reattach(){this._lView[de]|=128}detectChanges(){fc(this._lView[G],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function fk(n,e){jo(n,e,e[ce],2,null,null)}(this._lView[G],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=e}}class SP extends Jo{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;fc(e[G],e,e[st],!1)}checkNoChanges(){}get context(){return null}}class tw extends oc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=_e(e);return new ea(t,this.ngModule)}}function nw(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class DP{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=pl(r);const i=this.injector.get(e,jh,r);return i!==jh||t===jh?i:this.parentInjector.get(e,t,r)}}class ea extends l_{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=nw(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return nw(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function dA(n){return n.map(uA).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof Rn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new DP(e,s):e,a=o.get(Ko,null);if(null===a)throw new x(407,!1);const d={rendererFactory:a,sanitizer:o.get(CI,null),effectManager:o.get(Y_,null),afterRenderEventManager:o.get(Kh,null)},h=a.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",v=r?function qI(n,e,t,r){const s=r.get(E_,!1)||t===kn.ShadowDom,o=n.selectRootElement(e,s);return function KI(n){L_(n)}(o),o}(h,r,this.componentDef.encapsulation,o):$l(h,p,function bP(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(p)),k=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let E=null;null!==v&&(E=Bh(v,o,!0));const B=Jh(0,null,null,1,0,null,null,null,null,null,null),j=uc(null,B,null,k,null,null,d,h,o,null,E);let K,pe;zd(j);try{const fe=this.componentDef;let Ce,Je=null;fe.findHostDirectiveDefs?(Ce=[],Je=new Map,fe.findHostDirectiveDefs(fe,Ce,Je),Ce.push(fe)):Ce=[fe];const pt=function MP(n,e){const t=n[G],r=ye;return n[r]=e,Is(t,r,2,"#host",null)}(j,v),cn=function AP(n,e,t,r,i,s,o){const a=i[G];!function TP(n,e,t,r){for(const i of n)e.mergedAttrs=Co(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(hc(e,e.mergedAttrs,!0),null!==t&&Nv(r,t,e))}(r,n,e,o);let l=null;null!==e&&(l=Bh(e,i[Xr]));const c=s.rendererFactory.createRenderer(e,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const d=uc(i,F_(t),null,u,i[n.index],n,s,c,null,null,l);return a.firstCreatePass&&tf(a,n,r.length-1),dc(i,d),i[n.index]=d}(pt,v,fe,Ce,j,d,h);pe=_y(B,ye),v&&function IP(n,e,t,r){if(r)Td(n,t,["ng-version",SI.full]);else{const{attrs:i,classes:s}=function hA(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!jn(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Td(n,t,i),s&&s.length>0&&Rv(n,t,s.join(" "))}}(h,fe,v,r),void 0!==t&&function PP(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(pe,this.ngContentSelectors,t),K=function kP(n,e,t,r,i,s){const o=Tt(),a=i[G],l=tn(o,i);U_(a,i,o,t,null,r);for(let u=0;u<t.length;u++)Ot(bi(i,a,o.directiveStart+u,o),i);j_(a,i,o),l&&Ot(l,i);const c=bi(i,a,o.directiveStart+o.componentOffset,o);if(n[st]=i[st]=c,null!==s)for(const u of s)u(c,e);return Zh(a,o,n),c}(cn,fe,Ce,Je,j,[xP]),af(B,j,null)}finally{Gd()}return new EP(this.componentType,K,As(pe,j),j,pe)}}class EP extends gI{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new SP(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;sf(s[G],s,i,e,t),this.previousInputValues.set(e,t),Zo(pn(this._tNode.index,s))}}get injector(){return new zt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function xP(){const n=Tt();Dl(N()[G],n)}function Ie(n){let e=function rw(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if($n(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new x(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=pc(n.inputs),o.inputTransforms=pc(n.inputTransforms),o.declaredInputs=pc(n.declaredInputs),o.outputs=pc(n.outputs);const a=i.hostBindings;a&&FP(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&NP(n,l),c&&OP(n,c),ll(n.inputs,i.inputs),ll(n.declaredInputs,i.declaredInputs),ll(n.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),ll(o.inputTransforms,i.inputTransforms)),$n(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Ie&&(t=!1)}}e=Object.getPrototypeOf(e)}!function RP(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Co(i.hostAttrs,t=Co(t,i.hostAttrs))}}(r)}function pc(n){return n===ir?{}:n===Se?[]:n}function NP(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function OP(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function FP(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function gc(n){return!!lf(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function lf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function hr(n,e,t){return n[e]=t}function ta(n,e){return n[e]}function Ft(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Mi(n,e,t,r){const i=Ft(n,e,t);return Ft(n,e+1,r)||i}function Nn(n,e,t,r,i,s){const o=Mi(n,e,t,r);return Mi(n,e+2,i,s)||o}function xs(n,e,t,r){return Ft(n,as(),t)?e+le(t)+r:ue}function Rs(n,e,t,r,i,s){const a=Mi(n,function kr(){return ie.lFrame.bindingIndex}(),t,i);return Ir(2),a?e+le(t)+r+le(i)+s:ue}function I(n,e,t,r,i,s,o,a){const l=N(),c=we(),u=n+ye,d=c.firstCreatePass?function ax(n,e,t,r,i,s,o,a,l){const c=e.consts,u=Is(e,n,4,o||null,ti(c,a));ef(e,t,u,ti(c,l)),Dl(e,u);const d=u.tView=Jh(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,s,o):c.data[u];cr(d,!1);const h=ww(c,l,d,n);bl()&&Wl(c,l,h,d),Ot(h,l),dc(l,l[u]=$_(h,l,h,d)),_l(d)&&Qh(c,l,d),null!=o&&Xh(l,d,a)}let ww=function Cw(n,e,t,r){return ni(!0),e[ce].createComment("")};function Ai(n){return function ss(n,e){return n[e]}(function QA(){return ie.lFrame.contextLView}(),ye+n)}function w(n,e,t){const r=N();return Ft(r,as(),e)&&vn(we(),Qe(),r,n,e,r[ce],t,!1),w}function pf(n,e,t,r,i){const o=i?"class":"style";sf(n,t,e.inputs[o],o,r)}function m(n,e,t,r){const i=N(),s=we(),o=ye+n,a=i[ce],l=s.firstCreatePass?function dx(n,e,t,r,i,s){const o=e.consts,l=Is(e,n,2,r,ti(o,i));return ef(e,t,l,ti(o,s)),null!==l.attrs&&hc(l,l.attrs,!1),null!==l.mergedAttrs&&hc(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,e,t,r):s.data[o],c=Sw(s,i,l,a,e,n);i[o]=c;const u=_l(l);return cr(l,!0),Nv(a,c,l),32!=(32&l.flags)&&bl()&&Wl(s,i,c,l),0===function $A(){return ie.lFrame.elementDepthCount}()&&Ot(c,i),function zA(){ie.lFrame.elementDepthCount++}(),u&&(Qh(s,i,l),Zh(s,l,i)),null!==r&&Xh(i,l),m}function g(){let n=Tt();Vd()?Ud():(n=n.parent,cr(n,!1));const e=n;(function WA(n){return ie.skipHydrationRootTNode===n})(e)&&function ZA(){ie.skipHydrationRootTNode=null}(),function GA(){ie.lFrame.elementDepthCount--}();const t=we();return t.firstCreatePass&&(Dl(t,n),Id(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function dT(n){return 0!=(8&n.flags)}(e)&&pf(t,e,N(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function hT(n){return 0!=(16&n.flags)}(e)&&pf(t,e,N(),e.stylesWithoutHost,!1),g}function L(n,e,t,r){return m(n,e,t,r),g(),L}let Sw=(n,e,t,r,i,s)=>(ni(!0),$l(r,i,function Fy(){return ie.lFrame.currentNamespace}()));function wc(n,e,t){const r=N(),i=we(),s=n+ye,o=i.firstCreatePass?function px(n,e,t,r,i){const s=e.consts,o=ti(s,r),a=Is(e,n,8,"ng-container",o);return null!==o&&hc(a,o,!0),ef(e,t,a,ti(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];cr(o,!0);const a=Dw(i,r,o,n);return r[s]=a,bl()&&Wl(i,r,a,o),Ot(a,r),_l(o)&&(Qh(i,r,o),Zh(i,o,r)),null!=t&&Xh(r,o),wc}function Cc(){let n=Tt();const e=we();return Vd()?Ud():(n=n.parent,cr(n,!1)),e.firstCreatePass&&(Dl(e,n),Id(n)&&e.queries.elementEnd(n)),Cc}let Dw=(n,e,t,r)=>(ni(!0),uh(e[ce],""));function te(){return N()}function sa(n){return!!n&&"function"==typeof n.then}function Ew(n){return!!n&&"function"==typeof n.subscribe}function U(n,e,t,r){const i=N(),s=we(),o=Tt();return function Aw(n,e,t,r,i,s,o){const a=_l(r),c=n.firstCreatePass&&function W_(n){return n.cleanup||(n.cleanup=[])}(n),u=e[st],d=function G_(n){return n[Ji]||(n[Ji]=[])}(e);let h=!0;if(3&r.type||o){const S=tn(r,e),M=o?o(S):S,k=d.length,E=o?j=>o($e(j[r.index])):r.index;let B=null;if(!o&&a&&(B=function yx(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[Ji],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==B)(B.__ngLastListenerFn__||B).__ngNextListenerFn__=s,B.__ngLastListenerFn__=s,h=!1;else{s=kw(r,e,u,s,!1);const j=t.listen(M,i,s);d.push(s,j),c&&c.push(i,E,k,k+1)}}else s=kw(r,e,u,s,!1);const p=r.outputs;let v;if(h&&null!==p&&(v=p[i])){const S=v.length;if(S)for(let M=0;M<S;M+=2){const K=e[v[M]][v[M+1]].subscribe(s),pe=d.length;d.push(s,K),c&&c.push(i,r.index,pe,-(pe+1))}}}(s,i,i[ce],o,n,e,r),U}function Tw(n,e,t,r){try{return lr(6,e,t),!1!==t(r)}catch(i){return K_(n,i),!1}finally{lr(7,e,t)}}function kw(n,e,t,r,i){return function s(o){if(o===Function)return r;Zo(n.componentOffset>-1?pn(n.index,e):e);let l=Tw(e,t,r,o),c=s.__ngNextListenerFn__;for(;c;)l=Tw(e,t,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&o.preventDefault(),l}}function A(n=1){return function nT(n){return(ie.lFrame.contextLView=function rT(n,e){for(;n>0;)e=e[ts],n--;return e}(n,ie.lFrame.contextLView))[st]}(n)}function On(n,e,t){return Sc(n,"",e,"",t),On}function Sc(n,e,t,r,i){const s=N(),o=xs(s,e,t,r);return o!==ue&&vn(we(),Qe(),s,n,o,s[ce],i,!1),Sc}function bc(n,e){return n<<17|e<<2}function si(n){return n>>17&32767}function gf(n){return 2|n}function Ti(n){return(131068&n)>>2}function mf(n,e){return-131069&n|e<<2}function yf(n){return 1|n}function Bw(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?si(s):Ti(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];Mx(n[a],e)&&(l=!0,n[a+1]=r?yf(u):gf(u)),a=r?si(u):Ti(u)}l&&(n[t+1]=r?gf(s):yf(s))}function Mx(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&gs(n,e)>=0}function oa(n,e,t){return Gn(n,e,t,!1),oa}function aa(n,e){return Gn(n,e,null,!0),aa}function Gn(n,e,t,r){const i=N(),s=we(),o=Ir(2);s.firstUpdatePass&&function Ww(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[$t()],o=function Gw(n,e){return e>=n.expandoStartIndex}(n,t);(function Zw(n,e){return 0!=(n.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function Ox(n,e,t,r){const i=function Hd(n){const e=ie.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=la(t=vf(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=vf(i,n,e,t,r),null===s){let l=function Fx(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Ti(r))return n[si(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=vf(null,n,e,l[1],r),l=la(l,e.attrs,r),function Lx(n,e,t,r){n[si(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function Bx(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=la(r,n[s].hostAttrs,t);return la(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function Dx(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=si(o),l=Ti(o);n[r]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||gs(t,u)>0)&&(c=!0)):u=t,i)if(0!==l){const h=si(n[a+1]);n[r+1]=bc(h,a),0!==h&&(n[h+1]=mf(n[h+1],r)),n[a+1]=function Sx(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=bc(a,0),0!==a&&(n[a+1]=mf(n[a+1],r)),a=r;else n[r+1]=bc(l,0),0===a?a=r:n[l+1]=mf(n[l+1],r),l=r;c&&(n[r+1]=gf(n[r+1])),Bw(n,u,r,!0),Bw(n,u,r,!1),function Ex(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&gs(s,e)>=0&&(t[r+1]=yf(t[r+1]))}(e,u,n,r,s),o=bc(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==ue&&Ft(i,o,e)&&function Kw(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],u=function bx(n){return 1==(1&n)}(c)?Yw(l,e,t,i,Ti(c),o):void 0;Dc(u)||(Dc(s)||function Cx(n){return 2==(2&n)}(c)&&(s=Yw(l,null,t,i,a,o)),function bk(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:ri.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ri.Important),n.setStyle(t,r,i,s))}}(r,o,Sl($t(),t),i,s))}(s,s.data[$t()],i,i[ce],n,i[o+1]=function Hx(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=mt(ii(n)))),n}(e,t),r,o)}function vf(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=la(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function la(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),gn(n,o,!!t||e[++s]))}return void 0===n?null:n}function Yw(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[i+1];h===ue&&(h=d?Se:void 0);let p=d?eh(h,r):u===r?h:void 0;if(c&&!Dc(p)&&(p=eh(l,r)),Dc(p)&&(a=p,o))return a;const v=n[i+1];i=o?si(v):Ti(v)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=eh(l,r))}return a}function Dc(n){return void 0!==n}function b(n,e=""){const t=N(),r=we(),i=n+ye,s=r.firstCreatePass?Is(r,i,1,e,null):r.data[i],o=Qw(r,t,s,e,n);t[i]=o,bl()&&Wl(r,t,o,s),cr(s,!1)}let Qw=(n,e,t,r,i)=>(ni(!0),function Hl(n,e){return n.createText(e)}(e[ce],r));function dt(n){return ze("",n,""),dt}function ze(n,e,t){const r=N(),i=xs(r,n,e,t);return i!==ue&&Or(r,$t(),i),ze}function ki(n,e,t,r,i){const s=N(),o=Rs(s,n,e,t,r,i);return o!==ue&&Or(s,$t(),o),ki}const Hs="en-US";let vC=Hs;function Cf(n,e,t,r,i){if(n=se(n),Array.isArray(n))for(let s=0;s<n.length;s++)Cf(n[s],e,t,r,i);else{const s=we(),o=N(),a=Tt();let l=Ei(n)?n:se(n.provide);const c=t_(n),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Ei(n)||!n.multi){const p=new Po(c,i,F),v=bf(l,e,i?u:u+h,d);-1===v?(Qd(Tl(a,o),s,l),Sf(s,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(p),o.push(p)):(t[v]=p,o[v]=p)}else{const p=bf(l,e,u+h,d),v=bf(l,e,u,u+h),M=v>=0&&t[v];if(i&&!M||!i&&!(p>=0&&t[p])){Qd(Tl(a,o),s,l);const k=function cN(n,e,t,r,i){const s=new Po(n,t,F);return s.multi=[],s.index=e,s.componentProviders=0,$C(s,i,r&&!t),s}(i?lN:aN,t.length,i,r,c);!i&&M&&(t[v].providerFactory=k),Sf(s,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(k),o.push(k)}else Sf(s,n,p>-1?p:v,$C(t[i?v:p],c,!i&&r));!i&&r&&M&&t[v].componentProviders++}}}function Sf(n,e,t,r){const i=Ei(e),s=function Xk(n){return!!n.useClass}(e);if(i||s){const l=(s?se(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function $C(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function bf(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function aN(n,e,t,r){return Df(this.multi,[])}function lN(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=bi(t,t[G],this.providerFactory.index,r);s=a.slice(0,o),Df(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Df(i,s);return s}function Df(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Ke(n,e=[]){return t=>{t.providersResolver=(r,i)=>function oN(n,e,t){const r=we();if(r.firstCreatePass){const i=$n(n);Cf(t,r.data,r.blueprint,i,!0),Cf(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Pi{}class zC{}class Ef extends Pi{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new tw(this);const i=fn(e);this._bootstrapComponents=Nr(i.bootstrap),this._r3Injector=p_(e,t,[{provide:Pi,useValue:this},{provide:oc,useValue:this.componentFactoryResolver},...r],mt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Mf extends zC{constructor(e){super(),this.moduleType=e}create(e){return new Ef(this.moduleType,e,[])}}class GC extends Pi{constructor(e){super(),this.componentFactoryResolver=new tw(this),this.instance=null;const t=new Ss([...e.providers,{provide:Pi,useValue:this},{provide:oc,useValue:this.componentFactoryResolver}],e.parent||Jl(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Af(n,e,t=null){return new GC({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let hN=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=Qv(0,t.type),i=r.length>0?Af([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=J({token:n,providedIn:"environment",factory:()=>new n(Z(Rn))})}return n})();function WC(n){n.getStandaloneInjector=e=>e.get(hN).getOrCreateStandaloneInjector(n)}function xi(n,e,t){const r=Ht()+n,i=N();return i[r]===ue?hr(i,r,t?e.call(t):e()):ta(i,r)}function qn(n,e,t,r){return function tS(n,e,t,r,i,s){const o=e+t;return Ft(n,o,i)?hr(n,o+1,s?r.call(s,i):r(i)):ga(n,o+1)}(N(),Ht(),n,e,t,r)}function pa(n,e,t,r,i){return function nS(n,e,t,r,i,s,o){const a=e+t;return Mi(n,a,i,s)?hr(n,a+2,o?r.call(o,i,s):r(i,s)):ga(n,a+2)}(N(),Ht(),n,e,t,r,i)}function JC(n,e,t,r,i,s,o){return function iS(n,e,t,r,i,s,o,a,l){const c=e+t;return Nn(n,c,i,s,o,a)?hr(n,c+4,l?r.call(l,i,s,o,a):r(i,s,o,a)):ga(n,c+4)}(N(),Ht(),n,e,t,r,i,s,o)}function ga(n,e){const t=n[e];return t===ue?void 0:t}function ON(n,e,t,r=!0){const i=e[G];if(function gk(n,e,t,r){const i=Mt+r,s=t.length;r>0&&(t[i-1][Hn]=e),r<s-Mt?(e[Hn]=t[i],Qy(t,Mt+r,e)):(t.push(e),e[Hn]=null),e[qe]=t;const o=e[Do];null!==o&&t!==o&&function mk(n,e){const t=n[rs];e[ot]!==e[qe][qe][ot]&&(n[Qm]=!0),null===t?n[rs]=[e]:t.push(e)}(o,e);const a=e[or];null!==a&&a.insertView(n),e[de]|=128}(i,e,n,t),r){const s=gh(t,n),o=e[ce],a=Gl(o,n[ar]);null!==a&&function hk(n,e,t,r,i,s){r[tt]=i,r[Nt]=e,jo(n,r,t,1,i,s)}(i,n[Nt],o,e,a,s)}}Symbol;let Fr=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=BN}return n})();const FN=Fr,LN=class extends FN{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function NN(n,e,t,r){const i=e.tView,a=uc(n,i,t,4096&n[de]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Do]=n[e.index];const c=n[or];return null!==c&&(a[or]=c.createEmbeddedView(i)),af(i,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new Jo(i)}};function BN(){return kc(Tt(),N())}function kc(n,e){return 4&n.type?new LN(e,n,As(n,e)):null}let Kn=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=zN}return n})();function zN(){return function hS(n,e){let t;const r=e[n.index];return jt(r)?t=r:(t=$_(r,e,null,n),e[n.index]=t,dc(e,t)),fS(t,e,n,r),new uS(t,n,e)}(Tt(),N())}const GN=Kn,uS=class extends GN{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return As(this._hostTNode,this._hostLView)}get injector(){return new zt(this._hostTNode,this._hostLView)}get parentInjector(){const e=kl(this._hostTNode,this._hostLView);if(Kd(e)){const t=Ro(e,this._hostLView),r=xo(e);return new zt(t[G].data[r+8],t)}return new zt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=dS(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Mt}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,t,r,i,s){const o=e&&!function Oo(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const S=t||{};a=S.index,r=S.injector,i=S.projectableNodes,s=S.environmentInjector||S.ngModuleRef}const l=o?e:new ea(_e(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const M=(o?c:this.parentInjector).get(Rn,null);M&&(s=M)}_e(l.componentType??{});const p=l.create(c,i,null,s);return this.insertImpl(p.hostView,a,false),p}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function UA(n){return jt(n[qe])}(i)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const c=i[qe],u=new uS(c,c[Nt],c[qe]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(t),a=this._lContainer;return ON(a,i,o,!r),e.attachToViewContainerRef(),Qy(If(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=dS(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=zl(this._lContainer,t);r&&(xl(If(this._lContainer),t),dh(r[G],r))}detach(e){const t=this._adjustIndex(e,-1),r=zl(this._lContainer,t);return r&&null!=xl(If(this._lContainer),t)?new Jo(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function dS(n){return n[8]}function If(n){return n[8]||(n[8]=[])}let fS=function pS(n,e,t,r){if(n[ar])return;let i;i=8&t.type?$e(r):function WN(n,e){const t=n[ce],r=t.createComment(""),i=tn(e,n);return Di(t,Gl(t,i),r,function wk(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[ar]=i};function Ri(n,e){return kc(n,e)}const jf=new Y("Application Initializer");let Hf=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=q(jf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const s=i();if(sa(s))t.push(s);else if(Ew(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VS=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Lr=new Y("LocaleId",{providedIn:"root",factory:()=>q(Lr,me.Optional|me.SkipSelf)||function SO(){return typeof $localize<"u"&&$localize.locale||Hs}()});let US=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new An(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class EO{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let jS=(()=>{class n{compileModuleSync(t){return new Mf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Nr(fn(t).declarations).reduce((o,a)=>{const l=_e(a);return l&&o.push(new ea(l)),o},[]);return new EO(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const GS=new Y(""),Rc=new Y("");let qf,Gf=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,qf||(function qO(n){qf=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ne.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||n)(Z(Ne),Z(Wf),Z(Rc))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})(),Wf=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return qf?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),oi=null;const WS=new Y("AllowMultipleToken"),Kf=new Y("PlatformDestroyListeners"),Yf=new Y("appBootstrapListener");class KS{constructor(e,t){this.name=e,this.token=t}}function ZS(n,e,t=[]){const r=`Platform: ${e}`,i=new Y(r);return(s=[])=>{let o=Zf();if(!o||o.injector.get(WS,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function ZO(n){if(oi&&!oi.get(WS,!1))throw new x(400,!1);(function qS(){!function EA(n){cy=n}(()=>{throw new x(600,!1)})})(),oi=n;const e=n.get(XS);(function YS(n){n.get(n_,null)?.forEach(t=>t())})(n)}(function QS(n=[],e){return yn.create({name:e,providers:[{provide:Ah,useValue:"platform"},{provide:Kf,useValue:new Set([()=>oi=null])},...n]})}(a,r))}return function XO(n){const e=Zf();if(!e)throw new x(401,!1);return e}()}}function Zf(){return oi?.get(XS)??null}let XS=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function JO(n="zone.js",e){return"noop"===n?new NI:"zone.js"===n?new Ne(e):n}(r?.ngZone,function JS(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function dN(n,e,t){return new Ef(n,e,t)}(t.moduleType,this.injector,function ib(n){return[{provide:Ne,useFactory:n},{provide:Go,multi:!0,useFactory:()=>{const e=q(t2,{optional:!0});return()=>e.initialize()}},{provide:rb,useFactory:e2},{provide:__,useFactory:w_}]}(()=>i)),o=s.injector.get(Rr,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{Nc(this._modules,s),a.unsubscribe()})}),function eb(n,e,t){try{const r=t();return sa(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(Hf);return a.runInitializers(),a.donePromise.then(()=>(function _C(n){Tn(n,"Expected localeId to be defined"),"string"==typeof n&&(vC=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Lr,Hs)||Hs),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=tb({},r);return function KO(n,e,t){const r=new Mf(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Ni);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new x(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new x(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Kf,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||n)(Z(yn))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function tb(n,e){return Array.isArray(e)?e.reduce(tb,n):{...n,...e}}let Ni=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=q(rb),this.zoneIsStable=q(__),this.componentTypes=[],this.components=[],this.isStable=q(US).hasPendingTasks.pipe(rr(t=>t?ae(!1):this.zoneIsStable),function FM(n,e=Yr){return n=n??LM,gt((t,r)=>{let i,s=!0;t.subscribe(ut(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}(),Am()),this._injector=q(Rn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof l_;if(!this._injector.get(Hf).done)throw!i&&function Xi(n){const e=_e(n)||Et(n)||Ut(n);return null!==e&&e.standalone}(t),new x(405,!1);let o;o=i?t:this._injector.get(oc).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function YO(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Pi),c=o.create(yn.NULL,[],r||o.selector,a),u=c.location.nativeElement,d=c.injector.get(GS,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Nc(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new x(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Nc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(Yf,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Nc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new x(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Nc(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const rb=new Y("",{providedIn:"root",factory:()=>q(Rr).handleError.bind(void 0)});function e2(){const n=q(Ne),e=q(Rr);return t=>n.runOutsideAngular(()=>e.handleError(t))}let t2=(()=>{class n{constructor(){this.zone=q(Ne),this.applicationRef=q(Ni)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let Oc=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=r2}return n})();function r2(n){return function i2(n,e,t){if(wi(n)&&!t){const r=pn(n.index,e);return new Jo(r,r)}return 47&n.type?new Jo(e[ot],e):null}(Tt(),N(),16==(16&n))}class lb{constructor(){}supports(e){return gc(e)}create(e){return new u2(e)}}const c2=(n,e)=>e;class u2{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||c2}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<ub(r,i,s)?t:r,a=ub(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const p=h<s.length?s[h]:s[h]=0,v=p+h;u<=v&&v<c&&(s[h]=p+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!gc(e))throw new x(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function $P(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new d2(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new cb),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cb),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class d2{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class h2{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class cb{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new h2,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ub(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class db{constructor(){}supports(e){return e instanceof Map||lf(e)}create(){return new f2}}class f2{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||lf(e)))throw new x(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new p2(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class p2{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hb(){return new Bc([new lb])}let Bc=(()=>{class n{static#e=this.\u0275prov=J({token:n,providedIn:"root",factory:hb});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||hb()),deps:[[n,new Ol,new Nl]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new x(901,!1)}}return n})();function fb(){return new _a([new db])}let _a=(()=>{class n{static#e=this.\u0275prov=J({token:n,providedIn:"root",factory:fb});constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||fb()),deps:[[n,new Ol,new Nl]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new x(901,!1)}}return n})();const y2=ZS(null,"core",[]);let v2=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||n)(Z(Ni))};static#t=this.\u0275mod=sr({type:n});static#n=this.\u0275inj=Un({})}return n})();let np=null;function ai(){return np}class x2{}const on=new Y("DocumentToken");let rp=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:function(){return q(N2)},providedIn:"platform"})}return n})();const R2=new Y("Location Initialized");let N2=(()=>{class n extends rp{constructor(){super(),this._doc=q(on),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ai().getBaseHref(this._doc)}onPopState(t){const r=ai().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=ai().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function ip(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Sb(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Br(n){return n&&"?"!==n[0]?"?"+n:n}let Fi=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:function(){return q(Db)},providedIn:"root"})}return n})();const bb=new Y("appBaseHref");let Db=(()=>{class n extends Fi{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??q(on).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ip(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Br(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Br(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Br(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(Z(rp),Z(bb,8))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),O2=(()=>{class n extends Fi{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ip(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Br(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Br(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(Z(rp),Z(bb,8))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})(),sp=(()=>{class n{constructor(t){this._subject=new ne,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function B2(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Sb(Eb(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Br(r))}normalize(t){return n.stripTrailingSlash(function L2(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Eb(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Br(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Br(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=Br;static#t=this.joinWithSlash=ip;static#n=this.stripTrailingSlash=Sb;static#r=this.\u0275fac=function(r){return new(r||n)(Z(Fi))};static#i=this.\u0275prov=J({token:n,factory:function(){return function F2(){return new sp(Z(Fi))}()},providedIn:"root"})}return n})();function Eb(n){return n.replace(/\/index.html$/,"")}const gp=/\s+/,Nb=[];let qs=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=Nb,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(gp):Nb}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(gp):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(gp).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||n)(F(Bc),F(_a),F(mn),F(xr))};static#t=this.\u0275dir=oe({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class DF{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ct=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new DF(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),Fb(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Fb(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(F(Kn),F(Fr),F(Bc))};static#t=this.\u0275dir=oe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function Fb(n,e){n.context.$implicit=e.item}let lt=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new EF,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Lb("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Lb("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(F(Kn),F(Fr))};static#t=this.\u0275dir=oe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class EF{constructor(){this.$implicit=null,this.ngIf=null}}function Lb(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${mt(e)}'.`)}let Ks=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),o=-1===i.indexOf("-")?void 0:ri.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static#e=this.\u0275fac=function(r){return new(r||n)(F(mn),F(_a),F(xr))};static#t=this.\u0275dir=oe({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),Ub=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=sr({type:n});static#n=this.\u0275inj=Un({})}return n})();function Hb(n){return"server"===n}let eL=(()=>{class n{static#e=this.\u0275prov=J({token:n,providedIn:"root",factory:()=>new tL(Z(on),window)})}return n})();class tL{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function nL(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class ML extends x2{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Sp extends ML{static makeCurrent(){!function P2(n){np||(np=n)}(new Sp)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function AL(){return ba=ba||document.querySelector("base"),ba?ba.getAttribute("href"):null}();return null==t?null:function TL(n){Xc=Xc||document.createElement("a"),Xc.setAttribute("href",n);const e=Xc.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ba=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function SF(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Xc,ba=null,IL=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();const bp=new Y("EventManagerPlugins");let qb=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new x(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(Z(bp),Z(Ne))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();class Kb{constructor(e){this._doc=e}}const Dp="ng-app-id";let Yb=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Hb(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Dp}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(Dp),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Dp,this.appId),o}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(Z(on),Z(ec),Z(i_,8),Z(Ds))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();const Ep={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Mp=/%COMP%/g,NL=new Y("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Qb(n,e){return e.map(t=>t.replace(Mp,n))}let Ap=(()=>{class n{constructor(t,r,i,s,o,a,l,c=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Hb(a),this.defaultRenderer=new Tp(t,o,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===kn.ShadowDom&&(r={...r,encapsulation:kn.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof Jb?i.applyToHost(t):i instanceof kp&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case kn.Emulated:s=new Jb(l,c,r,this.appId,u,o,a,d);break;case kn.ShadowDom:return new BL(l,c,t,r,o,a,this.nonce,d);default:s=new kp(l,c,r,u,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(Z(qb),Z(Yb),Z(ec),Z(NL),Z(on),Z(Ds),Z(Ne),Z(i_))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();class Tp{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Ep[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Xb(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Xb(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new x(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Ep[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Ep[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ri.DashCase|ri.Important)?e.style.setProperty(t,r,i&ri.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ri.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=ai().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Xb(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class BL extends Tp{constructor(e,t,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Qb(i.id,i.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class kp extends Tp{constructor(e,t,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?Qb(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Jb extends kp{constructor(e,t,r,i,s,o,a,l){const c=i+"-"+r.id;super(e,t,r,s,o,a,l,c),this.contentAttr=function OL(n){return"_ngcontent-%COMP%".replace(Mp,n)}(c),this.hostAttr=function FL(n){return"_nghost-%COMP%".replace(Mp,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let VL=(()=>{class n extends Kb{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(Z(on))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();const e0=["alt","control","meta","shift"],UL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let HL=(()=>{class n extends Kb{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ai().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),e0.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=UL[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),e0.forEach(o=>{o!==i&&(0,jL[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(Z(on))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();const WL=ZS(y2,"browser",[{provide:Ds,useValue:"browser"},{provide:n_,useValue:function $L(){Sp.makeCurrent()},multi:!0},{provide:on,useFactory:function GL(){return function Tk(n){vh=n}(document),document},deps:[]}]),qL=new Y(""),r0=[{provide:Rc,useClass:class kL{addToWindow(e){He.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new x(5103,!1);return s},He.getAllAngularTestabilities=()=>e.getAllTestabilities(),He.getAllAngularRootElements=()=>e.getAllRootElements(),He.frameworkStabilizers||(He.frameworkStabilizers=[]),He.frameworkStabilizers.push(r=>{const i=He.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?ai().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:GS,useClass:Gf,deps:[Ne,Wf,Rc]},{provide:Gf,useClass:Gf,deps:[Ne,Wf,Rc]}],s0=[{provide:Ah,useValue:"root"},{provide:Rr,useFactory:function zL(){return new Rr},deps:[]},{provide:bp,useClass:VL,multi:!0,deps:[on,Ne,Ds]},{provide:bp,useClass:HL,multi:!0,deps:[on]},Ap,Yb,qb,{provide:Ko,useExisting:Ap},{provide:class rL{},useClass:IL,deps:[]},[]];let o0=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:ec,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(Z(qL,12))};static#t=this.\u0275mod=sr({type:n});static#n=this.\u0275inj=Un({providers:[...s0,...r0],imports:[Ub,v2]})}return n})(),a0=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(Z(on))};static#t=this.\u0275prov=J({token:n,factory:function(r){let i=null;return i=r?new r:function YL(){return new a0(Z(on))}(),i},providedIn:"root"})}return n})();typeof window<"u"&&window;var C=function(n){return n[n.Instant=0]="Instant",n[n.Dodge=1]="Dodge",n[n.Repair=2]="Repair",n[n.Flying=3]="Flying",n[n.Pacifist=4]="Pacifist",n[n.Sentry=5]="Sentry",n[n.Siege=6]="Siege",n[n.Momentum=7]="Momentum",n[n.Sharpen=8]="Sharpen",n[n.Armorer=9]="Armorer",n[n.Rascal=10]="Rascal",n[n.Medic=11]="Medic",n[n.Regenerate=12]="Regenerate",n[n.Ensnare=13]="Ensnare",n[n.WallBound=14]="WallBound",n[n.FullForward=15]="FullForward",n[n.Ambush=16]="Ambush",n[n.Learning=17]="Learning",n[n.Chaos=18]="Chaos",n[n.None=19]="None",n}(C||{});class Da{getTooltip(e){switch(e){case C.Instant:return"Can be played any time including during the opponent's turn";case C.Dodge:return"If this creature would die or take damage, instead remove a dodge token";case C.Repair:return"At the start of your turn, repair wall by x amount";case C.Flying:return"Flies over enemy walls and damages their life total directly.";case C.Pacifist:return"may not attack";case C.Sentry:return"Does not tap to attack";case C.Siege:return"Double damage to walls";case C.Momentum:return"Gains 1 speed every turn";case C.Sharpen:return"Gains 1 attack every turn";case C.Armorer:return"Gains 1 hp every turn";case C.Rascal:return"Must be blocked by 2 creatures";case C.Medic:return"Heals all of its controllers creatures at the end of the players turn";case C.Regenerate:return"Heal self at end of turn";case C.Ensnare:return"slows enemy creatures on block or blocking";case C.WallBound:return"dies if the wall dies";case C.Ambush:return"deals damage to Creatures using both attack and speed values";case C.Learning:return"Gains double XP from all actions";default:return"No tooltip found"}}getAllKeywords(){return Object.values(C).filter(e=>"number"==typeof e)}getToolTipKeyword(e){return Object.keys(C).filter(r=>isNaN(Number(r))).map(r=>r.toLowerCase()).includes(e.toLowerCase())?C[e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()]:C.None}getToolTipName(e){switch(e){case C.Instant:return"Instant";case C.Dodge:return"Dodge";case C.Repair:return"Repair";case C.Flying:return"Flying";case C.Pacifist:return"Pacifist";case C.Sentry:return"Sentry";case C.Siege:return"Siege";case C.Momentum:return"Momentum";case C.Sharpen:return"Sharpen";case C.Armorer:return"Armorer";case C.Rascal:return"Rascal";case C.Medic:return"Medic";case C.Regenerate:return"Regenerate";case C.Ensnare:return"Ensnare";case C.WallBound:return"WallBound";case C.Ambush:return"Ambush";case C.Learning:return"Learning";default:return"No tooltip found"}switch(e){case C.Instant:return"Instant";case C.Dodge:return"Dodge";case C.Repair:return"Repair";case C.Flying:return"Flying";case C.Pacifist:return"Pacifist";case C.Sentry:return"Sentry";case C.Siege:return"Siege";case C.Momentum:return"Momentum";case C.Sharpen:return"Sharpen";case C.Armorer:return"Armorer";case C.Rascal:return"Rascal";case C.Medic:return"Medic";case C.Regenerate:return"Regenerate";case C.Ensnare:return"Ensnare";case C.WallBound:return"WallBound";case C.Ambush:return"Ambush";case C.Learning:return"Learning";default:return"No tooltip found"}}}var D=function(n){return n[n.Sun=0]="Sun",n[n.Earth=1]="Earth",n[n.Sky=2]="Sky",n[n.Neptune=3]="Neptune",n[n.MoonAndStars=4]="MoonAndStars",n[n.Colorless=5]="Colorless",n[n.Any=6]="Any",n}(D||{}),Ea=function(n){return n[n.Attack=0]="Attack",n[n.Hp=1]="Hp",n[n.Speed=2]="Speed",n[n.Level=3]="Level",n}(Ea||{}),H=function(n){return n[n.None=0]="None",n[n.Attackers=1]="Attackers",n[n.Blockers=2]="Blockers",n[n.Main1=3]="Main1",n[n.Main2=4]="Main2",n[n.Start=5]="Start",n[n.DrawStep=6]="DrawStep",n[n.EndTurn=7]="EndTurn",n[n.DrawCard=8]="DrawCard",n[n.Attack=9]="Attack",n[n.Block=10]="Block",n[n.Unblocked=11]="Unblocked",n[n.Blocked=12]="Blocked",n[n.Enters=13]="Enters",n[n.Dies=14]="Dies",n[n.Awake=15]="Awake",n[n.Income=16]="Income",n[n.Exiled=17]="Exiled",n[n.Discarded=18]="Discarded",n[n.Mill=19]="Mill",n[n.WallRepair=20]="WallRepair",n[n.Any=21]="Any",n[n.SpellCast=22]="SpellCast",n[n.CreatureCast=23]="CreatureCast",n[n.HeroCast=24]="HeroCast",n[n.MineCast=25]="MineCast",n[n.MineCase=26]="MineCase",n[n.FortificationCast=27]="FortificationCast",n[n.StartFight=28]="StartFight",n[n.EndFight=29]="EndFight",n[n.CardCast=30]="CardCast",n}(H||{}),f=function(n){return n[n.Any=0]="Any",n[n.Opponent=1]="Opponent",n[n.Self=2]="Self",n}(f||{});class Ys{static toggleController(e){return e===f.Any?f.Any:e===f.Self?f.Opponent:f.Self}}var R=function(n){return n[n.Creature=0]="Creature",n[n.Tech=1]="Tech",n[n.Mine=2]="Mine",n[n.Wall=3]="Wall",n[n.Attachment=4]="Attachment",n[n.Spell=5]="Spell",n[n.Player=6]="Player",n[n.Hoard=7]="Hoard",n[n.Permanent=8]="Permanent",n[n.Building=9]="Building",n[n.Any=10]="Any",n[n.Hero=11]="Hero",n}(R||{}),O=function(n){return n[n.Single=0]="Single",n[n.Multiple=1]="Multiple",n[n.All=2]="All",n}(O||{}),ee=function(n){return n[n.start=0]="start",n[n.main=1]="main",n[n.main2=2]="main2",n[n.attackers=3]="attackers",n[n.blockers=4]="blockers",n[n.end=5]="end",n[n.combatResults=6]="combatResults",n[n.combatCleanup=7]="combatCleanup",n}(ee||{}),y=function(n){return n[n.hand=0]="hand",n[n.play=1]="play",n[n.discard=2]="discard",n[n.exile=3]="exile",n[n.deck=4]="deck",n[n.any=5]="any",n[n.hero=6]="hero",n}(y||{}),T=function(n){return n[n.Gold=0]="Gold",n[n.Ruby=1]="Ruby",n[n.Emerald=2]="Emerald",n[n.Sapphire=3]="Sapphire",n[n.Topaz=4]="Topaz",n[n.LionEye=5]="LionEye",n[n.Any=6]="Any",n}(T||{}),d0=function(n){return n[n.All=0]="All",n[n.PickOne=1]="PickOne",n[n.Random=2]="Random",n}(d0||{}),Li=function(n){return n[n.Card=0]="Card",n[n.Relic=1]="Relic",n[n.Upgrade=2]="Upgrade",n}(Li||{}),Pe=function(n){return n[n.Life=0]="Life",n[n.Gems=1]="Gems",n[n.Asleep=2]="Asleep",n[n.Awake=3]="Awake",n[n.Discard=4]="Discard",n[n.SacCreature=5]="SacCreature",n[n.CreatureCount=6]="CreatureCount",n}(Pe||{});function Ye(n,e){return Math.floor(Math.random()*(e-n))+n}class P{constructor(e,t,r,i,s,o){this.gold=1,this.ruby=0,this.sapphire=0,this.emerald=0,this.lionsEye=0,this.topaz=0,void 0!==e&&(this.gold=e),void 0!==t&&(this.ruby=t),void 0!==r&&(this.sapphire=r),void 0!==i&&(this.emerald=i),void 0!==s&&(this.lionsEye=s),void 0!==o&&(this.topaz=o)}getTotalCost(){return this.gold+this.ruby+this.emerald+this.sapphire+this.lionsEye+this.topaz}getGemCost(){return this.getTotalCost()-this.gold}canAfford(e){return this.gold>=e.gold&&this.ruby>=e.ruby&&this.sapphire>=e.sapphire&&this.emerald>=e.emerald&&this.lionsEye>=e.lionsEye&&this.topaz>=e.topaz}subtractCost(e){this.canAfford(e)&&(this.gold-=e.gold,this.ruby-=e.ruby,this.emerald-=e.emerald,this.sapphire-=e.sapphire,this.lionsEye-=e.lionsEye,this.topaz-=e.topaz)}clear(){this.gold=0,this.emerald=0,this.ruby=0,this.sapphire=0,this.lionsEye=0,this.topaz=0}resetIncome(){this.clear(),this.gold=1}resetStarting(e){this.clear(),this.gold=e}addBag(e){this.gold+=e.gold,this.ruby+=e.ruby,this.emerald+=e.emerald,this.lionsEye+=e.lionsEye,this.sapphire+=e.sapphire,this.topaz+=e.topaz}addSingle(e,t){switch(e){case T.Gold:this.gold+=t;break;case T.Emerald:this.emerald+=t;break;case T.Ruby:this.ruby+=t;break;case T.LionEye:this.lionsEye+=t;break;case T.Sapphire:this.sapphire+=t;break;case T.Topaz:this.topaz+=t;break;default:this.gold+=t}}getValue(e){switch(e){case T.Gold:return this.gold;case T.Emerald:return this.emerald;case T.Ruby:return this.ruby;case T.LionEye:return this.lionsEye;case T.Sapphire:return this.sapphire;case T.Topaz:return this.topaz;default:return this.gold}}isEmpty(){return this.gold<=0&&this.ruby<=0&&this.sapphire<=0&&this.emerald<=0&&this.lionsEye<=0&&this.topaz<=0}getImage(e){let t="assets/";switch(e){case T.Gold:return t+"Coin.png";case T.Emerald:return t+"Emerald.png";case T.Ruby:return t+"Ruby.png";case T.LionEye:return t+"eye.png";case T.Sapphire:return t+"Saphire.png";case T.Topaz:return t+"topaz.png";default:return t+"Coin.png"}}getImageByFaction(e){let t="assets/";switch(e){case D.Colorless:return t+"Coin.png";case D.Earth:return t+"Emerald.png";case D.Sun:return t+"Ruby.png";case D.MoonAndStars:return t+"eye.png";case D.Neptune:return t+"Saphire.png";case D.Sky:return t+"topaz.png";default:return t+"Coin.png"}}getAllTypes(){return[T.Gold,T.Emerald,T.Ruby,T.LionEye,T.Sapphire,T.Topaz]}getTypes(){let e=[];return this.gold>0&&e.push(T.Gold),this.ruby>0&&e.push(T.Ruby),this.emerald>0&&e.push(T.Emerald),this.topaz>0&&e.push(T.Topaz),this.lionsEye>0&&e.push(T.LionEye),this.sapphire>0&&e.push(T.Sapphire),e}}class Pp{getFaction(e){switch(e){case T.Gold:return D.Colorless;case T.Emerald:return D.Earth;case T.Ruby:return D.Sun;case T.LionEye:return D.MoonAndStars;case T.Sapphire:return D.Neptune;case T.Topaz:return D.Sky;default:return D.Colorless}}getGem(e){switch(e){case D.Colorless:return T.Gold;case D.Earth:return T.Emerald;case D.Sky:return T.Topaz;case D.MoonAndStars:return T.LionEye;case D.Neptune:return T.Sapphire;case D.Sun:return T.Ruby;default:return T.Gold}}}class Bi{copyBag(e){return new P(e.gold,e.ruby,e.sapphire,e.emerald,e.lionsEye,e.topaz)}copyCreature(e){return new V(e.hp,e.hp,e.speed,e.name,this.copyBag(e.cost),e.image,e.text,e.instant,e.owner,e.zone,e.factions,e.abilities,e.keywords,e.isMinion)}copySpell(e){return new Ze(e.name,e.cost,e.image,e.text,e.abilities,e.instant,e.owner,e.zone,e.factions)}copyMine(e){let t=new Cn(e.name,e.cost,e.incomeBag,e.image,e.text,e.owner,e.zone,e.factions,e.abilities,e.rarity);return t.incomeBag=this.copyBag(e.incomeBag),t.cost=this.copyBag(e.cost),t.abilities=[...e.abilities],t}copyRelic(e){return new an(e.name,e.cost,e.image,e.description,e.cardService,e.abilities,e.cost)}copyHero(e){return new rt(e.attack,e.hp,e.speed,e.name,this.copyBag(e.cost),e.image,e.text,e.owner,e.zone,e.factions,e.instant,e.abilities,e.keywords,e.rarity)}}class St{constructor(e,t,r,i,s,o,a,l,c){this.displayCards=!1,this.playerTargets=[],this.random=!1,this.cardService=e,this.quan=t,this.types=r,this.allowedZones=i,this.controller=s,this.targetsPlayer=o,this.targetsCards=a,void 0!==l&&(this.random=l),s===f.Opponent&&(l=!0),this.targetsWall=void 0!==c&&c}getWall(){let e=[],t=this.cardService.playerService.getPlayer(f.Any);for(let r=0;r<t.length;r++)e.push(t[r].wall);return e}getPlayer(){return this.playerTargets=[],this.playerTargets=this.cardService.playerService.getPlayer(O.Single===this.quan?this.controller:f.Any),this.playerTargets}getRandomTargetSingle(){let e=[],t=[];this.targetsPlayer&&(e=this.getPlayer()),this.targetsCards&&(t=this.cardService.getTargets(this));let r=[...e,...t];return r[Ye(0,r.length-1)]}isValidTarget(e){if(e instanceof V||e instanceof Cn){let t=e,r=this.allowedZones.includes(t.zone),i=this.types.includes(t.type);return r&&i&&(t.owner===this.controller||this.controller===f.Any)}if(e instanceof ft){if(this.types.includes(R.Player)&&(this.controller===f.Self||this.controller===f.Any))return!0}else if(e instanceof yr&&this.types.includes(R.Player)&&(this.controller===f.Opponent||this.controller===f.Any))return!0;return!1}getTarget(){let e=this.cardService.getTargets(this);if(this.random)return[e[Ye(0,e.length)]];if(this.targetsCards){switch(this.quan){case O.All:return e;case O.Single:case O.Multiple:this.displayCards=!0}this.targetsPlayer&&this.getPlayer()}return e}}class mr{constructor(e){this.cardDb=[],this.keywordMapper=new h0,this.cardService=e}generateCardByName(e){return this.cardDb.find(t=>t.name===e)}getCard(e){}copyCard(e,t){}getDeck(e){}getMinesBulk(e,t){let r=[];for(let i=0;i<t;i++)r.push(this.generateBasicMine(e));return r}getAllMines(){let e=[];return e.push(this.generateBasicMine(T.Gold)),e.push(this.generateBasicMine(T.Emerald)),e.push(this.generateBasicMine(T.Ruby)),e.push(this.generateBasicMine(T.LionEye)),e.push(this.generateBasicMine(T.Sapphire)),e.push(this.generateBasicMine(T.Topaz)),e}generateBasicMine(e){let t,r,i;switch(e){case T.Gold:t=new P(1,0,0,0,0,0),r=D.Colorless;break;case T.Emerald:t=new P(0,0,0,1,0,0),r=D.Earth;break;case T.Ruby:t=new P(0,1,0,0,0,0),r=D.Sun;break;case T.LionEye:t=new P(0,0,0,0,1,0),r=D.MoonAndStars;break;case T.Sapphire:t=new P(0,0,1,0,0,0),r=D.Neptune;break;case T.Topaz:t=new P(0,0,0,0,0,1),r=D.Sky;break;default:t=new P(1,0,0,0,0,0),r=D.Colorless}i=`add 1 ${T[e]} to your gem bag.`;let s=new Ve([new Qn(e,1,this.cardService)],this.cardService);return new Cn(T[e]+" Mine",new P(0,0,0,0,0,0),t,"assets//mine.png",i,f.Self,y.deck,[r],[s])}generateMultiColorMinesBulk(e,t,r){let i=[];for(let s=0;s<r;s++)i.push(this.generateMulticolorMine(e,t));return i}generateMulticolorMine(e,t){let r=new P(0,0,0,0,0,0);r.addSingle(e,1),r.addSingle(t,1);let i=this.getFactionFromManaType(e),s=this.getFactionFromManaType(t),o=`add 1 ${T[e]} and 1 ${T[t]} to your income bag.`;return new Ve([new Qn(e,1,this.cardService),new Qn(t,1,this.cardService)],this.cardService),new Cn(`${T[e]}-${T[t]} Mine`,new P(0,0,0,0,0,0),r,"assets//mine.png",o,f.Self,y.deck,[i,s],[])}getFactionFromManaType(e){switch(e){case T.Gold:return D.Colorless;case T.Emerald:return D.Earth;case T.Ruby:return D.Sun;case T.LionEye:return D.MoonAndStars;case T.Sapphire:return D.Neptune;case T.Topaz:return D.Sky;default:return D.Colorless}}generateRandomCreature(e,t,r,i){let s=this.rollRandomNumber(1,t+1),o=this.rollRandomNumber(1,t+2)+1,a=this.rollRandomNumber(1,t+2),l=Math.ceil(.2*t),c=this.rollRandomNumber(l,t),d=new P(t-c,0,0,0,0,0);d.addSingle(e,c);let h=new Pp;return new V(o,s,a,"",d,"","",!1,r,i,[h.getFaction(e)])}genMultipleForFaction(e,t,r,i,s){let o=[];for(let a=0;a<s;a++)o.push(this.generateRandomCreatureForFaction(e,t,r,i));return o}generateRandomCreatureForFaction(e,t,r,i){let s=this.generateGemBag(t,e),a=(s.getGemCost(),e),l=1,c=e,u=1,d=e,p=this.generateKeywords(t,e,!1);switch(t){case D.Sun:u+=2,d+=2,a--;break;case D.Earth:a+=2,l+=2,d-=2;break;case D.Colorless:a+=1,d+=1,c+=1}let v=this.rollRandomNumber(u,c),S=this.rollRandomNumber(l,a),M=this.rollRandomNumber(1,d);v<=0&&(v=1),S<=0&&(S=1),M<=0&&(M=1);let k=new V(S,v,M,"Test ",s,"","",!1,r,i,[t],[],p);for(let E=0;E<p.length;E++)k.text+=C[p[E]],E<p.length-1&&(p[E]===C.Repair&&(k.repairAmount=Ye(e-1,e+1),k.text+=k.repairAmount),k.text+=", ");return p.length<=0&&(k.text="No abilities"),k}generateKeywords(e,t,r){let i=[];if(r){let s=Object.values(C),o=Ye(0,s.length-1);for(let a=0;a<o;a++){let l=Ye(0,s.length);i.includes(s[l])?a--:i.push(s[l])}}else{let s=this.keywordMapper.getKeywords(e),o=t+this.rollRandomNumber(-1,1);o<0&&(o=0);for(let a=0;a<o;a++){let c=s[this.rollRandomNumber(0,s.length-1)];i.includes(c)||i.push(c)}}return i}generateAiMinion(e,t,r){let i=this.rollRandomNumber(1,t+1),s=this.rollRandomNumber(1,t+2),o=this.rollRandomNumber(0,t+2),a=new P(0,0,0,0,0,0),l=new Pp,c=this.getRandomMinionImage();return new V(s,i,o,"Minion",a,c,"",!1,f.Opponent,r,[l.getFaction(e)],[],[],!0)}generateAiBasicMinion(e,t,r){t<=0&&(t=1);let i=new P(0,0,0,0,0,0),s=new Pp,o=[],a=this.getRandomMinionImage();return a.includes("assets//minion2")&&o.push(C.Flying),new V(t,t,t,"Minion",i,a,"",!1,f.Opponent,r,[s.getFaction(e)],[],o,!0)}getRandomMinionImage(){let e=["assets//minion1.png","assets//minion2.png","assets//minion3.png","assets//minion4.png","asets//minion5"];return e[this.rollRandomNumber(0,e.length-1)]}generateGemBag(e,t){let r,i=this.rollRandomNumber(1,t),s=t-i;switch(e){case D.Colorless:r=new P(i+s,0,0,0,0,0);break;case D.Earth:r=new P(i,0,0,s,0,0);break;case D.Sun:r=new P(i,s,0,0,0,0);break;case D.Sky:r=new P(i,0,0,0,s,0);break;case D.Neptune:r=new P(i,0,s,0,0,0);break;case D.MoonAndStars:r=new P(i,0,0,0,0,s);break;default:r=new P(i+t,0,0,0,0,0)}return r}rollRandomNumber(e,t){return Math.floor(Math.random()*(t-e))+e}}class Zs{constructor(e,t){this.faction=e,this.keywords=t}}class h0{constructor(){this.items=[],Object.keys(C),this.items=[new Zs(D.Sun,[C.Dodge,C.Momentum,C.Sharpen,C.Siege,C.Flying,C.Ambush]),new Zs(D.Earth,[C.Armorer,C.Dodge,C.Siege,C.Repair]),new Zs(D.Colorless,[C.Armorer,C.Dodge,C.Flying,C.Instant,C.Medic,C.Momentum,C.Repair,C.Siege]),new Zs(D.MoonAndStars,[C.Sharpen,C.Dodge,C.Flying,C.Instant,C.Momentum]),new Zs(D.Neptune,[C.Sharpen,C.Dodge,C.Armorer,C.Regenerate]),new Zs(D.Sky,[C.Sharpen,C.Dodge,C.Instant,C.Flying,C.Momentum])]}getKeywords(e){let t=[];return t=this.items.filter(i=>i.faction===e)[0].keywords,t}}class De{constructor(e,t,r,i,s,o,a,l,c,u){this.repeatable=!1,this.selfTarget=null,this.speedDiff=e,this.hpDiff=t,this.attackDiff=r,this.cardService=i,this.permanent=void 0!==u&&u,this.targetPlayer=c||s,this.targeting=new St(i,o,[R.Creature,R.Hero],[y.play],this.targetPlayer,!1,!0,s===f.Opponent&&o===O.Single),this.controller=s,this.repeatable=void 0===l||l}undoEffectSingle(e){if(e instanceof V){e.attack-=this.attackDiff,e.hp-=this.hpDiff,e.speed-=this.speedDiff;let t=e.currentEffects.indexOf(this);e.currentEffects.splice(t,1)}}doEffectSingle(e){if(e){let t;this.repeatable?t=!0:e.currentEffects&&(t=!e.currentEffects.includes(this)),(e instanceof V||e instanceof rt)&&t&&(e.attack+=this.attackDiff,e.hp+=this.hpDiff,e.speed+=this.speedDiff,e.currentEffects.push(this)),e.hp<=0&&e.handleDeath()}}doEffect(){let e=this.targeting.getTarget();for(let t=0;t<e.length;t++)void 0!==e[t]&&this.doEffectSingle(e[t])}undoEffect(){let t=this.cardService.grabAffected(this);for(let r=0;r<t.length;r++)this.undoEffectSingle(t[r])}}class f0{constructor(e,t,r,i){let s;this.validTypes=[R.Creature,R.Hero],this.owner=t,s=t===f.Opponent,this.cardService=e;let o=Ys.toggleController(t);this.targeting=new St(this.cardService,r,i,[y.play],o,!1,!0,s)}undoEffectSingle(e){throw new Error("Method not implemented.")}doEffectSingle(e){(e instanceof V||e instanceof rt)&&e.zone===y.play&&(e.hp=0,e.handleDeath(),this.cardService.checkTriggers(H.Dies,f.Any))}undoEffect(){throw new Error("Method not implemented.")}doEffect(){let e=this.targeting.getTarget();for(let t=0;t<e.length;t++)this.doEffectSingle(e[t])}}class Jc{constructor(e,t,r,i){this.amount=1,this.objCopier=new Bi,this.controller=e,this.cardService=t,this.creatureToMake=r,void 0!==i&&(this.amount=i),this.targeting=new St(this.cardService,O.Single,[R.Player],[y.play],e,!0,!1)}undoEffectSingle(e){throw new Error("Method not implemented.")}doEffectSingle(e){let t=this.objCopier.copyCreature(this.creatureToMake);t.zone=y.play,this.cardService.cardList.push(t)}grabUnaffected(){throw new Error("Method not implemented.")}doEffect(){for(let e=0;e<this.amount;e++)this.doEffectSingle()}undoEffect(){throw new Error("Method not implemented.")}}class tB{constructor(e,t,r,i,s){this.objCopier=new Bi,this.targeting=new St(e,O.Single,[R.Player],[y.play],i,!0,!1),this.cardService=e,this.spellToMake=t,this.destinationZone=r,this.player=i,this.amount=void 0===s?1:s}doEffect(){for(let e=0;e<this.amount;e++)this.doEffectSingle(1)}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){let t=this.objCopier.copySpell(this.spellToMake);t.zone=this.destinationZone,t.owner=this.player,this.cardService.cardList.push(t)}undoEffectSingle(e){throw new Error("Method not implemented.")}}class nB{constructor(e,t,r,i){this.objCopier=new Bi,this.cardService=e,this.spells=t,this.controller=r,this.targeting=new St(this.cardService,O.Single,[R.Player],[i],r,!0,!1)}doEffect(){let e=this.targeting.getPlayer();console.log(e);for(let t=0;t<e.length;t++)this.doEffectSingle(e[t])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){let t=Math.floor(Math.random()*this.spells.length),r=this.objCopier.copySpell(this.spells[t]);r.zone=y.hand,r.owner=this.controller,this.cardService.cardList.push(r)}undoEffectSingle(e){throw new Error("Method not implemented.")}}class Qn{constructor(e,t,r,i){this.manaType=e,this.amount=t,this.cardService=r,this.targeting=new St(this.cardService,O.Single,[R.Player],[],i,!0,!1),this.controller=i}undoEffectSingle(e){throw new Error("Method not implemented.")}doEffectSingle(e){e.gembag.addSingle(this.manaType,this.amount)}grabUnaffected(){throw new Error("Method not implemented.")}doEffect(){let e=this.targeting.getPlayer();e[0]instanceof ft&&e[0].gembag.addSingle(this.manaType,this.amount)}undoEffect(){throw new Error("Method not implemented.")}}class p0{constructor(e,t){this.cardService=e,this.targeting=new St(this.cardService,O.Single,[R.Player],[y.any],f.Self,!0,!1,!1),this.manaType=t}doEffect(){let e=new mr(this.cardService),t=this.targeting.getPlayer()[0];if(t instanceof ft){let r=e.generateBasicMine(this.manaType);this.cardService.cardList.push(r),t.incomeBag.addBag(r.incomeBag)}}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){throw new Error("Method not implemented.")}undoEffectSingle(e){throw new Error("Method not implemented.")}}class g0{constructor(e,t,r,i,s){this.amount=1,this.hasFlying=!1,this.hasSiege=!1,this.cardService=e,this.targeting={},this.target=r,this.amount=t,void 0!==i&&(this.hasFlying=i),void 0!==s&&(this.hasSiege=s)}doEffect(){let e=this.cardService.playerService.getPlayer(this.target);for(let t=0;t<e.length;t++)this.doEffectSingle(e[t])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){e instanceof yr&&e.takeDamage(this.amount,this.hasFlying,this.hasSiege),e instanceof ft&&(e.hp-=this.amount)}undoEffectSingle(e){throw new Error("Method not implemented.")}}class Qs{constructor(e,t,r,i,s,o,a,l){this.amount=1,this.owner=i,o=i===f.Opponent&&r===O.Single,this.targeting=new St(t,r,[R.Creature,R.Hero],[y.play],Ys.toggleController(i),!1,!0,o),this.amount=e,this.cardService=t,void 0===o&&(o=!1),void 0===a&&(a=!1),void 0===l&&(l=!0)}doEffect(){let e=this.targeting.getTarget();for(let t=0;t<e.length;t++)this.doEffectSingle(e[t])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){if(e){if(e instanceof V||e instanceof rt){let t=e;t.hp-=this.amount,t.hp<=0&&(t.hp=0,t.handleDeath())}if(e instanceof xp){let t=e;t.hp-=this.amount,t.hp<0&&(t.hp=0)}}}undoEffectSingle(e){throw new Error("Method not implemented.")}}class wn{constructor(e,t,r,i){this.amount=1,this.cardService=e,this.targeting=new St(this.cardService,t,[R.Player],[y.play],r,!0,!1),void 0!==i&&(this.amount=i)}doEffect(){let e=this.targeting.getPlayer();for(let t=0;t<e.length;t++)this.doEffectSingle(e[t])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){e instanceof yr?e.drawCardsFromEffect(this.amount):e instanceof ft&&e.drawCards(this.amount,!1)}undoEffectSingle(e){throw new Error("Method not implemented.")}}class m0{constructor(e,t,r){this.cardService=e,this.targeting=new St(this.cardService,r,[R.Creature],[y.play],t,!1,!0)}doEffect(){let e=this.targeting.getTarget();for(let t=0;t<e.length;t++)this.doEffectSingle(e[t])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){e instanceof V&&e.heal()}undoEffectSingle(e){throw new Error("Method not implemented.")}}class rB{constructor(e,t,r){this.cardService=e,this.targeting=new St(this.cardService,r,[R.Creature],[y.play],t,!1,!0)}doEffect(){let e=this.targeting.getTarget();for(let t=0;t<e.length;t++)this.doEffectSingle(e[t])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){e instanceof V&&(e.firstTurn=!1)}undoEffectSingle(e){}}class Oe{constructor(e,t,r,i,s){this.cardService=e,this.targeting=new St(this.cardService,t,[R.Creature],r,i,!1,!0),this.keywords=s}doEffect(){let e=this.targeting.getTarget();for(let t=0;t<e.length;t++)this.doEffectSingle(e[t])}undoEffect(){let e=this.targeting.getTarget();for(let t=0;t<e.length;t++)this.undoEffectSingle(e[t])}doEffectSingle(e){if(e instanceof V){let t=e;for(let r=0;r<this.keywords.length;r++){let i=this.keywords[r];t.keywords.includes(i)||(t.keywords.push(i),i===C.Repair?e.repairAmount=2:i===C.Dodge?e.dodgeAmount+=1:i===C.Ensnare&&(e.ensnareAmount+=1))}}}undoEffectSingle(e){if(e instanceof V){let t=e;for(let r=0;r<this.keywords.length;r++){let i=this.keywords[r];if(t.keywords.includes(i)){let s=t.keywords.indexOf(i);t.keywords.splice(s,1),i===C.Repair?e.repairAmount=0:i===C.Dodge?e.dodgeAmount=0:i===C.Ensnare&&(e.ensnareAmount=0)}}}}}class Xs{constructor(e,t,r){this.cardService=e,this.amount=t,this.targeting=new St(this.cardService,O.Single,[R.Player],[y.play],r,!0,!1)}doEffect(){let e=this.targeting.getPlayer();for(let t=0;t<e.length;t++)this.doEffectSingle(e[t])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){e instanceof ft&&(e.hp+=this.amount)}undoEffectSingle(e){e instanceof ft&&(e.hp-=this.amount)}}class y0{constructor(e,t){this.cardService=e,this.amount=t,this.targeting=new St(this.cardService,O.Single,[R.Wall],[],f.Self,!0,!1,!1,!0)}doEffect(){let e=this.targeting.getPlayer();e[0]instanceof ft&&(e[0].wall.hp+=this.amount)}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){throw new Error("Method not implemented.")}undoEffectSingle(e){throw new Error("Method not implemented.")}}class iB{constructor(e,t){this.amount=1,this.cardService=e,this.amount=t,this.targeting=new St(this.cardService,O.Single,[R.Player],[],f.Self,!0,!1)}doEffect(){let e=this.targeting.getPlayer();for(let t=0;t<e.length;t++)this.doEffectSingle(e[t])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){!(e instanceof yr)&&e instanceof ft&&(e.mineLimits+=this.amount)}undoEffectSingle(e){e instanceof ft&&(e.mineLimits-=this.amount)}}class Ma{constructor(e,t){this.cardService=e,this.targeting=new St(this.cardService,O.Single,[R.Player],[],f.Self,!0,!1),this.increase=t}doEffect(){throw new Error("Method not implemented.")}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){e.amount&&(e.amount+=this.increase)}undoEffectSingle(e){throw new Error("Method not implemented.")}}class sB{constructor(e,t,r,i,s){this.cardService=e,this.targeting=new St(this.cardService,r,i,s,f.Self,!0,!1),this.diffBag=t}doEffect(){let e=this.targeting.getTarget();for(let t=0;t<e.length;t++)this.doEffectSingle(e[t])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){e.cost.addBag(this.diffBag)}undoEffectSingle(e){throw new Error("Method not implemented.")}}var ge=function(n){return n[n.Common=0]="Common",n[n.Uncommon=1]="Uncommon",n[n.Rare=2]="Rare",n[n.SuperRare=3]="SuperRare",n}(ge||{});class an{constructor(e,t,r,i,s,o,a,l){if(this.abilities=[],this.targeting={},this.cost=0,this.image="",this.description="",this.name=e,this.image=r,this.description=i,this.cardService=s,void 0!==l&&(this.targeting=l),this.rarity=t,void 0!==o&&(this.abilities=o),void 0!==a)this.cost=a;else switch(t){case ge.Common:this.cost=Ye(50,100);break;case ge.Uncommon:this.cost=Ye(75,130);break;case ge.Rare:this.cost=Ye(100,200);break;case ge.SuperRare:this.cost=Ye(150,250)}}applyInitialEffects(){let e=this.abilities.filter(t=>t instanceof Ve);for(let t=0;t<e.length;t++)e[t].doEffects()}applyTriggeredEffects(e){}canBuy(e){return e>=this.cost}}class Aa{constructor(e){this.relics=[],this.cardService=e,this.cardGen=new mr(e);let t=new De(1,1,1,e,f.Self,O.All),r=new Xe([t],e),i=new an("Buff",ge.Common,"test.png","All your creatures get +1/+1/+1",e,[r]);this.relics.push(i);let s=new V(1,1,1,"Spider",new P(1),"","",!1,f.Self,y.any,[D.Earth],[],[],!0),o=new Jc(f.Self,e,s,1),a=new Fe([o],[H.Start],e,f.Self),l=new an("Swarm Amulet",ge.Uncommon,"amulet.png","At the start of your turn, create a 1/1/1 spider",e,[a]);this.relics.push(l);let c=new Oe(e,O.All,[y.play],f.Self,[C.Momentum]),u=new Xe([c],e),d=new an("Bowling Ball",ge.Rare,"bowlingBall.png","At the start of your turn, all your creatures gain 1 speed",e,[u]);this.relics.push(d);let h=new Oe(e,O.All,[y.play],f.Self,[C.Armorer,C.Pacifist,C.Regenerate]),p=new Xe([h],e),v=new an("Plate of Peace",ge.SuperRare,"plate.png","At the start of your turn all your creatures gain 1 more hp and then heal to max hp. Creatures you control may not attack",e,[p]);this.relics.push(v);let S=new wn(e,O.Single,f.Self,2),M=new Ve([S],e),k=new Ze("Scrying Report",new P(4),"","Draw 2 Cards",[M],!1,f.Self,y.any,[D.Colorless],f.Self),E=new tB(e,k,y.hand,f.Self),B=new Fe([E],[H.Start],e,f.Self,[y.play]),j=new an("Monocle of Insight",ge.Uncommon,"monocle.png","At the start of your turn, add a 4 gold cost draw spell to your hand",e,[B]);this.relics.push(j);let K=new Oe(e,O.All,[y.play],f.Self,[C.Sharpen,C.FullForward]),pe=new Xe([K],e),fe=new an("Sword of War",ge.SuperRare,"attackSymbol.png","At the start of your turn, all creatures you control gain +1/+0/+0. Creatures you control may not block",e,[pe]);this.relics.push(fe);let Ce=new De(1,1,1,this.cardService,f.Self,O.Single,!0);Ce.repeatable=!0;let Je=new Fe([Ce],[H.Dies],this.cardService,f.Any,[y.play]),cn=(new an("Blood Chalice",ge.Common,"bloodChalice.png","Whenever a creature dies, a random one of your creatures gets +1/+1/+1",this.cardService,[Je]),new Xs(this.cardService,2,f.Self)),_t=new Fe([cn],[H.Start],this.cardService,f.Self,[y.play]),Yt=new an("Health Potion",ge.Common,"potion.png","At the start of your turn, gain 2 life",this.cardService,[_t]);this.relics.push(Yt);let En=new y0(this.cardService,10),Dr=new Fe([En],[H.StartFight],this.cardService),W=new an("Cosmic Brick",ge.Common,"brick.png","At the start of each fight, your wall gains 10 extra Hp.",this.cardService,[Dr]);this.relics.push(W);let Q=new wn(this.cardService,O.Single,f.Self,1),X=new Fe([Q],[H.Start],this.cardService,f.Self),ve=new an("Crystal Ball",ge.Rare,"crystal ball.png","At the start of each turn, draw 1 card.",this.cardService,[X]);this.relics.push(ve);let it=new y0(this.cardService,1),xt=new Fe([it],[H.Start],this.cardService,f.Self),Rt=new an("Repair Kit",ge.Common,"repair kit.png","At the end of each turn, your wall gains 1 HP.",this.cardService,[xt]);this.relics.push(Rt);let Zt=new De(1,0,1,this.cardService,f.Self,O.All),Ue=new Xe([Zt],this.cardService),qr=new an("War Banner",ge.Rare,"warBanner.png","All your creatures get +1/+0/+1.",this.cardService,[Ue]);this.relics.push(qr);let nl=new De(0,2,0,this.cardService,f.Self,O.All),et=new Xe([nl],this.cardService),tr=new an("Heart of the Forest",ge.Rare,"heart of the woods.png","All your creatures get +0/+2/+0.",this.cardService,[et]);this.relics.push(tr)}getRelicByName(e){return[]}getRelicByIndex(e){return this.relics[e]}getRelicsByRarity(e){return this.relics.filter(t=>t.rarity===e)}getAllRelics(){return this.relics}getRandomRelic(e){let t;return t=void 0!==e?this.getRelicsByRarity(e):this.getAllRelics(),t[this.cardGen.rollRandomNumber(0,t.length)]}}class Ta{convertToCreature(e){return e}convertToMine(e){return e}convertToSpell(e){return e}convertToTech(e){return e}}class Vi{constructor(e,t,r,i,s,o,a,l,c,u){this.type=R.Any,this.hover=!1,this.turned=!1,this.instant=!1,this.currentEffects=[],this.targetableCard=!1,this.isFlipping=!1,this.isMoving=!1,this.keywords=[],this.upgrades=[],this.level=1,this.maxLevel=3,this.name=e,this.cost=t,this.image=r,this.text=i,void 0!==u&&(this.upgrades=u),this.abilities=void 0!==l?l:[],this.rarity=void 0===c?ge.Common:c,this.owner=s,this.zone=o,this.factions=a}hasTargetedAbility(){return this.abilities.filter(t=>t instanceof ln).length>0}hasStaticAbility(){return this.abilities.filter(t=>t instanceof Xe).length>0}hasActivatedAbility(){return this.abilities.filter(t=>t instanceof bt).length>0}getStaticAbilities(){return this.abilities.filter(e=>e instanceof Xe)}processAbilities(e){for(let t=0;t<this.abilities.length;t++){let r=this.abilities[t];r instanceof Xe?e.intialApplyStaticAbilities(r):(r instanceof Ve||r instanceof Rp)&&r.doEffects()}}shouldDie(){return!0}applyUpgrades(){if(this.level<this.maxLevel){this.level++;for(let e=0;e<this.upgrades.length;e++)this.upgrades[e].applyUpgrade(this)}else console.log("Max level reached")}applyRandomUpgrade(e){0===this.upgrades.length?this instanceof V?(this.attack++,this.baseAttack++,this.hp++,this.baseHp++,this.speed++,this.baseSpeed++):this instanceof Ze&&(console.log("Not sure how to handle spell default upgrades"),this.cost.gold--,this.cost.gold<0&&(this.cost.gold=0)):this.upgrades[Math.floor(Math.random()*this.upgrades.length)].applyUpgrade(this)}}class V{constructor(e,t,r,i,s,o,a,l,c,u,d,h,p,v,S,M){this.hover=!1,this.type=R.Creature,this.turned=!1,this.attacking=!1,this.blocking=!1,this.blocked=!1,this.selected=!1,this.instant=!1,this.awake=!0,this.firstTurn=!0,this.currentEffects=[],this.keywords=[],this.repairAmount=0,this.isMinion=!1,this.dodgeAmount=0,this.targetableCard=!1,this.isFlipping=!1,this.isMoving=!1,this.ensnareAmount=0,this.upgrades=[],this.level=1,this.maxLevel=3,void 0!==M&&(this.upgrades=M),this.rarity=void 0===S?ge.Common:S,this.attack=t,this.baseAttack=t,this.hp=e,this.baseHp=e,this.speed=r,this.baseSpeed=r,this.name=i,this.cost=s,this.image=o,this.text=a,this.abilities=void 0!==h?h:[],this.keywords=void 0!==p?p:[],this.instant=l,this.owner=c,this.zone=u,this.factions=d,void 0!==v&&(this.isMinion=v)}applyUpgrades(){Vi.prototype.applyUpgrades.call(this)}applyRandomUpgrade(e){Vi.prototype.applyRandomUpgrade.call(this,e)}hasActivatedAbility(){return this.abilities.filter(t=>t instanceof bt).length>0}hasStaticAbility(){return this.abilities.filter(t=>t instanceof Xe).length>0}getStaticAbilities(){return this.abilities.filter(e=>e instanceof Xe)}handleDeath(){if(!1===this.isAlive()){this.resetStats();let e=this.getStaticAbilities();for(let t=0;t<e.length;t++)e[t].undoEffects();this.zone=this instanceof rt?y.hero:y.discard,this.firstTurn=!this.keywords.includes(C.FullForward)}}shouldDie(){return this.hp>0}resetStats(){this.hp<this.baseHp&&(this.hp=this.baseHp),this.attack<this.baseAttack&&(this.attack=this.baseAttack),this.speed<this.baseSpeed&&(this.speed=this.baseSpeed)}heal(){this.hp<this.baseHp&&(this.hp=this.baseHp)}processAbilities(e){for(let t=0;t<this.abilities.length;t++){let r=this.abilities[t];r instanceof Xe?e.intialApplyStaticAbilities(r):r instanceof Ve&&r.doEffects()}}hasTargetedAbility(){return this.abilities.filter(t=>t instanceof ln).length>0}isAlive(){return this.hp>0}resetHp(){this.hp=this.baseHp}addEffect(e){throw new Error("Method not implemented.")}removeEffect(e){throw new Error("Method not implemented.")}runEffects(){}canBlock(){return!this.keywords.includes(C.FullForward)&&!1===this.turned&&!1===this.blocking}getStat(e){switch(e){case Ea.Attack:return this.attack;case Ea.Hp:return this.hp;case Ea.Speed:return this.speed;case Ea.Level:return this.level;default:return 0}}}class Ze extends Vi{constructor(e,t,r,i,s,o,a,l,c,u){super(e,t,r,i,a,l,c,s),this.type=R.Spell,this.targets=[],this.text=i,this.instant=o,this.zone=l,this.intendedTarget=void 0!==u?u:f.Self}shouldDie(){return!0}runEffects(e){for(let t=0;t<this.abilities.length;t++);}}class xp{constructor(e){this.hp=30,this.alive=!0,this.type=R.Wall,this.hp=e}isAlive(){return this.alive=this.hp>0,this.alive}takeDamage(e){this.hp-=e,this.hp<0&&(this.hp=0),this.isAlive()}}class oB extends Vi{constructor(e,t,r,i,s,o,a,l){super(e,t,r,i,s,o,a,l),this.type=R.Building}wallIsAlive(e){return e.playerService.getPlayer(this.owner)[0].wall.hp>0}runEffects(){for(let e=0;e<this.abilities.length;e++)this.abilities[e].doEffects()}undoEffects(){for(let e=0;e<this.abilities.length;e++)this.abilities[e].undoEffects()}}class Cn{constructor(e,t,r,i,s,o,a,l,c,u){this.type=R.Mine,this.hover=!1,this.turned=!1,this.instant=!1,this.currentEffects=[],this.targetableCard=!1,this.isFlipping=!1,this.isMoving=!1,this.keywords=[],this.upgrades=[],this.level=1,this.maxLevel=3,this.name=e,this.cost=t,this.incomeBag=r,this.image=i,this.text=s,this.abilities=void 0!==c?c:[],this.owner=o,this.zone=a,this.factions=l,this.incomeBag=r,this.rarity=void 0===u?ge.Common:u}hasActivatedAbility(){return this.abilities.filter(t=>t instanceof bt).length>0}hasStaticAbility(){return this.abilities.filter(t=>t instanceof Xe).length>0}getStaticAbilities(){return this.abilities.filter(e=>e instanceof Xe)}shouldDie(){return!1}processAbilities(e){throw new Error("Method not implemented.")}hasTargetedAbility(){return this.abilities.filter(t=>t instanceof ln).length>0}mine(e){e.gold+=this.incomeBag.gold,e.ruby+=this.incomeBag.ruby,e.emerald+=this.incomeBag.emerald,e.sapphire+=this.incomeBag.sapphire,e.lionsEye+=this.incomeBag.lionsEye,e.topaz+=this.incomeBag.topaz}addEffect(e){throw new Error("Method not implemented.")}removeEffect(e){throw new Error("Method not implemented.")}runEffects(){throw new Error("Method not implemented.")}applyUpgrades(){Vi.prototype.applyUpgrades.call(this)}applyRandomUpgrade(e){Vi.prototype.applyRandomUpgrade.call(this,e)}}class rt extends V{constructor(e,t,r,i,s,o,a,l,c,u,d,h,p,v,S,M){super(t,e,r,i,s,o,a,d,l,c,u,h,p,!1,v),this.timesDied=0,this.type=R.Hero,this.xp=0,this.level=1,this.xpNextLevel=10,this.levelingUp=!1,this.affinities=[],this.affinityBonus=2,this.baseCost=s,this.currentCost=s,this.zone=y.hero,void 0!==M&&(this.xp=M),void 0!==S&&(this.affinities=S),console.log(o),this.image=o}addXP(e,t){if(t)for(let r=0;r<t.length;r++)this.affinities.includes(t[r])&&(e*=this.affinityBonus);this.keywords.includes(C.Learning)&&(e*=2),this.xp+=e,this.xp>=this.xpNextLevel&&(this.xp=0,this.levelingUp=!0,this.xpNextLevel=this.getXpToNextLevel())}getXpToNextLevel(){return this.level*this.level+10}handleDeath(){this.zone=y.hero,this.timesDied++,this.currentCost.gold++,this.resetStats();for(let e=0;e<this.abilities.length;e++)this.abilities[e].undoEffects()}resetGoldCost(){this.cost=this.baseCost}}class ln{constructor(e,t,r,i,s,o,a){this.effects=[],this.allowedTargets=[R.Creature,R.Hero],this.allowedZones=[],this.targetNumber=1,this.possibleTargets=[],this.target=null,this.allEffectsToOne=!1,this.allowedTargets=e,this.targetNumber=i,this.effects=s,this.allowedZones=r,this.allowedPlayer=t,this.cardService=o,void 0!==a&&(this.allEffectsToOne=a)}undoEffects(){throw new Error("Method not implemented.")}checkTargetValid(e){return this.allowedTargets.includes(e)}setTargetByIndex(e){if(this.possibleTargets.length>0&&e<this.possibleTargets.length&&e>=0){let t=this.possibleTargets[e];this.checkTargetValid(t.type)&&(this.target=t)}}doEffects(){for(let e=0;e<this.effects.length;e++)this.effects[e].doEffect()}}class Xe{constructor(e,t){this.zoneAffected=y.play,this.effects=e,this.cardService=t}undoEffects(){this.undoAll()}doEffects(){for(let e=0;e<this.effects.length;e++)this.effects[e].doEffect()}undoAll(){for(let e=0;e<this.effects.length;e++)this.effects[e].undoEffect()}}class Fe{constructor(e,t,r,i,s,o){this.triggerZones=[],this.triggersPerTurn=1e4,this.effects=e,this.triggerTimes=t,this.cardService=r,this.controller=void 0===i?f.Any:i,void 0===s?this.triggerZones.push(y.play):this.triggerZones=s,void 0!==o&&(this.triggersPerTurn=o)}undoEffects(){throw new Error("Method not implemented.")}checkTriggers(e,t){void 0===t&&(t=f.Any);let r=this.controller===t||this.controller===f.Any,i=this.triggerTimes.includes(e);r&&i&&this.doEffects()}doEffects(){for(let e=0;e<this.effects.length;e++)this.effects[e].doEffect()}}class Ve{constructor(e,t){this.effects=e,this.cardService=t}undoEffects(){throw new Error("Method not implemented.")}doEffects(){for(let e=0;e<this.effects.length;e++)this.effects[e].doEffect()}}class It{constructor(e,t,r){this.cost=e,this.amount=t,this.color=void 0!==r?r:T.Any}}class bt{constructor(e,t,r,i,s){this.costMaps=[],this.needsTarget=!1,this.costMaps=t,this.cardService=e,this.effects=r,this.user=i,void 0!==s&&(this.needsTarget=s)}doEffects(){let e=this.cardService.playerService.getPlayer(f.Self)[0];if(this.canAffordCosts(this.user,e)){this.payCosts();for(let r=0;r<this.effects.length;r++)this.effects[r].doEffect()}}undoEffects(){for(let e=0;e<this.effects.length;e++)this.effects[e].undoEffect()}payCosts(){let e=this.cardService.playerService.getPlayer(f.Self)[0];for(let t=0;t<this.costMaps.length;t++){let r=this.costMaps[t],s=r.amount;switch(r.cost){case Pe.Life:e.hp>s&&(e.hp-=s);break;case Pe.Gems:switch(r.color){case T.Gold:e.gembag.gold-=s;break;case T.Ruby:e.gembag.ruby-=s;break;case T.Sapphire:e.gembag.sapphire-=s;break;case T.Emerald:e.gembag.emerald-=s;break;case T.LionEye:e.gembag.lionsEye-=s;break;case T.Topaz:e.gembag.topaz-=s;break;default:e.gembag.gold-=s}break;case Pe.Discard:if(this.user instanceof ft){let l=this.user.getHand();for(let c=0;c<s;c++){let u=l.pop();u&&this.cardService.setCardZoneByCard(u,y.discard,f.Self)}}break;case Pe.SacCreature:this.user instanceof ft&&e.getCreatures();break;case Pe.Asleep:let o=this.user;o.awake=!1,this.user=o}}}canCardAffordCosts(e){for(let t=0;t<this.costMaps.length;t++){let r=this.costMaps[t],i=r.cost,s=r.amount;if(void 0!==i)switch(i){case Pe.Life:if(e instanceof V&&e.hp<s)return!1;break;case Pe.Asleep:if(e instanceof V)return e.awake}}return!0}canPlayerAffordCosts(e){for(let t=0;t<this.costMaps.length;t++){let r=this.costMaps[t],s=r.amount;switch(r.cost){case Pe.Life:if(e.hp<s)return!1;break;case Pe.Gems:if(e.gembag.getValue(r.color)<s)return!1;break;case Pe.Discard:if(e.getHand().length<s)return!1;break;case Pe.SacCreature:if(e.getCreatures().length<s)return!1}}return!0}canAffordCosts(e,t){let r=!0,i=!0;return void 0!==e&&(i=this.canCardAffordCosts(e)),void 0!==t&&(r=this.canPlayerAffordCosts(t)),r&&i}}class Rp{constructor(e,t,r,i,s){this.effects=e,this.cardService=t,this.targeting=new St(t,O.Single,r,i,s,!0,!1)}doEffects(){let e=this.targeting.getTarget();if(e.length>0){let r=e[Math.floor(Math.random()*e.length)];for(let i=0;i<this.effects.length;i++)this.effects[i].doEffectSingle(r)}}undoEffects(){throw new Error("Method not implemented.")}}class v0{static income(){let e=new Audio("C:/Users/thoma/Desktop/Cards/CardApp/src/sounds/pickupCoin.wav");e.load(),e.play().catch(t=>console.error("Error playing sound:",t))}}class ft{constructor(e){this.isAi=!1,this.name="human",this.hp=40,this.drawPerTurn=1,this.attacking=!1,this.pickingBlockers=!1,this.showFights=!1,this.defending=!1,this.targeting=!1,this.possibleTargets=[],this.wall=new xp(20),this.staticAbilities=[],this.cardConverter=new Ta,this.startingGold=5,this.gembag=new P(this.startingGold,0,0,0,0,0),this.incomeBag=new P(2,0,0,0,0,0),this.currentEffects=[],this.mineLimits=1,this.minesPlayed=0,this.effectStack=[],this.pickStack=[],this.controller=f.Self,this.stopPhases=!1,this.currentPos=0,this.buildingSlots=3,this.relics=[],this.buildings=[],this.marketEnabled=!1,this.cardService=e,this.gembag.gold=this.startingGold}applyStaticAbilities(){for(let e=0;e<this.staticAbilities.length;e++)this.staticAbilities[e].doEffects();for(let e=0;e<this.relics.length;e++){let t=this.relics[e];for(let r=0;r<t.abilities.length;r++){let i=t.abilities[r];i instanceof Xe&&i.doEffects()}}}unapplyStaticAbilities(){for(let e=0;e<this.staticAbilities.length;e++)this.staticAbilities[e].undoEffects();for(let e=0;e<this.relics.length;e++){let t=this.relics[e];for(let r=0;r<t.abilities.length;r++){let i=t.abilities[r];i instanceof Xe&&i.undoEffects()}}}getAllCards(){return this.cardService.getCards(y.any,this.controller)}checkIfPlayable(e,t){if(e.owner===f.Opponent)return!0;if(e instanceof rt){let l=t.currentPhase===ee.main||t.currentPhase===ee.main2,c=t.currentTurn===this||e.instant,u=e.zone===y.hero,d=this.gembag.canAfford(e.cost);return l&&c&&u&&d}let s,r=this.cardService.getCards(y.hand,f.Self,R.Any),i=t.currentPhase===ee.main||t.currentPhase===ee.main2;return e instanceof Cn?!!(this.minesPlayed<this.mineLimits&&(i||e.instant)):(s=r.includes(e),!!this.gembag.canAfford(e.cost)&&!!(e.instant||i&&t.currentTurn===this&&e.zone===y.hand))}hasPlayableCards(e){let t=this.cardService.getCards(y.hand,f.Self,R.Any),i=!1;for(let s=0;s<t.length;s++)if(this.checkIfPlayable(t[s],e)){i=!0;break}return i}hasRelic(e){return this.relics.filter(r=>r.name===e).length>0}playCard(e,t){if(this.checkIfPlayable(e,t)){if(this.gembag.subtractCost(e.cost),[R.Creature,R.Wall,R.Mine,R.Building,R.Tech,R.Hero].includes(e.type)){let i=this.cardService.hero;console.log("XP Animation goes here");let s=[];if(e instanceof rt&&s.push(H.HeroCast),e instanceof Cn&&s.push(H.MineCast),e instanceof V&&s.push(H.CreatureCast),this.controller===f.Self&&i.addXP(1,s),this.cardService.checkTriggers(H.Enters,f.Self),this.cardService.setCardZoneByCard(e,y.play,f.Self),e.type===R.Mine&&(this.incomeBag.addBag(e.incomeBag),this.minesPlayed++,this.cardService.checkTriggers(H.MineCast,this.controller)),e.type===R.Building)if(this.buildings.includes(e)){let a=this.buildings.findIndex(l=>l.name===e.name);this.buildings[a].level++}else this.buildings.push(e)}else e.type===R.Spell&&this.playSpell(e,t);this.applyExistingAbilities(e),this.applyStaticAbilities(),this.processAbilities(e)}}playSpell(e,t){this.cardService.checkTriggers(H.SpellCast,f.Self),this.cardService.setCardZoneByCard(e,y.discard,f.Self),this.controller===f.Self&&this.cardService.hero.addXP(1,[H.SpellCast])}addRelic(e){this.relics.push(e),this.processAbilities(e)}processAbilities(e){for(let t=0;t<e.abilities.length;t++){let r=e.abilities[t];if(r instanceof ln){let i=r;for(let s=0;s<i.effects.length;s++){let o=i.effects[s],a=o.targeting.getTarget();if(o.targeting.random&&i.allowedPlayer===f.Opponent)o.doEffectSingle(a[0]);else if(a){for(let l=0;l<a.length;l++)a[l].targetableCard=!0;this.effectStack.push(o)}}}else if(r instanceof bt){let i=r;if(e instanceof Vi&&i.canAffordCosts(e)&&i.needsTarget)for(let s=0;s<i.effects.length;s++){let o=i.effects[s];if(o.targeting.random){let a=o.targeting.getRandomTargetSingle();o.doEffectSingle(a)}else{let a=o.targeting.getTarget();for(let l=0;l<a.length;l++)a[l]&&(a[l].targetableCard=!0);this.effectStack.push(o)}}}else r instanceof Xe?this.cardService.intialApplyStaticAbilities(r):r instanceof Fe?this.cardService.triggeredEffects.push(r):r.doEffects()}}runEffectStack(e){if(this.effectStack.length>0){for(let t=0;t<this.effectStack.length;t++)this.effectStack[t].doEffectSingle(e);this.effectStack=[],this.turnOffTargetting()}}turnOffTargetting(){let e=this.cardService.getCards(y.play,f.Any,R.Creature);for(let t=0;t<e.length;t++)e[t].targetableCard=!1}applyExistingAbilities(e){for(let t=0;this.cardService.staticEffects.length>t;t++)this.cardService.staticEffects[t].doEffects()}killCardByIndex(e){this.cardService.setCardZone(e,y.discard,f.Self)}killCardBySearch(e){let t=this.cardService.getCardIndex(e);this.cardService.setCardZone(t,y.discard,f.Self)}getMines(){return this.cardService.getCards(y.play,f.Self,R.Mine)}earnIncome(){this.gembag.addBag(this.incomeBag),new v0,v0.income()}drawCards(e,t){let r=[];void 0===t&&(t=!0);let i=this.cardService.getCards(y.deck,f.Self,R.Any);if(i.length>=e)for(let s=0;s<e;s++){let o=i[s];o.zone=y.hand,this.cardService.checkTriggers(H.DrawCard,f.Self),r.push(o),(this.controller===f.Self||this.controller===f.Any)&&(t||this.cardService.hero.addXP(1,[H.DrawCard]))}return r}canAttack(){let e;if(e=this.cardService.getCreatures(this.isAi?f.Opponent:f.Self),this.isAi)return e.length>0;for(let r=0;r<e.length;r++){let i=e[r];if(i.awake&&!i.firstTurn)return!0}return!1}getAttackers(){let e=this.cardService.getCreatures(f.Self).filter(t=>t.attacking);for(let t=0;t<e.length;t++){let r=e[t];r.attacking&&(r.keywords.includes(C.Sentry)||(r.awake=!1))}return e}attack(){this.cardService.checkTriggers(H.Attack,f.Self),this.attacking=!0}defend(){this.defending=!0}clearCombat(){this.defending=!1,this.attacking=!1;let e=this.cardService.getCreatures(f.Any),t=this.cardService.hero;t.blocking=!1,t.blocked=!1,t.attacking=!1;for(let r=0;r<e.length;r++){let i=e[r];i.attacking=!1,i.blocked=!1,i.blocking=!1}this.checkDead()}doneDefending(){this.defending=!1}doneAttacking(){this.attacking=!1}dealDamage(e){let t=this.getAttackersUnblocked();for(let s=0;s<t.length;s++){let o=t[s],a=o.keywords.includes(C.Flying),l=o.keywords.includes(C.Siege);e.takeDamage(o.attack,l,a)}}takeDamage(e,t,r){r?this.hp-=e:this.wall.isAlive()?(t&&(e*=2),this.wall.hp-=e,this.clearWallBound()):this.hp-=e}clearWallBound(){if(this.wall.hp<=0){let e=this.getCreatures().filter(i=>i.keywords.includes(C.WallBound));for(let i=0;i<e.length;i++)e[i].zone=y.discard;let r=this.cardService.getCards(y.play,f.Self,R.Building).filter(i=>i.keywords.includes(C.WallBound));for(let i=0;i<r.length;i++)r[i].zone=y.discard}}getAttackersUnblocked(){let e=[],t=this.cardService.getCreatures(f.Self),r=[];for(let i=0;i<t.length;i++)r.push(t[i]);for(let i=0;i<r.length;i++){let s=r[i];s.attacking&&!s.blocked&&e.push(s)}return e}resetMines(){this.minesPlayed=0}checkDead(){let e=this.getCreatures().filter(t=>!t.isAlive());for(let t=0;t<e.length;t++){let r=e[t];if(r instanceof rt){let i=r;this.cardService.checkTriggers(H.Dies,f.Self),i.handleDeath()}else r.isAlive()||(r.zone=y.discard,this.cardService.checkTriggers(H.Dies,f.Self),r.handleDeath());r.resetStats()}}isAlive(){return this.cardService.getCards(y.deck,f.Self,R.Any).length>0&&this.hp>0}getCreatures(){return this.cardService.getCards(y.play,this.controller,R.Creature)}getHand(){return this.cardService.getCards(y.hand,f.Self,R.Any)}awakeAll(){let e=this.getCreatures();for(let t=0;t<e.length;t++)e[t].turned=!1,e[t].awake=!0,e[t].firstTurn=!1}getBlockers(){return this.hasBlockers()?this.getCreatures().filter(t=>t.awake):[]}hasBlockers(){let e=this.getCreatures();return 0!==e.length&&e.filter(r=>r.awake).length>0}hasMedic(){let e=this.getCreatures();for(let t=0;t<e.length;t++)if(e[t].keywords.includes(C.Medic))return!0;return!1}}class yr extends ft{constructor(e){super(e),this.currentSpells=[],this.currentTargets=[],this.isAi=!0,this.name="Horde",this.controller=f.Opponent,this.wall=new xp(10),this.pullsPerTurn=1,this.pullsThisTurn=0}drawCardsFromEffect(e){this.cardService.checkTriggers(H.DrawCard,f.Opponent);let t=this.cardService.getCards(y.deck,f.Opponent,R.Any);for(let r=0;r<e;r++){let i=t[r];i instanceof V?(i.firstTurn=!1,this.playCreature(i),this.processAbilities(i)):i instanceof Ze&&this.currentSpells.push(i)}this.currentSpells.length>0&&(this.stopPhases=!0)}playCards(){let e=this.cardService.getCards(y.deck,f.Opponent,R.Any);if(e.length>0&&this.pullsThisTurn<this.pullsPerTurn){let t=e[0];if(t.type===R.Creature){let r=t;if(this.playCreature(r),r.isMinion)this.playCards();else{if(this.pullsThisTurn++,this.pullsPerTurn===this.pullsThisTurn)return void(this.pullsThisTurn=0);this.pullsThisTurn<this.pullsPerTurn&&this.playCards()}}else t.type===R.Spell&&(this.currentSpells.push(t),this.stopPhases=!0)}else this.pullsThisTurn=0}playCreature(e){let t=this.cardService.getCardIndex(e);this.cardService.setCardZone(t,y.play,f.Opponent),this.processAbilities(e)}playSpell(e){this.cardService.setCardZoneByCard(e,y.discard,f.Opponent),this.cardService.checkTriggers(H.SpellCast,f.Opponent)}runCurrentSpells(e){for(let t=0;t<this.currentSpells.length;t++){let r=this.currentSpells[t];this.playSpell(r);for(let i=0;i<r.abilities.length;i++)r.abilities[i].doEffects()}this.currentSpells=[],this.stopPhases=!1}getDeck(){return this.cardService.getCards(y.deck,f.Opponent,R.Any)}millCard(e){let t=this.cardService.getCards(y.deck,f.Opponent,R.Any);e>t.length&&(e=t.length);for(let r=0;r<e;r++)t[r].zone=y.discard}attack(){let e=this.cardService.getCreatures(f.Opponent);this.attacking=!0;for(let t=0;t<e.length;t++)e[t].turned=!0,e[t].attacking=!0,e[t].awake=!1}getAttackers(){return this.cardService.getCreatures(f.Opponent)}clearWallBound(){if(this.wall.hp<=0){let e=this.getCreatures().filter(i=>i.keywords.includes(C.WallBound));for(let i=0;i<e.length;i++)e[i].zone=y.discard;let r=this.cardService.getCards(y.play,f.Self,R.Building).filter(i=>i.keywords.includes(C.WallBound));for(let i=0;i<r.length;i++)r[i].zone=y.discard}}getAttackersUnblocked(){let e=[],t=this.cardService.getCreatures(f.Opponent);for(let r=0;r<t.length;r++){let i=t[r];i.attacking&&!i.blocked&&e.push(i)}return e}takeDamage(e,t,r){r?this.millCard(e):this.wall.isAlive()?(t&&(e*=2),this.wall.hp-=e,this.clearWallBound()):this.millCard(e)}defend(){let e=this.cardService.getCreatures(f.Self).filter(i=>i.attacking),t=0;for(let i=0;i<e.length;i++)t+=e[i].attack;let r=this.cardService.getCards(y.deck,f.Opponent,R.Any);r.length>t&&(t=r.length);for(let i=0;i<t;i++)r.pop()}isAlive(){return 0===this.cardService.getCards(y.deck,f.Opponent,R.Any).length}}class aB{constructor(e,t){this.player=e,this.opponent=t}getPlayer(e){return e===f.Any?[this.player,this.opponent]:e===f.Opponent?[this.opponent]:[this.player]}}class Np{constructor(){this.cardList=[],this.staticEffects=[],this.triggeredEffects=[],this.playerService={},this.relicsManager=new Aa(this),this.currentPos=0,this.difficultyMods="",this.selectedFactions=[D.Any],this.nodePos=0,this.difficulty=0,this.hero=new rt(0,1,1,"Hero Boy",new P,"","",f.Self,y.play,[D.Sun],!1,[],[],ge.Rare)}deleteCardsByController(e){this.cardList=this.cardList.filter(t=>void 0!==t),this.cardList=this.cardList.filter(t=>t.owner!==e)}clearDiscardPile(e){for(let t=0;t<this.cardList.length;t++){let r=this.cardList[t];r.zone===y.discard&&r.owner===e&&(r.zone=y.deck)}}makePlayerService(e,t){this.playerService=new aB(e,t)}getCount(e,t,r,i){return void 0===r&&(r=R.Any),void 0===t&&(t=f.Any),void 0===i&&(i=D.Any),void 0===e&&(e=y.any),this.getCards(e,t,r,[i]).length}countMultiple(e,t,r,i){let s=0;void 0===r&&(r=[R.Any]),void 0===t&&(t=f.Any),void 0===i&&(i=[D.Any]),void 0===e&&(e=[y.any]);for(const o of e)for(const a of i)for(const l of r)s+=this.getCount(o,t,l,a);return s}getCardsWithStatics(){return this.getCards().filter(t=>t.hasStaticAbility())}checkTriggers(e,t){let r=this.getCards(y.any,t,R.Any,[D.Any],!0);for(let o=0;o<r.length;o++){let a=r[o];for(let l=0;l<a.abilities.length;l++){let c=a.abilities[l];c instanceof Fe&&c.triggerZones.includes(a.zone)&&c.checkTriggers(e,t)}}let s=this.playerService.getPlayer(f.Self)[0].relics;for(let o=0;o<s.length;o++){let a=s[o];for(let l=0;l<r.length;l++){let c=a.abilities[l];c instanceof Fe&&c.checkTriggers(e,t)}}e===H.Enters&&this.getCardsWithStatics()}intialApplyStaticAbilities(e){e.doEffects(),this.staticEffects.push(e)}staticDestroy(e){if(this.staticEffects.includes(e)){e.undoAll();let t=this.staticEffects.indexOf(e);this.staticEffects.splice(t,1)}}shuffleDeck(e){let r,t=e.length;for(;t>0;)r=Math.floor(Math.random()*t),t--,[e[t],e[r]]=[e[r],e[t]];return e}checkZoneTriggers(e,t,r){e===y.exile&&this.checkTriggers(H.Exiled,r),t===y.play&&e===y.discard&&this.checkTriggers(H.Dies,r),t===y.hand&&(e===y.play?this.checkTriggers(H.Enters,r):e===y.discard&&this.checkTriggers(H.Discarded,r)),t===y.deck&&e===y.discard&&this.checkTriggers(H.Mill,r)}setCardZoneByCard(e,t,r){this.checkZoneTriggers(t,e.zone,r);for(let i=0;i<this.staticEffects.length;i++){let s=this.staticEffects[i];e.abilities.includes(s)&&s.undoAll()}e.zone=t,e instanceof V&&(e.awake=!0,e.owner===f.Opponent&&this.hero.addXP(1,[H.Dies]))}setCardZone(e,t,r){let i=this.cardList[e];this.checkZoneTriggers(t,i.zone,r);for(let o=0;o<this.staticEffects.length;o++);this.cardList[e].zone=t,i instanceof V&&(i.awake=!0)}setCardZoneObj(e,t){let r=this.getCardIndex(e);r>=0&&r<this.cardList.length&&(this.cardList[r].zone=t)}setCardOwner(e,t){this.cardList[t].owner=e}getCardIndex(e){return this.cardList.findIndex(r=>r===e)}getCardName(e,t){return this.cardList.filter(i=>i.name===e&&i.owner===t)[0]}getCard(e){return this.cardList[e]}getCreatures(e){let t=this.getCards(y.play,e,R.Creature);return(this.hero.owner===e||this.hero.owner===f.Any&&this.hero.zone===y.play)&&t.push(this.hero),t}getBuildings(e){return this.getCards(y.play,e,R.Building)}getTechs(e){return void 0===e&&(e=f.Any),this.getCards(y.play,e,R.Tech)}filterByKeyword(e,t){return void 0===t&&(t=f.Any),this.getCreatures(t).filter(i=>i.keywords.includes(e))}getCardsWithTriggers(e,t,r,i){return void 0===r&&(r=R.Any),void 0===t&&(t=f.Any),void 0===i&&(i=D.Any),void 0===e&&(e=y.any),this.getCards(e,t,r,[i]).filter(a=>a.abilities.filter(l=>l instanceof Fe))}getCards(e,t,r,i,s){let o=[];void 0===r&&(r=R.Any),void 0===t&&(t=f.Any),void 0===i&&(i=[D.Any]),void 0===e&&(e=y.any),void 0===s&&(s=!1),s&&o.push(this.hero),this.hero.zone===e&&(r===R.Creature||r===R.Hero||R.Any)&&(t===this.hero.owner||t===f.Any)&&o.push(this.hero),this.cardList=this.cardList.filter(a=>void 0!==a);for(let a=0;a<this.cardList.length;a++){let l=this.cardList[a],c=this.getMatchingFactions(l.factions,i);(l.owner===t||t==f.Any)&&(l.zone===e||e===y.any)&&(r===l.type||r===R.Any)&&(c.length>0||i.includes(D.Any))&&o.push(l)}return o}getMatchingFactions(e,t){let r=[];for(let i=0;i<e.length;i++)t.includes(e[i])&&r.push(e[i]);return r}getDeck(e){return this.cardList.filter(t=>t.owner==e&&t.zone==y.deck)}clearList(e){this.cardList=this.cardList.filter(t=>t.owner!==e)}resetCreatures(){this.staticEffects=[];for(let e=this.cardList.length-1;e>=0;e--){let t=this.cardList[e];if(t instanceof V)if(t.zone===y.play&&(t.zone=y.deck),t.isMinion){this.cardList.splice(e,1);for(let r=0;r<t.abilities.length;r++){let i=t.abilities[r];i instanceof Xe&&i.undoAll()}}else t.resetStats(),this.cardList[e]=t}}reset(){this.clearList(f.Opponent),this.playerService.player.wall.hp=20,this.playerService.opponent.wall.hp=10,this.playerService.player.gembag.resetStarting(this.playerService.player.startingGold),this.playerService.player.incomeBag.resetIncome();for(let e=0;e<this.staticEffects.length;e++)this.staticEffects[e].undoAll();for(let e=0;e<this.cardList.length;e++)if(this.cardList[e].zone=y.deck,this.playerService.player.applyExistingAbilities(this.cardList[e]),this.cardList[e]instanceof V){let t=this.cardList[e];t.resetStats(),t.isMinion&&this.cardList.splice(e,1),t.firstTurn=!0,t.resetStats()}}drawInitialHand(){this.playerService.player.drawCards(6,!0);let e=this.getCards(y.deck,f.Self,R.Mine);for(let t=0;t<e.length;t++){let r=e[t];if(r.factions.includes(D.Colorless)){r.zone=y.hand;break}}}getTargets(e){let t=e.allowedZones,r=e.controller,i=e.types,s=i.includes(R.Any),o=t.includes(y.any);s&&(i=Object.values(R)),o&&(t=Object.values(y));let a=[];return a=this.cardList.filter(l=>t.includes(l.zone)&&i.includes(l.type)&&(l.owner===r||r===f.Any)),i.includes(R.Creature)&&t.includes(this.hero.zone)&&(this.hero.owner===r||this.hero.owner===f.Any)&&a.push(this.hero),a}grabUnaffected(e,t){void 0===t&&(t=R.Any);let r=e.targeting.getTarget();return t!==R.Any&&(r=r.filter(s=>s.type===t)),r.filter(s=>!s.currentEffects.includes(e))}grabAffected(e,t){void 0===t&&(t=R.Any);let r=e.targeting.getTarget();return t!==R.Any&&(r=r.filter(s=>s.type===t)),r.filter(s=>s.currentEffects.includes(e))}}class lB{constructor(e){this.showTurnPlayer=!1,this.showTurnEnemy=!1,this.game=e}getPhaseText(){switch(this.game.currentPhase){case ee.main||ee.main2:return"You may play a mine and as many other cards as you can afford. If it is your first main phase, you gain income from your mines.";case ee.attackers:return"Pick what creatures you want to attack. For a hoard, all creature always attack.";case ee.blockers:return"Choose which creatures from the horde you want to block. The hoard will never block.";case ee.combatResults:return"See the results of each block in combat. Greyed out creatures are set to die";case ee.end:return"The end of the turn. Until end of turn effects wear off here.";case ee.start:return"The start of a battle.";default:return""}}resetPhase(){this.game.currentPhase=ee.main,this.game.phaseDisplay=ee[this.game.currentPhase],this.game.currentTurn=this.game.player}nextPhase(){this.game.currentTurn.isAi?this.handleAIPhases():this.handlePlayerPhases(),this.game.phaseDisplay=ee[this.game.currentPhase]}handlePlayerPhases(){switch(this.game.currentPhase){case ee.start:this.game.cardService.checkTriggers(H.Start,f.Self),this.game.currentPhase=ee.main;break;case ee.main:this.handleMainPhase();break;case ee.attackers:this.game.combatManager.runBlocks(),this.game.combatManager.runUnblocked(),this.game.combatManager.clearCombat(),this.game.currentPhase=ee.main2;break;case ee.main2:this.endTurn()}}handleAIPhases(){switch(this.game.currentPhase){case ee.main:this.handleAIMainPhase();break;case ee.attackers:this.game.player.hasBlockers()?(this.game.combatManager.runUnblocked(),this.game.combatManager.runBlocks(),this.game.currentPhase=ee.combatResults):(this.game.combatManager.runUnblocked(),this.game.combatManager.clearCombat(),this.game.currentPhase=ee.end,this.game.cardService.checkTriggers(H.EndTurn,f.Opponent));break;case ee.blockers:this.game.currentPhase=ee.combatResults,this.game.combatManager.runUnblocked(),this.game.combatManager.runBlocks();break;case ee.combatResults:this.game.combatManager.clearCombat(),this.game.cardService.checkTriggers(H.EndTurn,f.Opponent),this.game.cardService.checkTriggers(H.Start,f.Self),this.game.cardService.checkTriggers(H.Awake,f.Opponent),this.endTurn();break;case ee.end:this.game.cardService.checkTriggers(H.Start,f.Self),this.game.cardService.checkTriggers(H.Awake,f.Opponent),this.endTurn()}}handleMainPhase(){this.endTurn()}handleAIMainPhase(){this.game.currentTurn.canAttack()?(this.game.currentPhase=ee.attackers,this.game.combatManager.runAttack()):this.game.currentPhase=ee.end}endTurn(){this.game.currentPhase=ee.main,this.game.cardService.checkTriggers(H.EndTurn,f.Self);let e=this.game.player.getCreatures();for(let t=0;t<e.length;t++){let r=e[t];r.keywords.includes(C.Regenerate)&&r.heal()}this.game.currentTurn===this.game.player&&[ee.main,ee.main2,ee.start,ee.end].includes(this.game.currentPhase),this.game.currentPhase=ee.main,this.game.phaseDisplay=ee[this.game.currentPhase],this.swapCurrent(),this.runUpkeep(),this.game.cardService.checkTriggers(H.Start,f.Opponent),this.game.cardService.checkTriggers(H.Awake,f.Opponent)}runUpkeep(){this.game.currentTurn.awakeAll();const e=this.game.getCurrentTurnController();this.game.currentTurn instanceof yr?this.game.processKeywords(f.Opponent,this.game.currentTurn.wall):this.game.currentTurn instanceof ft&&(this.game.player.minesPlayed=0,this.game.player.earnIncome(),this.game.processKeywords(f.Self,this.game.player.wall)),this.game.runDraw(),this.game.cardService.checkTriggers(H.Awake,e)}swapCurrent(){this.game.currentTurn=this.game.currentTurn.controller===f.Opponent?this.game.player:this.game.enemy}passTurn(){this.game.currentTurn===this.game.player&&(this.game.currentPhase===ee.main||this.game.currentPhase===ee.main2||this.game.currentPhase===ee.start)&&this.game.currentTurn===this.game.player&&(this.swapCurrent(),this.runUpkeep(),this.game.currentPhase=ee.main,this.game.phaseDisplay=ee[this.game.currentPhase])}}class cB{constructor(e,t){this.attacker={},this.blocker={},this.attacker=e,this.blocker=t}fight(){let e=this.attacker.keywords.includes(C.Dodge)&&this.attacker.dodgeAmount>0,t=this.blocker.keywords.includes(C.Dodge)&&this.blocker.dodgeAmount>0,r=this.attacker.keywords.includes(C.Ensnare)&&this.attacker.ensnareAmount>0,i=this.blocker.keywords.includes(C.Ensnare)&&this.blocker.ensnareAmount>0;r&&(this.blocker.speed-=this.attacker.ensnareAmount),i&&(this.attacker.speed-=this.blocker.ensnareAmount),this.attacker.speed>this.blocker.speed?(t?this.blocker.dodgeAmount--:(this.blocker.hp-=this.attacker.attack,this.attacker.keywords.includes(C.Ambush)&&(this.blocker.hp-=this.attacker.speed)),this.blocker.hp>0&&(e?this.attacker.dodgeAmount--:(this.attacker.hp-=this.blocker.attack,this.blocker.keywords.includes(C.Ambush)&&(this.attacker.hp-=this.blocker.speed)))):this.attacker.speed<this.blocker.speed?(e?this.attacker.dodgeAmount--:(this.attacker.hp-=this.blocker.attack,this.blocker.keywords.includes(C.Ambush)&&(this.attacker.hp-=this.blocker.speed)),this.attacker.hp>0&&(t?this.blocker.dodgeAmount--:(this.blocker.hp-=this.attacker.attack,this.attacker.keywords.includes(C.Ambush)&&(this.blocker.hp-=this.attacker.speed)))):(e?this.attacker.dodgeAmount--:(this.attacker.hp-=this.blocker.attack,this.blocker.keywords.includes(C.Ambush)&&(this.attacker.hp-=this.blocker.speed)),t?this.blocker.dodgeAmount--:(this.blocker.hp-=this.attacker.attack,this.attacker.keywords.includes(C.Ambush)&&(this.blocker.hp-=this.attacker.speed)))}}class uB{constructor(e,t){this.fights=[],this.selectedAttacker=null,this.selectedBlocker=null,this.game=e,this.animationManager=t}inCombat(e){return e===ee.attackers||e===ee.blockers||e===ee.combatCleanup}runAttack(){const e=this.game.getCurrentTurnController();this.game.cardService.checkTriggers(H.Attack,e),this.game.currentTurn.isAi?(this.game.currentTurn.attack(),this.game.player.defend()):this.game.player.attack()}runBlocks(){let e=this.game.getCurrentTurnController()===f.Self?f.Opponent:f.Self;e=e===f.Opponent?f.Self:f.Opponent,this.runFights(),this.game.cardService.checkTriggers(H.Blockers,e)}runFights(){for(let e=0;e<this.fights.length;e++)this.fights[e].fight()}runUnblocked(){this.game.currentTurn.isAi?this.game.enemy.dealDamage(this.game.player):this.game.player.dealDamage(this.game.enemy)}clearCombat(){this.game.player.clearCombat(),this.game.enemy.clearCombat(),this.clearFights()}isFighting(e){return this.fights.some(t=>t.attacker===e||t.blocker===e)}cancelFight(e){const t=this.fights.indexOf(e);t>=0&&this.fights.splice(t,1),this.selectedAttacker&&this.selectedBlocker&&(this.selectedAttacker.blocked=!1,this.selectedBlocker.blocking=!1)}setAttacker(e){this.selectedAttacker=e,this.checkFight()}setBlocker(e){this.selectedBlocker=e,this.checkFight()}unsetBlocker(e){if(this.isFighting(e)){let t=this.getFightByCreature(e);t.attacker.blocked=!1,t.blocker.blocking=!1;let r=this.fights.indexOf(t);this.fights.splice(r,1)}this.selectedBlocker=null,this.selectedAttacker=null}checkFight(){this.selectedAttacker&&this.selectedBlocker&&(this.selectedAttacker.blocked=!0,this.selectedBlocker.blocking=!0,this.createFight(this.selectedAttacker,this.selectedBlocker),this.selectedAttacker=null,this.selectedBlocker=null)}createFight(e,t){let r=new cB(e,t);this.fights.push(r),this.selectedAttacker=null,this.selectedBlocker=null}clearFights(){this.game.player.checkDead(),this.game.enemy.checkDead(),this.fights=[]}getFightByCreature(e){return this.fights.filter(r=>r.attacker===e||r.blocker===e)[0]}}class dB{constructor(e){this.cardService=e}drawCardPlayer(e,t,r){}drawCardEnemy(e,t,r){}playSpell(e,t,r){}playCreature(e,t,r){}playMine(e,t,r){}playBuilding(e,t,r){}discardFromHand(e,t,r){}discardFromPlay(e,t,r){}block(e,t,r){}}class eu{constructor(e,t,r){this.currentTurn={},this.fights=[],this.currentPhase=ee.main,this.phaseDisplay=ee[this.currentPhase],this.selectedBlocker=null,this.selectedAttacker=null,this.selectPlayer=null,this.possibleCardTargets=[],this.spellStack=[],this.phaseManager=new lB(this),this.cardService=r,this.enemy=t,this.player=e,this.currentTurn=this.player,this.cardService.makePlayerService(this.player,this.enemy),this.animationManager=new dB(this.cardService),this.combatManager=new uB(this,this.animationManager)}pickFirst(){this.currentTurn=2*Math.random()==0?this.player:this.enemy}getCurrentTurnController(){let e=f.Any;return this.currentTurn===this.player?e=f.Self:this.currentTurn===this.enemy&&(e=f.Opponent),e}runUpkeep(){this.currentTurn.awakeAll();let e=this.getCurrentTurnController();this.runDraw(),this.cardService.checkTriggers(H.Start,e),this.cardService.checkTriggers(H.Awake,e),this.currentTurn instanceof yr?this.processKeywords(f.Opponent,this.currentTurn.wall):this.currentTurn instanceof ft&&(this.player.minesPlayed=0,this.player.earnIncome(),this.processKeywords(f.Self,this.player.wall))}processKeywords(e,t){let r=this.cardService.getCreatures(e);for(let i=0;i<r.length;i++){let s=r[i];if(s.keywords.includes(C.Momentum)&&s.speed++,s.keywords.includes(C.Sharpen)&&s.attack++,s.keywords.includes(C.Armorer)&&s.hp++,s.keywords.includes(C.Repair)&&(t.hp+=s.repairAmount,this.cardService.checkTriggers(H.WallRepair,e)),s.keywords.includes(C.Medic)){let o=this.currentTurn.getCreatures();for(let a=0;a<o.length;a++)o[a].heal()}}}runDraw(){let e=this.getCurrentTurnController();if(this.cardService.checkTriggers(H.DrawStep,e),this.cardService.checkTriggers(H.DrawCard,e),this.currentTurn.isAi)this.currentTurn.playCards();else{let r=this.currentTurn.drawCards(1);for(let i=0;i<r.length;i++){let s=r[i];s.isFlipping=!0,s.isMoving=!0,setTimeout(()=>{s.isFlipping=!1,s.isMoving=!1},1e3)}}}mainPhase(){let e=this.getCurrentTurnController();this.cardService.checkTriggers(H.Main1,e)}runAttack(){let e=this.getCurrentTurnController();this.cardService.checkTriggers(H.Attack,e),this.currentTurn.isAi?(this.currentTurn.attack(),this.player.defend()):this.player.attack()}}class _0{}class hB{}const jr="*";function Ui(n,e){return{type:7,name:n,definitions:e,options:{}}}function Hr(n,e=null){return{type:4,styles:e,timings:n}}function w0(n,e=null){return{type:2,steps:n,options:e}}function Pt(n){return{type:6,styles:n,offset:null}}function tu(n,e,t){return{type:0,name:n,styles:e,options:t}}function nu(n){return{type:5,steps:n}}function $r(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class ka{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class C0{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Sn{constructor(){this.animationSubject=new Mn,this.animation$=this.animationSubject.asObservable()}static#e=this.drawCard=Ui("drawCard",[$r(":enter",[Hr("1s ease-in-out",nu([Pt({transform:"translateY(0)",opacity:0,offset:0}),Pt({transform:"translateY(-50px)",opacity:.5,offset:.5}),Pt({transform:"translateY(0)",opacity:1,offset:1})]))])]);static#t=this.moveCard=Ui("moveCard",[$r(":enter",[Hr("1s ease-in-out",nu([Pt({transform:"translateX(0)",opacity:0,offset:0}),Pt({transform:"translateX(-250px)",opacity:.5,offset:.5}),Pt({transform:"translateX(-500px)",opacity:1,offset:1})]))])]);static#n=this.rapidMoveRight=Ui("rapidMoveRight",[$r(":enter",[Hr("1s ease-in-out",nu([Pt({transform:"translateX(-50%)",opacity:.4,offset:0}),Pt({transform:"translateX(-25%)",opacity:.8,offset:.5}),Pt({transform:"translateX(0%)",opacity:1,offset:1})]))])]);static#r=this.zoomIn=Ui("zoomIn",[$r(":enter",[Hr("10s ease-in-out",nu([Pt({transform:"scale(0.1)",opacity:.5,offset:0}),Pt({transform:"scale(1)",opacity:1,offset:1})]))])]);triggerAnimation(e){this.animationSubject.next(e)}static#i=this.\u0275fac=function(t){return new(t||Sn)};static#s=this.\u0275prov=J({token:Sn,factory:Sn.\u0275fac,providedIn:"root"})}class Js{constructor(e,t,r,i,s,o,a,l){this.name="",this.effects=[],this.quantity=O.Single,this.repeatable=!1,this.targets=[],this.name=e,this.cardService=t,this.effects=r,this.level=i,this.rarity=s,this.description=o,this.repeatable=a,this.quantity=null!=l?l:O.Single}applyUpgrade(e){e.level++,this.effects.forEach(t=>{t.doEffectSingle(e)})}applyMassUpgrade(e){e.forEach(t=>{this.applyUpgrade(t)})}}class Fp{constructor(e){this.kTip=new Da,this.usedUpgrades=new Set,this.cardService=e,this.keywordMapper=new h0}getUniqueRandomUpgrade(e){let t=[];for(let s=0;s<e.factions.length;s++){let o=this.keywordMapper.getKeywords(e.factions[s]);for(let a=0;a<o.length;a++){let l=this.getKeywordUpgrade(o[a]);t.some(c=>c.name===l.name)||t.push(l)}}t=t.filter(s=>!this.usedUpgrades.has(s.name));for(let s=0;s<10;s++){let o=this.getRandomCreatureUpgrade(10);t.push(...o)}if(0===t.length)return null;const i=t[Math.floor(Math.random()*t.length)];return this.usedUpgrades.add(i.name),i}getRandomUpgradeBulk(e,t){let r=[];for(let i=0;i<e;i++)if(100*Math.random()+1<50){let o=this.getUniqueRandomUpgrade(this.cardService.hero);null!=o&&r.push(o)}else{let o=this.getRandomCreatureUpgrade(e);if(o.length>0){let a=Math.floor(Math.random()*o.length);r.push(o[a])}}return r}getRandomCreatureUpgrade(e){let t=[],r=this.cardService.getCards(y.any,f.Self,R.Creature);for(let i=0;i<e;i++){let s=Math.floor(Math.random()*r.length),a=this.getStatUpgrades(r[s]);t.push(a)}return t}getRandomUniversalUpgrade(){const e=this.getUniversalUpgrades();return e[Math.floor(Math.random()*e.length)]}getUniversalUpgrades(){let e=[];const t=Object.values(C);for(let o=0;o<t.length;o++)t[o]!==C.WallBound&&e.push(this.getKeywordUpgrade(o));e.push(this.getStatUpgrades(this.cardService.hero)),e.push(this.getStatUpgrades(this.cardService.hero)),e.push(this.getStatUpgrades(this.cardService.hero));const r=this.cardService.getCreatures(f.Self),i=Math.floor(Math.random()*r.length);return e.push(this.getStatUpgrades(r[i])),e}getRandomKeywordUpgrade(){const e=Object.values(C),t=e[Math.floor(Math.random()*e.length)];return this.getKeywordUpgrade(t)}getKeywordUpgrade(e){let t=new Oe(this.cardService,O.Single,[y.play],f.Self,[e]);return new Js(this.kTip.getToolTipName(e),this.cardService,[t],1,1,"Grants the "+this.kTip.getToolTipName(e)+" keyword",!1)}getStatDisplay(e,t,r){let i="";return i+=`+${e} ATK/ `,i+=`+${t} HP /`,i+=`+${r} SPD `,i}getStatUpgrades(e){let t=e.factions,r=0,i=0,s=0,o=33,a=33,l=33;for(let M=0;M<t.length;M++)switch(t[M]){case D.Earth:a+=22,l-=11;break;case D.Sun:o+=22,l+=11,a-=22;break;case D.Neptune:a+=22,o-=11;break;case D.MoonAndStars:break;case D.Sky:l+=22,o+=11,a-=22}let c="";c+=e instanceof rt?"Your hero gets: ":"All copies of "+e.name+" gain: ";let u=Math.floor(100*Math.random())+1,d=Math.floor(100*Math.random())+1,h=Math.floor(100*Math.random())+1;if(e instanceof rt)u>=o?(r=Math.floor(2*Math.random())+1,c+="+"+r+"/"):c+="+0/",d>=a?(i=Math.floor(2*Math.random())+1,c+="+"+i+"/"):c+="+0/",h>=l?(s=Math.floor(2*Math.random())+1,c+="+"+s):c+="+0";else if(e instanceof V){let M=Math.floor(2*Math.random());u>=o&&(r=M),d>=a&&(i=M),h>=l&&(s=M)}c="Your "+e.name+" gains: ",0==r&&0==i&&0==s?(c+="CRITICAL UPGRADE",r=Math.floor(2*Math.random())+1,i=Math.floor(2*Math.random())+1,s=Math.floor(2*Math.random())+1,c+=" +"+r+"/+"+i+"/+"+s):c+=this.getStatDisplay(r,i,s);let p=new De(s,i,r,this.cardService,f.Self,O.Single,!1),v=new Js("Stat Upgrades",this.cardService,[p],1,1,c,!0),S=this.cardService.getCards(y.any,f.Self,R.Creature);return v.targets=S.filter(M=>M.name===e.name),e instanceof rt?v.quantity=O.Single:e instanceof V&&(v.quantity=O.All),v}getStatUpgrade(e,t,r){let i=new De(r,t,e,this.cardService,f.Self,O.Single,!1);return new Js("Stat Upgrade",this.cardService,[i],1,1,"Your creature gains: "+this.getStatDisplay(e,t,r),!0)}getUpgradesForDeck(e){let t=[],i=this.cardService.getCards(y.any,f.Self,R.Any).filter(s=>s.upgrades.length>0&&s.level<s.maxLevel);if(0===i.length)return t;i.length<e&&(e=i.length);for(let s=0;s<e;s++){let a=i[Math.floor(Math.random()*i.length)],l=a.upgrades[Math.floor(Math.random()*a.upgrades.length)];t.includes(l)||t.push(l)}return t}getRandomUniqueUpgrades(){let e=[],t=[],r=this.cardService.getCards(y.any,f.Self,R.Creature);for(let i=0;i<r.length;i++)e.push(...r[i].upgrades);for(;t.length<3;){let i=Math.floor(Math.random()*e.length),s=e[i];if(t.includes(s)||(t.push(s),e.slice(i,1)),0===e.length||t.length>=3)break}return t}getAllUpgrades(){let e=[],t=this.getStatUpgrade(1,3,0);t.name="Shield Mate";let r=new Oe(this.cardService,O.Single,[y.play],f.Self,[C.Regenerate]);t.effects.push(r),t.description="This creature gains +1 ATK and +3 HP. This creature gains Regenerate.",e.push(t);let i=this.getStatUpgrade(0,5,0);i.name="Shield Mate";let s=new Oe(this.cardService,O.Single,[y.play],f.Self,[C.Dodge]);i.effects.push(s),i.description="This creature gains +5 HP and gains Dodge 1.",e.push(i);let o=this.getStatUpgrade(0,1,1),a=new Ma(this.cardService,1);o.effects.push(a),o.name="Wandering Priest",o.description="This creatures gain +0/+1/+1 and taps for an additional 1 life.",e.push(o);let l=this.getStatUpgrade(1,1,0);l.name="Wandering Priest",l.description="This creatures gain +1/+1/+0 and gains sentry";let c=new Oe(this.cardService,O.Single,[y.play],f.Self,[C.Sentry]);l.effects.push(c);let u=new Oe(this.cardService,O.Single,[y.play],f.Self,[C.Ensnare]),d=this.getStatUpgrade(1,0,1);d.effects.push(u),d.name="Pikeman",d.description="This creature gains +1 ATK and +1 SPD. Increase this creatures ensare amount by 1.",e.push(d);let h=this.getStatUpgrade(0,1,2);h.name="Pikeman",h.description="This creature gains +0/+1/+2",e.push(h);let p=this.getStatUpgrade(1,3,0);p.name="Ironclad Mercenary",e.push(p);let v=this.getStatUpgrade(3,1,0);v.name="Ironclad Mercenary",e.push(v);let S=this.getStatUpgrade(1,1,0);S.name="Squire",e.push(S);let M=this.getStatUpgrade(0,2,0);M.name="Squire",e.push(M);let k=this.getStatUpgrade(2,0,1);k.name="Fire Raptor",e.push(k);let E=this.getStatUpgrade(0,0,3);E.name="Fire Raptor",e.push(E);let B=this.getStatUpgrade(2,2,0),j=new Oe(this.cardService,O.Single,[y.play],f.Self,[C.Armorer]);B.effects.push(j),B.name="Troll Warrior",B.description="This creature gains +2 ATK and +2 HP. Also this creature gains Armorer.",e.push(B);let K=this.getStatUpgrade(0,3,1);K.name="Troll Warrior",e.push(K);let pe=this.getStatUpgrade(3,3,1);pe.name="Astro Owl Deer",e.push(pe);let fe=this.getStatUpgrade(2,0,3),Ce=new Oe(this.cardService,O.Single,[y.play],f.Self,[C.Flying]);fe.effects.push(Ce),fe.name="Astro Owl Deer",fe.description="This creature gains +2/+0/+3. This creature gains Flying.",fe.effects.push(Ce),e.push(fe);let Je=this.getStatUpgrade(0,5,0);Je.name="Ice Rune Wall",e.push(Je);let pt=new Ma(this.cardService,1),cn=new Js("Ice Rune Wall",this.cardService,[pt],1,1,"Ice Rune Wall draws and additional card every turn",!1);e.push(cn);let _t=this.getStatUpgrade(2,2,2),Yt=new Oe(this.cardService,O.Single,[y.play],f.Self,[C.Armorer,C.Momentum]);_t.effects.push(Yt),_t.name="King Serpent",_t.description="This creature gains +2/+2/+2. This creature gains Armorer and Momentum.",e.push(_t);let En=this.getStatUpgrade(3,0,3);En.name="King Serpent";let Dr=new Oe(this.cardService,O.Single,[y.play],f.Self,[C.Flying]);En.effects.push(Dr),En.description="This creature gains +3/+0/+3. This creature gains Flying.",e.push(En);let W=new Js("Merchant",this.cardService,[],1,1,"Merchant",!1),Q=new Ma(this.cardService,1);W.effects.push(Q),W.name="Merchant",W.description="This creatures gives you 1 extra gold per draw",e.push(W);let X=new Js("Merchant",this.cardService,[],1,1,"Merchant",!1),ve=new P(-1,0,0,0,0,0),it=new sB(this.cardService,ve,O.All,[R.Any],[y.any]);X.effects.push(it),X.description="This creatures reduces the cost of all cards by 1 gold",e.push(X);let xt=this.getStatUpgrade(1,3,0),Rt=new Oe(this.cardService,O.Single,[y.play],f.Self,[C.Regenerate]);xt.effects.push(Rt),xt.name="Deep Sea Yeti",xt.description="This creature gains +1/+3/+0 and gains Regenerate.",e.push(xt);let Zt=this.getStatUpgrade(2,0,2),Ue=new Oe(this.cardService,O.Single,[y.play],f.Self,[C.Dodge]);Zt.effects.push(Ue),Zt.name="Deep Sea Yeti",Zt.description="This creature gains +2/+0/+2 and gains Dodge 1.",e.push(Zt);let qr=this.getStatUpgrade(1,1,2);qr.name="Great Bird Monk";let nl=new Oe(this.cardService,O.Single,[y.play],f.Self,[C.Dodge]);qr.effects.push(nl),qr.description="This creature gains +1/+1/+2. This creature gains +1 Dodge.",e.push(qr);let et=this.getStatUpgrade(2,0,0);et.name="Great Bird Monk";let tr=new Oe(this.cardService,O.Single,[y.play],f.Self,[C.Sharpen]);et.effects.push(tr),et.description="This creature gains +2/+0/+0. This creature gains Sharpen.",e.push(et);let Qt=this.getStatUpgrade(1,1,1);Qt.name="Sky Knight",e.push(Qt);let Kr=this.getStatUpgrade(0,2,0);Kr.name="Sky Knight";let rl=new Oe(this.cardService,O.Single,[y.play],f.Self,[C.Sentry]);Kr.effects.push(rl),Kr.description="This creature gains +0/+2/+0. This creature gains Sentry.",e.push(Kr);let Jg=this.getStatUpgrade(2,0,2),q5=new Oe(this.cardService,O.Single,[y.play],f.Self,[C.Flying,C.Ambush]);Jg.effects.push(q5),Jg.name="Thunder Dancer",e.push(Jg);let x1=this.getStatUpgrade(3,0,0);x1.name="Thunder Dancer",e.push(x1);let Zu=this.getStatUpgrade(2,2,1),K5=new Oe(this.cardService,O.Single,[y.play],f.Self,[C.Sentry]);Zu.effects.push(K5),Zu.name="Battle Dwarf",Zu.description="This creature gains +2/+2/+1. This creature gains Sentry.",e.push(Zu);let Qu=this.getStatUpgrade(0,4,0);Qu.name="Battle Dwarf";let Y5=new Oe(this.cardService,O.Single,[y.play],f.Self,[C.Dodge]);Qu.effects.push(Y5),Qu.description="This creature gains +0/+4/+0. This creature gains Dodge 1.",e.push(Qu);let Xu=this.getStatUpgrade(1,1,0),Z5=new Oe(this.cardService,O.Single,[y.play],f.Self,[C.Repair]);Xu.effects.push(Z5),Xu.name="Dwarf Engineer",Xu.description="This creature gains +1/+1/+0. This creature gains +1 Repair.",e.push(Xu);let Ju=this.getStatUpgrade(0,2,0);Ju.name="Dwarf Engineer";let Q5=new Oe(this.cardService,O.Single,[y.play],f.Self,[C.Medic]);Ju.effects.push(Q5),Ju.description="This creature gains +0/+2/+0 and gains Medic.",e.push(Ju);let R1=this.getStatUpgrade(1,1,1);R1.name="Dwarf Cadet",e.push(R1);let N1=this.getStatUpgrade(2,2,-2);N1.name="Dwarf Cadet",e.push(N1);let O1=this.getStatUpgrade(1,2,0);O1.name="Prospector",e.push(O1);let F1=this.getStatUpgrade(2,3,-3);F1.name="Prospector",e.push(F1);let ed=this.getStatUpgrade(2,1,1);ed.name="Verdant Warrior";let X5=new Ma(this.cardService,1);ed.effects.push(X5),ed.description="This creature gains +2/+1/+1 and grants an additional Emerald on enter.",e.push(ed);let em=this.getStatUpgrade(1,3,0);em.name="Verdant Warrior";let J5=new Oe(this.cardService,O.Single,[y.play],f.Self,[C.Dodge]);em.effects.push(J5),e.push(em);let td=this.getStatUpgrade(2,0,1),ez=new Ma(this.cardService,1);td.effects.push(ez),td.name="Loyal Hawk",td.description="This creature gains +2/+0/+1. Loyal Hawk draws a card on enter.",e.push(td);let L1=this.getStatUpgrade(0,0,5);return L1.name="Loyal Hawk",e.push(L1),e}getUpgradeByName(e){return this.getAllUpgrades().find(i=>i.name===e)||null}getAllUpgradesForCard(e){let r=[];return r=this.getAllUpgrades().filter(i=>i.name===e),r}}class ru{constructor(e){this.enemyDeck=[],this.difficulty=0,this.description="",this.cardService=e}applyDifficultyNormalBoosters(e,t){for(let r=0;r<t.length;r++){let i=t[r],s=Ye(1,e);for(;i.level<s;)i.applyRandomUpgrade(s),i.level++}}applyDifficultyBossBoosters(e,t){for(let r=0;r<e;r++)switch(Ye(1,7)){case 1:this.extraPull(),this.description+="Every turn, the enemy flips over cards a second time. ";break;case 2:this.moreSpeed(this.difficulty),this.description+="All enemy creatures get +2 speed. ";break;case 3:this.moreAttack(this.difficulty),this.description+="All enemy creatures get +2 attack. ";break;case 4:this.moreHp(this.difficulty),this.description+="All enemy creatures get +2 HP. ";break;case 5:this.moreMinions(2*this.difficulty,t),this.description+="The enemy deck has more minions. ";break;case 6:this.addBoss(4,t),this.description+="The enemy deck has 4 extra elite creatures. ";break;case 7:this.addRandomKeyword(),this.description+="Enemy creatures all have a random extra keyword. "}this.cardService.difficultyMods=this.description}extraPull(){this.cardService.playerService.opponent.pullsPerTurn++}moreSpeed(e){let t=this.cardService.getCards(y.any,f.Opponent,R.Creature);for(let r=0;r<t.length;r++)t[r].speed+=e}moreAttack(e){let t=this.cardService.getCards(y.any,f.Opponent,R.Creature);for(let r=0;r<t.length;r++)t[r].attack+=e}moreHp(e){let t=this.cardService.getCards(y.any,f.Opponent,R.Creature);for(let r=0;r<t.length;r++){let i=t[r];i.baseHp+=e,i.hp=i.baseHp}}addBoss(e,t){let r=new mr(this.cardService);for(let i=0;i<e;i++){let s=Ye(5,8),o=r.generateAiMinion(t,s,y.deck);o.isMinion=!1,o.name="Elite",o.owner=f.Opponent,this.cardService.cardList.push(o)}}moreMinions(e,t){let r=new mr(this.cardService);for(let i=0;i<e;i++){let s=Ye(0,5+this.difficulty),o=r.generateAiBasicMinion(t,s,y.deck);o.owner=f.Opponent,this.cardService.cardList.push(o)}}addRandomKeyword(){let e=this.cardService.getCards(y.any,f.Opponent,R.Creature);for(let t=0;t<e.length;t++){let r=Ye(0,15),i=e[t];i.keywords.includes(r)||i.keywords.push(r)}}}class vr{constructor(e){this.cardAmount=4,this.colorCardAmount=2,this.mineAmount=4,this.goldMineAmount=3,this.cardService=e,this.cardFactory=new mr(e),this.upgradeStorage=new Fp(e)}addMinesToStarterDeck(e,t){this.cardFactory.getMinesBulk(t,5),this.cardFactory.getMinesBulk(T.Gold,4)}getAllMultiColorCards(e){let t=[],r=new V(5,4,3,"Veteran Dwarf",new P(1,1,1),"","",!1,e,y.deck,[D.Earth,D.Sun],[],[C.Armorer]);return t.push(r),t}getAllFireCards(e){let t=this.fireDeck(e).filter(_t=>_t.type!==R.Mine),r=new V(5,5,2,"Troll Warrior",new P(0,3),"assets//troll.png","",!1,e,y.deck,[D.Sun],[],[C.Regenerate]),i=new Qn(T.Ruby,2,this.cardService),s=new Fe([i],[H.Dies],this.cardService,e),o=new V(1,3,3,"Fire Gem Miner",new P(1,1),"","When this dies, add 2 Rubies to your gembag",!1,e,y.deck,[D.Sun],[s]),a=new V(5,10,7,"T-Rex",new P(5,2),"","",!1,e,y.deck,[D.Sun],[],[C.Siege]),l=new V(3,4,4,"Sun Knight",new P(2,1),"assets//fireKnight.png","",!1,e,y.deck,[D.Sun],[],[C.Sentry,C.Sharpen]),c=new Qs(7,this.cardService,O.All,e,Ys.toggleController(e),!1,!1,!0),u=new Ve([c],this.cardService),d=new Ze("Wild Inferno",new P(5,2),"","Deal 7 damage to all enemy creatures",[u],!0,e,y.deck,[D.Sun]),h=new Cn("Big Ruby Mine",new P(3),new P(0,2),"","",e,y.deck,[D.Colorless],[],ge.Uncommon),p=new Qs(2,this.cardService,O.All,e,Ys.toggleController(e),!1,!0,!1),v=new Ve([p],this.cardService),S=new Ze("Fire Storm",new P(3,1),"","Deal 2 damage to all enemy creatures",[v],!0,e,y.deck,[D.Sun]);t.push(r,o,a,l,d,h,S);let M=new De(0,1,0,this.cardService,f.Self,O.Single),k=new Fe([M],[H.CreatureCast],this.cardService,f.Self,[y.play]),E=new V(1,1,5,"Arsonist",new P(0,1),"","When you play a creature, that creature gets +1/+0/+0",!1,e,y.deck,[D.Sun],[k]);t.push(E);let B=new g0(this.cardService,2,f.Opponent),j=new bt(this.cardService,[new It(Pe.Gems,1,T.Ruby)],[B],{}),K=new V(2,2,3,"Fire Mage",new P(1,1),"","Pay 1 Ruby: Deal 2 damage to the enemy player",!1,e,y.deck,[D.Sun],[j]);j.user=K,t.push(K);let pe=new De(0,0,2,this.cardService,f.Self,O.Single);pe.repeatable=!0;let fe=new bt(this.cardService,[new It(Pe.Gems,2,T.Ruby)],[pe],{}),Ce=new V(6,6,6,"Ruby Dragon",new P(3,2),"assets//dragon.png","Pay 2 Rubies: This creature gets +2 attack",!1,e,y.deck,[D.Sun],[],[C.Flying]);fe.user=Ce,Ce.abilities.push(fe);let Je=new Qs(1,this.cardService,O.Single,e,Ys.toggleController(e),!1,!0,!0),pt=new bt(this.cardService,[new It(Pe.Asleep,0)],[Je],{},!0),cn=new V(1,1,1,"Fire Imp",new P(0,1),"","Turn: Deal 1 damage to any creature",!1,e,y.deck,[D.Sun],[pt]);return t.push(cn),t.push(Ce),t}getAllEarthCards(e){let t=new De(0,5,3,this.cardService,e,O.All),r=new Ve([t],this.cardService),i=new Ze("Dig In",new P(2,0,0,2),"","All your creatures gain +3/+5/+0",[r],!1,e,y.deck,[D.Earth]),s=this.earthDeck(e).filter(Dr=>Dr.type!==R.Mine),o=new V(15,15,2,"Stone Tyrant",new P(5,0,0,3),"","",!1,e,y.deck,[D.Earth],[],[C.Repair],!1,ge.Rare);o.repairAmount=5;let a=new p0(this.cardService,T.Emerald),l=new wn(this.cardService,O.Single,e),c=new Fe([l,a],[H.Start],this.cardService,f.Self,[y.play]),u=new V(3,3,3,"Miner Major",new P(3,0,0,2),"","At the start of each turn, add a mine and draw a card",!1,e,y.deck,[D.Earth],[c],[],!1,ge.SuperRare),d=new V(20,0,0,"Sturdy Barricade",new P(2,0,0,2),"","",!1,e,y.deck,[D.Earth]),h=new V(8,4,2,"Flex Tank",new P(0,0,0,4),"","",!1,e,y.deck,[D.Earth],[],[C.Siege,C.Armorer,C.Repair]);h.repairAmount=4;let p=new V(6,6,5,"Hammer Squad",new P(3,0,0,1),"","",!1,e,y.deck,[D.Earth],[],[C.Siege]),v=new De(0,2,0,this.cardService,f.Self,O.All),S=new Xe([v],this.cardService),M=new V(9,6,4,"Master Armorer",new P(5,0,0,2),"","All your creatures get +0/+2/+0",!1,f.Self,y.deck,[D.Earth],[S]),k=new V(3,3,3,"Dwarf Cadet",new P(1,0,0,1),"assets//dwarf soldier.png","",!1,e,y.deck,[D.Earth]),E=new Cn("Big Emerald Mine",new P(2),new P(0,0,0,2),"","",e,y.deck,[D.Colorless],[],ge.Uncommon),B=new De(1,1,1,this.cardService,e,O.Single,!1,!0),j=new Fe([B],[H.Enters],this.cardService,e,[y.play]),K=new V(3,1,1,"Mine Chief",new P(2,0,0,1),"","Gets +1/+1/+1 when you play a mine",!1,e,y.hand,[D.Earth],[j],[],!1,ge.Rare),pe=new Qn(T.Emerald,1,this.cardService),fe=new bt(this.cardService,[new It(Pe.Asleep,1)],[pe],{}),Ce=new V(3,1,1,"Emerald Miner",new P(0,0,0,1),"","Turn: Add an Emerald to your gembag",!1,e,y.deck,[D.Earth],[fe]);fe.user=Ce;let Je=new De(0,0,2,this.cardService,e,O.Single),pt=new bt(this.cardService,[new It(Pe.Gems,1,T.Emerald)],[Je],{},!0),cn=new V(2,2,2,"Dwarf Shield",new P(1,0,0,1),"","",!1,e,y.deck,[D.Earth],[pt],[C.Armorer,C.Repair]);pt.user=cn;let _t=new De(-3,3,3,this.cardService,e,O.Single,!1,!0),Yt=new ln([R.Creature],e,[y.play],1,[_t],this.cardService),En=new Ze("Stone Form",new P(0,0,0,1),"assets//stone form.png","Target creature gets +3/+3/-3",[Yt],!0,e,y.deck,[D.Earth]);return s.push(En),s.push(u,o,d,h,p,M,k,E,K,i,Ce,cn),s}getAllAirCards(e){let t=[],r=new Oe(this.cardService,O.All,[y.play],e,[C.Flying,C.Sentry]),i=new De(2,0,2,this.cardService,e,O.All),s=new Ve([r,i],this.cardService),o=new Ze("Divine Wind",new P(3,0,0,0,0,2),"","All your creatures gain flying, sentry, and +2/+0/+2",[s],!1,e,y.deck,[D.Sky]),a=new V(3,5,5,"Air Elemental",new P(3,0,0,0,0,1),"","",!1,e,y.deck,[D.Sky],[],[C.Flying]),l=new V(1,1,1,"Bee Swarm",new P(0,0,0,0,0,3),"","At the start of each of your turns, this gains +1/+1/+1",!1,e,y.deck,[D.Sky],[],[C.Armorer,C.Momentum,C.Sharpen,C.Flying,C.Sentry]),c=new V(2,2,2,"Chaotic Clone",new P(4,0,0,0,0,1),"","At the start of each of your turns, make a copy of this creature",!1,e,y.deck,[D.Sky]),u=new Jc(e,this.cardService,c),d=new Fe([u],[H.Start],this.cardService,e,[y.play]),h=new V(2,2,2,"Chaotic Clone",new P(4,0,0,0,0,1),"","At the start of each of your turns, make a copy of this creature",!1,e,y.deck,[D.Sky],[d]);c.abilities.push(d);let p=new Cn("Big Topaz Mine",new P(3),new P(0,0,0,0,0,2),"","",e,y.deck,[D.Colorless],[],ge.Uncommon),v=new wn(this.cardService,O.Single,e,1),S=new De(0,1,1,this.cardService,f.Any,O.Single),M=new Fe([S],[H.DrawCard],this.cardService,e,[y.play]),k=new bt(this.cardService,[new It(Pe.Asleep,1)],[v],{}),E=new V(2,2,2,"Air Scout",new P(2,0,0,0,0,1),"","Turn: Draw a card. Whenever you draw a card this creature gets +1/+0/+1",!1,e,y.deck,[D.Sky],[M,k],[C.Flying],!1,ge.Rare);k.user=E;let B=new De(2,0,2,this.cardService,e,O.Single,!1,!0),j=new Oe(this.cardService,O.Single,[y.play],e,[C.Flying]),K=new ln([R.Creature],e,[y.play],1,[B,j],this.cardService),pe=new Ze("Gust",new P(0,0,0,0,0,1),"assets//gust.png","Target creature gets +2/+0/+2 and gains Flying",[K],!0,e,y.deck,[D.Sky]);return t.push(pe),t.push(...this.airDeck(e),l,h,p,o,a,E),t}getAllWaterCards(e){let t=[];t.push(...this.waterDeck(e));let r=new V(3,1,1,"Sea Snail",new P(0,0,1),"","",!1,e,y.deck,[D.Neptune],[],[C.Ensnare]);r.ensnareAmount=2;let i=new wn(this.cardService,O.Single,f.Self,1),s=new Fe([i],[H.MineCase],this.cardService,e,[y.play]),o=new V(3,2,3,"Otter Diver",new P(3,0,1),"","Whenever you play a mine, draw a card",!1,e,y.deck,[D.Neptune],[s]),a=new Cn("Big Sapphire Mine",new P(3),new P(0,0,0,0,0,2),"","",e,y.deck,[D.Colorless],[],ge.Uncommon),l=new De(0,0,-5,this.cardService,f.Any,O.All),c=new Ve([l],this.cardService),u=new Ze("Mass Freeze",new P(3,0,1),"","All enemy creatures gets -5/-0/-0",[c],!0,e,y.deck,[D.Neptune]),d=new De(1,1,1,this.cardService,e,O.Single),h=new Fe([d],[H.DrawCard],this.cardService,e,[y.play]),p=new V(2,2,2,"Flooding Fish",new P(1,0,1),"","Whenever you draw a card, this creature gets +1/+1/+1",!1,e,y.deck,[D.Neptune],[h]);return t.push(p),t.push(r,o,a,u),t}getAllStarCards(e){let r,t=[];r=e===f.Self?f.Opponent:f.Self;let i=new Xs(this.cardService,1,e),s=new Fe([i],[H.CreatureCast,H.Start],this.cardService,e,[y.play]),o=new V(1,1,1,"Life Magician",new P(0,0,0,0,1),"","At the start of your turn, gain 1 life. Whenever you play a creature, gain 1 life",!1,e,y.deck,[D.MoonAndStars],[s]),a=new Xs(this.cardService,3,e),l=new wn(this.cardService,O.Single,e,3),c=new Ve([a,l],this.cardService),u=new Ze("Divine Eyes",new P(3,0,0,0,1),"assets//divine eyes.png","Draw 3 cards, gain 3 life",[c],!1,e,y.deck,[D.MoonAndStars]),d=new De(1,1,1,this.cardService,f.Any,O.Single),h=new Fe([d],[H.Dies],this.cardService,f.Any,[y.play]),p=new V(2,2,2,"Walker of Voids",new P(1,0,0,0,2),"","Whenever a creature dies, this creature gets +1/+1/+1 permanently",!1,e,y.deck,[D.MoonAndStars],[h]),v=new wn(this.cardService,O.Single,e,4),S=new Xs(this.cardService,4,e),M=new Qn(T.LionEye,4,this.cardService),k=new V(1,1,1,"Star Sprite",new P(0,0,0,0,1),"","",!1,e,y.deck,[D.MoonAndStars],[],[C.Flying,C.Sharpen]),E=new Jc(e,this.cardService,k,4),B=new Ve([v,S,M,E],this.cardService),j=new V(5,6,6,"Astro Owl Deer",new P(3,0,0,0,3),"assets//astro owl deer.png","When this creature is played gain 4 life, draw 4 cards, and play 4 1/1/1 spirtes with sharpen and momentum",!1,e,y.deck,[D.MoonAndStars],[B],[C.Sentry,C.Sharpen,C.Momentum]),K=new Qn(T.Gold,1,this.cardService),pe=new Fe([K],[H.Dies],this.cardService,f.Any,[y.play]),Ce=(new oB("House of the Dead",new P(2,0,0,0,2),"","Whenever a creature dies gain 1 gold",e,y.hand,[D.Colorless],[pe]),new Cn("Big LionsEye Mine",new P(3),new P(0,0,0,0,2,0),"","",e,y.deck,[D.Colorless],[],ge.Uncommon));return t.push(...this.starDeck(e),o,u,p,j,Ce),t}fireDeck(e){let t=[],r=0;for(;r<this.colorCardAmount;){let i=new V(5,5,4,"Great Dragon",new P(3,2,0,0,0,0),"assets//dragon.png","",!1,e,y.deck,[D.Sun],[],[C.Sharpen,C.Flying]),s=new g0(this.cardService,3,f.Opponent),o=new Ve([s],this.cardService),a=new V(1,3,3,"Blast Boy",new P(1,1),"","When played, deal 3 damage to the enemy player",!1,f.Self,y.deck,[D.Sun],[o]),l=new Qs(3,this.cardService,O.Single,e,e,!1,!1,!0),c=new ln([R.Creature],e,[y.play],1,[l],this.cardService),u=new Ze("Fire Bolt",new P(0,1),"assets//fireBolt.png","3 damage to target creature",[c],!0,e,y.deck,[D.Sun],e),d=new V(3,4,5,"Fire Raptor",new P(2,1),"assets//fire raptor.png","",!0,e,y.deck,[D.Sun]),h=new De(2,0,2,this.cardService,e,O.Single,!1,!0),p=new rB(this.cardService,e,O.Single),v=new ln([R.Creature],e,[y.play],1,[h,p],this.cardService),S=new Ze("Haste",new P(0,2),"assets//haste.png","Target creature gets +2/+0/+2 ",[v],!0,e,y.deck,[D.Sun]),M=new De(0,0,1,this.cardService,f.Self,O.Single),k=new bt(this.cardService,[new It(Pe.Gems,1,T.Ruby)],[M],{},!0),E=new V(3,6,6,"Fire Elemental",new P(5,1),"assets//fire elemental.png","Pay one Ruby: gain +1/+0/+0",!1,f.Self,y.deck,[D.Sun],[k],[C.Momentum,C.Sharpen]),B=new Qn(T.Ruby,1,this.cardService),j=new Fe([B],[H.Start],this.cardService,f.Self,[y.play]),K=new V(1,1,1,"Fire Scavenger",new P(0,1),"","Gain 1 ruby per turn",!1,e,y.deck,[D.Sun],[j]);t.push(i,d,E,K,a,S,u),r++}return t.push(...this.cardFactory.getMinesBulk(T.Ruby,this.mineAmount)),t.push(...this.cardFactory.getMinesBulk(T.Gold,this.goldMineAmount)),t}earthDeck(e){let t=0,r=[];for(;t<this.colorCardAmount;){let i=new De(-3,-3,0,this.cardService,e,O.Single,!1,!0,f.Any),s=new ln([R.Creature],f.Any,[y.play],1,[i],this.cardService),o=new Ze("Slow",new P(1,0,0,1),"assets//slow.png","Target creature gets -0/-3/-3",[s],!0,e,y.deck,[D.Earth]),a=new Qn(T.Emerald,2,this.cardService),l=new Ve([a],this.cardService),c=new V(3,4,3,"Verdant Warrior",new P(2,0,0,1),"assets//verdant warrior.png","Adds 2 Emeralds on enter",!1,e,y.deck,[D.Earth],[l]),u=new V(2,2,1,"Dwarf Engineer",new P(0,0,0,1),"assets//engineer.png","",!1,e,y.deck,[D.Earth],[],[C.Repair]);u.repairAmount=3;let d=new V(6,6,3,"Battle Dwarf",new P(2,0,0,2,0,0),"assets//dwarf.png","",!1,e,y.deck,[D.Earth],[]),h=new V(7,8,4,"Stone Golem",new P(3,0,0,3),"","",!1,e,y.deck,[D.Earth],[],[C.Regenerate,C.Siege]),p=new iB(this.cardService,1),v=new Ve([p],this.cardService),S=new V(4,2,2,"Prospector",new P(2,0,0,1),"assets//prospector.png","You may play one additional mine per turn",!1,e,y.deck,[D.Earth],[v]);r.push(o,c,u,d,h,S),t++}return r.push(...this.cardFactory.getMinesBulk(T.Emerald,this.mineAmount)),r.push(...this.cardFactory.getMinesBulk(T.Gold,this.goldMineAmount)),r}airDeck(e){let t=0,r=[];for(;t<this.colorCardAmount;){let i=new wn(this.cardService,O.Single,e,1),s=new Ve([i],this.cardService),o=new V(1,2,2,"Loyal Hawk",new P(1,0,0,0,0,1),"","On Enter, Draw a card",!1,e,y.deck,[D.Sky],[s],[C.Flying]),a=new V(2,2,1,"Agile Monk",new P(0,0,0,0,0,1),"","",!1,e,y.deck,[D.Sky],[],[]);a.dodgeAmount=1;let l=new wn(this.cardService,O.Single,e,2),c=new Ve([l],this.cardService),u=new Ze("Scout",new P(0,0,0,0,0,2),"assets//scout.png","Draw 2 cards",[c],!1,e,y.deck,[D.Sky]),d=new V(5,5,4,"Great Bird Monk",new P(2,0,0,0,0,2),"assets//bird monk.png","Flying",!1,e,y.deck,[D.Sky],[],[C.Flying]),h=new V(2,3,3,"Sky Knight",new P(1,0,0,0,0,1),"assets//sky knight.png","Flying",!1,e,y.deck,[D.Sky],[],[C.Flying]),p=new V(2,4,4,"Thunder Dancer",new P(2,0,0,0,0,1),"assets//wind dancer.png","",!1,e,y.deck,[D.Sky],[],[C.Momentum]);r.push(o,a,u,d,h,p),t++}return r.push(...this.cardFactory.getMinesBulk(T.Topaz,this.mineAmount)),r.push(...this.cardFactory.getMinesBulk(T.Gold,this.goldMineAmount)),r}waterDeck(e){let t=0,r=[];for(;t<this.colorCardAmount;){let i=new De(-3,0,-3,this.cardService,e,O.Single,!1,!1,f.Opponent),s=new ln([R.Creature],e,[y.play],1,[i],this.cardService),o=new Ze("Freeze",new P(0,0,1),"assets//freeze.png","Target creature gets -3/-0/-3",[s],!0,Ys.toggleController(e),y.deck,[D.Neptune]),a=new wn(this.cardService,O.Single,e,1),l=new Fe([a],[H.Start],this.cardService,e),c=new V(15,0,3,"Ice Rune Wall",new P(2,0,1),"assets//ice rune wall 2.png","Draw a card at the start of each of your turns",!1,e,y.deck,[D.Neptune],[l]),u=new m0(this.cardService,f.Self,O.All),d=new Ve([u],this.cardService),h=new V(4,3,2,"Aqua Healer",new P(1,0,1),"","On enter, heal all of your creatures, fast - may be played at any time",!0,f.Self,y.deck,[D.Neptune],[d]),p=new V(6,6,6,"King Serpent",new P(4,0,2),"assets//serpent.png","",!1,f.Self,y.deck,[D.Neptune],[],[C.Regenerate]),v=new V(5,3,3,"Deep Sea Yeti",new P(1,0,2),"assets//yeti.png","",!1,f.Self,y.deck,[D.Neptune],[],[C.Siege]),S=new p0(this.cardService,T.Sapphire),M=new Ve([S],this.cardService),k=new V(3,2,2,"Fish Man",new P(1,0,1),"","On enter, add a Sapphire mine",!1,f.Self,y.deck,[D.Neptune],[M]),E=new m0(this.cardService,e,O.Single),B=new De(0,1,0,this.cardService,e,O.Single);B.repeatable=!0;let j=new bt(this.cardService,[new It(Pe.Gems,2,T.Sapphire)],[B,E],{}),K=new V(5,4,4,"Water Guardian",new P(2,0,2),"","Pay 2 Sapphires: Increase this creature's HP by 1 and heal it to full health",!1,e,y.deck,[D.Neptune],[j]);j.user=K,r.push(K),r.push(o,c,h,p,v,k),t++}return r.push(...this.cardFactory.getMinesBulk(T.Sapphire,this.mineAmount)),r.push(...this.cardFactory.getMinesBulk(T.Gold,this.goldMineAmount)),r}starDeck(e){let t=0,r=[];for(;t<this.colorCardAmount;){let i=new De(-2,-2,0,this.cardService,f.Any,O.All),s=new Ve([i],this.cardService),o=new Ze("Cull the Weak",new P(1,0,0,0,2),"assets//cull the weak.png","All creatures get -0/-2/-2",[s],!1,e,y.deck,[D.MoonAndStars]);r.push(o);let a=new f0(this.cardService,e,O.Single,[R.Creature]),l=new ln([R.Creature],e,[y.play],1,[a],this.cardService),c=new Ze("Death Beam",new P(0,0,0,0,2,0),"assets//death beam.png","Kill Target Creature an opponent controls",[l],!0,e,y.deck,[D.MoonAndStars]),u=new f0(this.cardService,f.Any,O.All,[R.Creature]),d=new Ve([u],this.cardService),h=new Ze("Wrath of the Stars",new P(3,0,0,0,2),"assets//wrath of the stars.png","Destroy all creatures",[d],!1,e,y.deck,[D.MoonAndStars]),p=new V(1,1,3,"Wolf of the Stars",new P(0,0,0,0,1),"","Gain +1/+1/+0 each turn",!1,e,y.deck,[D.MoonAndStars],[],[C.Armorer,C.Sharpen]),v=new V(4,4,0,"Moon Healer",new P(2,0,0,0,1),"","Medic - Heal all other units you control at the start of your turn.",!1,e,y.deck,[D.MoonAndStars],[],[C.Medic]),S=new V(3,2,4,"Comet Trooper",new P(0,0,0,0,2),"assets//comet trooper.png","Flying",!1,e,y.deck,[D.MoonAndStars],[],[C.Flying]),M=new V(2,2,2,"Time Sprite",new P(1,0,0,0,1),"","Flying. Gain +1/+1/+1 at the start of your turn.",!1,e,y.any,[D.MoonAndStars],[],[C.Armorer,C.Sharpen,C.Momentum,C.Flying],!0),k=new Jc(e,this.cardService,M,3),E=new Oe(this.cardService,O.All,[y.play],e,[C.Armorer,C.Sharpen,C.Momentum]),B=new Ve([k,E],this.cardService),j=new Ze("Summon Star Squad",new P(1,0,0,0,4),"","Summon 3 2/2/2 sprites. All creatures you control gain +1/+1/+1 at the start of each of your turns.",[B],!1,e,y.deck,[D.MoonAndStars]);r.push(c,p,v,S,j,h),t++}return r.push(...this.cardFactory.getMinesBulk(T.LionEye,this.mineAmount)),r.push(...this.cardFactory.getMinesBulk(T.Gold,this.goldMineAmount)),r}getAllNeutralCards(e){let t=[],r=new Xs(this.cardService,1,e),i=new It(Pe.Asleep,1),s=new It(Pe.Gems,1,T.Gold),o=new bt(this.cardService,[i,s],[r],{}),a=new V(1,3,3,"Wandering Priest",new P(2,0,0,0,0),"","Pay 1 gold and turn to gain 1 life",!1,e,y.deck,[D.Colorless],[o]);o.user=a;let l=new V(6,3,4,"Shield Mate",new P(3,0,0,0,0,0),"assets//shieldmate.png","",!1,e,y.deck,[D.Colorless],[],[C.Sentry]),c=new De(1,1,1,this.cardService,e,O.Single);c.repeatable=!0;let u=new Fe([c],[H.DrawCard],this.cardService,e,[y.play]),d=new V(2,2,2,"Flooding Fish",new P(1,0,1),"","Whenever you draw a card, this creature gets +1/+1/+1",!1,e,y.deck,[D.Neptune]);d.abilities.push(u);let h=new Qn(T.Gold,1,this.cardService),p=new Fe([h],[H.DrawCard],this.cardService,e,[y.play]),v=new V(1,1,1,"Merchant",new P(2),"assets//merchant.png","Whenever you draw a card, gain 1 gold",!1,e,y.deck,[D.Colorless],[p]);return t.push(v),t.push(...this.neutralCards(e),l,a,d),t}getRandomCards(e,t){let r=[];for(let i=0;i<t;i++){let s=Ye(0,e.length);r.push(e[s])}return r}getRandomNeutralCards(e){let t=this.getAllNeutralCards(e),r=new wn(this.cardService,O.Single,e,2),i=new Ve([r],this.cardService),s=new Ze("Find Loot",new P(3),"","Draw 2 cards",[i],!1,e,y.deck,[D.Colorless]),o=this.getRandomCards(t,2),a=[];return a.push(s,...o),a}neutralCards(e){let t=[],r=0;for(;r<this.cardAmount;){let i=new Qs(2,this.cardService,O.Single,e,f.Opponent),o=(new ln([R.Creature],f.Any,[y.play],1,[i],this.cardService),new wn(this.cardService,O.Single,e,2)),a=new Ve([o],this.cardService),l=new Ze("Find Loot",new P(3),"assets//find loot.png","Draw 2 cards",[a],!1,e,y.deck,[D.Colorless]),c=new V(3,3,2,"Pikeman",new P(2),"assets//pikeman.png","",!1,e,y.deck,[D.Colorless],[],[C.Sentry,C.Ensnare]);c.ensnareAmount=2;let u=new V(7,7,2,"Ironclad Mercenary",new P(4),"assets//Ironclad.png","",!1,e,y.deck,[D.Colorless],[],[]),d=new V(2,2,2,"Squire",new P(1),"assets//squire.png","",!1,e,y.deck,[D.Colorless],[]),h=new Ve([new Qn(T.Gold,2,this.cardService)],this.cardService),p=new Cn("Big Mine",new P(4),new P(2),"","Gain 2 gold on enter",e,y.deck,[D.Colorless],[h],ge.Uncommon),v=new Xs(this.cardService,1,e),S=new It(Pe.Asleep,1),M=new It(Pe.Gems,1,T.Gold),k=new bt(this.cardService,[S,M],[v],{}),E=new V(3,1,3,"Wandering Priest",new P(2,0,0,0,0),"","Pay 1 gold and turn to gain 1 life",!1,e,y.deck,[D.Colorless],[k]);k.user=E,t.push(l,c,d,p,u),r++}return t}getEnemyDeck(e,t,r){void 0===r&&(r=[T.Emerald,T.Ruby,T.LionEye,T.Sapphire,T.Topaz,T.Gold][Math.floor(5*Math.random())]);let i=[];void 0===t&&(t=0);let s=new ru(this.cardService);switch(r){case T.Gold:i.push(...this.neutralCards(f.Opponent));break;case T.Emerald:i.push(...this.earthDeck(f.Opponent));break;case T.Ruby:i.push(...this.fireDeck(f.Opponent));break;case T.LionEye:i.push(...this.starDeck(f.Opponent));break;case T.Sapphire:i.push(...this.waterDeck(f.Opponent));break;case T.Topaz:i.push(...this.airDeck(f.Opponent))}let o=1;for(;o<e+1;){let a=this.cardFactory.generateAiBasicMinion(r,o,y.deck),l=this.cardFactory.generateAiMinion(r,o+1,y.deck);i.push(a,l),o++}for(let a=0;a<i.length;a++)i[a].owner=f.Opponent;i=i.filter(a=>a.type!==R.Mine),i=i.filter(a=>a.type!==R.Building),i.push(this.getCardByName("Find Loot",f.Opponent));for(let a=0;a<2*e;a++){let l=this.getCardByName("Death Beam",f.Opponent),c=this.getCardByName("Cull the Weak",f.Opponent);i.push(l,c)}return s.applyDifficultyNormalBoosters(e+1,i),this.cardService.shuffleDeck(i),i}getAllCards(e){let t=[];return t.push(...this.getAllFireCards(e)),t.push(...this.getAllEarthCards(e)),t.push(...this.getAllStarCards(e)),t.push(...this.getAllWaterCards(e)),t.push(...this.getAllAirCards(e)),t.push(...this.getAllNeutralCards(e)),this.fillInUpgrades(t),t}getRandomFactionCards(e){const t=[this.getAllFireCards,this.getAllEarthCards,this.getAllStarCards,this.getAllWaterCards,this.getAllAirCards];return t[Math.floor(Math.random()*t.length)].call(this,e)}getStarterDeck(e,t){let r=[];r.push(...this.getAllNeutralCards(e));for(let i=0;i<t.length;i++)switch(t[i]){case D.Any:r.push(...this.getAllCards(e));break;case D.Sun:r.push(...this.getAllFireCards(e));break;case D.Earth:r.push(...this.getAllEarthCards(e));break;case D.MoonAndStars:r.push(...this.getAllStarCards(e));break;case D.Neptune:r.push(...this.getAllWaterCards(e));break;case D.Sky:r.push(...this.getAllAirCards(e))}return r}getCardByName(e,t){let i=["Death Beam","Slow"],s=this.getAllCards(t).find(o=>o.name.toLowerCase()===e.toLowerCase());if(void 0!==s&&t===f.Opponent&&s.type===R.Spell)for(let o=0;o<s.abilities.length;o++){let a=s.abilities[o];if(a instanceof ln){let c=new Rp(a.effects,this.cardService,a.allowedTargets,a.allowedZones,f.Opponent);c.targeting.controller=i.includes(s.name)?f.Self:f.Opponent,s.abilities[o]=c}}return s}getHeroDeck(e){let t=[];switch(e.name){case"Solara the Radiant":t.push(...this.getSolaraDeck());break;case"Ser Grimith the bland":t.push(...this.getGrimithDeck());break;case"Bis Bis, King of the Fish People":t.push(...this.getLunaraDeck());break;case"King Aves":t.push(...this.getAvesDeck());break;case"Terra the Grounded":t.push(...this.getTerraDeck());break;case"Swift Wing, Single Bee Swarm":t.push(...this.getBuckDeck());break;case"Mystic with No Name":t.push(...this.getMysticDeck())}return t}getMysticDeck(){let e=[];for(let r=0;r<this.cardAmount;r++){let i=this.getCardByName("Fire Bolt",f.Self);e.push(i);let s=this.getCardByName("Fire Elemental",f.Self);e.push(s);let o=this.getCardByName("Haste",f.Self);e.push(o);let a=this.getCardByName("Freeze",f.Self);e.push(a);let l=this.getCardByName("Death Beam",f.Self);e.push(l);let c=this.getCardByName("Merchant",f.Self);e.push(c);let u=this.getCardByName("Find Loot",f.Self);e.push(u);let d=this.getCardByName("Ice Rune Wall",f.Self);e.push(d);let h=this.getCardByName("Divine Eyes",f.Self);e.push(h);let p=this.getCardByName("King Serpent",f.Self);e.push(p)}let t=[];return t.push(...this.cardFactory.getMinesBulk(T.Gold,2)),t.push(...this.cardFactory.getMinesBulk(T.LionEye,2)),t.push(...this.cardFactory.getMinesBulk(T.Sapphire,2)),t.push(...this.cardFactory.getMinesBulk(T.Ruby,2)),t.push(...this.cardFactory.generateMultiColorMinesBulk(T.LionEye,T.Ruby,2)),t.push(...this.cardFactory.generateMultiColorMinesBulk(T.Sapphire,T.LionEye,2)),t.push(...this.cardFactory.generateMultiColorMinesBulk(T.Sapphire,T.Ruby,2)),e.push(...t),e}getBuckDeck(){let e=[];for(let r=0;r<this.cardAmount;r++){let i=this.getCardByName("Stone Form",f.Self);e.push(i);let s=this.getCardByName("Loyal Hawk",f.Self);e.push(s);let o=this.getCardByName("Scout",f.Self);e.push(o);let a=this.getCardByName("Prospector",f.Self);e.push(a);let l=this.getCardByName("Gust",f.Self);e.push(l);let c=this.getCardByName("Battle Dwarf",f.Self);e.push(c)}let t=[];return t.push(...this.cardFactory.getMinesBulk(T.Gold,3)),t.push(...this.cardFactory.getMinesBulk(T.Emerald,3)),t.push(...this.cardFactory.getMinesBulk(T.Topaz,3)),t.push(...this.cardFactory.generateMultiColorMinesBulk(T.Topaz,T.Emerald,3)),e.push(...t),e}getTerraDeck(){let e=[];for(let r=0;r<this.cardAmount;r++){let i=this.getCardByName("Verdant Warrior",f.Self);e.push(i);let s=this.getCardByName("Dwarf Cadet",f.Self);e.push(s);let o=this.getCardByName("Battle Dwarf",f.Self);e.push(o);let a=this.getCardByName("Prospector",f.Self);e.push(a);let l=this.getCardByName("Dwarf Engineer",f.Self);e.push(l)}let t=[];return t.push(...this.cardFactory.getMinesBulk(T.Gold,6)),t.push(...this.cardFactory.getMinesBulk(T.Emerald,6)),e.push(...t),e}getLunaraDeck(){let e=[];for(let r=0;r<this.cardAmount;r++){let i=this.getCardByName("Freeze",f.Self);e.push(i);let s=this.getCardByName("Ice Rune Wall",f.Self);e.push(s);let o=this.getCardByName("Death Beam",f.Self);e.push(o);let a=this.getCardByName("Find Loot",f.Self);e.push(a);let l=this.getCardByName("Merchant",f.Self);e.push(l);let c=this.getCardByName("King Serpent",f.Self);e.push(c);let u=this.getCardByName("Astro Owl Deer",f.Self);e.push(u)}let t=[];return t.push(...this.cardFactory.getMinesBulk(T.Gold,3)),t.push(...this.cardFactory.getMinesBulk(T.Sapphire,3)),t.push(...this.cardFactory.getMinesBulk(T.LionEye,3)),t.push(...this.cardFactory.generateMultiColorMinesBulk(T.LionEye,T.Sapphire,3)),e.push(...t),e}getGrimithDeck(){let e=[];for(let r=0;r<this.cardAmount;r++){let i=this.getCardByName("Pikeman",f.Self);e.push(i);let s=this.getCardByName("Find Loot",f.Self);e.push(s);let o=this.getCardByName("Squire",f.Self);e.push(o);let a=this.getCardByName("Shield Mate",f.Self);e.push(a)}let t=[];return t.push(...this.cardFactory.getMinesBulk(T.Gold,9)),e.push(...t),e}getSolaraDeck(){let e=[];for(let r=0;r<this.cardAmount;r++){let i=this.getCardByName("Fire Bolt",f.Self);e.push(i);let s=this.getCardByName("Squire",f.Self);e.push(s);let o=this.getCardByName("Haste",f.Self);e.push(o);let a=this.getCardByName("Troll Warrior",f.Self);e.push(a);let l=this.getCardByName("Fire Raptor",f.Self);void 0!==l&&e.push(l)}let t=[];return t.push(...this.cardFactory.getMinesBulk(T.Gold,6)),t.push(...this.cardFactory.getMinesBulk(T.Ruby,6)),e.push(...t),e}getAvesDeck(){let e=[];for(let r=0;r<this.cardAmount;r++){let i=this.getCardByName("Scout",f.Self);e.push(i);let s=this.getCardByName("Sky Knight",f.Self);e.push(s);let o=this.getCardByName("Thunder Dancer",f.Self);e.push(o);let a=this.getCardByName("King Serpent",f.Self);e.push(a);let l=this.getCardByName("Deep Sea Yeti",f.Self);e.push(l);let c=this.getCardByName("Great Bird Monk",f.Self);e.push(c)}let t=[];return t.push(...this.cardFactory.getMinesBulk(T.Gold,3)),t.push(...this.cardFactory.getMinesBulk(T.Sapphire,3)),t.push(...this.cardFactory.getMinesBulk(T.Topaz,3)),t.push(...this.cardFactory.generateMultiColorMinesBulk(T.Topaz,T.Sapphire,2)),e.push(...t),e}getTutorialDeck(){return[]}getEnemyTutorialDeck(){return[]}fillInUpgrades(e){let t=new Fp(this.cardService);for(let r=0;r<e.length;r++){let i=e[r],s=t.getAllUpgradesForCard(i.name);null!==s&&i.upgrades.push(...s)}}}let S0=(()=>{class n{constructor(){}getBgColor(t){switch(t){case D.Colorless:return"#888888";case D.Earth:return"#787235";case D.Neptune:return"#1a58a3";case D.Sky:return"#02aed6";case D.Sun:return"#cc4304";case D.MoonAndStars:return"#373737";default:return"white"}}getFgColor(t){switch(t){case D.Colorless:return"#DDDDDD";case D.Earth:return"#77c589";case D.Neptune:return"#6ea9f0";case D.Sky:return"#c3dde3";case D.Sun:return"#e8736b";case D.MoonAndStars:return"#e0ce7e";default:return"white"}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fB(n,e){if(1&n&&L(0,"img",7),2&n){const t=A(2).$implicit,r=A();oa("width",r.imgWidth,"px"),On("src",r.bag.getImage(t),zn)}}const Lp=function(){return[]};function pB(n,e){if(1&n&&(m(0,"span"),I(1,fB,1,3,"img",6),g()),2&n){const t=A().$implicit,r=A();_(1),w("ngForOf",xi(1,Lp).constructor(r.bag.getValue(t)))}}function gB(n,e){if(1&n&&(m(0,"p",8),b(1),L(2,"img",9),g()),2&n){const t=A().$implicit,r=A();_(1),ze("",xi(4,Lp).constructor(r.bag.getValue(t)).length,"X "),_(1),oa("width",r.imgWidth,"px"),On("src",r.bag.getImage(t),zn)}}function mB(n,e){if(1&n&&(m(0,"span",3),I(1,pB,2,2,"span",4),I(2,gB,3,5,"ng-template",null,5,Ri),g()),2&n){const t=e.$implicit,r=Ai(3),i=A();_(1),w("ngIf",xi(2,Lp).constructor(i.bag.getValue(t)).length<5)("ngIfElse",r)}}function yB(n,e){1&n&&L(0,"span",3)}let Ia=(()=>{class n{constructor(){this.bag=new P,this.imgWidth=16,this.manaTypes=[]}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-gembag"]],inputs:{bag:"bag",imgWidth:"imgWidth"},decls:3,vars:2,consts:[[1,""],["style","margin-left: 3px;",4,"ngFor","ngForOf"],["style","margin-left: 3px;",4,"ngIf"],[2,"margin-left","3px"],[4,"ngIf","ngIfElse"],["tooMany",""],["class","icon",3,"src","width",4,"ngFor","ngForOf"],[1,"icon",3,"src"],[1,"whiteFont",2,"font-size","0.7rem"],[1,"gemDimensions",3,"src"]],template:function(r,i){1&r&&(m(0,"div",0),I(1,mB,4,3,"span",1),g(),I(2,yB,1,0,"span",2)),2&r&&(_(1),w("ngForOf",i.bag.getTypes()),_(1),w("ngIf",i.bag.isEmpty()))},dependencies:[Ct,lt],styles:[".icon[_ngcontent-%COMP%]{transition:transform .5s ease-in-out}.icon[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_pulse 2s infinite,rotate 5s linear infinite;transform:rotate(360deg)}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.2)}to{transform:scale(1)}}"]})}return n})(),b0=(()=>{class n{constructor(){this.title="",this.text="",this.popupVisible=!1,this.popupX=100,this.popupY=100}showPopup(t){this.popupVisible=!0,this.updatePopupPosition(t)}movePopup(t){this.updatePopupPosition(t)}hidePopup(){this.popupVisible=!1}updatePopupPosition(t){this.popupX=t.clientX+10,this.popupY=t.clientY+10}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-tool-tip"]],inputs:{title:"title",text:"text"},decls:5,vars:2,consts:[[1,"toolTipMargin"],[1,"toolTipHeader"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"h2",1),b(2),g(),m(3,"p"),b(4),g()()),2&r&&(_(2),dt(i.title),_(2),dt(i.text))},styles:[".toolTipHeader[_ngcontent-%COMP%]{color:#f3e712;font-size:16px}.toolTipMargin[_ngcontent-%COMP%]{margin:10px}"]})}return n})();function vB(n,e){if(1&n&&(m(0,"div"),L(1,"app-tool-tip",16),g()),2&n){const t=e.$implicit,r=A(3);_(1),w("title",r.kTip.getToolTipName(t))("text",r.kTip.getTooltip(t))}}const _B=function(){return{"top.px":0,"left.px":125}};function wB(n,e){if(1&n&&(m(0,"div",15),I(1,vB,2,2,"div",14),g()),2&n){const t=A(2);w("ngStyle",xi(2,_B)),_(1),w("ngForOf",t.card.keywords)}}const iu=function(n){return{backgroundColor:n}};function CB(n,e){if(1&n&&(m(0,"div",3),L(1,"app-gembag",17),g()),2&n){const t=A(2);w("ngStyle",qn(2,iu,t.fgColor)),_(1),w("bag",t.card.cost)}}function SB(n,e){1&n&&L(0,"img",18),2&n&&On("src",A(2).card.image,zn)}function bB(n,e){1&n&&L(0,"div",19)}function DB(n,e){if(1&n&&(wc(0),m(1,"span",21),b(2),g(),b(3," |"),m(4,"span",21),b(5),g(),b(6," |"),m(7,"span",21),b(8),g(),Cc()),2&n){const t=A(3);_(1),w("ngStyle",t.getStatStyle(t.card,"atk")),_(1),ze("ATK:",t.creature.attack," "),_(2),w("ngStyle",t.getStatStyle(t.card,"hp")),_(1),ze("HP: ",t.creature.hp," "),_(2),w("ngStyle",t.getStatStyle(t.card,"spd")),_(1),ze(" SPD:",t.creature.speed,"")}}function EB(n,e){if(1&n&&(m(0,"div")(1,"p",20),I(2,DB,9,6,"ng-container",12),g()()),2&n){const t=A(2);_(2),w("ngIf",t.creature)}}function MB(n,e){if(1&n&&(m(0,"span")(1,"p",20),b(2,"INCOME: "),L(3,"app-gembag",17),g()()),2&n){const t=A(2);_(3),w("bag",t.converter.convertToMine(t.card).incomeBag)}}function AB(n,e){if(1&n&&(m(0,"span")(1,"p",22),b(2),g()()),2&n){const t=A(2);_(2),ki("Turns left: ",t.converter.convertToTech(t.card).researchLevel,"/",t.converter.convertToTech(t.card).researchTime,"")}}function TB(n,e){1&n&&(m(0,"p"),b(1,"Fast - You may play this card at any time"),g())}function kB(n,e){if(1&n&&(m(0,"p"),b(1),g()),2&n){const t=A(3);_(1),ze("Dodge: ",t.creature.dodgeAmount,"")}}function IB(n,e){if(1&n&&(m(0,"p"),b(1),g()),2&n){const t=A(3);_(1),ze("Ensnare: ",t.creature.ensnareAmount,"")}}function PB(n,e){if(1&n&&(m(0,"p"),b(1),g()),2&n){const t=A(3);_(1),ze("Repair: ",t.creature.repairAmount,"")}}function xB(n,e){if(1&n&&(m(0,"div"),I(1,kB,2,1,"p",12),I(2,IB,2,1,"p",12),I(3,PB,2,1,"p",12),g()),2&n){const t=A(2);_(1),w("ngIf",t.creature.dodgeAmount>0),_(1),w("ngIf",t.creature.ensnareAmount>0),_(1),w("ngIf",t.creature.repairAmount>0)}}function RB(n,e){if(1&n&&(m(0,"p"),b(1),g()),2&n){const t=A().$implicit,r=A(2);_(1),dt(r.kTip.getToolTipName(t))}}function NB(n,e){if(1&n&&(m(0,"div"),I(1,RB,2,1,"p",12),g()),2&n){const t=e.$implicit;_(1),w("ngIf",1!==t&&2!==t)}}const OB=function(n,e,t,r){return{playable:n,notPlayable:e,awake:t,asleep:r}},FB=function(){return{backgroundColor:"black"}};function LB(n,e){if(1&n){const t=te();m(0,"div",1),U("mouseover",function(i){return $(t),z(A().showPopup(i))})("mousemove",function(i){return $(t),z(A().movePopup(i))})("mouseout",function(){return $(t),z(A().hidePopup())}),I(1,wB,2,3,"div",2),m(2,"div",3)(3,"p",4),b(4),g()(),I(5,CB,2,4,"div",5),m(6,"div",6),I(7,SB,1,1,"img",7),I(8,bB,1,0,"ng-template",null,8,Ri),g(),m(10,"div",9)(11,"p",10),b(12),g()(),m(13,"div",11),I(14,EB,3,1,"div",12),I(15,MB,4,1,"span",12),I(16,AB,3,2,"span",12),I(17,TB,2,0,"p",12),m(18,"p",13),b(19),g(),I(20,xB,4,3,"div",12),I(21,NB,2,1,"div",14),g()()}if(2&n){const t=Ai(9),r=A();w("@rapidMoveRight",void 0)("@.disabled",!r.animateEnter)("ngClass",JC(21,OB,r.playable&&(0===r.card.zone||6===r.card.zone),!r.playable&&(0===r.card.zone||6===r.card.zone),0===r.card.type&&!0===r.creature.awake,!1===r.creature.awake))("ngStyle",qn(26,iu,r.bgColor)),_(1),w("ngIf",r.popupVisible&&void 0!==r.card.keywords&&r.card.keywords.length>0),_(1),w("ngStyle",xi(28,FB)),_(2),ze("",r.card.name," "),_(1),w("ngIf",2===r.card.owner),_(1),w("ngStyle",qn(29,iu,r.fgColor)),_(1),w("ngIf",""!==r.card.image&&void 0!==r.card.image)("ngIfElse",t),_(5),ki("Level ",r.card.level," - ",r.getTypeString(r.card.type)," "),_(1),w("ngStyle",qn(31,iu,r.fgColor)),_(1),w("ngIf",0===r.card.type||11===r.card.type),_(1),w("ngIf",2===r.card.type),_(1),w("ngIf",1===r.card.type&&1===r.card.zone),_(1),w("ngIf",r.card.instant),_(2),ze(" ",r.card.text,""),_(1),w("ngIf",0===r.card.type||11===r.card.type),_(1),w("ngForOf",r.card.keywords)}}let Xn=(()=>{class n{constructor(t,r){this.fcs=t,this.animationService=r,this.card={},this.compareCard={},this.playable=void 0,this.cardEmitter=new ne,this.flipped=!0,this.animateEnter=!1,this.bgColor="grey",this.fgColor="#cccccc",this.gradientColor="radialGradient(bgColor, gradientColor)",this.type=R[this.card.type],this.selected=!1,this.converter=new Ta,this.kTip=new Da,this.popupVisible=!1,this.popupX=0,this.popupY=0,this.creature={}}ngOnInit(){(this.card instanceof rt||this.card instanceof V)&&(this.creature=this.card),void 0!==this.card&&void 0!==this.card.factions&&this.card.factions.length>0&&(this.bgColor=this.fcs.getBgColor(this.card.factions[0]),this.fgColor=this.fcs.getFgColor(this.card.factions[0]),this.gradientColor=`radialGradient(${this.bgColor}, ${this.fgColor})`)}clickCard(){this.cardEmitter.emit(this.card)}getTypeString(t){return R[t]}getCompareStyle(t,r){let i=this.compareCard;if("atk"===r){if(i.attack>t.attack)return{color:"red"};if(i.attack<t.attack)return{color:"green"}}else if("hp"===r){if(i.hp>t.hp)return{color:"red"};if(i.hp<t.hp)return{color:"green"}}else if("spd"===r){if(i.speed>t.speed)return{color:"red"};if(i.speed<t.speed)return{color:"green"}}return{color:"white"}}getStatStyle(t,r){const i=this.converter.convertToCreature(t);if(void 0!==this.compareCard&&this.compareCard instanceof V)return this.getCompareStyle(t,r);let o=0,a=0;switch(r){case"hp":o=i.baseHp,a=i.hp;break;case"atk":o=i.baseAttack,a=i.attack;break;case"spd":o=i.baseSpeed,a=i.speed}return a>o?{color:"rgb(98, 219, 98);"}:a<o?{color:"red"}:{color:"white"}}showPopup(t){this.popupVisible=!0,this.updatePopupPosition(t)}movePopup(t){this.updatePopupPosition(t)}hidePopup(){this.popupVisible=!1}updatePopupPosition(t){this.popupX=t.clientX,this.popupY=t.clientY}static#e=this.\u0275fac=function(r){return new(r||n)(F(S0),F(Sn))};static#t=this.\u0275cmp=be({type:n,selectors:[["app-card"]],inputs:{card:"card",compareCard:"compareCard",playable:"playable",flipped:"flipped",animateEnter:"animateEnter"},outputs:{cardEmitter:"cardEmitter"},decls:1,vars:1,consts:[["id","BlackFont","class","cardBorder hoverZoom cardDimensions",3,"ngClass","ngStyle","mouseover","mousemove","mouseout",4,"ngIf"],["id","BlackFont",1,"cardBorder","hoverZoom","cardDimensions",3,"ngClass","ngStyle","mouseover","mousemove","mouseout"],["class","popup toolTip",3,"ngStyle",4,"ngIf"],[1,"mainFont","titleBoxWidth","cardOutline",3,"ngStyle"],[1,"titleText"],["class","mainFont titleBoxWidth cardOutline",3,"ngStyle",4,"ngIf"],["id","PlaceHolder",1,"cardOutline",3,"ngStyle"],["class","centerElement cardImage ",3,"src",4,"ngIf","ngIfElse"],["fake",""],[1,"typeBox","cardOutline"],[1,"typeText"],[1,"textBox","cardOutline","mainFont","cardText",3,"ngStyle"],[4,"ngIf"],[1,"mainFont"],[4,"ngFor","ngForOf"],[1,"popup","toolTip",3,"ngStyle"],[3,"title","text"],[3,"bag"],[1,"centerElement","cardImage",3,"src"],[1,"centerElement","cardImage"],[1,"statDisplay"],[3,"ngStyle"],[1,"whiteFont","statDisplay"]],template:function(r,i){1&r&&I(0,LB,22,33,"div",0),2&r&&w("ngIf",void 0!==i.card)},dependencies:[qs,Ct,lt,Ks,Ia,b0],styles:['.cardOutline[_ngcontent-%COMP%]{border:solid 1px black;border-radius:5%;margin:1px}#PlaceHolder[_ngcontent-%COMP%]{min-height:40px}.titleText[_ngcontent-%COMP%]{font-family:Tahoma,sans-serif;font-weight:700;font-size:60%;text-align:center;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.titleBoxWidth[_ngcontent-%COMP%]{width:93%;margin-left:auto;margin-right:auto}.flexBox[_ngcontent-%COMP%]{display:flex}.flexSpace[_ngcontent-%COMP%]{justify-content:space-between}.foregroundColor[_ngcontent-%COMP%]{opacity:.9}.typeText[_ngcontent-%COMP%]{color:#fff;text-align:center;font-size:90%}.typeBox[_ngcontent-%COMP%]{height:17px;margin-top:2px;margin-bottom:2px;font-size:13px;font-family:Arial,Helvetica,sans-serif;background:rgba(30,30,30,.5);opacity:1}.typeBoxBg[_ngcontent-%COMP%]{background-color:"#373737"}.textBox[_ngcontent-%COMP%]{min-height:4rem;text-align:center;font-family:Arial,Helvetica,sans-serif}.cardText[_ngcontent-%COMP%]{font-size:45%}.statDisplay[_ngcontent-%COMP%]{border-bottom:ridge 2px #737373;margin-bottom:2px;background-color:#000;color:#fff}.playable[_ngcontent-%COMP%]{border-radius:5%;box-shadow:0 0 25px #f7f7f7e6}.notPlayable[_ngcontent-%COMP%]{border:1px solid red;border-radius:5%}.playable[_ngcontent-%COMP%], .notPlayable[_ngcontent-%COMP%]{margin:-2px}.hoverZoom[_ngcontent-%COMP%]:hover{z-index:10;transform:scale(1.3);transition:transform .3s ease-in-out;animation-delay:1ms;position:relative}.hoverZoom[_ngcontent-%COMP%]{transform:scale(1);margin-bottom:0;transition:transform .4s ease-in-out;animation-delay:2ms;cursor:pointer}#BlackFont[_ngcontent-%COMP%]{color:#000}.toolTip[_ngcontent-%COMP%]{position:absolute;z-index:1000}.blackBg[_ngcontent-%COMP%]{background-color:#000}'],data:{animation:[Sn.rapidMoveRight,Sn.zoomIn]}})}return n})();function BB(n,e){1&n&&L(0,"app-card",2),2&n&&w("card",e.$implicit)}let Bp=(()=>{class n{constructor(){this.deck=[],this.display=!1}sortDeck(){return this.deck.sort((r,i)=>r.name.localeCompare(i.name))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-deck-viewer"]],inputs:{deck:"deck",display:"display"},decls:2,vars:1,consts:[[1,"cardRow","scrollBar"],["class","card",3,"card",4,"ngFor","ngForOf"],[1,"card",3,"card"]],template:function(r,i){1&r&&(m(0,"div",0),I(1,BB,1,1,"app-card",1),g()),2&r&&(_(1),w("ngForOf",i.sortDeck()))},dependencies:[Ct,Xn],styles:[".cardRow[_ngcontent-%COMP%]{flex-wrap:wrap}.card[_ngcontent-%COMP%]{margin:10px 5px;flex:0 0 10%;border-radius:5%;width:94%}.scrollBar[_ngcontent-%COMP%]{min-height:500px;max-width:90%;overflow-y:scroll}"]})}return n})();function VB(n,e){1&n&&L(0,"app-card",12),2&n&&w("card",A(3).creature)}function UB(n,e){1&n&&L(0,"img",13),2&n&&On("src",e.$implicit,zn)}function jB(n,e){if(1&n&&(m(0,"div",7),I(1,VB,1,1,"app-card",8),L(2,"p",9),m(3,"div",10),I(4,UB,1,1,"img",11),g()()),2&n){const t=A().$implicit;_(1),w("ngIf","Keywords"===t.title),_(1),w("innerHTML",t.content,Gv),_(2),w("ngForOf",t.images)}}function HB(n,e){if(1&n){const t=te();m(0,"div",4)(1,"button",5),U("click",function(){const s=$(t).index;return z(A().toggleSection(s))}),b(2),g(),I(3,jB,5,3,"div",6),g()}if(2&n){const t=e.$implicit;_(2),ze(" ",t.title," "),_(1),w("ngIf",t.show)}}function $B(n,e){1&n&&L(0,"div")}function zB(n,e){if(1&n&&(m(0,"div")(1,"h3"),b(2,"Understanding a Card"),g(),L(3,"app-card",12),m(4,"p"),b(5,"Every non-mine card has a cost consisting of gems and gold."),g(),m(6,"p"),b(7,"You gain resources by playing mines"),g(),m(8,"p"),b(9,"This card costs 1 ruby and 1 gold"),g(),L(10,"app-card",12),m(11,"p"),b(12,"This is a basic mine. It will give you one gem right away and 1 gem at the start of each of your turns"),g(),m(13,"p"),b(14,"Basic mines are free to play, BUT you may only play one mine per turn"),g(),m(15,"p"),b(16,"You start the game with 4 gold and 1 basic gold mine"),g(),L(17,"img",14),m(18,"h3"),b(19,"Controls"),g(),m(20,"p"),b(21,"To play a card from your hand, double click on it. If a card is currently playable (it is the right time and you can afford it), then it will be highlighted in green. "),g(),m(22,"p"),b(23,"If a card is not playable, it will be highlighted in red."),g()()),2&n){const t=A();_(3),w("card",t.spell),_(7),w("card",t.mine)}}function GB(n,e){if(1&n&&(m(0,"div")(1,"p"),b(2,"Factions"),g(),L(3,"app-gembag",15),m(4,"p"),b(5,"In this game there are 5 factions each with their own gem. The 6th resource, gold, is used by all factions "),g(),m(6,"p"),b(7,"These icons are used to represent costs, current resources and income for the player"),g(),m(8,"p"),b(9,"For now, all cards will have a single faction."),g(),m(10,"p"),b(11,"Here's a little bit about the strengths and weaknesses of each faction:"),g(),L(12,"br")(13,"img",16),m(14,"p"),b(15,"Sun "),g(),m(16,"p"),b(17,"Strengths: Good attack and speed on creatures. Lots of damage."),g(),m(18,"p"),b(19,"Weaknesses: low HP creatures, good at destroying other's walls, bad at maintaining theirs"),g(),L(20,"br")(21,"img",17),m(22,"p"),b(23,"Ocean"),g(),m(24,"p"),b(25,"Strengths: Good healing and card draw, high HP creatures"),g(),m(26,"p"),b(27,"Weaknesses: Poor offensive creatures, lack of removal"),g(),L(28,"br")(29,"img",18),m(30,"p"),b(31,"Sky"),g(),m(32,"p"),b(33,"Strengths: Lots of flying, speedy, and dodging, good card draw"),g(),m(34,"p"),b(35,"Weaknesses: Low Hp creatures, low attack/hp creatures"),g(),L(36,"br")(37,"img",19),m(38,"p"),b(39,"Earth"),g(),m(40,"p"),b(41,"Strengths: High HP and Attack Creatures, good at getting gems"),g(),m(42,"p"),b(43,"Weaknesses: Low speed Creatures, no card draw"),g(),L(44,"br")(45,"img",20),m(46,"p"),b(47,"Moon and Stars"),g(),m(48,"p"),b(49,"Strengths: Kill enemy creatures, revive your own. Speedy creatures, Healing -however, not as good as Ocean "),g(),m(50,"p"),b(51,"Weaknesses: Creatures that start with low stats and buff up over time, no card draw "),g()()),2&n){const t=A();_(3),w("bag",t.gembag)("imgWidth",48)}}function WB(n,e){if(1&n&&(m(0,"div")(1,"p"),b(2,"Creature Stats"),g(),L(3,"app-card",12),m(4,"p"),b(5,"Each Creature has 3 stats:"),g(),L(6,"img",21),m(7,"p"),b(8," Attack - this determines how much damage the creature deals"),g(),L(9,"br")(10,"img",22),m(11,"p"),b(12,"HP - this determines how much damage a creature can take before dying"),g(),L(13,"br")(14,"img",23),m(15,"p"),b(16,"Speed - when fighting another creature this determines who goes first. In case of a tie, creaute deal damage simultaneously"),g(),L(17,"br"),m(18,"p"),b(19,"Any changes to stats are permanent, whether through spells or combat. Certain abilities can heal creatures, however."),g()()),2&n){const t=A();_(3),w("card",t.creature)}}function qB(n,e){if(1&n&&(m(0,"div")(1,"h2"),b(2,"Card Types"),g(),m(3,"div",24),L(4,"app-card",12)(5,"app-card",12)(6,"app-card",12),g(),m(7,"p"),b(8,"In this demo there are 3 card types: "),g(),m(9,"ul")(10,"li"),b(11,"Creatures - attacks, blocks, and has various abilities"),g(),m(12,"li"),b(13,"Spells - does a one use effect"),g(),m(14,"li"),b(15,"Mines - produces resources"),g()(),m(16,"p"),b(17,"More types are planned as the game is built out!"),g()()),2&n){const t=A();_(4),w("card",t.creature),_(1),w("card",t.spell),_(1),w("card",t.mine)}}function KB(n,e){1&n&&(m(0,"div")(1,"h2"),b(2,"Horde Phases"),g(),m(3,"p"),b(4,"Each Turn consists of several phases."),g(),m(5,"p"),b(6,"These phases different between the horde and the player. The horde's turns are automatic. Let's look at the horde first:"),g(),L(7,"br"),m(8,"p"),b(9,"Main - the horde draws and plays cards. The horde deck has 2 types of cards: Regular ones and minions"),g(),L(10,"img",25),m(11,"p"),b(12,"When drawing, the horde draws and plays minion cards until it draws and plays a regular card"),g(),L(13,"br"),m(14,"p"),b(15,"Combat - The horde will attack with all of its creatures. All horde creatures may attack right away. Attacking is signifier in 2 ways the card is rotated 90 degrees and the red sword appears over the card. "),g(),L(16,"img",26),m(17,"p"),b(18,"If the player chooses to block an attacker, the blocking creature will have a shield appear over them."),g(),L(19,"img",27),m(20,"p"),b(21,"The player may block horde creatures to prevent damage to themselves."),g(),m(22,"p"),b(23,"Blockers - the player may decide to block the horde's creatures. A blocked creature will not damage a player's wall or HP"),g(),L(24,"br"),m(25,"p"),b(26,"Combat Results - displays how much damage creatures have taken. If a creature becomes faded, it has taken enough damage to die."),g(),L(27,"img",28)(28,"br"),m(29,"p"),b(30,"End - any until end of turn effects wear off here. Some cards will activate here as well."),g(),m(31,"p"),b(32,"Should the horde play a card that requires any kind of decision making, it will choose targets randomly. "),g()())}function YB(n,e){1&n&&(m(0,"div")(1,"h2"),b(2,"Player Phases"),g(),m(3,"p"),b(4,"Now let's get into the player's phases:"),g(),m(5,"p"),b(6,"Main 1 - At the start of this phase you gain your income from your mines and all of your creatures turn upright, ready to attack again. You may play any cards you can afford during this phase. Anything you can play will be highlighted with a green border. Anything you cannot play will be highlighted in red."),g(),L(7,"br"),m(8,"p"),b(9,"Combat - This is more straight forward than the the horde. Pick what creatures you want to attack and they will damage the enemy's wall, and then once that's destroyed, their deck. However, any rotated creature may NOT block, so measure the risk/reward carefully. "),g(),L(10,"br"),m(11,"p"),b(12,"Main 2 - This occurs only when you attacked. No income, but you may play cards following the same rules as the previous main phase. When you are done with this phase, it swaps to the enemy's turn"),g()())}function ZB(n,e){1&n&&(m(0,"div")(1,"h2"),b(2,"Heroes"),g(),m(3,"p"),b(4,"Each deck will be lead by a hero. Heroes start in the hero zone and may be cast during your turn."),g(),m(5,"p"),b(6,"When a hero dies, it returns to the hero zone. They may be recast, but their cost increases by 1 gold each casting."),g()())}function QB(n,e){1&n&&(m(0,"div")(1,"h2"),b(2,"Experience"),g(),m(3,"p"),b(4,"Heroes will gain experience and level up. 2 things happen on each level: the hero automatically gains a randomized stat increase and you may select an upgrade for a card in your deck"),g(),m(5,"p"),b(6,"The following actions will gain your hero 1 experience point:"),g(),m(7,"ul")(8,"li"),b(9,"Playing a card"),g(),m(10,"li"),b(11,"Destroying an enemy creature"),g(),m(12,"li"),b(13,"Drawing a card"),g()(),m(14,"h2"),b(15,"Experience Formula"),g(),m(16,"p"),b(17,"The formula for the experience needed to level up is as follows: current level * current level + 10 "),g(),m(18,"p"),b(19,"Here's a chart for the first several levels"),g(),m(20,"ul")(21,"li"),b(22,"Level 1: 0 xp"),g(),m(23,"li"),b(24,"Level 2: 10 xp"),g(),m(25,"li"),b(26,"Level 3 : 11 xp"),g(),m(27,"li"),b(28,"Level 4: 14 xp"),g(),m(29,"li"),b(30,"Level 5: 19 xp"),g(),m(31,"li"),b(32,"Level 6: 26 xp"),g(),m(33,"li"),b(34,"Level 7: 35 xp"),g(),m(35,"li"),b(36,"Level 8: 46 xp"),g()()())}let D0=(()=>{class n{constructor(){this.step=0,this.cardService={},this.gembag=new P(1,1,1,1,1,1),this.tutorialDone=new ne,this.panels=[],this.relicsManager=new Aa(this.cardService),this.relics=this.relicsManager.getAllRelics(),this.cardFa=new mr(this.cardService),this.dmgEffect=new Qs(4,this.cardService,O.Single,f.Opponent,f.Self,!1,!0),this.targeted=new ln([R.Creature,R.Player],f.Opponent,[y.play],1,[this.dmgEffect],this.cardService),this.spell=new Ze("Fire Blast",new P(1,1),"","Deal 4 damage to any opponent or opponent's creature",[this.targeted],!0,f.Self,y.any,[D.Sun],f.Opponent),this.mine=this.cardFa.generateBasicMine(T.LionEye),this.creature=new V(2,2,2,"Goblin",new P(1,1),"assets//minion3.png","",!1,f.Self,y.any,[D.Sun],[],[C.Momentum]),this.isCollapsed=!0,this.fillOutPanels()}nextStep(){this.step++}prevStep(){this.step--,this.step<0&&(this.step=0)}done(){this.tutorialDone.emit()}toggleSection(t){this.panels[t].show=!this.panels[t].show}getRelicsPrintOut(){let t="<div class='cardRow'>";for(let r=0;r<this.relics.length;r++){let i=this.relics[r];t+="<div class='relic centerVertical clear'>",t+=`<h3>${i.name}</h3>`,t+=`<img width='64px' src='assets//${i.image}' alt='${i.name}'/><p>${i.description}</p>`,t+="</div>",t+="<br/>"}return t+="</div>",t}fillOutPanels(){let t=new Da,r=Object.values(C).filter(M=>"string"==typeof M),i=[];for(let M=0;M<r.length;M++){let E=t.getToolTipKeyword(r[M]),B=t.getTooltip(E);B.includes("No tooltip found")||i.push("<li class='keyword'>"+C[E]+": "+B+"</li>")}let s="<ul>"+i.join("")+"</ul>",o=new _r("Goal of the Game",["<p>This is a game about surviving a horde of enemies knocking at your wall. Your goal is to destroy the enemy deck while keeping your life above 0. </p>","<br />","<p>To protect your life, you have a wall that will absorb attacks until it reach 0. Each square of wall represents 5 wall hp rounded up.</p>","<br />","<p>When you attack the hoard, for each 1 damage you deal, the hoard discards a card from their deck.</p>"].join(""),["assets//HordeDisplay.png","assets//PlayerDisplay.png"]),a=new _r("Resources",["<p>Every non-mine card has a cost consisting of gems and gold.</p>","<p>At the start of each of your turns, you gain income from your mines. Also, when you play a basic mine, you immediately gain 1 resource of the corresponding type. You may play 1 mine per turn, but some cards will let you play more.</p>","<br/>","<p>There are 6 types of resources: Gold, Emeralds, Sapphires, Rubies, Topaz, and Lion's Eye Diamonds. Each mine generates a different type of resource.</p>","<p>Every faction will use gold as well as their corresponding Gem. More on them later.</p>","<div><img src='assets//AllMines.png'/>","<p>These are basic mines. When played, they will give you 1 resource right away and 1 resource at the start of each of your turns</p>","<p>Basic mines are free to play, BUT you may only play one mine per turn</p>","<p>You start the game with 5 gold and 2 basic gold mines as shown by pane below. More on the other buttons later.</p><br/><br/>","<img src='assets//ResourcePane.png'/>","<h2>Controls</h2>","<p>To play a card from your hand, double click on it. If a card is currently playable (it is the right time and you can afford it), then the border will be highlighted. </p>","<p>If a card is not playable, it will be highlighted in red.</p>","<img src='assets//ExampleHighlight.png'/> <img src='assets//ExampleSpell.png'/>"].join(""),[]),l=new _r("Creatures",["<h2>Creatures</h2>","<img src='assets//CadetCard.png'/> <img src='assets//SmallCadet.png'/>","<p>Creatures represent units within your army and they have a wide range of different abilities. Some are represented as keywords, but all of them are written in the text box below the creature's level. </p>","<br/>","<h2>Stats</h2>","<img src='assets//attackSymbol.png' /> <img src='assets//HP Symbol.png'/> <img src='assets//Speed Symbol.png'/>","<p>Each creature has 3 stats: Attack, Hp, and Speed. Stats are written below the creature's level. The stats appear always in this order: Attack, Hp, and last Speed.</p>","<ul>","<li>Attack represents how much damage a creature does in combat.</li>","<li>Hp represents how much damage a creature can take before dying.</li>","<li>Speed determines who attacks first in combat. If two creatures have the same speed, they will attack simultaneously.</li>","</ul>","<br/>","<img src='assets//ChangedStats.png'/>","<br/><p> One last note on stats: there are many effects that change a creature's stats. If a stat is green, then it has been increased. On the other hand, if a stat is red, that stat has been reduced. </p>"].join(""),[]),c=new _r("Combat",["<p>Combat is how the both opponents deal damage to each other. However, it works a little differently between the player and horde. </p>","<img src='assets//TurnedCreature.png'/>","<p>When a creature attacks it becomes turned. Creatures display the sword symbol to show that it is attacking. If a creature is turned, it cannot block. If a creature has Sentry, they do not turn to attack.</p>","<br/>","<h1>Player Phases</h1>","<img src='assets//AttackingExample.png'/>","<ul>","<li>First the player declare which creatures to attack with.</li>","<li>The horde will never block attacks, so if the enemy wall is standing, damage will be dealt to it. If the wall is down, then the creatures will damage the hordes deck. For each point of damage dealt, the horde discards a card from the top of their deck.</li>","</ul>","<br/>","<h1>Horde Phases</h1>","<img src='assets//BlockingExample.png'/>","<ul>","<li>All the horde's creatures will always attack the player. All the horde's creature will attack regardless of whether they were played this turn or not.</li>","<li>Then the player may choose blockers to defend against the horde's attacks. If a horde creature is blocked, it deals no damage to the player or their wall</li>","<li>Last is the combat results phase. If a horde creature is blocked, the creatures will fight and the results will be displayed. Speed determines who attacks first, in the case of a tie, they damage each other simultaneously. If a horde creature is unblocked, it will deal damage to the player's wall, if it's standing. If not, the creatures damage the player's life totals directly.</li>","<li>If a creature is greyed out after combat, that means they lost and will be sent to the discard pile.</li>","</ul>","<img src='assets//CombatResults.png'/>"].join(""),[]),u=new _r("Keywords",["<p>Hover over this creature to see what its keywords do </p>","<h2>Keywords</h2>","<p> Creatures can have keyword abilities that do a variety of things.</p>","<p> To see what a keyword does, simply hover over the card and a tool tip  will appear.</p>","<br/>","<h2>List of keywords</h2>",s].join(""),[]),d=new _r("Spells",["<h2>Spells</h2>","<img src='assets//Spells.png'/>","<p>Spells are one time use cards that can do a variety of things. They can be used to deal damage, heal, or even draw cards.</p>","<p>Once played they immediately go to the discard pile.</p> <br/>","<h2>Targeting</h2>","<p>Many spells will target creatures of both the player and/or the horde. When you play a spell with targeting, buttons will appear below all of the eligible targets. Simply click on one of the buttons to select a target. </p>","<img src='assets//Targetting.png'/>"].join("")),h=new _r("Heroes",["<h2>Heroes</h2>","<p>Heroes are special units that act as leaders for each starter deck. Heroes start in a special zone called the hero zone. When a hero dies, they go back to the hero zone. You may cast the hero again, but each time it costs one more gold.</p>","<p>A hero's deck will only include cards that match their colors as well as neutral cards. This applies to card rewards as well. If a hero is red, their deck may only have red or neutral cards.</p>","<img width='95%' src='assets//Hero.png'/>"].join("")),p=new _r("Factions",["<h2>Factions</h2>","<img src='assets//AllMines.png' width='95%'/>","<p>There are 6 factions in the game each with their own strengths and weaknesses. Each faction has a different color and a different gem associated with it (aside from the Mercenary faction, which uses only gold).</p>","<h2>List of Factions:</h2>","<ul>","<li>Sun - <img src='assets//Ruby.png' width='5%'/> - this is the faction of speed and aggression, the downside being that Sun creatures don't have many hit points. </li>","<li>Neptune - <img src='assets//Saphire.png' width='5%' /> - this faction is the master of change, healing, and durability. </li>","<li>Earth - <img src='assets//Emerald.png' width='5%' /> - Earth is the faction of strength and mining. Their creatures are large at the expense of speed. </li>","<li>Air - <img src='assets//topaz.png' width='5%' /> - Air focuses on speed and scouting. It has the most flying creatures as well as card draw. The main downside of this faction is the lack of removal and low hp creatures. </li>","<li>Moon and Stars - <img src='assets//eye.png' width='5%'/> - Moon and Stars is the faction of mystery, life, death, and paradox. It has some of the best removal and spells in each of the colors. Given the focus on spells, their creatures tend to be weaker. </li>","<li>Mercenary - <img src='assets//Coin.png' width='5%' /> - this faction houses a variety of cards, but lacks any guiding philosophy beyond obeying the highest bidder. Most every deck has a couple of mercenary cards. </li>","</ul>"].join("")),v=new _r("Relics",["<h2>Relics</h2>","<p>Relics are artifacts that provide passive benefits.</p>","<p>All relics are listed below, but if you ever need to recall what a relic does, mouse over for a second and a tooltip will appear.</p>","<h2>List of Relics:</h2>",this.getRelicsPrintOut(),""].join("")),S=new _r("Combat Rewards",["<h2>Combat Rewards</h2>","<img width='85%' src='assets//cardRewards.png'/>","<img src='assets//relicRewards.png'/>","<p>When you defeat a horde, you will have the option to either pick up new cards and/or relics.</p>","<p>After each fight, you will be offered 3 different rewards of either new cards or relics.</p>","<p>Note that the rewards system will be reworked, so this is subject to change.</p>"].join(""));this.panels.push(o,a,l,c,u,d,h,p,v,S)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-tutorial"]],inputs:{cardService:"cardService"},outputs:{tutorialDone:"tutorialDone"},decls:17,vars:10,consts:[[1,"centerText"],[1,"mapColors","centerElement","mainMargins","tutorialHeight","blackFont"],["class","collapsible-section",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"collapsible-section"],[1,"collapsible-btn",3,"click"],["class","collapsible-content",4,"ngIf"],[1,"collapsible-content"],[3,"card",4,"ngIf"],[3,"innerHTML"],[1,"flex"],[3,"src",4,"ngFor","ngForOf"],[3,"card"],[3,"src"],["src","assets/Income.png"],[3,"bag","imgWidth"],["width","64px","src","assets/Ruby.png"],["width","64px","src","assets/Saphire.png"],["width","64px","src","assets/topaz.png"],["width","64px","src","assets/Emerald.png"],["width","64px","src","assets/eye.png"],["height","64px","src","assets/attackSymbol.png"],["height","64px","src","assets/HP Symbol.png"],["height","64px","src","assets/Speed Symbol.png"],[1,"cardRow"],["src","assets/Minions.png"],["src","assets/Attacking.png"],["src","assets/Blocking.png"],["src","assets/Result.png"]],template:function(r,i){1&r&&(m(0,"h2",0),b(1,"Super Gembag Wars"),g(),m(2,"div",1)(3,"h3"),b(4,"Gemapedia"),g(),m(5,"p"),b(6,"Select one of the below buttons to read about each topic."),g(),I(7,HB,4,2,"div",2),g(),I(8,$B,1,0,"div",3),I(9,zB,24,2,"div",3),I(10,GB,52,2,"div",3),I(11,WB,20,1,"div",3),I(12,qB,18,3,"div",3),I(13,KB,33,0,"div",3),I(14,YB,13,0,"div",3),I(15,ZB,7,0,"div",3),I(16,QB,37,0,"div",3)),2&r&&(_(7),w("ngForOf",i.panels),_(1),w("ngIf",0===i.step),_(1),w("ngIf",1===i.step),_(1),w("ngIf",2===i.step),_(1),w("ngIf",3===i.step),_(1),w("ngIf",4===i.step),_(1),w("ngIf",5===i.step),_(1),w("ngIf",6===i.step),_(1),w("ngIf",7===i.step),_(1),w("ngIf",8===i.step))},dependencies:[Ct,lt,Xn,Ia],styles:[".centerText[_ngcontent-%COMP%]{text-align:center}.alignCard[_ngcontent-%COMP%]{margin-left:50%}.windowDimensions[_ngcontent-%COMP%]{width:80%;height:90%;padding:10px}p[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], .margin[_ngcontent-%COMP%]{margin-left:15px}.flex[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly;margin-top:20px}.keyword[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}"]})}return n})();class _r{constructor(e,t,r){this.show=!1,this.images=[],this.title=e,this.content=t,r&&(this.images=r)}}const XB=function(n,e){return{"top.px":n,"left.px":e}};function JB(n,e){if(1&n&&(m(0,"div",2)(1,"p",3),b(2),g(),m(3,"p"),b(4),g()()),2&n){const t=A();w("ngStyle",pa(3,XB,t.popupY,t.popupX)),_(2),dt(t.relic.name),_(2),dt(t.relic.description)}}let E0=(()=>{class n{constructor(){this.relic={},this.prefix="assets",this.popupVisible=!1,this.popupX=100,this.popupY=100}getImageSrc(){return"assets/"+this.relic.image}showPopup(t){this.popupVisible=!0,this.updatePopupPosition(t)}movePopup(t){this.updatePopupPosition(t)}hidePopup(){this.popupVisible=!1}updatePopupPosition(t){this.popupX=t.clientX+10,this.popupY=t.clientY+10}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-relic"]],inputs:{relic:"relic"},decls:2,vars:2,consts:[["width","64px","height","64px","alt","Your Image",1,"relic",3,"src","mouseover","mousemove","mouseout"],["class","popUp","class","popup",3,"ngStyle",4,"ngIf"],[1,"popup",3,"ngStyle"],[1,"relicHeader"]],template:function(r,i){1&r&&(m(0,"img",0),U("mouseover",function(o){return i.showPopup(o)})("mousemove",function(o){return i.movePopup(o)})("mouseout",function(){return i.hidePopup()}),g(),I(1,JB,5,6,"div",1)),2&r&&(On("src",i.getImageSrc(),zn),_(1),w("ngIf",i.popupVisible))},dependencies:[lt,Ks],styles:[".relicHeader[_ngcontent-%COMP%]{color:#f3e712}"]})}return n})(),eV=(()=>{class n{constructor(){this.hero={}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-xpbar"]],inputs:{hero:"hero"},decls:6,vars:6,consts:[["id","XPBar"],["id","HeroText",1,"whiteFont"],["id","HeroText",1,"whiteFont",2,"float","left"],["id","BarWidth",3,"value","max"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"p",1),b(2),g(),m(3,"p",2),b(4),g(),L(5,"progress",3),g()),2&r&&(_(2),ki("",i.hero.name," Level ",i.hero.level," "),_(2),ki("Experience: ",i.hero.xp,"/",i.hero.xpNextLevel,""),_(1),On("value",i.hero.xp),On("max",i.hero.xpNextLevel))},styles:["#XPBar[_ngcontent-%COMP%]{width:25%;z-index:1000;background-color:#000;float:left}#HeroText[_ngcontent-%COMP%]{font-size:70%}"]})}return n})();const{isArray:tV}=Array,{getPrototypeOf:nV,prototype:rV,keys:iV}=Object;function M0(n){if(1===n.length){const e=n[0];if(tV(e))return{args:e,keys:null};if(function sV(n){return n&&"object"==typeof n&&nV(n)===rV}(e)){const t=iV(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:oV}=Array;function A0(n){return Le(e=>function aV(n,e){return oV(e)?n(...e):n(e)}(n,e))}function T0(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let k0=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(F(xr),F(mn))};static#t=this.\u0275dir=oe({type:n})}return n})(),ji=(()=>{class n extends k0{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=kt(n)))(i||n)}}();static#t=this.\u0275dir=oe({type:n,features:[Ie]})}return n})();const wr=new Y("NgValueAccessor"),uV={provide:wr,useExisting:je(()=>su),multi:!0},hV=new Y("CompositionEventMode");let su=(()=>{class n extends k0{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function dV(){const n=ai()?ai().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(F(xr),F(mn),F(hV,8))};static#t=this.\u0275dir=oe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&U("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Ke([uV]),Ie]})}return n})();const Lt=new Y("NgValidators"),ui=new Y("NgAsyncValidators");function U0(n){return null!=n}function j0(n){return sa(n)?wt(n):n}function H0(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function $0(n,e){return e.map(t=>t(n))}function z0(n){return n.map(e=>function pV(n){return!n.validate}(e)?e:t=>e.validate(t))}function Vp(n){return null!=n?function G0(n){if(!n)return null;const e=n.filter(U0);return 0==e.length?null:function(t){return H0($0(t,e))}}(z0(n)):null}function Up(n){return null!=n?function W0(n){if(!n)return null;const e=n.filter(U0);return 0==e.length?null:function(t){return function lV(...n){const e=bm(n),{args:t,keys:r}=M0(n),i=new ct(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;dn(t[u]).subscribe(ut(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?T0(r,a):a),s.complete())}))}});return e?i.pipe(A0(e)):i}($0(t,e).map(j0)).pipe(Le(H0))}}(z0(n)):null}function q0(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function jp(n){return n?Array.isArray(n)?n:[n]:[]}function au(n,e){return Array.isArray(n)?n.includes(e):n===e}function Z0(n,e){const t=jp(e);return jp(n).forEach(i=>{au(t,i)||t.push(i)}),t}function Q0(n,e){return jp(e).filter(t=>!au(n,t))}class X0{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Vp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Up(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Kt extends X0{get formDirective(){return null}get path(){return null}}class di extends X0{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class J0{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Hp=(()=>{class n extends J0{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(F(di,2))};static#t=this.\u0275dir=oe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&aa("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ie]})}return n})();const Pa="VALID",cu="INVALID",eo="PENDING",xa="DISABLED";function uu(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class rD{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Pa}get invalid(){return this.status===cu}get pending(){return this.status==eo}get disabled(){return this.status===xa}get enabled(){return this.status!==xa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Z0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Z0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Q0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Q0(e,this._rawAsyncValidators))}hasValidator(e){return au(this._rawValidators,e)}hasAsyncValidator(e){return au(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=eo,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=xa,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Pa,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pa||this.status===eo)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xa:Pa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=eo,this._hasOwnPendingAsyncValidator=!0;const t=j0(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ne,this.statusChanges=new ne}_calculateStatus(){return this._allControlsDisabled()?xa:this.errors?cu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(eo)?eo:this._anyControlsHaveStatus(cu)?cu:Pa}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){uu(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function _V(n){return Array.isArray(n)?Vp(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function wV(n){return Array.isArray(n)?Up(n):n||null}(this._rawAsyncValidators)}}const to=new Y("CallSetDisabledState",{providedIn:"root",factory:()=>du}),du="always";function Ra(n,e,t=du){(function Kp(n,e){const t=function K0(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(q0(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Y0(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(q0(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();pu(e._rawValidators,i),pu(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function bV(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&iD(n,e)})}(n,e),function EV(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function DV(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&iD(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function SV(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function pu(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function iD(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function aD(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function lD(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const cD=class extends rD{constructor(e=null,t,r){super(function Gp(n){return(uu(n)?n.validators:n)||null}(t),function Wp(n,e){return(uu(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),uu(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=lD(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){aD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){aD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){lD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},RV={provide:di,useExisting:je(()=>mu)},hD=(()=>Promise.resolve())();let mu=(()=>{class n extends di{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new cD,this._registered=!1,this.name="",this.update=new ne,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Qp(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===su?t=s:function TV(n){return Object.getPrototypeOf(n.constructor)===ji}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Zp(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ra(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){hD.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&function Gs(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}(r);hD.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function hu(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(r){return new(r||n)(F(Kt,9),F(Lt,10),F(ui,10),F(wr,10),F(Oc,8),F(to,8))};static#t=this.\u0275dir=oe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ke([RV]),Ie,Pn]})}return n})(),pD=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=sr({type:n});static#n=this.\u0275inj=Un({})}return n})();const zV={provide:wr,useExisting:je(()=>yu),multi:!0};function CD(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let yu=(()=>{class n extends ji{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=CD(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function GV(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=kt(n)))(i||n)}}();static#t=this.\u0275dir=oe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&U("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ke([zV]),Ie]})}return n})(),SD=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(CD(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||n)(F(mn),F(xr),F(yu,9))};static#t=this.\u0275dir=oe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})();const WV={provide:wr,useExisting:je(()=>ng),multi:!0};function bD(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let ng=(()=>{class n extends ji{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function qV(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=kt(n)))(i||n)}}();static#t=this.\u0275dir=oe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&U("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ke([WV]),Ie]})}return n})(),DD=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(bD(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(bD(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||n)(F(mn),F(xr),F(ng,9))};static#t=this.\u0275dir=oe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})(),n3=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=sr({type:n});static#n=this.\u0275inj=Un({imports:[pD]})}return n})(),i3=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:to,useValue:t.callSetDisabledState??du}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=sr({type:n});static#n=this.\u0275inj=Un({imports:[n3]})}return n})(),s3=(()=>{class n{constructor(){this.cardService=new Np,this.deckStorage=new vr(this.cardService),this.allCards=this.deckStorage.getAllCards(f.Any).sort((t,r)=>t.name.localeCompare(r.name)),this.filteredCards=this.allCards,this.searchTerm="",this.filterCards()}filterCards(){this.filteredCards=this.allCards.filter(t=>t.name.toLowerCase().includes(this.searchTerm.toLowerCase()))}onSearchChange(){this.filterCards()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-master-card-list"]],decls:3,vars:2,consts:[["type","text","placeholder","Search cards...",3,"ngModel","ngModelChange"],[1,""],[3,"deck"]],template:function(r,i){1&r&&(m(0,"input",0),U("ngModelChange",function(o){return i.searchTerm=o})("ngModelChange",function(){return i.onSearchChange()}),g(),m(1,"div",1),L(2,"app-deck-viewer",2),g()),2&r&&(w("ngModel",i.searchTerm),_(2),w("deck",i.filteredCards))},dependencies:[su,Hp,mu,Bp]})}return n})();function o3(n,e){1&n&&L(0,"app-xpbar",9),2&n&&w("hero",A().cardService.hero)}function a3(n,e){if(1&n){const t=te();m(0,"button",4),U("click",function(){return $(t),z(A().toggleShowDeck())}),m(1,"p"),b(2,"Show your Deck"),g()()}}function l3(n,e){if(1&n){const t=te();m(0,"button",4),U("click",function(){return $(t),z(A().toggleShowEnemyDeck())}),m(1,"p"),b(2,"Show the enemy Deck"),g()()}}function c3(n,e){1&n&&L(0,"app-relic",11),2&n&&w("relic",A().$implicit)}function u3(n,e){if(1&n&&(m(0,"div"),I(1,c3,1,1,"app-relic",10),g()),2&n){const t=e.$implicit;_(1),w("ngIf",void 0!==t)}}function d3(n,e){if(1&n&&(m(0,"div")(1,"p",12),b(2),g(),m(3,"p",12),b(4),g()()),2&n){const t=A();_(2),ze("Difficulty Level: ",t.cardService.difficulty,""),_(2),ze("Max Level: ",t.cardService.hero.maxLevel,"")}}function h3(n,e){if(1&n){const t=te();m(0,"div",13)(1,"button",14),U("click",function(){return $(t),z(A().toggleShowDeck())}),b(2,"X"),g(),L(3,"app-deck-viewer",15),g()}if(2&n){const t=A();_(3),w("deck",t.deck)}}function f3(n,e){if(1&n){const t=te();m(0,"div",13)(1,"button",14),U("click",function(){return $(t),z(A().toggleShowEnemyDeck())}),b(2,"X"),g(),L(3,"app-deck-viewer",15),g()}if(2&n){const t=A();_(3),w("deck",t.enemyDeck)}}function p3(n,e){if(1&n){const t=te();m(0,"div",13)(1,"button",14),U("click",function(){return $(t),z(A().toggleDisplayHelp())}),b(2,"X"),g(),L(3,"app-tutorial"),g()}}function g3(n,e){if(1&n){const t=te();m(0,"div",13)(1,"button",14),U("click",function(){return $(t),z(A().toggleCardList())}),b(2,"X"),g(),L(3,"app-master-card-list",16),g()}}let m3=(()=>{class n{constructor(){this.showDeck=!1,this.showEnemyDeck=!1,this.displayHelp=!1,this.showCardList=!1,this.deck=[],this.enemyDeck=[],this.relics=[],this.cardService={}}ngOnInit(){}toggleShowDeck(){this.showDeck=!this.showDeck,this.displayHelp=!1}toggleShowEnemyDeck(){this.showEnemyDeck=!this.showEnemyDeck,this.displayHelp=!1,this.showCardList=!1}toggleDisplayHelp(){this.displayHelp=!this.displayHelp,this.showDeck=!1,this.showCardList=!1}backToMainMenu(){location.reload()}toggleCardList(){this.showDeck=!1,this.showEnemyDeck=!1,this.displayHelp=!1,this.showCardList=!this.showCardList}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-header"]],inputs:{deck:"deck",enemyDeck:"enemyDeck",relics:"relics",cardService:"cardService"},decls:20,vars:9,consts:[[1,"wrapper"],[3,"hero",4,"ngIf"],["id","MenuButtons"],[3,"click",4,"ngIf"],[3,"click"],["id","Header"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","paneBg whiteFont popUp scrollBar",4,"ngIf"],[3,"hero"],[3,"relic",4,"ngIf"],[3,"relic"],[1,"whiteFont","centerText"],[1,"paneBg","whiteFont","popUp","scrollBar"],[1,"xButton",3,"click"],[1,"popUp",3,"deck"],[1,"popUp"]],template:function(r,i){1&r&&(m(0,"div",0),I(1,o3,1,1,"app-xpbar",1),m(2,"span",2),I(3,a3,3,0,"button",3),I(4,l3,3,0,"button",3),m(5,"button",4),U("click",function(){return i.toggleDisplayHelp()}),m(6,"p"),b(7,"Gemapedia"),g()(),m(8,"button",4),U("click",function(){return i.backToMainMenu()}),b(9," Back to Main Menu "),g(),m(10,"button",4),U("click",function(){return i.toggleCardList()}),m(11,"p"),b(12,"View All Cards"),g()()(),m(13,"div",5),I(14,u3,2,1,"div",6),g(),I(15,d3,5,2,"div",7),I(16,h3,4,1,"div",8),I(17,f3,4,1,"div",8),I(18,p3,4,0,"div",8),I(19,g3,4,0,"div",8),g()),2&r&&(_(1),w("ngIf","Hero Boy"!==i.cardService.hero.name),_(2),w("ngIf",i.deck.length>0),_(1),w("ngIf",i.enemyDeck.length>0),_(10),w("ngForOf",i.relics),_(1),w("ngIf",""!==i.cardService.difficultyMods),_(1),w("ngIf",i.showDeck),_(1),w("ngIf",i.showEnemyDeck),_(1),w("ngIf",i.displayHelp),_(1),w("ngIf",i.showCardList))},dependencies:[Ct,lt,Bp,D0,E0,eV,s3],styles:["#HowToPlay[_ngcontent-%COMP%]{position:fixed;left:auto;right:auto;width:80%;top:50px}.popUp[_ngcontent-%COMP%]{position:absolute;top:50px;z-index:999;scroll-behavior:auto;left:12%;right:12%;height:90%;width:80%}h3[_ngcontent-%COMP%]{margin-top:15px;font-size:30px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.scrollBar[_ngcontent-%COMP%]{overflow-y:auto}.xButton[_ngcontent-%COMP%]{position:absolute;z-index:1000;top:5px;right:5px}#Header[_ngcontent-%COMP%]{display:flex;min-height:64px}#MenuButtons[_ngcontent-%COMP%]{float:right}.wrapper[_ngcontent-%COMP%]{background-color:#0c0303;box-shadow:0 4px 2px -2px #7e7d7d}"]})}return n})();class ND{constructor(e){this.cardService=e,this.deckStorage=new vr(e)}getHeroes(){let e=[],t=new De(1,1,1,this.cardService,f.Self,O.All,!1,!1),r=new Xe([t],this.cardService),i=new rt(2,2,2,"Ser Grimith the bland",new P(2),"assets//bland.png","All your creatures get +1/+1/+1",f.Self,y.hero,[D.Colorless],!1,[r],[C.Repair],ge.Common);i.repairAmount=2,e.push(i);let s=new De(2,0,0,this.cardService,f.Self,O.All),o=new Xe([s],this.cardService),a=new Oe(this.cardService,O.All,[y.play],f.Self,[C.Ambush]),l=new Xe([a],this.cardService),c=new rt(2,4,4,"Solara the Radiant",new P(1,2,0,0),"assets//solara.png","Flying, All your creatures gain Ambush and +0/+0/+2",f.Self,y.hero,[D.Sun],!1,[o,l],[C.Flying,C.Ambush,C.Momentum],ge.Rare);e.push(c);let u=new De(1,1,1,this.cardService,f.Self,O.All),h=(new Fe([u],[H.DrawCard],this.cardService,f.Self,[y.play]),new De(-1,-1,-1,this.cardService,f.Opponent,O.All,!1,!0));h.repeatable=!0;let p=new It(Pe.Gems,1,T.Sapphire),v=new It(Pe.Gems,1,T.LionEye),S=new bt(this.cardService,[p,v],[h],{}),M=new rt(4,4,4,"Bis Bis, King of the Fish People",new P(2,0,1,0,1),"assets//bisbis.png","Pay 1 Sapphire and 1 Lion's Eye Diamond: All creatures get -1/-1/-1",f.Self,y.hero,[D.Neptune,D.MoonAndStars],!1,[S],[],ge.SuperRare);e.push(M),S.user=M;let k=new It(Pe.Gems,2,T.Gold),E=new wn(this.cardService,O.Single,f.Self),B=new bt(this.cardService,[k],[E],{}),j=new rt(3,4,2,"King Aves",new P(1,0,1,0,0,1),"assets//aves.png","Pay 2 Gold: Draw a card",f.Self,y.hero,[D.Sky,D.Neptune],!1,[B],[C.Flying],ge.SuperRare);e.push(j);let K=new De(0,3,0,this.cardService,f.Self,O.All),pe=new Oe(this.cardService,O.All,[y.play],f.Self,[C.Regenerate]),fe=new Xe([K,pe],this.cardService),Ce=new rt(5,6,4,"Terra the Grounded",new P(2,0,0,3),"assets//terra.png","All your creatures get +3 HP and gain Regenerate",f.Self,y.hero,[D.Earth],!1,[fe],[],ge.Rare);i.repairAmount=2,e.push(Ce),new De(0,0,0,this.cardService,f.Self,O.All),new It(Pe.Gems,5,T.Sapphire),new It(Pe.Gems,5,T.Emerald);let _t=new rt(4,4,4,"Swift Wing, Single Bee Swarm",new P(0,0,0,2,0,2),"assets//buck.png","",f.Self,y.hero,[D.Sky,D.Earth],!1,[],[C.Flying,C.Armorer,C.Sharpen,C.Momentum,C.Ensnare,C.Sentry],ge.Rare);_t.ensnareAmount=3,e.push(_t);let Yt=this.deckStorage.getCardByName("fire bolt",f.Self),En=this.deckStorage.getCardByName("freeze",f.Self),Dr=this.deckStorage.getCardByName("divine eyes",f.Self),W=new nB(this.cardService,[Yt,En,Dr],f.Self,y.hand),Q=new Fe([W],[H.Start],this.cardService,f.Self,[y.play]),X=new rt(5,4,8,"Mystic with No Name",new P(1,1,1,0,1),"assets//mystic.png","At the start of your turn, add a random spell to your hand from the following: Fire Bolt, Freeze, Divine Eyes",f.Self,y.hero,[D.MoonAndStars,D.Sun,D.Neptune],!1,[Q],[],ge.Rare);return e.push(X),e}getHeroDecks(e){return[]}getHeroByIndex(e){return this.getHeroes()[e]}getHeroByName(e){return this.getHeroes().find(t=>t.name===e)}}class y3{constructor(e,t){this.hero=e,this.deck=t}}function v3(n,e){if(1&n&&L(0,"img",8),2&n){const t=e.$implicit;On("src",A(2).gemBag.getImageByFaction(t),zn)}}function _3(n,e){if(1&n){const t=te();m(0,"button",6),U("click",function(){const s=$(t).$implicit;return z(A().swapHeroView(s))}),I(1,v3,1,1,"img",7),m(2,"p"),b(3),g()()}if(2&n){const t=e.$implicit;_(1),w("ngForOf",t.hero.factions),_(2),dt(t.hero.name)}}function w3(n,e){1&n&&L(0,"app-card",9),2&n&&w("card",A().selectedHero)}let OD=(()=>{class n{constructor(){this.cardService={},this.player={},this.enemy={},this.decks={},this.heroStorage={},this.selectedDeck=[],this.selectedHero={},this.heroDecks=[],this.selectDeckEvent=new ne,this.showEarth=!1,this.showFire=!1,this.showAir=!1,this.showMoon=!1,this.showWater=!1,this.blurb="",this.gemBag=new P}ngOnInit(){this.heroStorage=new ND(this.cardService),this.decks=new vr(this.cardService);let t=this.heroStorage.getHeroes();for(let r=0;r<t.length;r++){let i=t[r],s=this.decks.getHeroDeck(i),o=new y3(i,s);this.heroDecks.push(o)}}swapHeroView(t){this.blurb=this.getBlurb(t.hero.factions)+" ",this.selectedDeck=t.deck,console.log(t.hero),this.selectedHero=t.hero,this.cardService.selectedFactions=t.hero.factions,console.log("remember to remove this once the hero images are added"),this.cardService.hero=t.hero}getBlurb(t){let r="";for(let i=0;i<t.length;i++)switch(t[i]){case D.Sky:r+="Air is the faction of wisdom, flexibility, and flight. Air values freedom.";break;case D.Neptune:r+="Water is the faction of logic, knowledge, and change. Water values truth.";break;case D.Sun:r+="Fire is the faction of offense, impulse, and emotion. Fire values passion.";break;case D.MoonAndStars:r+="Moon and Stars is the faction of life, death, and the cosmos. They value mystery and paradox.";break;case D.Earth:r+="Earth is the faction of loyalty, hardiness, and mining. Earth values order.";break;default:r+="Colorless is neutral and mercenary. They pretty much only care about gold."}return r}swapView(t){switch(this.showAir=!1,this.showEarth=!1,this.showFire=!1,this.showWater=!1,this.showMoon=!1,t){case"air":this.showAir=!0,this.cardService.selectedFactions=[D.Sky],this.selectedDeck=this.decks.airDeck(f.Self),this.blurb="Air is the faction of wisdom, flexibility, and flight. Air values freedom.";break;case"water":this.showWater=!0,this.cardService.selectedFactions=[D.Neptune],this.selectedDeck=this.decks.waterDeck(f.Self),this.blurb="Water is the faction of logic, knowledge, and change. Water values truth.";break;case"fire":this.showFire=!0,this.cardService.selectedFactions=[D.Sun],this.selectedDeck=this.decks.fireDeck(f.Self),this.blurb="Fire is the faction of offense, impulse, and emotion. Fire values passion.";break;case"moon":this.showMoon=!0,this.cardService.selectedFactions=[D.MoonAndStars],this.selectedDeck=this.decks.starDeck(f.Self),this.blurb="Moon and Stars is the faction of life, death, and the cosmos. They value mystery and paradox.";break;case"earth":this.showEarth=!0,this.cardService.selectedFactions=[D.Earth],this.selectedDeck=this.decks.earthDeck(f.Self),this.blurb="Earth is the faction of loyalty, hardiness, and mining. Earth values order."}this.selectedDeck.push(...this.decks.getRandomNeutralCards(f.Self))}showDeck(){return this.showFire||this.showAir||this.showEarth||this.showMoon||this.showWater}deckChoosen(){this.selectDeckEvent.emit(this.selectedDeck)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-deck-picker"]],inputs:{cardService:"cardService",player:"player",enemy:"enemy"},outputs:{selectDeckEvent:"selectDeckEvent"},decls:11,vars:4,consts:[[1,"centerText"],[1,"iconRow","centerElement"],[3,"click",4,"ngFor","ngForOf"],[1,"centerElement",3,"click"],["class","centerElement","id","HeroDisplay",3,"card",4,"ngIf"],[1,"centerElement",2,"width","fit-content",3,"deck"],[3,"click"],["class","iconDimensions",3,"src",4,"ngFor","ngForOf"],[1,"iconDimensions",3,"src"],["id","HeroDisplay",1,"centerElement",3,"card"]],template:function(r,i){1&r&&(m(0,"h2",0),b(1,"Select which deck you want to play"),g(),m(2,"div",1),I(3,_3,4,2,"button",2),g(),m(4,"div")(5,"button",3),U("click",function(){return i.deckChoosen()}),b(6,"Select this deck"),g(),I(7,w3,1,1,"app-card",4),g(),m(8,"p",0),b(9),g(),L(10,"app-deck-viewer",5)),2&r&&(_(3),w("ngForOf",i.heroDecks),_(4),w("ngIf",i.selectedHero),_(2),dt(i.blurb),_(1),w("deck",i.selectedDeck))},dependencies:[Ct,lt,Xn,Bp],styles:[".popUp[_ngcontent-%COMP%]{position:fixed;top:50px;z-index:999999;scroll-behavior:auto;left:7%;right:15%}button[_ngcontent-%COMP%]{margin-bottom:10px}.iconDimensions[_ngcontent-%COMP%]{width:2rem}.iconRow[_ngcontent-%COMP%]{display:flex;justify-content:center}#HeroDisplay[_ngcontent-%COMP%]{width:150px;font-size:medium}"]})}return n})();var Ae=function(n){return n[n.Random=0]="Random",n[n.Event=1]="Event",n[n.Battle=2]="Battle",n[n.Relic=3]="Relic",n[n.Pack=4]="Pack",n[n.Boss=5]="Boss",n}(Ae||{});class S3{constructor(e,t){this.nodes=[],this.columnPos=e,this.nodes=t}}class Bt{constructor(e,t,r,i,s){this.nextNodes=[],this.rewards=[],this.image="",this.description="",this.nodeType=e,this.difficulty=t,this.nodePos=i,void 0!==s&&(this.rewards=s),this.image=this.getImage(),this.cardService=r,this.decks=new vr(this.cardService),this.setDescription()}setDescription(){switch(this.nodeType){case Ae.Random:this.description="Random - Anything can happen";break;case Ae.Battle:this.description="Battle - Fight a horde, get a reward";break;case Ae.Relic:this.description="Relic Chest - Gain a permanent passive buff";break;case Ae.Boss:this.description="Boss Battle - A harder fight, bosses gain randomized boosts";break;case Ae.Event:this.description="Event - Anything can happen";break;case Ae.Pack:this.description="Pack - Choose 1 of 6 cards"}}getImage(){let e="assets/";switch(this.nodeType){case Ae.Random||Ae.Event:return e+"random.png";case Ae.Battle:return e+"battle.png";case Ae.Relic:return e+"chest.png";case Ae.Boss:return e+"boss.png";case Ae.Pack:return e+"pack.png";default:return""}}makeEnemyDeck(){let e=this.cardService.difficulty,t=Math.floor(6*Math.random());this.decks.cardAmount=2;let r=this.decks.getEnemyDeck(e,1,t);this.decks.cardAmount=4,new ru(this.cardService),this.cardService.cardList.push(...r)}makeBossDeck(){let e=this.cardService.difficulty,t=new ru(this.cardService),r=Math.floor(6*Math.random()),i=this.decks.getEnemyDeck(e,1,r);this.cardService.cardList.push(...i),t.applyDifficultyBossBoosters(3,r)}Visit(e){switch(this.nodeType){case Ae.Random:break;case Ae.Battle:this.makeEnemyDeck();break;case Ae.Relic:break;case Ae.Boss:this.makeBossDeck()}}}function b3(n,e){if(1&n&&(m(0,"div",15),b(1),g()),2&n){const t=A().$implicit;_(1),ze(" ",t.description," ")}}const D3=function(n,e){return{nodeImage:n,prevNode:e}};function E3(n,e){if(1&n){const t=te();m(0,"div",12),U("click",function(){const s=$(t).$implicit,o=A().$implicit,a=A(2);return z(o.columnPos===a.cardService.currentPos?a.selectNode(s):null)})("mouseenter",function(){const s=$(t).$implicit;return z(A(3).showDescription=s.description)})("mouseleave",function(){return $(t),z(A(3).showDescription="")}),L(1,"img",13),I(2,b3,2,1,"div",14),g()}if(2&n){const t=e.$implicit,r=A().$implicit,i=A(2);w("ngClass",pa(3,D3,r.columnPos===i.cardService.currentPos,r.columnPos<i.cardService.currentPos)),_(1),w("src",t.image,zn),_(1),w("ngIf",i.showDescription===t.description)}}function M3(n,e){if(1&n&&(m(0,"div"),I(1,E3,3,6,"div",11),g()),2&n){const t=e.$implicit;_(1),w("ngForOf",t.nodes)}}function A3(n,e){if(1&n&&(m(0,"div",9),I(1,M3,2,1,"div",10),g()),2&n){const t=A();_(1),w("ngForOf",t.displayNodes)}}function T3(n,e){1&n&&(m(0,"div",16)(1,"h2",6),b(2,"You Win the game! Thanks for playing!"),g()())}let k3=(()=>{class n{constructor(){this.player={},this.cardService={},this.enemyDeckEvent=new ne,this.packSelectEvent=new ne,this.relicSelectEvent=new ne,this.enemyDeck=[],this.currentPos=0,this.nodes=[],this.displayNodes=[],this.showDescription=""}ngOnInit(){this.player.cardService=this.cardService,this.nodes=[new Bt(Ae.Relic,1,this.cardService,0),new Bt(Ae.Pack,1,this.cardService,0),new Bt(Ae.Battle,1,this.cardService,1),new Bt(Ae.Pack,1,this.cardService,2),new Bt(Ae.Battle,1,this.cardService,3),new Bt(Ye(2,4),1,this.cardService,4),new Bt(Ye(2,4),1,this.cardService,4),new Bt(Ye(2,4),1,this.cardService,5),new Bt(Ye(2,4),1,this.cardService,5),new Bt(Ye(2,4),1,this.cardService,6),new Bt(Ye(2,4),1,this.cardService,6),new Bt(Ye(2,4),1,this.cardService,6),new Bt(Ae.Battle,1,this.cardService,7),new Bt(Ae.Relic,1,this.cardService,8),new Bt(Ye(1,5),1,this.cardService,9),new Bt(Ae.Boss,1,this.cardService,10)],this.getDisplayNodes()}getDisplayNodes(){let t=Math.max(...this.nodes.map(r=>r.nodePos),0);for(let r=0;r<=t;r++){let i=this.nodes.filter(s=>s.nodePos===r);this.displayNodes.push(new S3(r,i))}}selectNode(t){t.nodePos===this.cardService.currentPos&&(t.Visit(this.player),this.cardService.currentPos++,t.nodeType===Ae.Battle?this.enemyDeckEvent.emit():t.nodeType===Ae.Relic?this.relicSelectEvent.emit():t.nodeType===Ae.Boss?this.enemyDeckEvent.emit():t.nodeType===Ae.Pack&&this.packSelectEvent.emit())}getFutureNodes(){return this.nodes.filter(r=>r.nodePos>this.player.currentPos)}getCurrentNodes(){return this.nodes.filter(r=>r.nodePos===this.player.currentPos)}getPreviousNodes(){return this.nodes.filter(r=>r.nodePos<this.player.currentPos)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-map"]],inputs:{player:"player",cardService:"cardService",currentPos:"currentPos"},outputs:{enemyDeckEvent:"enemyDeckEvent",packSelectEvent:"packSelectEvent",relicSelectEvent:"relicSelectEvent"},decls:28,vars:2,consts:[[1,"mapColors","legend"],["src","assets/battle.png",1,"centerElement"],["src","assets/random.png",1,"centerElement"],["src","assets/chest.png",1,"centerElement"],["src","assets/pack.png",1,"centerElement"],["src","assets/boss.png",1,"centerElement"],[1,"whiteFont","centerText"],["class","mapColors cardRow","style","margin-left: auto; margin-right: auto; width: 70%;",4,"ngIf","ngIfElse"],["youWin",""],[1,"mapColors","cardRow",2,"margin-left","auto","margin-right","auto","width","70%"],[4,"ngFor","ngForOf"],["class","node-container",3,"ngClass","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],[1,"node-container",3,"ngClass","click","mouseenter","mouseleave"],[3,"src"],["class","node-popup",4,"ngIf"],[1,"node-popup"],[1,"mapColors"]],template:function(r,i){if(1&r&&(m(0,"div",0)(1,"h2"),b(2,"Legend"),g(),L(3,"br"),m(4,"p"),b(5,"Battle"),g(),L(6,"img",1)(7,"br"),m(8,"p"),b(9,"Random Event"),g(),L(10,"img",2)(11,"br"),m(12,"p"),b(13,"Relics"),g(),L(14,"img",3)(15,"br"),m(16,"p"),b(17,"Card Pack"),g(),L(18,"img",4)(19,"br"),m(20,"p"),b(21,"Boss Battle"),g(),L(22,"img",5),g(),m(23,"h2",6),b(24,"Select where you want to go on the map"),g(),I(25,A3,2,1,"div",7),I(26,T3,3,0,"ng-template",null,8,Ri)),2&r){const s=Ai(27);_(25),w("ngIf",i.currentPos<11)("ngIfElse",s)}},dependencies:[qs,Ct,lt],styles:[".prevNode[_ngcontent-%COMP%]{opacity:.3}.legend[_ngcontent-%COMP%]{border:solid 5px black;padding:10px;float:right;width:10rem;text-align:center}.nodeImage[_ngcontent-%COMP%]{cursor:pointer;animation:_ngcontent-%COMP%_shrinkGrow 1.5s infinite ease-in-out;transition:transform .3s ease}@keyframes _ngcontent-%COMP%_shrinkGrow{0%{transform:scale(1.4)}50%{transform:scale(1)}to{transform:scale(1.4)}}.column[_ngcontent-%COMP%]{flex-direction:column}.node-container[_ngcontent-%COMP%]{position:relative}.node-popup[_ngcontent-%COMP%]{position:absolute;top:50px;left:50%;transform:translate(-50%);background-color:#fff;border:1px solid #ccc;z-index:10;width:200px;box-shadow:0 4px 8px #0003;font-size:14px;display:none;font-size:.7rem;width:10rem;height:auto;border:white solid 2px;background-image:linear-gradient(to bottom left,rgb(0,0,0),rgb(87,87,87));color:#fff;padding:5px 10px;border-radius:5px;font-family:Verdana,Geneva,Tahoma,sans-serif}.node-container[_ngcontent-%COMP%]:hover   .node-popup[_ngcontent-%COMP%]{display:block}"]})}return n})(),I3=(()=>{class n{constructor(){this.tutorialEvent=new ne,this.newGameEvent=new ne,this.debugEvent=new ne,this.glossaryEvent=new ne,this.survivalEvent=new ne,this.gemBag=new P(0,1,1,1,1,1)}tutorial(){this.tutorialEvent.emit()}newGame(){this.newGameEvent.emit()}debug(){this.debugEvent.emit()}glossary(){this.glossaryEvent.emit()}survival(){this.survivalEvent.emit()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-main-menu"]],outputs:{tutorialEvent:"tutorialEvent",newGameEvent:"newGameEvent",debugEvent:"debugEvent",glossaryEvent:"glossaryEvent",survivalEvent:"survivalEvent"},decls:15,vars:2,consts:[[1,"mapColors","centerElement","mainMenuWidth"],[1,"cardRow",2,"justify-content","center"],[1,"gemIcon",3,"bag","imgWidth"],["id","mainTitle",1,"centerText"],["id","NewGameButton",1,"centerElement","buttonWidth",3,"click"],[1,"centerElement","buttonWidth",3,"click"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1),L(2,"app-gembag",2),g(),m(3,"h1",3),b(4,"Super Gem Bag Wars"),g(),L(5,"br"),m(6,"button",4),U("click",function(){return i.survival()}),b(7,"New Game"),g(),L(8,"br"),m(9,"button",5),U("click",function(){return i.debug()}),b(10,"Debug Mode"),g(),L(11,"br"),m(12,"button",5),U("click",function(){return i.tutorial()}),b(13,"Tutorial"),g(),L(14,"br"),g()),2&r&&(_(2),w("bag",i.gemBag)("imgWidth",96))},dependencies:[Ia],styles:[".mainMenuWidth[_ngcontent-%COMP%]{width:80%;padding:10% 10px}.buttonWidth[_ngcontent-%COMP%]{width:10%}#mainTitle[_ngcontent-%COMP%]{font-size:200%;font-weight:700;text-shadow:6px 2px 1px #52470a66}#NewGameButton[_ngcontent-%COMP%]{width:13%}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}"]})}return n})();function P3(n,e){if(1&n&&(m(0,"option",4),b(1),g()),2&n){const t=e.$implicit;w("value",e.index),_(1),dt(t.name)}}function x3(n,e){if(1&n&&(m(0,"option",4),b(1),g()),2&n){const t=e.$implicit;w("value",e.index),_(1),dt(t.name)}}function R3(n,e){if(1&n&&(m(0,"option",4),b(1),g()),2&n){const t=e.$implicit;w("value",e.index),_(1),dt(t.name)}}function N3(n,e){if(1&n&&(m(0,"option",4),b(1),g()),2&n){const t=e.$implicit;w("value",e.index),_(1),dt(t.name)}}let O3=(()=>{class n{constructor(){this.cardService={},this.deckStorage={},this.relicStorage={},this.heroStorage={},this.filterText="",this.selectedCard={},this.selectedRelic={},this.selectedHero={},this.selectedIndex=0,this.selectedRelicIndex=0,this.selectedHeroIndex=0,this.allCards=[],this.allRelics=[],this.allHeroes=[]}ngOnInit(){this.deckStorage=new vr(this.cardService),this.relicStorage=new Aa(this.cardService),this.heroStorage=new ND(this.cardService),this.allCards=this.deckStorage.getAllCards(f.Any);let r=new mr(this.cardService).getAllMines();for(let c=0;c<r.length;c++){let u=r[c];u.zone=y.hand,u.owner=f.Self}let s=this.deckStorage.getCardByName("Fire Bolt",f.Self);s&&(s.zone=y.hand,this.cardService.cardList.push(s));let o=this.deckStorage.getCardByName("Stone Form",f.Self);o&&(o.zone=y.hand,this.cardService.cardList.push(o));let a=this.deckStorage.getCardByName("Find Loot",f.Self);a&&(a.zone=y.hand,this.cardService.cardList.push(a));let l=this.deckStorage.getCardByName("Death Beam",f.Self);l&&(l.zone=y.hand,this.cardService.cardList.push(l)),this.allRelics=this.relicStorage.getAllRelics(),this.allHeroes=this.heroStorage.getHeroes()}addHero(){this.selectedHero=this.allHeroes[this.selectedHeroIndex];let t={};this.selectedHero&&(t=(new Bi).copyHero(this.selectedHero),t.cost=new P(0,0,0,0,0,0),t.zone=y.hero,t.owner=f.Self,this.cardService.hero=t)}addCard(t){this.selectedCard=this.allCards[this.selectedIndex],this.selectedCard.owner=t;let r={};if(this.selectedCard){let i=new Bi;switch(this.selectedCard.type){case R.Creature:r=i.copyCreature(this.selectedCard);break;case R.Spell:r=i.copySpell(this.selectedCard);break;case R.Mine:r=i.copyMine(this.selectedCard)}r.cost=new P(0,0,0,0,0,0),r.owner=t,t===f.Self?r.zone=y.hand:t===f.Opponent&&(r.zone=y.deck),this.cardService.cardList.push(r)}}addRelic(){let t=this.allRelics[this.selectedRelicIndex],r=this.cardService.playerService.player,i=new Bi;r.addRelic(i.copyRelic(t))}filterCards(t){return""==t?this.allCards:this.allCards.filter(r=>r.name.toLowerCase().includes(t.toLowerCase()))}increaseXp(){this.cardService.hero.addXP(10)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-debug"]],inputs:{cardService:"cardService"},decls:25,vars:8,consts:[[1,"whiteFont"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"click"],[3,"value"]],template:function(r,i){1&r&&(m(0,"div")(1,"p",0),b(2,"Add to player"),g(),m(3,"select",1),U("ngModelChange",function(o){return i.selectedRelicIndex=o}),I(4,P3,2,2,"option",2),g(),m(5,"button",3),U("click",function(){return i.addRelic()}),b(6,"Add Relic"),g(),L(7,"br"),m(8,"select",1),U("ngModelChange",function(o){return i.selectedIndex=o}),I(9,x3,2,2,"option",2),g(),m(10,"button",3),U("click",function(){return i.addCard(2)}),b(11,"Add Card"),g(),m(12,"select",1),U("ngModelChange",function(o){return i.selectedHeroIndex=o}),I(13,R3,2,2,"option",2),g(),m(14,"button",3),U("click",function(){return i.addHero()}),b(15,"Add Hero"),g(),m(16,"button",3),U("click",function(){return i.increaseXp()}),b(17,"Increase XP"),g()(),m(18,"div")(19,"p",0),b(20,"Add to Enemy Deck"),g(),m(21,"select",1),U("ngModelChange",function(o){return i.selectedIndex=o}),I(22,N3,2,2,"option",2),g(),m(23,"button",3),U("click",function(){return i.addCard(1)}),b(24,"Add Card"),g()()),2&r&&(_(3),w("ngModel",i.selectedRelicIndex),_(1),w("ngForOf",i.allRelics),_(4),w("ngModel",i.selectedIndex),_(1),w("ngForOf",i.allCards),_(3),w("ngModel",i.selectedHeroIndex),_(1),w("ngForOf",i.allHeroes),_(8),w("ngModel",i.selectedIndex),_(1),w("ngForOf",i.allCards))},dependencies:[Ct,SD,DD,yu,Hp,mu]})}return n})();function F3(n,e){if(1&n){const t=te();m(0,"app-relic",5),U("click",function(){const s=$(t).$implicit;return z(A(2).selectRelic(s))}),g()}2&n&&w("relic",e.$implicit)}function L3(n,e){if(1&n&&(m(0,"div"),I(1,F3,1,1,"app-relic",4),g()),2&n){const t=A();_(1),w("ngForOf",t.relics)}}let B3=(()=>{class n{constructor(){this.cardService={},this.factions=[],this.mode=d0.Random,this.rewardTypes=[],this.selectedRelic=new ne,this.proceed=new ne,this.relicManager={},this.cardFactory=new mr(this.cardService),this.rewards=[],this.showRelics=!1,this.relics=[]}ngOnInit(){this.relicManager=new Aa(this.cardService),this.getRelics()}getRelics(){this.relics=[];for(let t=0;t<3;t++){let r=this.relicManager.getRandomRelic();this.relics.includes(r)?t--:this.relics.push(r)}}selectRelic(t){this.getRelics(),this.selectedRelic.emit(t)}done(){this.relics=[],this.getRelics(),this.proceed.emit()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-chest"]],inputs:{cardService:"cardService",factions:"factions",mode:"mode",rewardTypes:"rewardTypes",showRelics:"showRelics"},outputs:{selectedRelic:"selectedRelic",proceed:"proceed"},decls:5,vars:1,consts:[[1,"mainMargins","mapColors","centerElement"],[1,"centerElement","relicBar"],[1,"centerText"],[4,"ngIf"],["class","relic",3,"relic","click",4,"ngFor","ngForOf"],[1,"relic",3,"relic","click"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"h2",2),b(3,"Select a new Relic"),g(),I(4,L3,2,1,"div",3),g()()),2&r&&(_(4),w("ngIf",!0===i.showRelics))},dependencies:[Ct,lt,E0],styles:[".relic[_ngcontent-%COMP%]{cursor:pointer;margin-left:15px;margin-right:15px}.relicBar[_ngcontent-%COMP%]{width:26%}"]})}return n})();function V3(n,e){if(1&n){const t=te();m(0,"app-card",5),U("click",function(){const s=$(t).$implicit;return z(A(2).selectCard(s))}),g()}2&n&&w("card",e.$implicit)}function U3(n,e){if(1&n&&(m(0,"div")(1,"h2",2),b(2,"Select a new card for your deck"),g(),m(3,"div",3),I(4,V3,1,1,"app-card",4),g()()),2&n){const t=A();_(4),w("ngForOf",t.displayCards)}}let j3=(()=>{class n{constructor(){this.cardservice={},this.cardAmount=6,this.faction=D.Any,this.showCards=!0,this.cardSelectedEvent=new ne,this.proceed=new ne,this.deckStorage={},this.displayCards=[]}ngOnInit(){this.deckStorage=new vr(this.cardservice),this.getCards(),this.showCards=!0}getCards(){this.displayCards=[];let t=this.deckStorage.getStarterDeck(f.Self,this.cardservice.selectedFactions),r=new Bi;for(let i=0;i<this.cardAmount;i++){let s=Ye(0,t.length),o=t[s];if(!this.displayCards.includes(o)){let a;switch(o.type){case R.Creature:a=r.copyCreature(o);break;case R.Spell:a=r.copySpell(o);break;case R.Mine:a=r.copyMine(o);break;case R.Hero:a=r.copyHero(o)}this.displayCards.push(o),t.slice(s,1)}}}selectCard(t){this.cardservice.cardList.push(t),this.getCards(),this.cardSelectedEvent.emit(t),this.done()}done(){this.proceed.emit()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-pack"]],inputs:{cardservice:"cardservice",cardAmount:"cardAmount",faction:"faction",showCards:"showCards"},outputs:{cardSelectedEvent:"cardSelectedEvent",proceed:"proceed"},decls:2,vars:1,consts:[[1,"mapColors"],[4,"ngIf"],[1,"centerText"],["id","PackCenter",1,"selectCard","cardRow"],[3,"card","click",4,"ngFor","ngForOf"],[3,"card","click"]],template:function(r,i){1&r&&(m(0,"div",0),I(1,U3,5,1,"div",1),g()),2&r&&(_(1),w("ngIf",i.showCards))},dependencies:[Ct,lt,Xn],styles:[".selectCard[_ngcontent-%COMP%]:hover{cursor:pointer}.packHeight[_ngcontent-%COMP%]{min-height:80%}#PackCenter[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:80%}"]})}return n})(),FD=(()=>{class n{constructor(){this.cardService={},this.upgrade={},this.selected=new ne,this.displayCard={},this.upgradedCard={},this.deckstorage=new vr(this.cardService),this.kTip=new Da}ngOnInit(){this.displayCard=this.cardService.getCardName(this.upgrade.name,f.Self),this.upgradedCard.abilities=this.displayCard.abilities,this.upgradedCard=this.deckstorage.getCardByName(this.displayCard.name,f.Self),this.upgradedCard instanceof V&&this.displayCard instanceof V&&(this.upgradedCard.attack=this.displayCard.attack,this.upgradedCard.hp=this.displayCard.hp,this.upgradedCard.speed=this.displayCard.speed,this.upgradedCard.keywords=this.displayCard.keywords),this.upgrade.applyUpgrade(this.upgradedCard)}select(){this.selected.emit(this.upgrade)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-upgrade"]],inputs:{cardService:"cardService",upgrade:"upgrade"},outputs:{selected:"selected"},decls:12,vars:5,consts:[[1,"centerText",2,"color","yellow"],[1,"row","centerElement"],[1,"",3,"card"],[1,""],[1,"",3,"card","compareCard"],[3,"click"]],template:function(r,i){1&r&&(m(0,"p",0),b(1),g(),m(2,"p"),b(3),g(),m(4,"div",1),L(5,"app-card",2),m(6,"p",3),b(7," ==>"),g(),L(8,"app-card",4),g(),m(9,"button",5),U("click",function(){return i.select()}),b(10,"Upgrade"),g(),L(11,"br")),2&r&&(_(1),dt(i.upgrade.name),_(2),dt(i.upgrade.description),_(2),w("card",i.displayCard),_(3),w("card",i.upgradedCard)("compareCard",i.displayCard))},dependencies:[Xn],styles:[".row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-evenly}.row-center[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center}.row-start[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.row-end[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-end}"]})}return n})();function H3(n,e){if(1&n){const t=te();m(0,"div")(1,"app-chest",3),U("selectedRelic",function(i){return $(t),z(A(2).outputRelic(i))}),g()()}if(2&n){const t=A(2);_(1),w("showRelics",1===t.currentReward)("factions",t.factions)("cardService",t.cardService)}}function $3(n,e){if(1&n){const t=te();m(0,"div")(1,"app-pack",4),U("cardSelectedEvent",function(i){return $(t),z(A(2).outputCard(i))}),g()()}if(2&n){const t=A(2);_(1),w("showCards",0===t.currentReward)("cardservice",t.cardService)}}function z3(n,e){if(1&n&&(m(0,"div"),L(1,"app-upgrade",5),g()),2&n){const t=A(2);_(1),w("cardService",t.cardService)}}function G3(n,e){if(1&n&&(m(0,"div")(1,"p",2),b(2),g(),m(3,"p",2),b(4),g(),I(5,H3,2,3,"div",0),I(6,$3,2,2,"div",0),I(7,z3,2,1,"div",0),g()),2&n){const t=A();_(2),ki("Reward Number: ",t.rewardsReceived+1,"/",t.rewardMax,""),_(2),ze("Reward Roll: ",t.currentReward,""),_(1),w("ngIf",1===t.currentReward),_(1),w("ngIf",0===t.currentReward),_(1),w("ngIf",2===t.currentReward)}}let LD=(()=>{class n{constructor(){this.cardService={},this.rewardMax=3,this.rewardsReceived=0,this.factions=[],this.currentReward=Li.Card,this.proceed=new ne,this.relicSelected=new ne,this.cardSelected=new ne}selectRandomReward(){Math.floor(2*Math.random()),this.currentReward=1}reset(){this.rewardsReceived=0}outputRelic(t){this.relicSelected.emit(t),this.done()}outputCard(t){this.cardSelected.emit(t),this.done()}done(){this.rewardsReceived<this.rewardMax?(this.rewardsReceived++,this.selectRandomReward(),this.rewardsReceived>=this.rewardMax&&this.proceed.emit()):this.proceed.emit()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-reward"]],inputs:{cardService:"cardService",rewardMax:"rewardMax",factions:"factions",currentReward:"currentReward"},outputs:{proceed:"proceed",relicSelected:"relicSelected",cardSelected:"cardSelected"},decls:3,vars:1,consts:[[4,"ngIf"],[1,"centerElement",3,"click"],[1,"whiteFont",2,"text-align","center"],[3,"showRelics","factions","cardService","selectedRelic"],[3,"showCards","cardservice","cardSelectedEvent"],[3,"cardService"]],template:function(r,i){1&r&&(I(0,G3,8,6,"div",0),m(1,"button",1),U("click",function(){return i.done()}),b(2,"Skip"),g()),2&r&&w("ngIf",i.rewardsReceived<i.rewardMax)},dependencies:[lt,B3,j3,FD]})}return n})();function W3(n,e){if(1&n){const t=te();m(0,"div")(1,"app-card",3),U("click",function(){return $(t),z(A().toggleShowDiscard())}),g()()}if(2&n){const t=A();_(1),w("card",t.discardedCards[t.discardedCards.length-1])}}function q3(n,e){1&n&&L(0,"app-card",9),2&n&&w("card",e.$implicit)}function K3(n,e){if(1&n){const t=te();m(0,"div",4)(1,"p",5),b(2,"Discard Pile"),g(),m(3,"button",6),U("click",function(){return $(t),z(A().toggleShowDiscard())}),b(4,"X"),g(),m(5,"div",7),I(6,q3,1,1,"app-card",8),g()()}if(2&n){const t=A();_(6),w("ngForOf",t.discardedCards)}}let BD=(()=>{class n{constructor(){this.showDiscard=!1,this.controller=f.Any,this.cardService={},this.discardedCards=[]}toggleShowDiscard(){this.showDiscard=!this.showDiscard}getGraveyard(){return this.discardedCards}getTopCard(){return this.discardedCards.length>0?this.discardedCards[this.discardedCards.length-1]:{}}isEmpty(){return 0===this.discardedCards.length}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-discard-pile"]],inputs:{controller:"controller",cardService:"cardService",discardedCards:"discardedCards"},decls:3,vars:2,consts:[[1,"cardDimensions","discardPile"],[4,"ngIf"],["class"," uiPanel","id","DiscardPane",4,"ngIf"],[3,"card","click"],["id","DiscardPane",1,"uiPanel"],[1,"whiteFont"],[3,"click"],[1,"cardRow"],["style","padding: 5px;",3,"card",4,"ngFor","ngForOf"],[2,"padding","5px",3,"card"]],template:function(r,i){1&r&&(m(0,"div",0),I(1,W3,2,1,"div",1),g(),I(2,K3,7,1,"div",2)),2&r&&(_(1),w("ngIf",i.discardedCards.length>0),_(1),w("ngIf",i.showDiscard))},dependencies:[Ct,lt,Xn],styles:[".pileDimensions[_ngcontent-%COMP%]{min-height:230px;width:auto;min-width:165px;max-width:auto;z-index:1001;border-radius:3%}.emptyWidth[_ngcontent-%COMP%]{width:165px}.cardMargin[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}.cardRow[_ngcontent-%COMP%]{flex-wrap:wrap}#DiscardPane[_ngcontent-%COMP%]{position:fixed;top:0%;left:0%;border:solid 1px white;background-color:#000;padding:12px;z-index:100}"]})}return n})();function Y3(n,e){1&n&&L(0,"img",3)}const Z3=function(n){return{width:n}};function Q3(n,e){if(1&n&&(m(0,"div",1),I(1,Y3,1,0,"img",2),g()),2&n){const t=A();w("ngStyle",qn(2,Z3,t.getWallLength())),_(1),w("ngForOf",t.calcDisplay())}}let VD=(()=>{class n{constructor(){this.wall={}}calcDisplay(){let t=this.wall.hp/5;return t=Math.ceil(t),t<0&&(t=0),Array(t).fill(0)}getWallLength(){return 24*Math.ceil(this.wall.hp/5)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-wall"]],inputs:{wall:"wall"},decls:4,vars:2,consts:[["class","cardRow wallSpacing",3,"ngStyle",4,"ngIf"],[1,"cardRow","wallSpacing",3,"ngStyle"],["class","","width","24px","height","24px","src","assets/wall.png",4,"ngFor","ngForOf"],["width","24px","height","24px","src","assets/wall.png",1,""]],template:function(r,i){1&r&&(m(0,"div")(1,"p"),b(2),g(),I(3,Q3,2,4,"div",0),g()),2&r&&(_(2),ze("Wall HP: ",i.wall.hp,""),_(1),w("ngIf",i.calcDisplay().length>0))},dependencies:[Ct,lt,Ks],styles:[".wallSpacing[_ngcontent-%COMP%]{justify-content:center}"]})}return n})();function X3(n,e){if(1&n&&(m(0,"div"),L(1,"app-tool-tip",15),g()),2&n){const t=e.$implicit,r=A(2);_(1),w("title",r.kToolTip.getToolTipName(t))("text",r.kToolTip.getTooltip(t))}}const J3=function(n,e){return{"top.px":n,"left.px":e}};function eU(n,e){if(1&n&&(m(0,"div",14),I(1,X3,2,2,"div",13),g()),2&n){const t=A();w("ngStyle",pa(2,J3,t.popupY1,t.popupX1)),_(1),w("ngForOf",t.card.keywords)}}function tU(n,e){1&n&&L(0,"img",16),2&n&&On("src",A().card.image,zn)}function nU(n,e){if(1&n&&(m(0,"span",17),L(1,"img",18),b(2,": "),m(3,"span",19),b(4),g(),L(5,"img",20),b(6,": "),m(7,"span",19),b(8),g(),L(9,"img",21),b(10,": "),m(11,"span",19),b(12),g()()),2&n){const t=A();_(3),w("ngStyle",t.getStatStyle(t.card,"atk")),_(1),dt(t.converter.convertToCreature(t.card).attack),_(3),w("ngStyle",t.getStatStyle(t.card,"hp")),_(1),dt(t.converter.convertToCreature(t.card).hp),_(3),w("ngStyle",t.getStatStyle(t.card,"spd")),_(1),ze(" ",t.converter.convertToCreature(t.card).speed,"")}}function rU(n,e){if(1&n&&(m(0,"span")(1,"p",17),b(2,"INCOME: "),L(3,"app-gembag",22),g()()),2&n){const t=A();_(3),w("bag",t.converter.convertToMine(t.card).incomeBag)}}function iU(n,e){1&n&&L(0,"img",23)}function sU(n,e){1&n&&L(0,"img",24)}function oU(n,e){if(1&n){const t=te();m(0,"button",25),U("click",function(){return $(t),z(A().select())}),b(1),g()}if(2&n){const t=A();_(1),ze("Target ",t.card.name,"")}}function aU(n,e){if(1&n){const t=te();m(0,"button",28),U("click",function(){return $(t),z(A().$implicit.doEffects())}),b(1,"Ability"),g()}}function lU(n,e){1&n&&(m(0,"button",30),b(1,"Ability"),g())}function cU(n,e){1&n&&I(0,lU,2,0,"button",29),2&n&&w("ngIf",1!==A(2).card.owner)}function uU(n,e){if(1&n&&(m(0,"div"),I(1,aU,2,0,"button",26),I(2,cU,1,1,"ng-template",null,27,Ri),g()),2&n){const t=e.$implicit,r=Ai(3),i=A();_(1),w("ngIf",i.card.hasActivatedAbility()&&t.canAffordCosts(i.card)&&2===i.card.owner)("ngIfElse",r)}}const UD=function(n){return{backgroundColor:n}},dU=function(n,e,t,r,i){return{awake:n,asleep:e,dead:t,blocked:r,blocking:i}},hU=function(){return{backgroundColor:"black"}};let jD=(()=>{class n{constructor(t){this.fcs=t,this.card={},this.cardEmitter=new ne,this.bgColor="grey",this.fgColor="#cccccc",this.gradientColor="radialGradient(bgColor, gradientColor)",this.type=R[this.card.type],this.selected=!1,this.kToolTip=new Da,this.converter=new Ta,this.popupVisible=!1,this.popupX1=100,this.popupY1=100}ngOnInit(){this.bgColor=this.fcs.getBgColor(this.card.factions[0]),this.fgColor=this.fcs.getFgColor(this.card.factions[0]),this.gradientColor=`radialGradient(${this.bgColor}, ${this.fgColor})`}select(){this.cardEmitter.emit(this.card)}getTypeString(t){return R[t]}getStatStyle(t,r){const i=this.converter.convertToCreature(t);let s=0,o=0;switch(r){case"hp":s=i.baseHp,o=i.hp;break;case"atk":s=i.baseAttack,o=i.attack;break;case"spd":s=i.baseSpeed,o=i.speed}return o>s?{color:"#44e36e"}:o<s?{color:"red"}:{color:"white"}}getActivatedAbilities(){return this.card.abilities.filter(r=>r instanceof bt),this.card.abilities.filter(r=>r instanceof bt)}showPopup(t){this.popupVisible=!0,this.updatePopupPosition(t)}movePopup(t){this.updatePopupPosition(t)}hidePopup(){this.popupVisible=!1}updatePopupPosition(t){this.popupX1=t.clientX,this.popupY1=t.clientY}static#e=this.\u0275fac=function(r){return new(r||n)(F(S0))};static#t=this.\u0275cmp=be({type:n,selectors:[["app-card-small"]],inputs:{card:"card"},outputs:{cardEmitter:"cardEmitter"},decls:15,vars:25,consts:[["class","popup toolTip",3,"ngStyle",4,"ngIf"],[1,"smallCardContainer"],[1,"largeCard",3,"card"],[1,"cardBorder","hoverZoom",3,"ngStyle","ngClass","mouseover","mousemove","mouseout"],[1,"mainFont","titleBoxWidth",3,"ngStyle"],[1,"titleText"],[1,"cardOutline","cardImageSmall",2,"margin","3px",3,"ngStyle"],["class","centerElement","height","auto","width","103px",3,"src",4,"ngIf"],["class","statDisplay blackBg",4,"ngIf"],[4,"ngIf"],["class","attackingIcon","src","assets/attackSymbol.png","height","auto","width","50%",4,"ngIf"],["class","blockingIcon","src","assets/HP Symbol.png","height","auto","width","50%",4,"ngIf"],[3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"popup","toolTip",3,"ngStyle"],[3,"title","text"],["height","auto","width","103px",1,"centerElement",3,"src"],[1,"statDisplay","blackBg"],["src","assets/attackSymbol.png","width","16px","height","auto",1,"statIcon"],[3,"ngStyle"],["src","assets/HP Symbol.png","width","16px","height","auto",1,"statIcon"],["src","assets/Speed Symbol.png","width","16px","height","auto",1,"statIcon"],[3,"bag"],["src","assets/attackSymbol.png","height","auto","width","50%",1,"attackingIcon"],["src","assets/HP Symbol.png","height","auto","width","50%",1,"blockingIcon"],[3,"click"],["class","centerElement",3,"click",4,"ngIf","ngIfElse"],["greyButton",""],[1,"centerElement",3,"click"],["style","opacity: 50%;","class","centerElement","disabled","",4,"ngIf"],["disabled","",1,"centerElement",2,"opacity","50%"]],template:function(r,i){1&r&&(I(0,eU,2,5,"div",0),m(1,"div",1),L(2,"app-card",2),m(3,"div",3),U("mouseover",function(o){return i.showPopup(o)})("mousemove",function(o){return i.movePopup(o)})("mouseout",function(){return i.hidePopup()}),m(4,"div",4)(5,"p",5),b(6),g()(),m(7,"div",6),I(8,tU,1,1,"img",7),I(9,nU,13,6,"span",8),I(10,rU,4,1,"span",9),g(),I(11,iU,1,0,"img",10),I(12,sU,1,0,"img",11),g()(),I(13,oU,2,1,"button",12),I(14,uU,4,2,"div",13)),2&r&&(w("ngIf",i.popupVisible&&i.card.keywords.length>0),_(2),w("card",i.card),_(1),w("ngStyle",qn(14,UD,i.bgColor))("ngClass",function eS(n,e,t,r,i,s,o,a){const l=Ht()+n,c=N(),u=Nn(c,l,t,r,i,s);return Ft(c,l+4,o)||u?hr(c,l+5,a?e.call(a,t,r,i,s,o):e(t,r,i,s,o)):ta(c,l+5)}(16,dU,0===i.card.type&&!0===i.converter.convertToCreature(i.card).awake,!1===i.converter.convertToCreature(i.card).awake,i.converter.convertToCreature(i.card).hp<=0,i.converter.convertToCreature(i.card).blocked,i.converter.convertToCreature(i.card).blocking)),_(1),w("ngStyle",xi(22,hU)),_(2),ze("",i.card.name," "),_(1),w("ngStyle",qn(23,UD,i.fgColor)),_(1),w("ngIf",""!==i.card.image&&void 0!==i.card.image),_(1),w("ngIf",0===i.card.type||11===i.card.type),_(1),w("ngIf",2===i.card.type),_(1),w("ngIf",0===i.card.type&&i.converter.convertToCreature(i.card).attacking),_(1),w("ngIf",0===i.card.type&&i.converter.convertToCreature(i.card).blocking),_(1),w("ngIf",i.card.targetableCard),_(1),w("ngForOf",i.getActivatedAbilities()))},dependencies:[qs,Ct,lt,Ks,Xn,Ia,b0],styles:['p[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;font-weight:700}.cardBorder[_ngcontent-%COMP%]{border-radius:4%;width:6rem;padding:3px;margin-right:auto}.cardOutline[_ngcontent-%COMP%]{border:solid 1px black;border-radius:5%;margin:1px}.titleText[_ngcontent-%COMP%]{font-family:Verdana,Tahoma,sans-serif;font-weight:700;font-size:63%;text-align:center;color:#fff}.titleBoxWidth[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;min-height:20px}.flexBox[_ngcontent-%COMP%]{display:flex}.flexSpace[_ngcontent-%COMP%]{justify-content:space-between}.cardImage[_ngcontent-%COMP%]{min-height:100px;height:75%}.blackBg[_ngcontent-%COMP%]{background-color:#000}.foregroundColor[_ngcontent-%COMP%]{opacity:.9}.typeText[_ngcontent-%COMP%]{color:#fff;text-align:center}.typeBox[_ngcontent-%COMP%]{height:17px;margin-top:2px;margin-bottom:2px;font-size:13px;font-family:Arial,Helvetica,sans-serif;background:rgba(30,30,30,.5);opacity:1}.typeBoxBg[_ngcontent-%COMP%]{background-color:"#373737"}.textBox[_ngcontent-%COMP%]{height:100px;text-align:center;font-family:Arial,Helvetica,sans-serif}.centerElement[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.cardText[_ngcontent-%COMP%]{font-size:12px}.statDisplay[_ngcontent-%COMP%]{border:ridge 2px #737373;border-radius:10%;margin-bottom:2px;font-size:.6em;font-weight:700;font-family:Arial,Helvetica,sans-serif;text-align:center;color:#fff;position:absolute;bottom:1px;left:5px;right:5px;overflow:hidden;white-space:nowrap}.whiteFont[_ngcontent-%COMP%]{color:#fff}.asleep[_ngcontent-%COMP%]{transform:rotate(90deg);margin-bottom:18px}.largeCard[_ngcontent-%COMP%]{visibility:hidden;position:fixed;z-index:1;opacity:0;left:0;top:36%;transition:visibility .2s linear .2s;-webkit-user-select:none;user-select:none;transform:scale(1)}.toolTip[_ngcontent-%COMP%]{position:fixed}.smallCardContainer[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;transition-delay:.1s;position:relative}@media screen and (max-width: 1250px){.smallCardContainer[_ngcontent-%COMP%]{bottom:80%}}#Hand[_ngcontent-%COMP%]:hover   .largeCard[_ngcontent-%COMP%]{visibility:visible;opacity:1;transform:scale(1.1);transition:transform .5s ease-in-out;transition:opacity .3s ease-in-out;transform:translate(0);transition-delay:2s;z-index:99999}.smallCardContainer[_ngcontent-%COMP%]:hover   .largeCard[_ngcontent-%COMP%]{visibility:visible;opacity:1;transition:opacity .3s ease-in-out;transform:translateY(20px);transition-delay:.1s}.smallCardContainer[_ngcontent-%COMP%]:hover{border:1px solid #281cae;border-radius:4%;margin-bottom:0}.smallCardContainer[_ngcontent-%COMP%]:hover, .attackingIcon[_ngcontent-%COMP%]:hover, .blockingIcon[_ngcontent-%COMP%]:hover{opacity:1}.statIcon[_ngcontent-%COMP%]{margin:0 2px;width:16%}.asleep[_ngcontent-%COMP%], .awake[_ngcontent-%COMP%]{transition:width 2s,height 2s,transform .3s}.asleep[_ngcontent-%COMP%]{transform:rotate(90deg)}.awake[_ngcontent-%COMP%]{transform:rotate(0)}.dead[_ngcontent-%COMP%]{opacity:.5}.combatIcon[_ngcontent-%COMP%]{display:none}.blocking[_ngcontent-%COMP%]:hover   .combatIcon[_ngcontent-%COMP%]{display:block;position:relative;top:-100px}.attackingIcon[_ngcontent-%COMP%], .blockingIcon[_ngcontent-%COMP%]{position:absolute;bottom:1rem;left:2rem;opacity:.7}.canCast[_ngcontent-%COMP%]{border:1px solid green}.cantCast[_ngcontent-%COMP%]{border:1px solid red}']})}return n})();function fU(n,e){if(1&n){const t=te();m(0,"app-card",1),U("dblclick",function(){return $(t),z(A().playHero())}),g()}if(2&n){const t=A();w("card",t.hero)("playable",t.player.checkIfPlayable(t.hero,t.game))}}let pU=(()=>{class n{constructor(){this.hero={},this.cardService={},this.player={},this.game={}}ngOnInit(){}playHero(){this.hero.resetStats(),this.player.playCard(this.hero,this.game),console.log(this.hero)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-hero"]],inputs:{hero:"hero",cardService:"cardService",player:"player",game:"game"},decls:1,vars:1,consts:[["class","heroPane",3,"card","playable","dblclick",4,"ngIf"],[1,"heroPane",3,"card","playable","dblclick"]],template:function(r,i){1&r&&I(0,fU,1,2,"app-card",0),2&r&&w("ngIf",6===i.hero.zone)},dependencies:[lt,Xn],styles:[".heroPane[_ngcontent-%COMP%]{position:absolute;bottom:0;right:14%}"]})}return n})();function gU(n,e){if(1&n&&(m(0,"div",14),L(1,"app-wall",15),m(2,"p",16),b(3),g()()),2&n){const t=A();_(1),w("wall",t.Player.wall),_(2),ze("Your Life: ",t.Player.hp,"")}}function mU(n,e){if(1&n&&L(0,"app-hero",17),2&n){const t=A();w("player",t.Player)("game",t.game)("hero",t.Player.cardService.hero)("player",t.Player)("cardService",t.Player.cardService)}}function yU(n,e){if(1&n){const t=te();m(0,"button",22),U("click",function(){$(t);const i=A(2).index;return z(A().toggleAttack(i))}),b(1,"Attack"),g()}}function vU(n,e){if(1&n&&(m(0,"div"),I(1,yU,2,0,"button",21),g()),2&n){const t=A().$implicit,r=A();_(1),w("ngIf",!t.attacking&&!t.keywords.includes(7)&&r.game.currentTurn===r.Player&&2!==r.game.currentPhase)}}function _U(n,e){if(1&n){const t=te();m(0,"button",22),U("click",function(){$(t);const i=A().index;return z(A().toggleAttack(i))}),b(1,"X Cancel Attack"),g()}}function wU(n,e){if(1&n){const t=te();m(0,"button",22),U("click",function(){$(t);const i=A(2).$implicit;return z(A().game.combatManager.setBlocker(i))}),b(1,"Block"),g()}}function CU(n,e){if(1&n){const t=te();m(0,"button",24),U("click",function(){$(t);const i=A(2).$implicit;return z(A().game.combatManager.unsetBlocker(i))}),b(1,"Cancel Block"),g()}}function SU(n,e){if(1&n&&(m(0,"div"),I(1,wU,2,0,"button",21),I(2,CU,2,0,"button",23),g()),2&n){const t=A().$implicit,r=A();_(1),w("ngIf",r.cardConverter.convertToCreature(t).canBlock()),_(1),w("ngIf",r.cardConverter.convertToCreature(t).blocking&&6!==r.game.currentPhase)}}function bU(n,e){if(1&n){const t=te();m(0,"div",null,18)(2,"app-card-small",19),U("cardEmitter",function(i){return $(t),z(A().targetSelected(i))}),g(),I(3,vU,2,1,"div",20),I(4,_U,2,0,"button",21),I(5,SU,3,2,"div",20),g()}if(2&n){const t=e.$implicit,r=e.index,i=A();_(2),aa("attacker",i.game.combatManager.isFighting(t)&&i.game.currentTurn===i.Player)("blocker",i.game.combatManager.isFighting(t)&&i.game.currentTurn!==i.Player),Sc("id","player",r,""),w("card",t),_(1),w("ngIf",t.awake&&!t.firstTurn),_(1),w("ngIf",t.attacking),_(1),w("ngIf",i.Player.defending&&!0===i.cardConverter.convertToCreature(t).awake&&!1===i.cardConverter.convertToCreature(t).attacking)}}function DU(n,e){if(1&n&&(m(0,"div"),L(1,"app-card-small",25),g()),2&n){const t=e.$implicit;_(1),w("card",t)}}function EU(n,e){1&n&&L(0,"img",26)}function MU(n,e){1&n&&L(0,"img",30)}function AU(n,e){if(1&n){const t=te();m(0,"div",27),I(1,MU,1,0,"img",28),m(2,"app-card",29),U("dblclick",function(){const s=$(t).$implicit,o=A();return o.Player.playCard(s,o.game),z(o.nextTutorialCardCheck(s))}),g()()}if(2&n){const t=e.$implicit,r=A();_(1),w("ngIf",r.tutorial&&(1===r.tutorialIndex&&"Ruby Mine"===t.name||3===r.tutorialIndex&&"Fire Bolt"===t.name)),_(1),w("card",t)("playable",r.Player.checkIfPlayable(t,r.game))("animateEnter",!0)}}function TU(n,e){1&n&&(m(0,"div",31)(1,"h3"),b(2,"Resources"),g(),m(3,"p"),b(4,"Every turn, mines produce gems or gold for you. You start with 2 gold mines and 5 gold."),g(),m(5,"p"),b(6,"You can see your income and current resources in the bottom right display."),g(),m(7,"p"),b(8," Let's start your first turn by playing the ruby mine card in your hand. Double click the ruby mine to play it."),g()())}function kU(n,e){if(1&n){const t=te();m(0,"div",32)(1,"h3"),b(2,"Playing a card"),g(),m(3,"p"),b(4,"Good job! Notice the fire bolt in your hand is now glowing. That means you can now pay for and play it."),g(),m(5,"p"),b(6,"Cards can be played in the main phases, which are the first and last phases of your turn."),g(),m(7,"button",33),U("click",function(){return $(t),z(A().nextTutorial())}),b(8,"Next"),g()()}}function IU(n,e){1&n&&(m(0,"div",34)(1,"h3"),b(2,"Playing a Spell"),g(),m(3,"p"),b(4,"Next let's try out firebolt and kill the enemy creature."),g(),m(5,"p"),b(6,"Like with the mine double click to play it. Then a button will appear below the enemy creature. Click it to target that creature."),g()())}let PU=(()=>{class n{handleKeyboardA(t){let r=this.Player.getCreatures();if(this.Player.canAttack()&&this.game.currentTurn===this.Player&&this.game.currentPhase===ee.main)for(let i=0;i<r.length;i++){let s=r[i];!s.firstTurn&&!s.keywords.includes(7)&&this.toggleAttack(i)}}constructor(t){this.animationService=t,this.Player={},this.game={},this.tutorial=!1,this.tutorialIndex=0,this.incrementTutorialIndex=new ne,this.rotStart=355,this.rotEnd=365,this.targetingMode=!1,this.selected={},this.possibleTargets=[],this.drawnCards=[],this.cardConverter=new Ta,this.showMarket=!1,this.popupVisible=!1,this.popupX=100,this.popupY=100}ngOnInit(){}nextTutorial(){this.tutorial&&(this.tutorialIndex++,this.incrementTutorialIndex.emit(this.tutorialIndex))}nextTutorialCardCheck(t){this.tutorial&&"Ruby Mine"===t.name&&1===this.tutorialIndex&&this.nextTutorial()}toggleMarket(){this.showMarket=!this.showMarket}selectTarget(t){this.selected=this.possibleTargets[t]}toggleAttack(t){let r=this.Player.getCreatures()[t];r.attacking=!r.attacking,r.awake=!!r.keywords.includes(C.Sentry)||!r.awake,r.blocking=!1,this.Player.attacking=this.Player.getAttackers().length>0,this.game.currentPhase=this.Player.attacking?ee.attackers:ee.main,this.game.phaseDisplay=ee[this.game.currentPhase]}targetSelected(t){this.Player.runEffectStack(t),this.Player.turnOffTargetting()}playSelected(t){this.Player.playCard(t,this.game),this.Player.effectStack=[]}turnOnTargetting(t){for(let r=0;r<t.length;r++)t[r].targetableCard=!0}turnOffTargetting(t){for(let r=0;r<t.length;r++)t[r].targetableCard=!1}getRotAmount(t){return(this.rotEnd-this.rotStart)/this.Player.getHand().length*t}showPopup(t){this.popupVisible=!0,this.updatePopupPosition(t)}movePopup(t){this.updatePopupPosition(t)}hidePopup(){this.popupVisible=!1}updatePopupPosition(t){this.popupX=t.clientX+10,this.popupY=t.clientY+10}static#e=this.\u0275fac=function(r){return new(r||n)(F(Sn))};static#t=this.\u0275cmp=be({type:n,selectors:[["app-player"]],hostBindings:function(r,i){1&r&&U("keyup.a",function(o){return i.handleKeyboardA(o)},0,ac)},inputs:{Player:"Player",game:"game",tutorial:"tutorial",tutorialIndex:"tutorialIndex"},outputs:{incrementTutorialIndex:"incrementTutorialIndex"},decls:15,vars:12,consts:[["class","uiPanel paneBg","id","LifeDisplay",4,"ngIf"],[3,"player","game","hero","cardService",4,"ngIf"],[1,"cardRow","creatureDisplay","uiPanel"],[4,"ngFor","ngForOf"],[1,"cardRow"],["id","",1,"flexCenter"],[2,"float","left"],[3,"discardedCards","controller","cardService"],["id","CardBack","class","cardDimensions","src","assets/back2.webp",4,"ngIf"],["id","Hand",1,"cardRow"],["class","handMargin",4,"ngFor","ngForOf"],["class","tutorialText","style","left: 21%; width:40%; top:36%",4,"ngIf"],["class","tutorialText","style","left: 50%; right:50%; width:40%;",4,"ngIf"],["class","tutorialText","style","left: 21%; width:40%;",4,"ngIf"],["id","LifeDisplay",1,"uiPanel","paneBg"],[1,"centerElement","whiteFont",3,"wall"],[1,"whiteFont",2,"margin-bottom",".5rem"],[3,"player","game","hero","cardService"],["cardElement",""],[1,"creature",3,"id","card","cardEmitter"],[4,"ngIf"],["class","centerElement combatButton",3,"click",4,"ngIf"],[1,"centerElement","combatButton",3,"click"],["class","centerElement",3,"click",4,"ngIf"],[1,"centerElement",3,"click"],[3,"card"],["id","CardBack","src","assets/back2.webp",1,"cardDimensions"],[1,"handMargin"],["class","centerElement tutorialArrow","src","assets//arrow.png","width","80px",4,"ngIf"],[1,"card",3,"card","playable","animateEnter","dblclick"],["src","assets//arrow.png","width","80px",1,"centerElement","tutorialArrow"],[1,"tutorialText",2,"left","21%","width","40%","top","36%"],[1,"tutorialText",2,"left","50%","right","50%","width","40%"],[3,"click"],[1,"tutorialText",2,"left","21%","width","40%"]],template:function(r,i){1&r&&(I(0,gU,4,2,"div",0),I(1,mU,1,5,"app-hero",1),m(2,"div",2),I(3,bU,6,9,"div",3),g(),m(4,"div",4),I(5,DU,2,1,"div",3),g(),m(6,"div",5)(7,"div",6),L(8,"app-discard-pile",7),I(9,EU,1,0,"img",8),g(),m(10,"div",9),I(11,AU,3,4,"div",10),g()(),I(12,TU,9,0,"div",11),I(13,kU,9,0,"div",12),I(14,IU,7,0,"div",13)),2&r&&(w("ngIf",!i.Player.stopPhases&&!i.game.enemy.stopPhases),_(1),w("ngIf",6===i.Player.cardService.hero.zone),_(2),w("ngForOf",i.Player.getCreatures()),_(2),w("ngForOf",i.Player.cardService.getBuildings(1)),_(3),w("discardedCards",i.Player.cardService.getCards(2,2))("controller",2)("cardService",i.Player.cardService),_(1),w("ngIf",i.Player.cardService.getDeck(2).length>0),_(2),w("ngForOf",i.Player.getHand()),_(1),w("ngIf",1===i.tutorialIndex),_(1),w("ngIf",2===i.tutorialIndex),_(1),w("ngIf",3===i.tutorialIndex))},dependencies:[Ct,lt,Xn,BD,VD,jD,pU],styles:["#Hand[_ngcontent-%COMP%]{display:flex;margin-left:auto;margin-right:auto;position:fixed;justify-content:center;left:20%;right:20%;bottom:-15%}#CardBack[_ngcontent-%COMP%]{margin-bottom:0}.playButton[_ngcontent-%COMP%]{max-width:120px}.creatureArea[_ngcontent-%COMP%]{height:150px}.creatureDisplay[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;margin-bottom:0;min-height:10%;flex-wrap:wrap;max-width:60%}.gemBagDisplay[_ngcontent-%COMP%]{position:fixed;right:0;bottom:15%;border-radius:5%;padding:5px;font-size:.7rem}#LifeDisplay[_ngcontent-%COMP%]{position:fixed;right:0;border-radius:5%;font-size:1rem;min-width:186px;text-align:center;bottom:50%;padding:2px}@media screen and (max-width: 1050px){.gemBagDisplay[_ngcontent-%COMP%]{padding:2px}}.creature[_ngcontent-%COMP%]{max-width:100%;flex:1 1 auto;box-sizing:border-box;overflow:hidden}.discardDisplay[_ngcontent-%COMP%]{border-radius:3%}.wallDisplay[_ngcontent-%COMP%]{margin-left:auto;width:25%;margin-bottom:10px;padding:6px}.handMargin[_ngcontent-%COMP%]{margin:0px -.5rem}.card[_ngcontent-%COMP%]{transform-origin:bottom center;transition:transform .1s ease-in-out}.card[_ngcontent-%COMP%]:hover{transform:rotate(0);transition:transform .1s ease-in-out;z-index:1000;margin-bottom:30%}.attacker[_ngcontent-%COMP%], .blocker[_ngcontent-%COMP%]{display:inline-block;transition:transform .3s ease-in-out}.attacker[_ngcontent-%COMP%]{border-color:#f75d5d}.blocker[_ngcontent-%COMP%]{border-color:#4ecdf8}.fighting[_ngcontent-%COMP%]{transform:translateY(50px)}.flexCenter[_ngcontent-%COMP%]{justify-content:center;position:fixed;bottom:0}.player-cards[_ngcontent-%COMP%]{position:relative}canvas[_ngcontent-%COMP%]{position:absolute;top:0;left:0;pointer-events:none}"],data:{animation:[Sn.drawCard,Sn.moveCard,Sn.rapidMoveRight,Ui("show",[tu("void",Pt({opacity:0})),$r(":enter,:leave",[Hr("500ms ease-in-out")])]),Ui("show2",[tu("void",Pt({opacity:1})),$r("hidden => visible",[Hr("500ms ease-in-out")]),$r("visible => hidden",[Hr("500ms ease-in-out")])])]}})}return n})();function xU(n,e){1&n&&L(0,"img",8)}function RU(n,e){if(1&n){const t=te();m(0,"button",11),U("click",function(){$(t);const i=A().$implicit;return z(A().game.combatManager.setAttacker(i))}),b(1," Block this Attacker"),g()}}function NU(n,e){if(1&n){const t=te();m(0,"div")(1,"app-card-small",9),U("cardEmitter",function(i){return $(t),z(A().targetSelected(i))}),g(),I(2,RU,2,0,"button",10),g()}if(2&n){const t=e.$implicit,r=A();_(1),w("card",t),_(1),w("ngIf",r.hoard.attacking&&!1===r.creatureConverter.convertToCreature(t).blocked&&r.opponentHasBlockers())}}function OU(n,e){if(1&n){const t=te();m(0,"div")(1,"button",14),U("click",function(){$(t);const i=A(2);return z(i.hoard.runCurrentSpells(i.game))}),b(2,"Run Spell"),g()()}}function FU(n,e){if(1&n&&(m(0,"div",12),L(1,"app-card",13),I(2,OU,3,0,"div",4),g()),2&n){const t=A();_(1),w("card",t.hoard.currentSpells[0]),_(1),w("ngForOf",t.hoard.currentSpells[0].abilities)}}let LU=(()=>{class n{constructor(){this.hoard={},this.game={},this.blockedCreature=new ne,this.tutorial=!1,this.tutorialIndex=0,this.creatureConverter=new Ta}block(t){this.hoard.cardService.getCreatures(1)}opponentHasBlockers(){return this.hoard.cardService.getCards(y.play,f.Self,R.Creature).filter(i=>i.awake&&!i.blocking).length>0}targetSelected(t){let r=this.game.cardService.playerService.getPlayer(f.Self)[0];if(r.effectStack.length>0){for(let s=0;s<r.effectStack.length;s++)r.effectStack[s].doEffectSingle(t);r.effectStack=[]}let i=this.game.cardService.playerService.getPlayer(f.Opponent)[0];this.turnOffTargetting(r.getCreatures()),this.turnOffTargetting(i.getCreatures())}turnOnTargetting(t){for(let r=0;r<t.length;r++)t[r].targetableCard=!0}turnOffTargetting(t){for(let r=0;r<t.length;r++)t[r].targetableCard=!1}showDiscardArea(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-ai"]],inputs:{hoard:"hoard",game:"game",tutorial:"tutorial",tutorialIndex:"tutorialIndex"},outputs:{blockedCreature:"blockedCreature"},decls:10,vars:8,consts:[[1,"cardRow","uiPanel"],[3,"discardedCards","cardService","controller"],["id","CardBack","class","cardDimensions","src","assets/back2.webp",4,"ngIf"],["id","CreaturePane",1,"cardRow"],[4,"ngFor","ngForOf"],["id","HpPane",1,"paneBg","whiteFont","uiPanel","centerText","lifePanel"],[3,"wall"],["id","RunSpellPane",4,"ngIf"],["id","CardBack","src","assets/back2.webp",1,"cardDimensions"],[3,"card","cardEmitter"],["class","centerElement combatButton",3,"click",4,"ngIf"],[1,"centerElement","combatButton",3,"click"],["id","RunSpellPane"],[3,"card"],[3,"click"]],template:function(r,i){1&r&&(m(0,"div",0),L(1,"app-discard-pile",1),I(2,xU,1,0,"img",2),m(3,"div",3),I(4,NU,3,2,"div",4),g()(),m(5,"div",5),L(6,"app-wall",6),m(7,"p"),b(8),g()(),I(9,FU,3,2,"div",7)),2&r&&(_(1),w("discardedCards",i.hoard.cardService.getCards(2,1))("cardService",i.hoard.cardService)("controller",1),_(1),w("ngIf",i.hoard.cardService.getDeck(2).length>0),_(2),w("ngForOf",i.hoard.cardService.getCreatures(1)),_(2),w("wall",i.hoard.wall),_(2),ze("Horde Deck: ",i.hoard.cardService.getDeck(1).length,""),_(1),w("ngIf",i.hoard.currentSpells.length>0))},dependencies:[Ct,lt,Xn,BD,VD,jD],styles:[".cardRow[_ngcontent-%COMP%]{display:flex;flex-flow:row;justify-content:center}#Enemies[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap}.lifePanel[_ngcontent-%COMP%]{width:25%;padding:5px}.discardPos[_ngcontent-%COMP%]{position:absolute;top:0;left:0}#HpPane[_ngcontent-%COMP%]{position:fixed;top:4.5rem;right:0}#CreaturePane[_ngcontent-%COMP%]{min-height:150px;left:35%;right:35%}#RunSpellPane[_ngcontent-%COMP%]{position:fixed;right:0;top:35%}"]})}return n})();function BU(n,e){if(1&n){const t=te();m(0,"button",3),U("click",function(){$(t);const i=A(2).$implicit;return z(A(2).buyGem(i))}),b(1,"Buy for 2 gold"),g()}}function VU(n,e){1&n&&(m(0,"button",11),b(1,"Buy for 2 gold"),g())}function UU(n,e){if(1&n){const t=te();m(0,"button",3),U("click",function(){$(t);const i=A(2).$implicit;return z(A(2).sellGem(i))}),b(1,"Sell for 1 gold"),g()}}function jU(n,e){1&n&&(m(0,"button",11),b(1,"Sell for 1 gold"),g())}function HU(n,e){if(1&n&&(m(0,"span"),I(1,BU,2,0,"button",8),I(2,VU,2,0,"ng-template",null,9,Ri),I(4,UU,2,0,"button",8),I(5,jU,2,0,"ng-template",null,10,Ri),g()),2&n){const t=Ai(3),r=Ai(6),i=A().$implicit,s=A(2);_(1),w("ngIf",s.gembag.gold>=2)("ngIfElse",t),_(3),w("ngIf",s.gembag.getValue(i)>=1)("ngIfElse",r)}}function $U(n,e){if(1&n&&(m(0,"span",5)(1,"span")(2,"p"),b(3),L(4,"img",6),g(),I(5,HU,7,4,"span",7),g()()),2&n){const t=e.$implicit,r=A(2);_(3),ze("",r.gembag.getValue(t)," "),_(1),oa("width",16,"px"),On("src",r.gembag.getImage(t),zn),_(1),w("ngIf",0!==t)}}function zU(n,e){if(1&n){const t=te();m(0,"div",2)(1,"button",3),U("click",function(){return $(t),z(A().toggleShowMarket())}),b(2,"X"),g(),I(3,$U,6,5,"span",4),g()}if(2&n){const t=A();_(3),w("ngForOf",t.gembag.getAllTypes())}}let GU=(()=>{class n{constructor(){this.gembag={},this.showMarket=!1,this.gemCost=2,this.getSellCost=1}toggleShowMarket(){this.showMarket=!this.showMarket}buyGem(t){if(this.gembag.gold>=this.gemCost)switch(this.gembag.gold-=this.gemCost,t){case T.Ruby:this.gembag.ruby+=1;break;case T.Sapphire:this.gembag.sapphire+=1;break;case T.Emerald:this.gembag.emerald+=1;break;case T.LionEye:this.gembag.lionsEye+=1;break;case T.Topaz:this.gembag.topaz+=1}}sellGem(t){this.gembag.getValue(t)>0&&(this.gembag.gold+=this.getSellCost,this.gembag.addSingle(t,-1))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-market"]],inputs:{gembag:"gembag"},decls:3,vars:1,consts:[[1,"centerElement",3,"click"],["id","Market","class","paneBg whiteFont popUp scrollBar",4,"ngIf"],["id","Market",1,"paneBg","whiteFont","popUp","scrollBar"],[3,"click"],["class","marketCard",4,"ngFor","ngForOf"],[1,"marketCard"],[1,"gemDimensions",3,"src"],[4,"ngIf"],[3,"click",4,"ngIf","ngIfElse"],["noGold",""],["noGems",""],["disabled","",1,"disabledButton"]],template:function(r,i){1&r&&(m(0,"button",0),U("click",function(){return i.toggleShowMarket()}),b(1,"Show Market"),g(),I(2,zU,4,1,"div",1)),2&r&&(_(2),w("ngIf",i.showMarket))},dependencies:[Ct,lt],styles:["#Market[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:1;padding:15px;display:flex;flex-direction:row}.marketCard[_ngcontent-%COMP%]{padding:10px}.disabledButton[_ngcontent-%COMP%]{opacity:.5}"],data:{animation:[Ui("toggleShowMarket",[tu("true",Pt({transform:"translateX(0)"})),tu("false",Pt({transform:"translateX(-100%)"})),$r("false => true",[Hr("300ms ease-in")]),$r("true => false",[Hr("300ms ease-out")])])]}})}return n})();const WU=function(n){return{glow:n}};function qU(n,e){if(1&n){const t=te();m(0,"button",18),U("click",function(){return $(t),z(A(3).game.phaseManager.nextPhase())}),b(1,"Next Phase"),g()}if(2&n){const t=A(3);w("ngClass",qn(1,WU,!t.player.hasPlayableCards(t.game)&&t.game.currentTurn===t.player))}}function KU(n,e){if(1&n){const t=te();m(0,"button",19),U("click",function(){$(t);const i=A(3);return i.game.phaseManager.passTurn(),z(i.hidePopup())}),b(1,"Pass Turn"),g()}}function YU(n,e){if(1&n){const t=te();m(0,"button",20),U("click",function(){$(t);const i=A(3);return i.game.phaseManager.nextPhase(),z(i.hidePopup())}),b(1," Run Attack "),g()}}function ZU(n,e){if(1&n){const t=te();m(0,"div",11),U("mouseover",function(i){return $(t),z(A(2).showPopup(i))})("mousemove",function(i){return $(t),z(A(2).movePopup(i))})("mouseout",function(){return $(t),z(A(2).hidePopup())}),I(1,qU,2,3,"button",12),I(2,KU,2,0,"button",13),I(3,YU,2,0,"button",14),m(4,"h3",15),b(5,"Resources:"),g(),L(6,"app-gembag",16),m(7,"h3",15),b(8,"Income:"),g(),L(9,"app-gembag",16)(10,"app-market",17),g()}if(2&n){const t=A(2);_(1),w("ngIf",t.game.currentTurn===t.game.enemy),_(1),w("ngIf",t.isPassableTime()&&!t.player.attacking),_(1),w("ngIf",t.player.attacking),_(3),w("bag",t.player.gembag),_(3),w("bag",t.player.incomeBag),_(1),w("gembag",t.player.gembag)}}function QU(n,e){if(1&n&&(m(0,"div",9),I(1,ZU,11,6,"div",10),g()),2&n){const t=A();_(1),w("ngIf",t.player.hp>0&&t.player.cardService.getCards(4,1).length>0)}}function XU(n,e){if(1&n){const t=te();m(0,"div",21)(1,"h3"),b(2,"You lose!"),g(),m(3,"button",22),U("click",function(){return $(t),z(A().battleDone())}),b(4,"Back to Main Menu"),g()()}}function JU(n,e){if(1&n){const t=te();m(0,"div",23)(1,"h3"),b(2,"You Win!"),g(),m(3,"button",22),U("click",function(){return $(t),z(A().battleDone())}),b(4,"Get Rewards"),g()()}}function ej(n,e){if(1&n){const t=te();m(0,"div",25)(1,"h3"),b(2,"Welcome to the Gembag Wars Tutorial"),g(),m(3,"p"),b(4,"This is a game about surviving a horde of enemies knocking at your wall. Your goal is to destroy the enemy deck while keeping your life above 0. Every turn new enemies will appear. Sweat out the siege or go on the offensive yourself with 100 different cards!"),g(),m(5,"button",22),U("click",function(){return $(t),z(A(2).nextTutorial())}),b(6,"Next"),g()()}}function tj(n,e){if(1&n&&(m(0,"div"),I(1,ej,7,0,"div",24),g()),2&n){const t=A();_(1),w("ngIf",0===t.tutorialIndex)}}let HD=(()=>{class n{constructor(){this.showBattle=!1,this.cardService={},this.player={},this.enemy={},this.game={},this.tutorial=!1,this.showDebug=!1,this.doneEvent=new ne,this.skipToReward=new ne,this.popupVisible=!1,this.popupX=100,this.popupY=100,this.tutorialIndex=0}battleDone(){this.showBattle=!1,this.player.hp<=0?this.doneEvent.emit(!0):0===this.enemy.getDeck().length&&this.doneEvent.emit(!1)}isPassableTime(){return(1===this.game.currentPhase||2===this.game.currentPhase||3===this.game.currentPhase||4===this.game.currentPhase||5===this.game.currentPhase)&&this.game.currentTurn===this.game.player}showPopup(t){this.popupVisible=!0,this.updatePopupPosition(t)}movePopup(t){this.updatePopupPosition(t)}hidePopup(){this.popupVisible=!1}fakeWin(){this.cardService.deleteCardsByController(f.Opponent),this.battleDone()}updatePopupPosition(t){this.popupX=t.clientX+10,this.popupY=t.clientY+10}nextTutorial(){this.tutorialIndex++}updateTutorialIndex(t){this.tutorialIndex=t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-battle"]],inputs:{cardService:"cardService",player:"player",enemy:"enemy",game:"game",tutorial:"tutorial"},outputs:{doneEvent:"doneEvent",skipToReward:"skipToReward"},decls:10,vars:12,consts:[["id","PhasePanel","class","centerText",4,"ngIf"],["id","PhasePanel"],["class","uiPanel paneBg turnDisplay whiteFont noMargin",4,"ngIf"],["style","padding: 4px;","class","uiPanel paneBg turnDisplay whiteFont noMargin",4,"ngIf"],[1,"fireColors"],[1,"playerArea"],[1,"noMargin",3,"hoard","game","tutorial","tutorialIndex"],[1,"noMargin",3,"Player","game","tutorial","tutorialIndex","incrementTutorialIndex"],[4,"ngIf"],["id","PhasePanel",1,"centerText"],["class","uiPanel paneBg turnDisplay whiteFont noMargin",3,"mouseover","mousemove","mouseout",4,"ngIf"],[1,"uiPanel","paneBg","turnDisplay","whiteFont","noMargin",3,"mouseover","mousemove","mouseout"],["class","centerElement",3,"ngClass","click",4,"ngIf"],["class","centerElement faint-gray-glow",3,"click",4,"ngIf"],["class","centerElement",3,"click",4,"ngIf"],[1,"whiteFont"],[3,"bag"],[3,"gembag"],[1,"centerElement",3,"ngClass","click"],[1,"centerElement","faint-gray-glow",3,"click"],[1,"centerElement",3,"click"],[1,"uiPanel","paneBg","turnDisplay","whiteFont","noMargin"],[3,"click"],[1,"uiPanel","paneBg","turnDisplay","whiteFont","noMargin",2,"padding","4px"],["class","tutorialText","style","left: 50%; right:50%; width:40%;",4,"ngIf"],[1,"tutorialText",2,"left","50%","right","50%","width","40%"]],template:function(r,i){1&r&&(I(0,QU,2,1,"div",0),m(1,"div",1),I(2,XU,5,0,"div",2),I(3,JU,5,0,"div",3),g(),m(4,"div",4)(5,"div",5),L(6,"app-ai",6),g(),m(7,"div",5)(8,"app-player",7),U("incrementTutorialIndex",function(o){return i.updateTutorialIndex(o)}),g()()(),I(9,tj,2,1,"div",8)),2&r&&(w("ngIf",!i.player.stopPhases&&!i.enemy.stopPhases),_(2),w("ngIf",i.player.hp<=0),_(1),w("ngIf",i.player.cardService.getCards(4,1).length<=0),_(3),w("hoard",i.enemy)("game",i.game)("tutorial",i.tutorial)("tutorialIndex",i.tutorialIndex),_(2),w("Player",i.player)("game",i.game)("tutorial",i.tutorial)("tutorialIndex",i.tutorialIndex),_(1),w("ngIf",i.tutorial))},dependencies:[qs,lt,PU,LU,Ia,GU],styles:["#PhasePanel[_ngcontent-%COMP%]{position:absolute;bottom:0%;right:0;min-width:10%}.faint-gray-glow[_ngcontent-%COMP%]{box-shadow:0 0 25px 6px #f7f7f7e6}"]})}return n})();function nj(n,e){if(1&n&&(m(0,"div",5)(1,"h1",6),b(2),g()()),2&n){const t=A();_(2),ze("Wave ",t.waveCount,"")}}function rj(n,e){if(1&n){const t=te();m(0,"app-deck-picker",7),U("selectDeckEvent",function(i){return $(t),z(A().setPlayerDeck(i))}),g()}if(2&n){const t=A();w("cardService",t.cardService)("enemy",t.enemy)("player",t.player)}}function ij(n,e){if(1&n){const t=te();m(0,"app-battle",8),U("doneEvent",function(i){return $(t),z(A().battleDoneEvent(i))})("skipToReward",function(){$(t);const i=A();return i.showBattle=!1,i.showReward=!0,z(i.setEnemyDeck())})("enemyReadyEvent",function(){return $(t),z(A().enemyReady())}),g()}if(2&n){const t=A();w("tutorial",t.tutorial)("player",t.player)("enemy",t.enemy)("game",t.game)("cardService",t.cardService)}}function sj(n,e){if(1&n){const t=te();m(0,"app-reward",9),U("proceed",function(){return $(t),z(A().rewardDoneEvent())})("cardSelected",function(i){return $(t),z(A().addCard(i))})("relicSelected",function(i){return $(t),z(A().addRelic(i))}),g()}2&n&&w("cardService",A().cardService)}let $D=(()=>{class n{constructor(){this.cardService={},this.player={},this.enemy={},this.game={},this.tutorial=!1,this.showDebug=!1,this.decks={},this.doneEvent=new ne,this.showPicker=!0,this.showBattle=!1,this.showReward=!1,this.difficulty=1,this.increasePull=1,this.extraPulls=0,this.waveCount=1,this.diffMod={},this.tutorialIndex=0}ngOnInit(){this.cardService&&(this.cardService.makePlayerService(this.player,this.enemy),this.decks=new vr(this.cardService),this.diffMod=new ru(this.cardService))}setPlayerDeck(t){if(this.tutorial){let r=new mr(this.cardService),i=this.decks.getTutorialDeck(),s=this.decks.getEnemyTutorialDeck();this.cardService.cardList.push(...i),this.cardService.cardList.push(...s);let o=r.generateBasicMine(T.Gold),a=r.generateBasicMine(T.Gold);o.zone=y.hand,a.zone=y.hand,this.cardService.cardList.push(o,a)}else{this.cardService.cardList.push(...t),this.setEnemyDeck(),this.cardService.shuffleDeck(this.cardService.cardList),this.showPicker=!1,this.showBattle=!0,this.player.drawCards(5,!0);const r=this.cardService.cardList.filter(i=>i instanceof Cn);for(let i=0;i<2&&r.length>0;i++){const s=Math.floor(Math.random()*r.length);this.cardService.setCardZoneByCard(r[s],y.hand,f.Self)}}}clearEnemyDeck(){this.cardService.deleteCardsByController(f.Opponent),this.cardService.difficultyMods="",this.enemy.wall.hp=20}setEnemyDeck(){this.clearEnemyDeck();let t=this.decks.getEnemyDeck(this.waveCount);this.diffMod.applyDifficultyNormalBoosters(this.cardService.hero.maxLevel,t),this.cardService.cardList.push(...t),this.diffMod.moreAttack(this.difficulty);const i=Object.values(T)[Math.floor(Math.random()*Object.values(T).length)];this.diffMod.moreMinions(this.difficulty*this.difficulty,i),this.difficulty%this.increasePull==0&&this.extraPulls++;for(let s=0;s<this.extraPulls;s++)this.diffMod.extraPull();this.cardService.shuffleDeck(this.cardService.cardList)}resetPlayerDiscard(){this.cardService.clearDiscardPile(f.Self)}backToMenu(){this.player=new ft(this.cardService),this.cardService.hero.resetGoldCost(),this.cardService.cardList=[],this.player.relics=[],this.cardService.playerService.player.relics=[],this.player.resetMines(),this.cardService.makePlayerService(this.player,this.enemy),this.cardService.nodePos=0,this.showBattle=!1,this.showPicker=!0,this.cardService.cardList=[],this.player.hp=40,this.player.wall.hp=20,this.game.currentTurn=this.player,this.cardService.currentPos=0,this.cardService.difficultyMods="",this.difficulty=0,this.waveCount=1,this.player.minesPlayed=0,this.player.mineLimits=1}battleDoneEvent(t){if(this.game.phaseManager.resetPhase(),this.player.hp<=0)this.difficulty=0,this.cardService.cardList=[],window.location.reload();else if(0===this.enemy.getDeck().length){this.showBattle=!1,this.showReward=!0,this.player.drawCards(3,!0),this.difficulty++,this.waveCount++,this.enemy.drawPerTurn++;let r=this.player.getCreatures(),i=this.player.relics.filter(s=>"Cosmic Brick"===s.name).length;this.player.wall.hp=20+10*i;for(let s=0;s<r.length;s++){let o=r[s];o.heal(),o.firstTurn=!0,o.awake=!0,o.turned=!1,o.zone=o instanceof rt?y.hero:y.deck}this.cardService.shuffleDeck(this.cardService.cardList)}}rewardDoneEvent(){this.showReward=!1,this.setEnemyDeck(),this.resetPlayerDiscard(),this.showBattle=!0}addRelic(t){this.player.addRelic(t)}addCard(t){this.cardService.cardList.push(t)}enemyReady(){this.cardService.shuffleDeck(this.cardService.cardList);let t=this.player.relics;this.cardService.checkTriggers(H.StartFight,f.Any),this.cardService.checkTriggers(H.Start,f.Any);for(let r=0;r<t.length;r++)this.player.processAbilities(t[r]);this.showPicker=!1,this.showBattle=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-survival-mode"]],inputs:{cardService:"cardService",player:"player",enemy:"enemy",game:"game",tutorial:"tutorial"},outputs:{doneEvent:"doneEvent"},decls:5,vars:4,consts:[["class","paneBg centerElement","style","width: 10%; border-radius: 3%;",4,"ngIf"],[1,"whiteFont"],[3,"cardService","enemy","player","selectDeckEvent",4,"ngIf"],[3,"tutorial","player","enemy","game","cardService","doneEvent","skipToReward","enemyReadyEvent",4,"ngIf"],[3,"cardService","proceed","cardSelected","relicSelected",4,"ngIf"],[1,"paneBg","centerElement",2,"width","10%","border-radius","3%"],[1,"centerText","whiteFont"],[3,"cardService","enemy","player","selectDeckEvent"],[3,"tutorial","player","enemy","game","cardService","doneEvent","skipToReward","enemyReadyEvent"],[3,"cardService","proceed","cardSelected","relicSelected"]],template:function(r,i){1&r&&(I(0,nj,3,1,"div",0),m(1,"div",1),I(2,rj,1,3,"app-deck-picker",2),g(),I(3,ij,1,5,"app-battle",3),I(4,sj,1,1,"app-reward",4)),2&r&&(w("ngIf",i.showBattle||i.showReward),_(2),w("ngIf",i.showPicker&&!i.tutorial),_(1),w("ngIf",i.showBattle||i.tutorial),_(1),w("ngIf",i.showReward))},dependencies:[lt,OD,LD,HD]})}return n})(),oj=(()=>{class n{constructor(){this.step=0,this.cardService=new Np,this.player=new ft(this.cardService),this.enemy=new yr(this.cardService),this.game=new eu(this.player,this.enemy,this.cardService),this.tutorialDone=new ne,this.cardFactory=new mr(this.cardService),this.cardService.makePlayerService(new ft(this.cardService),new yr(this.cardService)),this.decks=new vr(this.cardService),this.displayCard=this.decks.getCardByName("Battle Dwarf",f.Self),this.displayMine=this.cardFactory.generateBasicMine(T.Ruby);let t=this.decks.getCardByName("Squire",f.Self);t.zone=y.play,t.owner=f.Opponent;let r=this.decks.getCardByName("Squire",f.Self);r.zone=y.deck,r.owner=f.Self;let i=this.decks.getCardByName("fire bolt",f.Self);i.zone=y.hand;let s=this.decks.getCardByName("dwarf Cadet",f.Opponent);s.zone=y.deck,this.cardService.cardList.push(t,r,i,s);let o=this.cardFactory.generateBasicMine(T.Ruby);o.zone=y.hand,o.owner=f.Self,this.cardService.cardList.push(o)}nextStep(){this.step++}prevStep(){this.step--,this.step<0&&(this.step=0)}openPopup(t){document.getElementById("popup-image"),document.getElementById("")}done(){this.tutorialDone.emit()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-interactive-tutorial"]],outputs:{tutorialDone:"tutorialDone"},decls:1,vars:6,consts:[[3,"tutorial","player","enemy","game","cardService"]],template:function(r,i){1&r&&L(0,"app-survival-mode",0),2&r&&w("tutorial",!0)("player",i.player)("enemy",i.enemy)("game",i.game)("cardService",i.cardService)("tutorial",!0)},dependencies:[$D],styles:[".popup[_ngcontent-%COMP%]{display:none;position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:#0006}.popup-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:15% auto;padding:20px;border:1px solid #888;width:80%;max-width:600px;text-align:center}.close-btn[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700}.close-btn[_ngcontent-%COMP%]:hover, .close-btn[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}#popup-image[_ngcontent-%COMP%]{max-width:100%;height:auto}"]})}return n})();function aj(n,e){if(1&n){const t=te();m(0,"div",3)(1,"app-upgrade",4),U("selected",function(){const s=$(t).$implicit;return z(A().selectUpgrade(s))}),g()()}if(2&n){const t=e.$implicit,r=A();_(1),w("upgrade",t)("cardService",r.cardService)}}let lj=(()=>{class n{constructor(){this.hero={},this.cardService={},this.upgrades=[],this.selectedUpgrade=new ne,this.skipUpgrade=new ne,this.upgradeStorage={},this.upStatDesc=""}ngOnInit(){this.upgradeStorage=new Fp(this.cardService),this.upgrades=this.upgradeStorage.getRandomUniqueUpgrades();let t=this.upgradeStorage.getStatUpgrades(this.hero);this.upStatDesc=t.description,t.applyUpgrade(this.hero)}selectUpgrade(t){this.selectedUpgrade.emit(t),this.upgrades=this.upgradeStorage.getRandomUniqueUpgrades()}skip(){this.skipUpgrade.emit()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-hero-upgrade"]],inputs:{hero:"hero",cardService:"cardService"},outputs:{selectedUpgrade:"selectedUpgrade",skipUpgrade:"skipUpgrade"},decls:12,vars:3,consts:[[1,"row"],["class","upgradeSpacing",4,"ngFor","ngForOf"],[3,"click"],[1,"upgradeSpacing"],[3,"upgrade","cardService","selected"]],template:function(r,i){1&r&&(m(0,"p"),b(1,"LEVEL UP"),g(),m(2,"p"),b(3),g(),m(4,"p"),b(5),g(),m(6,"h2"),b(7,"Select an upgrade"),g(),m(8,"div",0),I(9,aj,2,2,"div",1),g(),m(10,"button",2),U("click",function(){return i.skip()}),b(11,"Skip"),g()),2&r&&(_(3),ze("Your Hero is now level ",i.hero.level,""),_(2),dt(i.upStatDesc),_(4),w("ngForOf",i.upgrades))},dependencies:[Ct,FD],styles:[".row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-evenly}.upgradeSpacing[_ngcontent-%COMP%]{margin:15px}"]})}return n})();const zD=function(n){return{fadeIn:n}};function cj(n,e){if(1&n&&(m(0,"div",8)(1,"p"),b(2,"Your Turn"),g()()),2&n){const t=A();w("ngClass",qn(1,zD,t.game.phaseManager.showTurnPlayer))}}function uj(n,e){if(1&n&&(m(0,"div",9)(1,"p"),b(2,"Enemy Turn"),g()()),2&n){const t=A();w("ngClass",qn(1,zD,t.game.phaseManager.showTurnEnemy))}}function dj(n,e){if(1&n){const t=te();m(0,"app-tutorial",13),U("tutorialDone",function(){return $(t),z(A(2).tutorialDone())}),g()}}function hj(n,e){if(1&n){const t=te();m(0,"div",14)(1,"app-deck-picker",15),U("selectDeckEvent",function(i){return $(t),z(A(2).setPlayerDeck(i))}),g(),L(2,"br"),g()}if(2&n){const t=A(2);_(1),w("cardService",t.cardService)("enemy",t.enemy)("player",t.player)}}function fj(n,e){if(1&n&&(m(0,"div",10)(1,"div",10),I(2,dj,1,0,"app-tutorial",11),g(),I(3,hj,3,3,"div",12),g()),2&n){const t=A();_(2),w("ngIf",t.showGlossary&&!t.showBattle),_(1),w("ngIf",!(t.showBattle||t.showTutorial||t.showGlossary||t.showReward||t.showMenu||t.showSurvival||t.cardService.hero.levelingUp))}}function pj(n,e){if(1&n){const t=te();m(0,"div")(1,"app-interactive-tutorial",13),U("tutorialDone",function(){return $(t),z(A().tutorialDone())}),g()()}}function gj(n,e){if(1&n){const t=te();m(0,"div")(1,"app-battle",16),U("doneEvent",function(i){return $(t),z(A().battleDoneEvent(i))})("enemyReadyEvent",function(){return $(t),z(A().enemyReady())}),g()()}if(2&n){const t=A();_(1),w("player",t.player)("enemy",t.enemy)("game",t.game)}}function mj(n,e){if(1&n){const t=te();m(0,"div")(1,"app-survival-mode",17),U("doneEvent",function(i){return $(t),z(A().battleDoneEvent(i))})("enemyReadyEvent",function(){return $(t),z(A().enemyReady())}),g()()}if(2&n){const t=A();_(1),w("player",t.player)("enemy",t.enemy)("game",t.game)("cardService",t.cardService)}}function yj(n,e){if(1&n){const t=te();m(0,"div")(1,"app-map",18),U("enemyDeckEvent",function(){return $(t),z(A().enemyReady())})("packSelectEvent",function(){return $(t),z(A().packEvent())})("relicSelectEvent",function(){return $(t),z(A().relicEvent())}),g()()}if(2&n){const t=A();_(1),w("player",t.player)("cardService",t.cardService)}}function vj(n,e){if(1&n){const t=te();m(0,"app-reward",19),U("proceed",function(){return $(t),z(A().backToMap())})("cardSelected",function(i){return $(t),z(A().addCard(i))})("relicSelected",function(i){return $(t),z(A().addRelic(i))}),g()}if(2&n){const t=A();w("cardService",t.cardService)("factions",t.cardService.selectedFactions)("currentReward",t.currentReward)("rewardMax",t.rewardMax)}}function _j(n,e){if(1&n){const t=te();m(0,"div")(1,"app-main-menu",20),U("newGameEvent",function(){return $(t),z(A().showMenu=!1)})("glossaryEvent",function(){$(t);const i=A();return i.showGlossary=!0,z(i.showMenu=!1)})("tutorialEvent",function(){$(t);const i=A();return i.showTutorial=!0,z(i.showMenu=!1)})("survivalEvent",function(){$(t);const i=A();return i.showSurvival=!0,z(i.showMenu=!1)})("debugEvent",function(){return $(t),z(A().debugGame())}),g()()}}function wj(n,e){if(1&n&&(m(0,"div"),L(1,"app-debug",21),g()),2&n){const t=A();_(1),w("cardService",t.cardService)}}const Cj=function(n,e){return{"top.px":n,"left.px":e}};function Sj(n,e){if(1&n&&(m(0,"div",22)(1,"p"),b(2),g(),m(3,"p"),b(4),g()()),2&n){const t=A();w("ngStyle",pa(3,Cj,t.popupY,t.popupX)),_(2),dt(t.game.phaseDisplay),_(2),dt(t.game.phaseManager.getPhaseText())}}function bj(n,e){if(1&n){const t=te();m(0,"app-hero-upgrade",23),U("selectedUpgrade",function(i){return $(t),z(A().heroUpgradeDone(i))})("skipUpgrade",function(){return $(t),z(A().skipUpgrade())}),g()}if(2&n){const t=A();w("hero",t.cardService.hero)("cardService",t.cardService)}}let GD=(()=>{class n{ngOnInit(){this.player=new ft(this.cardService),this.enemy=new yr(this.cardService),this.cardService.makePlayerService(this.player,this.enemy),this.game=new eu(this.player,this.enemy,this.cardService),this.cardService.cardList.push(...this.playerDeck),this.player.cardService=this.cardService,this.enemy.cardService=this.cardService,new Aa(this.cardService),this.player.applyStaticAbilities()}constructor(t){this.animationService=t,this.winner=!1,this.spellNeedsTargets=!1,this.showBattle=!1,this.showTutorial=!1,this.showMap=!1,this.showReward=!1,this.showMenu=!0,this.showDebug=!1,this.showGlossary=!1,this.showSurvival=!1,this.rewardMax=1,this.rewardsReceived=0,this.cardService=new Np,this.player={},this.enemy=new yr(this.cardService),this.game={},this.playerDeck=[],this.drawnCards=[],this.currentReward=Li.Relic,this.popupVisible=!1,this.popupX=100,this.popupY=100}handleKeyboardE(t){this.canProgressTurn()&&this.game.phaseManager.nextPhase()}handleKeyboardSpace(t){this.canProgressTurn()&&this.game.phaseManager.nextPhase()}canProgressTurn(){return!this.player.stopPhases&&!this.enemy.stopPhases&&this.player.hp>0&&this.enemy.getAllCards().length>0}isPassableTime(){return(1===this.game.currentPhase||2===this.game.currentPhase||3===this.game.currentPhase||4===this.game.currentPhase||5===this.game.currentPhase)&&this.game.currentTurn===this.game.player}setPlayerDeck(t){this.cardService.cardList.push(...t),this.cardService.shuffleDeck(this.cardService.cardList),this.showMap=!0,this.player.drawCards(6,!0);let r=this.cardService.getCards(y.deck,f.Self,R.Mine);for(let i=0;i<r.length;i++){let s=r[i];if(s.factions.includes(D.Colorless)){s.zone=y.hand;break}}}enemyReady(){this.cardService.shuffleDeck(this.cardService.cardList);let t=this.player.relics;this.cardService.checkTriggers(H.StartFight,f.Opponent),this.cardService.checkTriggers(H.Start,f.Opponent);for(let r=0;r<t.length;r++)this.player.processAbilities(t[r]);this.showMap=!1,this.showBattle=!0}survivalReady(){this.cardService.shuffleDeck(this.cardService.cardList);let t=this.player.relics;this.cardService.checkTriggers(H.StartFight,f.Any),this.cardService.checkTriggers(H.Start,f.Any);for(let r=0;r<t.length;r++)this.player.processAbilities(t[r]);this.showSurvival=!0}rewardReady(){this.showReward=!0}rewardEvent(){}packEvent(){this.rewardMax=1,this.currentReward=Li.Card,this.showReward=!0,this.showMap=!1}relicEvent(){this.rewardMax=1,this.currentReward=Li.Relic,this.showReward=!0,this.showMap=!1}battleDoneEvent(t){this.cardService.resetCreatures(),this.rewardsReceived=0,this.rewardMax=2;const r=[Li.Relic,Li.Card];this.currentReward=r[Math.floor(Math.random()*r.length)],this.showReward=!0,this.showBattle=!1,this.showMap=!1,t?this.randomReward():window.location.reload()}debugGame(){let t=new vr(this.cardService);this.setPlayerDeck([]);let i=[];i.push(t.getCardByName("gust",f.Opponent)),i.push(t.getCardByName("haste",f.Opponent));let s=t.getCardByName("squire",f.Opponent);s.zone=y.play,i.push(s),this.cardService.cardList.push(...i),this.enemyReady(),this.game.currentPhase=ee.main,this.showDebug=!0,this.showBattle=!0,this.showMenu=!1,this.showGlossary=!1}randomReward(){this.rewardsReceived<this.rewardMax?(this.showBattle=!1,this.hidePopup(),this.cardService.resetCreatures(),this.showReward=!0):this.backToMap()}backToMap(){this.showMap=!0,this.showBattle=!1,this.showReward=!1,this.popupVisible=!1,this.cardService.difficulty++,this.cardService.reset(),this.cardService.hero.resetGoldCost(),this.cardService.shuffleDeck(this.cardService.cardList),this.cardService.drawInitialHand(),this.game.phaseManager.resetPhase(),this.cardService.resetCreatures(),this.cardService.difficultyMods="",this.player.currentPos++,this.player.minesPlayed=0,this.player.mineLimits=1,this.player.applyStaticAbilities(),this.hidePopup()}backToMenu(){this.player=new ft(this.cardService),this.cardService.hero.resetGoldCost(),this.cardService.cardList=[],this.player.resetMines(),this.cardService.makePlayerService(this.player,this.enemy),this.cardService.nodePos=0,this.showBattle=!1,this.showMap=!1,this.cardService.cardList=[],this.player.hp=40,this.player.wall.hp=20,this.game.currentTurn=this.player,this.game.phaseManager.resetPhase(),this.cardService.currentPos=0,this.cardService.difficultyMods="",this.cardService.difficulty=0,this.popupVisible=!1,this.player.minesPlayed=0,this.player.mineLimits=1,this.hidePopup()}addRelic(t){this.player.addRelic(t)}addCard(t){this.cardService.cardList.push(t)}tutorialDone(){this.showTutorial=!1,this.showGlossary=!1,this.showMenu=!0}showPopup(t){this.popupVisible=!0,this.updatePopupPosition(t)}movePopup(t){this.updatePopupPosition(t)}hidePopup(){this.popupVisible=!1}updatePopupPosition(t){this.popupX=t.clientX+10,this.popupY=t.clientY+10}animateDrawnCards(t){this.drawnCards=t,setTimeout(()=>{this.drawnCards=[]},1e3)}heroUpgradeDone(t){let r=this.cardService.hero,i=this.cardService.cardList.filter(s=>s.owner===f.Self&&s.name===t.name);t.applyMassUpgrade(i),r.level%5==0&&(r.maxLevel++,this.cardService.getCards(y.any,f.Self,R.Any).forEach(o=>{o.maxLevel++})),r.levelingUp=!1,this.showSurvival=!0}skipUpgrade(){let t=this.cardService.hero;t.levelingUp=!1,this.showSurvival=!0,t.level%5==0&&(t.maxLevel++,this.cardService.getCards(y.any,f.Self,R.Any).forEach(i=>{i.maxLevel++}))}static#e=this.\u0275fac=function(r){return new(r||n)(F(Sn))};static#t=this.\u0275cmp=be({type:n,selectors:[["app-game"]],hostBindings:function(r,i){1&r&&U("keyup.e",function(o){return i.handleKeyboardE(o)},0,ac)("keyup.space",function(o){return i.handleKeyboardSpace(o)},!1,ac)},inputs:{playerDeck:"playerDeck"},decls:14,vars:16,consts:[[3,"relics","deck","cardService","enemyDeck"],["class","turnPopUp whiteFont fadeIn",3,"ngClass",4,"ngIf"],["class","turnPopUp whiteFont",3,"ngClass",4,"ngIf"],["class","",4,"ngIf"],[4,"ngIf"],[3,"cardService","factions","currentReward","rewardMax","proceed","cardSelected","relicSelected",4,"ngIf"],["class","popUp","class","popup",3,"ngStyle",4,"ngIf"],["class","whiteFont levelUpPopUp",3,"hero","cardService","selectedUpgrade","skipUpgrade",4,"ngIf"],[1,"turnPopUp","whiteFont","fadeIn",3,"ngClass"],[1,"turnPopUp","whiteFont",3,"ngClass"],[1,""],[3,"tutorialDone",4,"ngIf"],["class","centerElement mapColors mainMargins",4,"ngIf"],[3,"tutorialDone"],[1,"centerElement","mapColors","mainMargins"],[3,"cardService","enemy","player","selectDeckEvent"],[3,"player","enemy","game","doneEvent","enemyReadyEvent"],[3,"player","enemy","game","cardService","doneEvent","enemyReadyEvent"],[3,"player","cardService","enemyDeckEvent","packSelectEvent","relicSelectEvent"],[3,"cardService","factions","currentReward","rewardMax","proceed","cardSelected","relicSelected"],[3,"newGameEvent","glossaryEvent","tutorialEvent","survivalEvent","debugEvent"],[3,"cardService"],[1,"popup",3,"ngStyle"],[1,"whiteFont","levelUpPopUp",3,"hero","cardService","selectedUpgrade","skipUpgrade"]],template:function(r,i){1&r&&(L(0,"app-header",0),I(1,cj,3,3,"div",1),I(2,uj,3,3,"div",2),I(3,fj,4,2,"div",3),I(4,pj,2,0,"div",4),I(5,gj,2,3,"div",4),I(6,mj,2,4,"div",4),I(7,yj,2,2,"div",4),I(8,vj,1,4,"app-reward",5),I(9,_j,2,0,"div",4),I(10,wj,2,1,"div",4),I(11,Sj,5,6,"div",6),m(12,"div"),I(13,bj,1,2,"app-hero-upgrade",7),g()),2&r&&(w("relics",i.player.relics)("deck",i.player.getAllCards())("cardService",i.cardService)("enemyDeck",i.enemy.getAllCards()),_(1),w("ngIf",i.game.phaseManager.showTurnPlayer),_(1),w("ngIf",i.game.phaseManager.showTurnEnemy),_(1),w("ngIf",!i.showBattle&&!i.showMap&&!i.showReward),_(1),w("ngIf",i.showTutorial),_(1),w("ngIf",i.showBattle&&!i.cardService.hero.levelingUp),_(1),w("ngIf",i.showSurvival),_(1),w("ngIf",i.showMap),_(1),w("ngIf",i.showReward),_(1),w("ngIf",i.showMenu),_(1),w("ngIf",i.showDebug),_(1),w("ngIf",i.popupVisible),_(2),w("ngIf",i.cardService.hero.levelingUp))},dependencies:[qs,lt,Ks,m3,OD,D0,k3,I3,O3,LD,oj,HD,$D,lj],styles:[".displayRow[_ngcontent-%COMP%]{display:flex;flex-flow:row;justify-content:space-between}.turnDisplay[_ngcontent-%COMP%]{position:fixed;padding:10px;bottom:25%;right:0;top:50%}.glow[_ngcontent-%COMP%]{box-shadow:0 0 25px 8px #baa237e6}@media screen and (min-width: 1300px){.turnDisplay[_ngcontent-%COMP%]{position:fixed;padding:10px;bottom:auto;right:0;top:50%}}@media screen and (max-width: 1100px){.turnDisplay[_ngcontent-%COMP%]{position:fixed;bottom:auto;top:40%}}.turnPopUp[_ngcontent-%COMP%]{position:absolute;border:2px solid white;background-color:#000;width:95%;left:2.5%;right:2.5%;text-align:center;top:50%;padding:3px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}.fighting[_ngcontent-%COMP%]{transform:translateY(50px)}.attacker[_ngcontent-%COMP%], .blocker[_ngcontent-%COMP%]{display:inline-block;transition:transform .3s ease-in-out}.attacker[_ngcontent-%COMP%]{border-color:#f6a5a5}.blocker[_ngcontent-%COMP%]{border-color:#6b81ff}.battleBg[_ngcontent-%COMP%]{background-color:#90ff7991}.fireGradient[_ngcontent-%COMP%]{background-image:linear-gradient(rgb(8,8,8),rgb(141,79,42));background-size:100% 200%;animation:_ngcontent-%COMP%_fireFlare 30s infinite ease-in-out}@keyframes _ngcontent-%COMP%_fireFlare{0%{background-position:0% 0%;background-image:linear-gradient(rgb(8,8,8),rgb(141,79,42))}25%{background-position:0% 100%;background-image:linear-gradient(rgb(8,8,8),rgb(192,88,52))}50%{background-position:0% 0%;background-image:linear-gradient(rgb(8,8,8),rgb(171,69,32))}75%{background-position:0% 100%;background-image:linear-gradient(rgb(8,8,8),rgb(141,79,42))}to{background-position:0% 0%;background-image:linear-gradient(rgb(8,8,8),rgb(192,88,52))}}@keyframes _ngcontent-%COMP%_flip{0%{transform:perspective(600px) rotateY(0)}50%{transform:perspective(600px) rotateY(180deg)}to{transform:perspective(600px) rotateY(360deg)}}@keyframes _ngcontent-%COMP%_moveToPlayArea{0%{transform:translate(0)}to{transform:translate(300px,200px)}}.card[_ngcontent-%COMP%]{transition:transform 1s;transform-style:preserve-3d}.flip[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_flip 1s forwards}.move[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_moveToPlayArea 1s forwards}.levelUpPopUp[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#000;border:2px solid white;padding:20px;text-align:center;z-index:1000}"],data:{animation:[Sn.drawCard]}})}return n})(),Dj=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&L(0,"app-game")},dependencies:[GD]})}return n})();function ig(...n){const e=yo(n),t=bm(n),{args:r,keys:i}=M0(n);if(0===r.length)return wt([],e);const s=new ct(function Mj(n,e,t=Yr){return r=>{WD(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)WD(e,()=>{const c=wt(n[l],e);let u=!1;c.subscribe(ut(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>T0(i,o):Yr));return t?s.pipe(A0(t)):s}function WD(n,e,t){n?Er(t,n,e):e()}const vu=po(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function sg(...n){return function Aj(){return Zi(1)}()(wt(n,yo(n)))}function qD(n){return new ct(e=>{dn(n()).subscribe(e)})}function Oa(n,e){const t=Re(n)?n:()=>n,r=i=>i.error(t());return new ct(e?i=>e.schedule(r,0,i):r)}function og(){return gt((n,e)=>{let t=null;n._refCount++;const r=ut(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class KD extends ct{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,lm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new un;const t=this.getSubject();e.add(this.source.subscribe(ut(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=un.EMPTY)}return e}refCount(){return og()(this)}}function no(n){return n<=0?()=>nr:gt((e,t)=>{let r=0;e.subscribe(ut(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function hi(n,e){return gt((t,r)=>{let i=0;t.subscribe(ut(r,s=>n.call(e,s,i++)&&r.next(s)))})}function _u(n){return gt((e,t)=>{let r=!1;e.subscribe(ut(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function YD(n=kj){return gt((e,t)=>{let r=!1;e.subscribe(ut(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function kj(){return new vu}function $i(n,e){const t=arguments.length>=2;return r=>r.pipe(n?hi((i,s)=>n(i,s,r)):Yr,no(1),t?_u(e):YD(()=>new vu))}function Fa(n,e){return Re(e)?Dt(n,e,1):Dt(n,1)}function Vt(n,e,t){const r=Re(n)||e||t?{next:n,error:e,complete:t}:n;return r?gt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ut(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Yr}function zi(n){return gt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(ut(t,void 0,void 0,o=>{s=dn(n(o,zi(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function ag(n){return n<=0?()=>nr:gt((e,t)=>{let r=[];e.subscribe(ut(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function lg(n){return gt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const he="primary",La=Symbol("RouteTitle");class Oj{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ro(n){return new Oj(n)}function Fj(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Cr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!ZD(n[i],e[i]))return!1;return!0}function ZD(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function QD(n){return n.length>0?n[n.length-1]:null}function fi(n){return function Ej(n){return!!n&&(n instanceof ct||Re(n.lift)&&Re(n.subscribe))}(n)?n:sa(n)?wt(Promise.resolve(n)):ae(n)}const Bj={exact:function eE(n,e,t){if(!Gi(n.segments,e.segments)||!wu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!eE(n.children[r],e.children[r],t))return!1;return!0},subset:tE},XD={exact:function Vj(n,e){return Cr(n,e)},subset:function Uj(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ZD(n[t],e[t]))},ignored:()=>!0};function JD(n,e,t){return Bj[t.paths](n.root,e.root,t.matrixParams)&&XD[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function tE(n,e,t){return nE(n,e,e.segments,t)}function nE(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Gi(i,t)||e.hasChildren()||!wu(i,t,r))}if(n.segments.length===t.length){if(!Gi(n.segments,t)||!wu(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!tE(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Gi(n.segments,i)&&wu(n.segments,i,r)&&n.children[he])&&nE(n.children[he],e,s,r)}}function wu(n,e,t){return e.every((r,i)=>XD[t](n[i].parameters,r.parameters))}class io{constructor(e=new xe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ro(this.queryParams)),this._queryParamMap}toString(){return $j.serialize(this)}}class xe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cu(this)}}class Ba{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ro(this.parameters)),this._parameterMap}toString(){return sE(this)}}function Gi(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Va=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:function(){return new cg},providedIn:"root"})}return n})();class cg{parse(e){const t=new eH(e);return new io(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ua(e.root,!0)}`,r=function Wj(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Su(t)}=${Su(i)}`).join("&"):`${Su(t)}=${Su(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function zj(n){return encodeURI(n)}(e.fragment)}`:""}`}}const $j=new cg;function Cu(n){return n.segments.map(e=>sE(e)).join("/")}function Ua(n,e){if(!n.hasChildren())return Cu(n);if(e){const t=n.children[he]?Ua(n.children[he],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==he&&r.push(`${i}:${Ua(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Hj(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===he&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==he&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===he?[Ua(n.children[he],!1)]:[`${i}:${Ua(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[he]?`${Cu(n)}/${t[0]}`:`${Cu(n)}/(${t.join("//")})`}}function rE(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Su(n){return rE(n).replace(/%3B/gi,";")}function ug(n){return rE(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bu(n){return decodeURIComponent(n)}function iE(n){return bu(n.replace(/\+/g,"%20"))}function sE(n){return`${ug(n.path)}${function Gj(n){return Object.keys(n).map(e=>`;${ug(e)}=${ug(n[e])}`).join("")}(n.parameters)}`}const qj=/^[^\/()?;#]+/;function dg(n){const e=n.match(qj);return e?e[0]:""}const Kj=/^[^\/()?;=#]+/,Zj=/^[^=?&#]+/,Xj=/^[^&#]+/;class eH{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[he]=new xe(e,t)),r}parseSegment(){const e=dg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new x(4009,!1);return this.capture(e),new Ba(bu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Yj(n){const e=n.match(Kj);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=dg(this.remaining);i&&(r=i,this.capture(r))}e[bu(t)]=bu(r)}parseQueryParam(e){const t=function Qj(n){const e=n.match(Zj);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function Jj(n){const e=n.match(Xj);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=iE(t),s=iE(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=dg(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new x(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=he);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[he]:new xe([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new x(4011,!1)}}function oE(n){return n.segments.length>0?new xe([],{[he]:n}):n}function aE(n){const e={};for(const r of Object.keys(n.children)){const s=aE(n.children[r]);if(r===he&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function tH(n){if(1===n.numberOfChildren&&n.children[he]){const e=n.children[he];return new xe(n.segments.concat(e.segments),e.children)}return n}(new xe(n.segments,e))}function Wi(n){return n instanceof io}function lE(n){let e;const i=oE(function t(s){const o={};for(const l of s.children){const c=t(l);o[l.outlet]=c}const a=new xe(s.url,o);return s===n&&(e=a),a}(n.root));return e??i}function cE(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return hg(i,i,i,t,r);const s=function rH(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new dE(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new dE(t,e,r)}(e);if(s.toRoot())return hg(i,i,new xe([],{}),t,r);const o=function iH(n,e,t){if(n.isAbsolute)return new Eu(e,!0,0);if(!t)return new Eu(e,!1,NaN);if(null===t.parent)return new Eu(t,!0,0);const r=Du(n.commands[0])?0:1;return function sH(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new x(4005,!1);i=r.segments.length}return new Eu(r,!1,i-s)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(s,i,n),a=o.processChildren?Ha(o.segmentGroup,o.index,s.commands):hE(o.segmentGroup,o.index,s.commands);return hg(i,o.segmentGroup,a,t,r)}function Du(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ja(n){return"object"==typeof n&&null!=n&&n.outlets}function hg(n,e,t,r,i){let o,s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),o=n===e?t:uE(n,e,t);const a=oE(aE(o));return new io(a,s,i)}function uE(n,e,t){const r={};return Object.entries(n.children).forEach(([i,s])=>{r[i]=s===e?t:uE(s,e,t)}),new xe(n.segments,r)}class dE{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Du(r[0]))throw new x(4003,!1);const i=r.find(ja);if(i&&i!==QD(r))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Eu{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function hE(n,e,t){if(n||(n=new xe([],{})),0===n.segments.length&&n.hasChildren())return Ha(n,e,t);const r=function aH(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(ja(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!pE(l,c,o))return s;r+=2}else{if(!pE(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new xe(n.segments.slice(0,r.pathIndex),{});return s.children[he]=new xe(n.segments.slice(r.pathIndex),n.children),Ha(s,0,i)}return r.match&&0===i.length?new xe(n.segments,{}):r.match&&!n.hasChildren()?fg(n,e,t):r.match?Ha(n,0,i):fg(n,e,t)}function Ha(n,e,t){if(0===t.length)return new xe(n.segments,{});{const r=function oH(n){return ja(n[0])?n[0].outlets:{[he]:n}}(t),i={};if(Object.keys(r).some(s=>s!==he)&&n.children[he]&&1===n.numberOfChildren&&0===n.children[he].segments.length){const s=Ha(n.children[he],e,t);return new xe(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=hE(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new xe(n.segments,i)}}function fg(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(ja(s)){const l=lH(s.outlets);return new xe(r,l)}if(0===i&&Du(t[0])){r.push(new Ba(n.segments[e].path,fE(t[0]))),i++;continue}const o=ja(s)?s.outlets[he]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Du(a)?(r.push(new Ba(o,fE(a))),i+=2):(r.push(new Ba(o,{})),i++)}return new xe(r,{})}function lH(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=fg(new xe([],{}),0,r))}),e}function fE(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function pE(n,e,t){return n==t.path&&Cr(e,t.parameters)}const $a="imperative";class Sr{constructor(e,t){this.id=e,this.url=t}}class Mu extends Sr{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pi extends Sr{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class za extends Sr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class so extends Sr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Au extends Sr{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gE extends Sr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cH extends Sr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uH extends Sr{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class dH extends Sr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hH extends Sr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fH{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pH{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gH{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mH{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yH{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vH{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mE{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class pg{}class gg{constructor(e){this.url=e}}class _H{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ga,this.attachRef=null}}let Ga=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new _H,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class yE{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=mg(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=mg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=yg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return yg(e,this._root).map(t=>t.value)}}function mg(n,e){if(n===e.value)return e;for(const t of e.children){const r=mg(n,t);if(r)return r}return null}function yg(n,e){if(n===e.value)return[e];for(const t of e.children){const r=yg(n,t);if(r.length)return r.unshift(e),r}return[]}class zr{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function oo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class vE extends yE{constructor(e,t){super(e),this.snapshot=t,vg(this,e)}toString(){return this.snapshot.toString()}}function _E(n,e){const t=function wH(n,e){const o=new Tu([],{},{},"",{},he,e,null,{});return new CE("",new zr(o,[]))}(0,e),r=new An([new Ba("",{})]),i=new An({}),s=new An({}),o=new An({}),a=new An(""),l=new ao(r,i,o,a,s,he,e,t.root);return l.snapshot=t.root,new vE(new zr(l,[]),t)}class ao{constructor(e,t,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Le(c=>c[La]))??ae(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Le(e=>ro(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Le(e=>ro(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wE(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function CH(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Tu{get title(){return this.data?.[La]}constructor(e,t,r,i,s,o,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ro(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ro(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class CE extends yE{constructor(e,t){super(t),this.url=e,vg(this,t)}toString(){return SE(this._root)}}function vg(n,e){e.value._routerState=n,e.children.forEach(t=>vg(n,t))}function SE(n){const e=n.children.length>0?` { ${n.children.map(SE).join(", ")} } `:"";return`${n.value}${e}`}function _g(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Cr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Cr(e.params,t.params)||n.paramsSubject.next(t.params),function Lj(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Cr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Cr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function wg(n,e){const t=Cr(n.params,e.params)&&function jj(n,e){return Gi(n,e)&&n.every((t,r)=>Cr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||wg(n.parent,e.parent))}let bE=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=he,this.activateEvents=new ne,this.deactivateEvents=new ne,this.attachEvents=new ne,this.detachEvents=new ne,this.parentContexts=q(Ga),this.location=q(Kn),this.changeDetector=q(Oc),this.environmentInjector=q(Rn),this.inputBinder=q(ku,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new x(4013,!1);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new SH(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=oe({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Pn]})}return n})();class SH{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ao?this.route:e===Ga?this.childContexts:this.parent.get(e,t)}}const ku=new Y("");let DE=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=ig([r.queryParams,r.params,r.data]).pipe(rr(([s,o,a],l)=>(a={...s,...o,...a},0===l?ae(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const o=function I2(n){const e=_e(n);if(!e)return null;const t=new ea(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();function Wa(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function DH(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Wa(n,r,i);return Wa(n,r)})}(n,e,t);return new zr(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Wa(n,a)),o}}const r=function EH(n){return new ao(new An(n.url),new An(n.params),new An(n.queryParams),new An(n.fragment),new An(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Wa(n,s));return new zr(r,i)}}const Cg="ngNavigationCancelingError";function EE(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Wi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ME(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function ME(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Cg]=!0,r.cancellationCode=e,t&&(r.url=t),r}function AE(n){return n&&n[Cg]}let TE=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=be({type:n,selectors:[["ng-component"]],standalone:!0,features:[WC],decls:1,vars:0,template:function(r,i){1&r&&L(0,"router-outlet")},dependencies:[bE],encapsulation:2})}return n})();function Sg(n){const e=n.children&&n.children.map(Sg),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==he&&(t.component=TE),t}function Jn(n){return n.outlet||he}function qa(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class RH{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),_g(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=oo(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=oo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=oo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=oo(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new vH(s.value.snapshot))}),e.children.length&&this.forwardEvent(new mH(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(_g(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),_g(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=qa(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class kE{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Iu{constructor(e,t){this.component=e,this.route=t}}function NH(n,e,t){const r=n._root;return Ka(r,e?e._root:null,t,[r.value])}function lo(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function zM(n){return null!==ul(n)}(n)?e.get(n):n:r}function Ka(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=oo(e);return n.children.forEach(o=>{(function FH(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function LH(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Gi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Gi(n.url,e.url)||!Cr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wg(n,e)||!Cr(n.queryParams,e.queryParams);default:return!wg(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new kE(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Ka(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Iu(a.outlet.component,o))}else o&&Ya(e,a,i),i.canActivateChecks.push(new kE(r)),Ka(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ya(a,t.getContext(o),i)),i}function Ya(n,e,t){const r=oo(n),i=n.value;Object.entries(r).forEach(([s,o])=>{Ya(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Iu(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Za(n){return"function"==typeof n}function IE(n){return n instanceof vu||"EmptyError"===n?.name}const Pu=Symbol("INITIAL_VALUE");function co(){return rr(n=>ig(n.map(e=>e.pipe(no(1),function Tj(...n){const e=yo(n);return gt((t,r)=>{(e?sg(n,t,e):sg(n,t)).subscribe(r)})}(Pu)))).pipe(Le(e=>{for(const t of e)if(!0!==t){if(t===Pu)return Pu;if(!1===t||t instanceof io)return t}return!0}),hi(e=>e!==Pu),no(1)))}function PE(n){return function W1(...n){return sm(n)}(Vt(e=>{if(Wi(e))throw EE(0,e)}),Le(e=>!0===e))}class xu{constructor(e){this.segmentGroup=e||null}}class xE{constructor(e){this.urlTree=e}}function uo(n){return Oa(new xu(n))}function RE(n){return Oa(new xE(n))}class r${constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new x(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ae(r);if(i.numberOfChildren>1||!i.children[he])return Oa(new x(4e3,!1));i=i.children[he]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new io(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new xe(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new x(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const bg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function i$(n,e,t,r,i){const s=Dg(n,e,t);return s.matched?(r=function AH(n,e){return n.providers&&!n._injector&&(n._injector=Af(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function e$(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?ae(i.map(o=>{const a=lo(o,n);return fi(function $H(n){return n&&Za(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(co(),PE()):ae(!0)}(r,e,t).pipe(Le(o=>!0===o?s:{...bg}))):ae(s)}function Dg(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...bg}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Fj)(t,n,e);if(!i)return{...bg};const s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function NE(n,e,t,r){return t.length>0&&function a$(n,e,t){return t.some(r=>Ru(n,e,r)&&Jn(r)!==he)}(n,t,r)?{segmentGroup:new xe(e,o$(r,new xe(t,n.children))),slicedSegments:[]}:0===t.length&&function l$(n,e,t){return t.some(r=>Ru(n,e,r))}(n,t,r)?{segmentGroup:new xe(n.segments,s$(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new xe(n.segments,n.children),slicedSegments:t}}function s$(n,e,t,r,i){const s={};for(const o of r)if(Ru(n,t,o)&&!i[Jn(o)]){const a=new xe([],{});s[Jn(o)]=a}return{...i,...s}}function o$(n,e){const t={};t[he]=e;for(const r of n)if(""===r.path&&Jn(r)!==he){const i=new xe([],{});t[Jn(r)]=i}return t}function Ru(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class h${constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new r$(this.urlSerializer,this.urlTree)}noMatchError(e){return new x(4002,!1)}recognize(){const e=NE(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,he).pipe(zi(t=>{if(t instanceof xE)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof xu?this.noMatchError(t):t}),Le(t=>{const r=new Tu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},he,this.rootComponentType,null,{}),i=new zr(r,t),s=new CE("",i),o=function nH(n,e,t=null,r=null){return cE(lE(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,he).pipe(zi(r=>{throw r instanceof xu?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=wE(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return wt(i).pipe(Fa(s=>{const o=r.children[s],a=function PH(n,e){const t=n.filter(r=>Jn(r)===e);return t.push(...n.filter(r=>Jn(r)!==e)),t}(t,s);return this.processSegmentGroup(e,a,o,s)}),function Pj(n,e){return gt(function Ij(n,e,t,r,i){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(ut(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(n,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),_u(null),function xj(n,e){const t=arguments.length>=2;return r=>r.pipe(n?hi((i,s)=>n(i,s,r)):Yr,ag(1),t?_u(e):YD(()=>new vu))}(),Dt(s=>{if(null===s)return uo(r);const o=OE(s);return function f$(n){n.sort((e,t)=>e.value.outlet===he?-1:t.value.outlet===he?1:e.value.outlet.localeCompare(t.value.outlet))}(o),ae(o)}))}processSegment(e,t,r,i,s,o){return wt(t).pipe(Fa(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,s,o).pipe(zi(l=>{if(l instanceof xu)return ae(null);throw l}))),$i(a=>!!a),zi(a=>{if(IE(a))return function u$(n,e,t){return 0===e.length&&!n.children[t]}(r,i,s)?ae([]):uo(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,s,o,a){return function c$(n,e,t,r){return!!(Jn(n)===r||r!==he&&Ru(e,t,n))&&("**"===n.path||Dg(e,n,t).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o):uo(i):uo(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?RE(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Dt(o=>{const a=new xe(o,{});return this.processSegment(e,t,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=Dg(t,i,s);if(!a)return uo(t);const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?RE(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Dt(h=>this.processSegment(e,r,t,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a;if("**"===r.path){const l=i.length>0?QD(i).parameters:{};a=ae({snapshot:new Tu(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,FE(r),Jn(r),r.component??r._loadedComponent??null,r,LE(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=i$(t,r,i,e).pipe(Le(({matched:l,consumedSegments:c,remainingSegments:u,parameters:d})=>l?{snapshot:new Tu(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,FE(r),Jn(r),r.component??r._loadedComponent??null,r,LE(r)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(rr(l=>null===l?uo(t):this.getChildConfig(e=r._injector??e,r,i).pipe(rr(({routes:c})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:p}=l,{segmentGroup:v,slicedSegments:S}=NE(t,h,p,c);if(0===S.length&&v.hasChildren())return this.processChildren(u,c,v).pipe(Le(k=>null===k?null:[new zr(d,k)]));if(0===c.length&&0===S.length)return ae([new zr(d,[])]);const M=Jn(r)===s;return this.processSegment(u,c,v,S,M?he:s,!0).pipe(Le(k=>[new zr(d,k)]))}))))}getChildConfig(e,t,r){return t.children?ae({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ae({routes:t._loadedRoutes,injector:t._loadedInjector}):function JH(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?ae(!0):ae(i.map(o=>{const a=lo(o,n);return fi(function VH(n){return n&&Za(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(co(),PE())}(e,t,r).pipe(Dt(i=>i?this.configLoader.loadChildren(e,t).pipe(Vt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function n$(n){return Oa(ME(!1,3))}())):ae({routes:[],injector:e})}}function p$(n){const e=n.value.routeConfig;return e&&""===e.path}function OE(n){const e=[],t=new Set;for(const r of n){if(!p$(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=OE(r.children);e.push(new zr(r.value,i))}return e.filter(r=>!t.has(r))}function FE(n){return n.data||{}}function LE(n){return n.resolve||{}}function BE(n){return"string"==typeof n.title||null===n.title}function Eg(n){return rr(e=>{const t=n(e);return t?wt(t).pipe(Le(()=>e)):ae(e)})}const ho=new Y("ROUTES");let Mg=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=q(jS)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ae(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=fi(t.loadComponent()).pipe(Le(VE),Vt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),lg(()=>{this.componentLoaders.delete(t)})),i=new KD(r,()=>new Mn).pipe(og());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ae({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function C$(n,e,t,r){return fi(n.loadChildren()).pipe(Le(VE),Dt(i=>i instanceof zC||Array.isArray(i)?ae(i):wt(e.compileModuleAsync(i))),Le(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(t).injector,o=s.get(ho,[],{optional:!0,self:!0}).flat()),{routes:o.map(Sg),injector:s}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(lg(()=>{this.childrenLoaders.delete(r)})),o=new KD(s,()=>new Mn).pipe(og());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function VE(n){return function S$(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Nu=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Mn,this.transitionAbortSubject=new Mn,this.configLoader=q(Mg),this.environmentInjector=q(Rn),this.urlSerializer=q(Va),this.rootContexts=q(Ga),this.inputBindingEnabled=null!==q(ku,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ae(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new pH(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new fH(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new An({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:$a,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(hi(s=>0!==s.id),Le(s=>({...s,extractedUrl:t.urlHandlingStrategy.extract(s.rawUrl)})),rr(s=>{this.currentTransition=s;let o=!1,a=!1;return ae(s).pipe(Vt(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),rr(l=>{const c=l.currentBrowserUrl.toString(),u=!t.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const h="";return this.events.next(new so(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),nr}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ae(l).pipe(rr(h=>{const p=this.transitions?.getValue();return this.events.next(new Mu(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?nr:Promise.resolve(h)}),function g$(n,e,t,r,i,s){return Dt(o=>function d$(n,e,t,r,i,s,o="emptyOnly"){return new h$(n,e,t,r,i,o,s).recognize()}(n,e,t,r,o.extractedUrl,i,s).pipe(Le(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Vt(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const p=new gE(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:p,source:v,restoredState:S,extras:M}=l,k=new Mu(h,this.urlSerializer.serialize(p),v,S);this.events.next(k);const E=_E(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:E,urlAfterRedirects:p,extras:{...M,skipLocationChange:!1,replaceUrl:!1}},ae(s)}{const h="";return this.events.next(new so(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),nr}}),Vt(l=>{const c=new cH(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Le(l=>(this.currentTransition=s={...l,guards:NH(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function GH(n,e){return Dt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?ae({...t,guardsResult:!0}):function WH(n,e,t,r){return wt(n).pipe(Dt(i=>function XH(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ae(s.map(a=>{const l=qa(e)??i,c=lo(a,l);return fi(function HH(n){return n&&Za(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):l.runInContext(()=>c(n,e,t,r))).pipe($i())})).pipe(co()):ae(!0)}(i.component,i.route,t,e,r)),$i(i=>!0!==i,!0))}(o,r,i,n).pipe(Dt(a=>a&&function BH(n){return"boolean"==typeof n}(a)?function qH(n,e,t,r){return wt(e).pipe(Fa(i=>sg(function YH(n,e){return null!==n&&e&&e(new gH(n)),ae(!0)}(i.route.parent,r),function KH(n,e){return null!==n&&e&&e(new yH(n)),ae(!0)}(i.route,r),function QH(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function OH(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>qD(()=>ae(o.guards.map(l=>{const c=qa(o.node)??t,u=lo(l,c);return fi(function jH(n){return n&&Za(n.canActivateChild)}(u)?u.canActivateChild(r,n):c.runInContext(()=>u(r,n))).pipe($i())})).pipe(co())));return ae(s).pipe(co())}(n,i.path,t),function ZH(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ae(!0);const i=r.map(s=>qD(()=>{const o=qa(e)??t,a=lo(s,o);return fi(function UH(n){return n&&Za(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe($i())}));return ae(i).pipe(co())}(n,i.route,t))),$i(i=>!0!==i,!0))}(r,s,n,e):ae(a)),Le(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Vt(l=>{if(s.guardsResult=l.guardsResult,Wi(l.guardsResult))throw EE(0,l.guardsResult);const c=new uH(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),hi(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),Eg(l=>{if(l.guards.canActivateChecks.length)return ae(l).pipe(Vt(c=>{const u=new dH(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),rr(c=>{let u=!1;return ae(c).pipe(function m$(n,e){return Dt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ae(t);let s=0;return wt(i).pipe(Fa(o=>function y$(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!BE(i)&&(s[La]=i.title),function v$(n,e,t,r){const i=function _$(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return ae({});const s={};return wt(i).pipe(Dt(o=>function w$(n,e,t,r){const i=qa(e)??r,s=lo(n,i);return fi(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe($i(),Vt(a=>{s[o]=a}))),ag(1),function Rj(n){return Le(()=>n)}(s),zi(o=>IE(o)?nr:Oa(o)))}(s,n,e,r).pipe(Le(o=>(n._resolvedData=o,n.data=wE(n,t).resolve,i&&BE(i)&&(n.data[La]=i.title),null)))}(o.route,r,n,e)),Vt(()=>s++),ag(1),Dt(o=>s===i.length?ae(t):nr))})}(t.paramsInheritanceStrategy,this.environmentInjector),Vt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",2)}}))}),Vt(c=>{const u=new hH(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Eg(l=>{const c=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Vt(h=>{u.component=h}),Le(()=>{})));for(const h of u.children)d.push(...c(h));return d};return ig(c(l.targetSnapshot.root)).pipe(_u(),no(1))}),Eg(()=>this.afterPreactivation()),Le(l=>{const c=function bH(n,e,t){const r=Wa(n,e._root,t?t._root:void 0);return new vE(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},s}),Vt(()=>{this.events.next(new pg)}),((n,e,t,r)=>Le(i=>(new RH(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),no(1),Vt({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new pi(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),function Nj(n){return gt((e,t)=>{dn(n).subscribe(ut(t,()=>t.complete(),nd)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe(Vt(l=>{throw l}))),lg(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),zi(l=>{if(a=!0,AE(l))this.events.next(new za(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function MH(n){return AE(n)&&Wi(n.url)}(l)?this.events.next(new gg(l.url)):s.resolve(!1);else{this.events.next(new Au(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(l))}catch(c){s.reject(c)}}return nr}))}))}cancelNavigationTransition(t,r,i){const s=new za(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function UE(n){return n!==$a}let jE=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===he);return r}getResolvedTitleForRoute(t){return t.data[La]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:function(){return q(b$)},providedIn:"root"})}return n})(),b$=(()=>{class n extends jE{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(Z(a0))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),D$=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:function(){return q(M$)},providedIn:"root"})}return n})();class E${shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let M$=(()=>{class n extends E${static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=kt(n)))(i||n)}}();static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Ou=new Y("",{providedIn:"root",factory:()=>({})});let A$=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:function(){return q(T$)},providedIn:"root"})}return n})(),T$=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Qa=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Qa||{});function HE(n,e){n.events.pipe(hi(t=>t instanceof pi||t instanceof za||t instanceof Au||t instanceof so),Le(t=>t instanceof pi||t instanceof so?Qa.COMPLETE:t instanceof za&&(0===t.code||1===t.code)?Qa.REDIRECTING:Qa.FAILED),hi(t=>t!==Qa.REDIRECTING),no(1)).subscribe(()=>{e()})}function k$(n){throw n}function I$(n,e,t){return e.parse("/")}const P$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},x$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=q(VS),this.isNgZoneEnabled=!1,this._events=new Mn,this.options=q(Ou,{optional:!0})||{},this.pendingTasks=q(US),this.errorHandler=this.options.errorHandler||k$,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||I$,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=q(A$),this.routeReuseStrategy=q(D$),this.titleStrategy=q(jE),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=q(ho,{optional:!0})?.flat()??[],this.navigationTransitions=q(Nu),this.urlSerializer=q(Va),this.location=q(sp),this.componentInputBindingEnabled=!!q(ku,{optional:!0}),this.eventsSubscription=new un,this.isNgZoneEnabled=q(Ne)instanceof Ne&&Ne.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new io,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_E(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void($E(r)&&this._events.next(r));if(r instanceof Mu)UE(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof so)this.rawUrlTree=i.rawUrl;else if(r instanceof gE){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof pg)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof za)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof gg){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||UE(i.source)};this.scheduleNavigation(s,$a,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Au&&this.restoreHistory(i,!0),r instanceof pi&&(this.navigated=!0),$E(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),$a,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Sg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:o;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{d=lE(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return cE(d,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Wi(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,$a,null,r)}navigate(t,r={skipLocationChange:!1}){return function R$(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new x(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...P$}:!1===r?{...x$}:r,Wi(t))return JD(this.currentUrlTree,t,i);const s=this.parseUrl(t);return JD(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,l=h});const u=this.pendingTasks.add();return HE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $E(n){return!(n instanceof pg||n instanceof gg)}class zE{}let F$=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(hi(t=>t instanceof pi),Fa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Af(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return wt(i).pipe(Zi())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ae(null);const s=i.pipe(Dt(o=>null===o?ae(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?wt([s,this.loader.loadComponent(r)]).pipe(Zi()):s})}static#e=this.\u0275fac=function(r){return new(r||n)(Z(Bn),Z(jS),Z(Rn),Z(zE),Z(Mg))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Tg=new Y("");let GE=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Mu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof pi?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof so&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof mE&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new mE(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function N_(){throw new Error("invalid")}()};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();function Gr(n,e){return{\u0275kind:n,\u0275providers:e}}function qE(){const n=q(yn);return e=>{const t=n.get(Ni);if(e!==t.components[0])return;const r=n.get(Bn),i=n.get(KE);1===n.get(kg)&&r.initialNavigation(),n.get(YE,null,me.Optional)?.setUpPreloading(),n.get(Tg,null,me.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const KE=new Y("",{factory:()=>new Mn}),kg=new Y("",{providedIn:"root",factory:()=>1}),YE=new Y("");function U$(n){return Gr(0,[{provide:YE,useExisting:F$},{provide:zE,useExisting:n}])}const ZE=new Y("ROUTER_FORROOT_GUARD"),H$=[sp,{provide:Va,useClass:cg},Bn,Ga,{provide:ao,useFactory:function WE(n){return n.routerState.root},deps:[Bn]},Mg,[]];function $$(){return new KS("Router",Bn)}let QE=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[H$,[],{provide:ho,multi:!0,useValue:t},{provide:ZE,useFactory:q$,deps:[[Bn,new Nl,new Ol]]},{provide:Ou,useValue:r||{}},r?.useHash?{provide:Fi,useClass:O2}:{provide:Fi,useClass:Db},{provide:Tg,useFactory:()=>{const n=q(eL),e=q(Ne),t=q(Ou),r=q(Nu),i=q(Va);return t.scrollOffset&&n.setOffset(t.scrollOffset),new GE(i,r,n,e,t)}},r?.preloadingStrategy?U$(r.preloadingStrategy).\u0275providers:[],{provide:KS,multi:!0,useFactory:$$},r?.initialNavigation?K$(r):[],r?.bindToComponentInputs?Gr(8,[DE,{provide:ku,useExisting:DE}]).\u0275providers:[],[{provide:XE,useFactory:qE},{provide:Yf,multi:!0,useExisting:XE}]]}}static forChild(t){return{ngModule:n,providers:[{provide:ho,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(Z(ZE,8))};static#t=this.\u0275mod=sr({type:n});static#n=this.\u0275inj=Un({})}return n})();function q$(n){return"guarded"}function K$(n){return["disabled"===n.initialNavigation?Gr(3,[{provide:jf,multi:!0,useFactory:()=>{const e=q(Bn);return()=>{e.setUpLocationChangeListener()}}},{provide:kg,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Gr(2,[{provide:kg,useValue:0},{provide:jf,multi:!0,deps:[yn],useFactory:e=>{const t=e.get(R2,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Bn),s=e.get(KE);HE(i,()=>{r(!0)}),e.get(Nu).afterPreactivation=()=>(r(!0),s.closed?ae(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const XE=new Y("");function JE(n){return new x(3e3,!1)}function gi(n){switch(n.length){case 0:return new ka;case 1:return n[0];default:return new C0(n)}}function e1(n,e,t=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(l=>{const c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((h,p)=>{let v=p,S=h;if("offset"!==p)switch(v=n.normalizePropertyName(v,i),S){case"!":S=t.get(p);break;case jr:S=r.get(p);break;default:S=n.normalizeStyleValue(p,v,S,i)}d.set(v,S)}),u||s.push(d),a=d,o=c}),i.length)throw function v4(n){return new x(3502,!1)}();return s}function Ig(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Pg(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Pg(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Pg(t,"destroy",n)))}}function Pg(n,e,t){const s=xg(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function xg(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function bn(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function t1(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const I4=(()=>typeof document>"u"?null:document.documentElement)();function Rg(n){const e=n.parentNode||n.host||null;return e===I4?null:e}let qi=null,n1=!1;function r1(n,e){for(;e;){if(e===n)return!0;e=Rg(e)}return!1}function i1(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let s1=(()=>{class n{validateStyleProperty(t){return function x4(n){qi||(qi=function R4(){return typeof document<"u"?document.body:null}()||{},n1=!!qi.style&&"WebkitAppearance"in qi.style);let e=!0;return qi.style&&!function P4(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in qi.style,!e&&n1&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in qi.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return r1(t,r)}getParentElement(t){return Rg(t)}query(t,r,i){return i1(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new ka(i,s)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})(),Ng=(()=>{class n{static#e=this.NOOP=new s1}return n})();const N4=1e3,Og="ng-enter",Fu="ng-leave",Lu="ng-trigger",Bu=".ng-trigger",a1="ng-animating",Fg=".ng-animating";function Wr(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Lg(parseFloat(e[1]),e[2])}function Lg(n,e){return"s"===e?n*N4:n}function Vu(n,e,t){return n.hasOwnProperty("duration")?n:function F4(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(JE()),{duration:0,delay:0,easing:""};i=Lg(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=Lg(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function Z$(){return new x(3100,!1)}()),a=!0),s<0&&(e.push(function Q$(){return new x(3101,!1)}()),a=!0),a&&e.splice(l,0,JE())}return{duration:i,delay:s,easing:o}}(n,e,t)}function Xa(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function l1(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function mi(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function br(n,e,t){e.forEach((r,i)=>{const s=Vg(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function Ki(n,e){e.forEach((t,r)=>{const i=Vg(r);n.style[i]=""})}function Ja(n){return Array.isArray(n)?1==n.length?n[0]:w0(n):n}const Bg=new RegExp("{{\\s*(.+?)\\s*}}","g");function u1(n){let e=[];if("string"==typeof n){let t;for(;t=Bg.exec(n);)e.push(t[1]);Bg.lastIndex=0}return e}function el(n,e,t){const r=n.toString(),i=r.replace(Bg,(s,o)=>{let a=e[o];return null==a&&(t.push(function J$(n){return new x(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function Uu(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const V4=/-+([a-z0-9])/g;function Vg(n){return n.replace(V4,(...e)=>e[1].toUpperCase())}function Dn(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function e4(n){return new x(3004,!1)}()}}function d1(n,e){return window.getComputedStyle(n)[e]}const ju="*";function H4(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function $4(n,e,t){if(":"==n[0]){const l=function z4(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function p4(n){return new x(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function f4(n){return new x(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(h1(i,o));"<"==s[0]&&!(i==ju&&o==ju)&&e.push(h1(o,i))}(r,t,e)):t.push(n),t}const Hu=new Set(["true","1"]),$u=new Set(["false","0"]);function h1(n,e){const t=Hu.has(n)||$u.has(n),r=Hu.has(e)||$u.has(e);return(i,s)=>{let o=n==ju||n==i,a=e==ju||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?Hu.has(n):$u.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?Hu.has(e):$u.has(e)),o&&a}}const G4=new RegExp("s*:selfs*,?","g");function Ug(n,e,t,r){return new W4(n).build(e,t,r)}class W4{constructor(e){this._driver=e}build(e,t,r){const i=new Y4(t);return this._resetContextStyleTimingState(i),Dn(this,Ja(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function n4(){return new x(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(function r4(){return new x(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{u1(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(Uu(s.values()),t.errors.push(function i4(n,e){return new x(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Dn(this,Ja(e.animation),t);return{type:1,matchers:H4(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Yi(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Dn(this,r,t)),options:Yi(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=Dn(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:Yi(e.options)}}visitAnimate(e,t){const r=function Q4(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return jg(Vu(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=jg(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=Vu(t,e);return jg(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:Pt({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=Pt(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===jr?r.push(a):t.errors.push(new x(3002,!1)):r.push(l1(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(t.errors.push(function o4(n,e,t,r,i){return new x(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:i}),t.options&&function B4(n,e,t){const r=e.params||{},i=u1(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function X$(n){return new x(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function a4(){return new x(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(k=>{const E=this._makeStyleAst(k,t);let B=null!=E.offset?E.offset:function Z4(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(E.styles),j=0;return null!=B&&(s++,j=E.offset=B),l=l||j<0||j>1,a=a||j<c,c=j,o.push(j),E});l&&t.errors.push(function l4(){return new x(3012,!1)}()),a&&t.errors.push(function c4(){return new x(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function u4(){return new x(3202,!1)}()):0==s&&(h=1/(d-1));const p=d-1,v=t.currentTime,S=t.currentAnimateTimings,M=S.duration;return u.forEach((k,E)=>{const B=h>0?E==p?1:h*E:o[E],j=B*M;t.currentTime=v+S.delay+j,S.duration=j,this._validateStyleAst(k,t),k.offset=B,r.styles.push(k)}),r}visitReference(e,t){return{type:8,animation:Dn(this,Ja(e.animation),t),options:Yi(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Yi(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Yi(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function q4(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(G4,"")),n=n.replace(/@\*/g,Bu).replace(/@\w+/g,t=>Bu+"-"+t.slice(1)).replace(/:animating/g,Fg),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,bn(t.collectedStyles,t.currentQuerySelector,new Map);const a=Dn(this,Ja(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Yi(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function d4(){return new x(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Vu(e.timings,t.errors,!0);return{type:12,animation:Dn(this,Ja(e.animation),t),timings:r,options:null}}}class Y4{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Yi(n){return n?(n=Xa(n)).params&&(n.params=function K4(n){return n?Xa(n):null}(n.params)):n={},n}function jg(n,e,t){return{duration:n,delay:e,easing:t}}function Hg(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class zu{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const e5=new RegExp(":enter","g"),n5=new RegExp(":leave","g");function $g(n,e,t,r,i,s=new Map,o=new Map,a,l,c=[]){return(new r5).buildKeyframes(n,e,t,r,i,s,o,a,l,c)}class r5{buildKeyframes(e,t,r,i,s,o,a,l,c,u=[]){c=c||new zu;const d=new zg(e,t,c,i,s,u,[]);d.options=l;const h=l.delay?Wr(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),Dn(this,r,d);const p=d.timelines.filter(v=>v.containsAnimation());if(p.length&&a.size){let v;for(let S=p.length-1;S>=0;S--){const M=p[S];if(M.element===t){v=M;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,d.errors,l)}return p.length?p.map(v=>v.buildKeyframes()):[Hg(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:Wr(el(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?Wr(r.duration):null,a=null!=r.delay?Wr(r.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Dn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Gu);const o=Wr(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Dn(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Wr(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Dn(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Vu(t.params?el(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Wr(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Gu);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),Dn(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;Dn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const Gu={};class zg{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Gu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Wu(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Wr(r.duration)),null!=r.delay&&(i.delay=Wr(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=el(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new zg(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Gu,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new i5(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(e5,"."+this._enterClassName)).replace(n5,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function h4(n){return new x(3014,!1)}()),a}}class Wu{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Wu(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||jr),this._currentKeyframe.set(t,jr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function s5(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,jr)}else mi(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const c=el(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??jr),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=mi(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?e.add(d):u===jr&&t.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});const s=e.size?Uu(e.values()):[],o=t.size?Uu(t.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return Hg(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class i5 extends Wu{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=mi(e[0]);l.set("offset",0),s.push(l);const c=mi(e[0]);c.set("offset",g1(a)),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=mi(e[d]);const p=h.get("offset");h.set("offset",g1((t+p*r)/o)),s.push(h)}r=o,t=0,i="",e=s}return Hg(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function g1(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Gg{}const o5=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class a5 extends Gg{normalizePropertyName(e,t){return Vg(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(o5.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function t4(n,e){return new x(3005,!1)}())}return o+s}}function m1(n,e,t,r,i,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const Wg={};class y1{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function l5(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||Wg,v=this.buildStyles(r,a&&a.params||Wg,d),S=l&&l.params||Wg,M=this.buildStyles(i,S,d),k=new Set,E=new Map,B=new Map,j="void"===i,K={params:c5(S,h),delay:this.ast.options?.delay},pe=u?[]:$g(e,t,this.ast.animation,s,o,v,M,K,c,d);let fe=0;if(pe.forEach(Je=>{fe=Math.max(Je.duration+Je.delay,fe)}),d.length)return m1(t,this._triggerName,r,i,j,v,M,[],[],E,B,fe,d);pe.forEach(Je=>{const pt=Je.element,cn=bn(E,pt,new Set);Je.preStyleProps.forEach(Yt=>cn.add(Yt));const _t=bn(B,pt,new Set);Je.postStyleProps.forEach(Yt=>_t.add(Yt)),pt!==t&&k.add(pt)});const Ce=Uu(k.values());return m1(t,this._triggerName,r,i,j,v,M,pe,Ce,E,B,fe)}}function c5(n,e){const t=Xa(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class u5{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Xa(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=el(o,i,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),r.set(a,o)})}),r}}class h5{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new u5(i.style,i.options&&i.options.params||{},r))}),v1(this.states,"true","1"),v1(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new y1(e,i,this.states))}),this.fallbackTransition=function f5(n,e,t){return new y1(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function v1(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const p5=new zu;class g5{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=Ug(this._driver,t,r,[]);if(r.length)throw function _4(n){return new x(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=e1(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=$g(this._driver,t,s,Og,Fu,new Map,new Map,r,p5,i),o.forEach(u=>{const d=bn(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function w4(){return new x(3300,!1)}()),o=[]),i.length)throw function C4(n){return new x(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,p)=>{u.set(p,this._driver.computeStyle(d,p,jr))})});const c=gi(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function S4(n){return new x(3301,!1)}();return t}listen(e,t,r,i){const s=xg(t,"","","");return Ig(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const _1="ng-animate-queued",qg="ng-animate-disabled",w5=[],w1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},C5={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},er="__ng_removed";class Kg{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function E5(n){return n??null}(r?e.value:e),r){const s=Xa(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const tl="void",Yg=new Kg(tl);class S5{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Vn(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function b4(n,e){return new x(3302,!1)}();if(null==r||0==r.length)throw function D4(n){return new x(3303,!1)}();if(!function M5(n){return"start"==n||"done"==n}(r))throw function E4(n,e){return new x(3400,!1)}();const s=bn(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=bn(this._engine.statesByElement,e,new Map);return a.has(t)||(Vn(e,Lu),Vn(e,Lu+"-"+t),a.set(t,Yg)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function M4(n){return new x(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new Zg(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Vn(e,Lu),Vn(e,Lu+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new Kg(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=Yg),c.value!==tl&&l.value===c.value){if(!function k5(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const S=[],M=s.matchStyles(l.value,l.params,S),k=s.matchStyles(c.value,c.params,S);S.length?this._engine.reportError(S):this._engine.afterFlush(()=>{Ki(e,M),br(e,k)})}return}const h=bn(this._engine.playersByElement,e,[]);h.forEach(S=>{S.namespaceId==this.id&&S.triggerName==t&&S.queued&&S.destroy()});let p=s.matchTransition(l.value,c.value,e,c.params),v=!1;if(!p){if(!i)return;p=s.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:p,fromState:l,toState:c,player:o,isFallbackTransition:v}),v||(Vn(e,_1),o.onStart(()=>{fo(e,_1)})),o.onDone(()=>{let S=this.players.indexOf(o);S>=0&&this.players.splice(S,1);const M=this._engine.playersByElement.get(e);if(M){let k=M.indexOf(o);k>=0&&M.splice(k,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Bu,!0);r.forEach(i=>{if(i[er])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,tl,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&gi(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,c=r.get(o)||Yg,u=new Kg(tl),d=new Zg(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[er];(!s||s===w1)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Vn(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=xg(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,Ig(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class b5{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new S5(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(qu(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!qu(t))return;const s=t[er];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Vn(e,qg)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),fo(e,qg))}removeNode(e,t,r){if(qu(t)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[er]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return qu(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Bu,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Fg,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return gi(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[er];if(t&&t.setForRemoval){if(e[er]=w1,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(qg)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Vn(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?gi(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function A4(n){return new x(3402,!1)}()}_flushAnimations(e,t){const r=new zu,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(W=>{u.add(W);const Q=this.driver.query(W,".ng-animate-queued",!0);for(let X=0;X<Q.length;X++)u.add(Q[X])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),p=b1(h,this.collectedEnterElements),v=new Map;let S=0;p.forEach((W,Q)=>{const X=Og+S++;v.set(Q,X),W.forEach(ve=>Vn(ve,X))});const M=[],k=new Set,E=new Set;for(let W=0;W<this.collectedLeaveElements.length;W++){const Q=this.collectedLeaveElements[W],X=Q[er];X&&X.setForRemoval&&(M.push(Q),k.add(Q),X.hasAnimation?this.driver.query(Q,".ng-star-inserted",!0).forEach(ve=>k.add(ve)):E.add(Q))}const B=new Map,j=b1(h,Array.from(k));j.forEach((W,Q)=>{const X=Fu+S++;B.set(Q,X),W.forEach(ve=>Vn(ve,X))}),e.push(()=>{p.forEach((W,Q)=>{const X=v.get(Q);W.forEach(ve=>fo(ve,X))}),j.forEach((W,Q)=>{const X=B.get(Q);W.forEach(ve=>fo(ve,X))}),M.forEach(W=>{this.processLeaveNode(W)})});const K=[],pe=[];for(let W=this._namespaceList.length-1;W>=0;W--)this._namespaceList[W].drainQueuedTransitions(t).forEach(X=>{const ve=X.player,it=X.element;if(K.push(ve),this.collectedEnterElements.length){const et=it[er];if(et&&et.setForMove){if(et.previousTriggersValues&&et.previousTriggersValues.has(X.triggerName)){const tr=et.previousTriggersValues.get(X.triggerName),Qt=this.statesByElement.get(X.element);if(Qt&&Qt.has(X.triggerName)){const Kr=Qt.get(X.triggerName);Kr.value=tr,Qt.set(X.triggerName,Kr)}}return void ve.destroy()}}const xt=!d||!this.driver.containsElement(d,it),Rt=B.get(it),Zt=v.get(it),Ue=this._buildInstruction(X,r,Zt,Rt,xt);if(Ue.errors&&Ue.errors.length)return void pe.push(Ue);if(xt)return ve.onStart(()=>Ki(it,Ue.fromStyles)),ve.onDestroy(()=>br(it,Ue.toStyles)),void i.push(ve);if(X.isFallbackTransition)return ve.onStart(()=>Ki(it,Ue.fromStyles)),ve.onDestroy(()=>br(it,Ue.toStyles)),void i.push(ve);const qr=[];Ue.timelines.forEach(et=>{et.stretchStartingKeyframe=!0,this.disabledNodes.has(et.element)||qr.push(et)}),Ue.timelines=qr,r.append(it,Ue.timelines),o.push({instruction:Ue,player:ve,element:it}),Ue.queriedElements.forEach(et=>bn(a,et,[]).push(ve)),Ue.preStyleProps.forEach((et,tr)=>{if(et.size){let Qt=l.get(tr);Qt||l.set(tr,Qt=new Set),et.forEach((Kr,rl)=>Qt.add(rl))}}),Ue.postStyleProps.forEach((et,tr)=>{let Qt=c.get(tr);Qt||c.set(tr,Qt=new Set),et.forEach((Kr,rl)=>Qt.add(rl))})});if(pe.length){const W=[];pe.forEach(Q=>{W.push(function T4(n,e){return new x(3505,!1)}())}),K.forEach(Q=>Q.destroy()),this.reportError(W)}const fe=new Map,Ce=new Map;o.forEach(W=>{const Q=W.element;r.has(Q)&&(Ce.set(Q,Q),this._beforeAnimationBuild(W.player.namespaceId,W.instruction,fe))}),i.forEach(W=>{const Q=W.element;this._getPreviousPlayers(Q,!1,W.namespaceId,W.triggerName,null).forEach(ve=>{bn(fe,Q,[]).push(ve),ve.destroy()})});const Je=M.filter(W=>E1(W,l,c)),pt=new Map;S1(pt,this.driver,E,c,jr).forEach(W=>{E1(W,l,c)&&Je.push(W)});const _t=new Map;p.forEach((W,Q)=>{S1(_t,this.driver,new Set(W),l,"!")}),Je.forEach(W=>{const Q=pt.get(W),X=_t.get(W);pt.set(W,new Map([...Q?.entries()??[],...X?.entries()??[]]))});const Yt=[],En=[],Dr={};o.forEach(W=>{const{element:Q,player:X,instruction:ve}=W;if(r.has(Q)){if(u.has(Q))return X.onDestroy(()=>br(Q,ve.toStyles)),X.disabled=!0,X.overrideTotalTime(ve.totalTime),void i.push(X);let it=Dr;if(Ce.size>1){let Rt=Q;const Zt=[];for(;Rt=Rt.parentNode;){const Ue=Ce.get(Rt);if(Ue){it=Ue;break}Zt.push(Rt)}Zt.forEach(Ue=>Ce.set(Ue,it))}const xt=this._buildAnimation(X.namespaceId,ve,fe,s,_t,pt);if(X.setRealPlayer(xt),it===Dr)Yt.push(X);else{const Rt=this.playersByElement.get(it);Rt&&Rt.length&&(X.parentPlayer=gi(Rt)),i.push(X)}}else Ki(Q,ve.fromStyles),X.onDestroy(()=>br(Q,ve.toStyles)),En.push(X),u.has(Q)&&i.push(X)}),En.forEach(W=>{const Q=s.get(W.element);if(Q&&Q.length){const X=gi(Q);W.setRealPlayer(X)}}),i.forEach(W=>{W.parentPlayer?W.syncPlayerEvents(W.parentPlayer):W.destroy()});for(let W=0;W<M.length;W++){const Q=M[W],X=Q[er];if(fo(Q,Fu),X&&X.hasAnimation)continue;let ve=[];if(a.size){let xt=a.get(Q);xt&&xt.length&&ve.push(...xt);let Rt=this.driver.query(Q,Fg,!0);for(let Zt=0;Zt<Rt.length;Zt++){let Ue=a.get(Rt[Zt]);Ue&&Ue.length&&ve.push(...Ue)}}const it=ve.filter(xt=>!xt.destroyed);it.length?A5(this,Q,it):this.processLeaveNode(Q)}return M.length=0,Yt.forEach(W=>{this.players.push(W),W.onDone(()=>{W.destroy();const Q=this.players.indexOf(W);this.players.splice(Q,1)}),W.play()}),Yt}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==tl;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=bn(r,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(p=>{const v=p.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),p.destroy(),d.push(p)})}Ki(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(v=>{const S=v.element;u.add(S);const M=S[er];if(M&&M.removedBeforeQueried)return new ka(v.duration,v.delay);const k=S!==l,E=function T5(n){const e=[];return D1(n,e),e}((r.get(S)||w5).map(fe=>fe.getRealPlayer())).filter(fe=>!!fe.element&&fe.element===S),B=s.get(S),j=o.get(S),K=e1(this._normalizer,v.keyframes,B,j),pe=this._buildPlayer(v,K,E);if(v.subTimeline&&i&&d.add(S),k){const fe=new Zg(e,a,S);fe.setRealPlayer(pe),c.push(fe)}return pe});c.forEach(v=>{bn(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>function D5(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,v.element,v))}),u.forEach(v=>Vn(v,a1));const p=gi(h);return p.onDestroy(()=>{u.forEach(v=>fo(v,a1)),br(l,t.toStyles)}),d.forEach(v=>{bn(i,v,[]).push(p)}),p}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new ka(e.duration,e.delay)}}class Zg{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new ka,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Ig(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){bn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function qu(n){return n&&1===n.nodeType}function C1(n,e){const t=n.style.display;return n.style.display=e??"none",t}function S1(n,e,t,r,i){const s=[];t.forEach(l=>s.push(C1(l)));const o=[];r.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=e.computeStyle(c,d,i);u.set(d,h),(!h||0==h.length)&&(c[er]=C5,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>C1(l,s[a++])),o}function b1(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function Vn(n,e){n.classList?.add(e)}function fo(n,e){n.classList?.remove(e)}function A5(n,e,t){gi(t).onDone(()=>n.processLeaveNode(e))}function D1(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof C0?D1(r.players,e):e.push(r)}}function E1(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class Ku{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new b5(e,t,r),this._timelineEngine=new g5(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],u=Ug(this._driver,s,l,[]);if(l.length)throw function y4(n,e){return new x(3404,!1)}();a=function d5(n,e,t){return new h5(n,e,t)}(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=t1(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=t1(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let P5=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&br(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(br(this._element,this._initialStyles),this._endStyles&&(br(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ki(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ki(this._element,this._endStyles),this._endStyles=null),br(this._element,this._initialStyles),this._state=3)}}return n})();function Qg(n){let e=null;return n.forEach((t,r)=>{(function x5(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class M1{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:d1(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class R5{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return r1(e,t)}getParentElement(e){return Rg(e)}query(e,t,r){return i1(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(p=>p instanceof M1);(function U4(n,e){return 0===n||0===e})(r,i)&&u.forEach(p=>{p.currentSnapshot.forEach((v,S)=>c.set(S,v))});let d=function L4(n){return n.length?n[0]instanceof Map?n:n.map(e=>l1(e)):[]}(t).map(p=>mi(p));d=function j4(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,d1(n,a)))}}return e}(e,d,c);const h=function I5(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Qg(e[0]),e.length>1&&(r=Qg(e[e.length-1]))):e instanceof Map&&(t=Qg(e)),t||r?new P5(n,t,r):null}(e,d);return new M1(e,d,l,h)}}let N5=(()=>{class n extends _0{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:kn.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?w0(t):t;return A1(this._renderer,null,r,"register",[i]),new O5(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||n)(Z(Ko),Z(on))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();class O5 extends hB{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new F5(this._id,e,t||{},this._renderer)}}class F5{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return A1(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function A1(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const T1="@.disabled";let L5=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(s);return u||(u=new k1("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,u)),u}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return r.data.animation.forEach(l),new B5(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||n)(Z(Ko),Z(Ku),Z(Ne))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();class k1{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==T1?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class B5 extends k1{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==T1?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function V5(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function U5(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}const I1=[{provide:_0,useClass:N5},{provide:Gg,useFactory:function H5(){return new a5}},{provide:Ku,useClass:(()=>{class n extends Ku{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||n)(Z(on),Z(Ng),Z(Gg),Z(Ni))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})()},{provide:Ko,useFactory:function $5(n,e,t){return new L5(n,e,t)},deps:[Ap,Ku,Ne]}],Xg=[{provide:Ng,useFactory:()=>new R5},{provide:r_,useValue:"BrowserAnimations"},...I1],P1=[{provide:Ng,useClass:s1},{provide:r_,useValue:"NoopAnimations"},...I1];let z5=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?P1:Xg}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=sr({type:n});static#n=this.\u0275inj=Un({providers:Xg,imports:[o0]})}return n})();const G5=[{path:"game",component:GD},{path:"card",component:Xn},{path:"",pathMatch:"full",redirectTo:"game"}];let W5=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=sr({type:n,bootstrap:[Dj]});static#n=this.\u0275inj=Un({imports:[o0,i3,Ub,z5,[QE.forRoot(G5,{initialNavigation:"enabledBlocking",useHash:!0})],QE]})}return n})();WL().bootstrapModule(W5).catch(n=>console.error(n))}},Re=>{Re(Re.s=113)}]);