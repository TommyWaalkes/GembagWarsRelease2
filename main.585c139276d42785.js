"use strict";(self.webpackChunkCardApp=self.webpackChunkCardApp||[]).push([[179],{223:()=>{function De(e){return"function"==typeof e}function ao(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const js=ao(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function co(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class Pt{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(De(r))try{r()}catch(o){n=o instanceof js?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Kh(o)}catch(s){n=n??[],s instanceof js?n=[...n,...s.errors]:n.push(s)}}if(n)throw new js(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Kh(n);else{if(n instanceof Pt){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&co(t,n)}remove(n){const{_finalizers:t}=this;t&&co(t,n),n instanceof Pt&&n._removeParent(this)}}Pt.EMPTY=(()=>{const e=new Pt;return e.closed=!0,e})();const Yh=Pt.EMPTY;function Qh(e){return e instanceof Pt||e&&"closed"in e&&De(e.remove)&&De(e.add)&&De(e.unsubscribe)}function Kh(e){De(e)?e():e.unsubscribe()}const Sr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Hs={setTimeout(e,n,...t){const{delegate:r}=Hs;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=Hs;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Xh(e){Hs.setTimeout(()=>{const{onUnhandledError:n}=Sr;if(!n)throw e;n(e)})}function dl(){}const kS=fl("C",void 0,void 0);function fl(e,n,t){return{kind:e,value:n,error:t}}let Er=null;function $s(e){if(Sr.useDeprecatedSynchronousErrorHandling){const n=!Er;if(n&&(Er={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=Er;if(Er=null,t)throw r}}else e()}class hl extends Pt{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Qh(n)&&n.add(this)):this.destination=LS}static create(n,t,r){return new lo(n,t,r)}next(n){this.isStopped?gl(function PS(e){return fl("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?gl(function xS(e){return fl("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?gl(kS,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const RS=Function.prototype.bind;function pl(e,n){return RS.call(e,n)}class NS{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){Us(r)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){Us(r)}else Us(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Us(t)}}}class lo extends hl{constructor(n,t,r){let i;if(super(),De(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Sr.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&pl(n.next,o),error:n.error&&pl(n.error,o),complete:n.complete&&pl(n.complete,o)}):i=n}this.destination=new NS(i)}}function Us(e){Sr.useDeprecatedSynchronousErrorHandling?function OS(e){Sr.useDeprecatedSynchronousErrorHandling&&Er&&(Er.errorThrown=!0,Er.error=e)}(e):Xh(e)}function gl(e,n){const{onStoppedNotification:t}=Sr;t&&Hs.setTimeout(()=>t(e,n))}const LS={closed:!0,next:dl,error:function FS(e){throw e},complete:dl},ml="function"==typeof Symbol&&Symbol.observable||"@@observable";function nr(e){return e}function Jh(e){return 0===e.length?nr:1===e.length?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}let $e=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function jS(e){return e&&e instanceof hl||function BS(e){return e&&De(e.next)&&De(e.error)&&De(e.complete)}(e)&&Qh(e)}(t)?t:new lo(t,r,i);return $s(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=ep(r))((i,o)=>{const s=new lo({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[ml](){return this}pipe(...t){return Jh(t)(this)}toPromise(t){return new(t=ep(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function ep(e){var n;return null!==(n=e??Sr.Promise)&&void 0!==n?n:Promise}const HS=ao(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let nn=(()=>{class e extends $e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new tp(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new HS}next(t){$s(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){$s(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){$s(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Yh:(this.currentObservers=null,o.push(t),new Pt(()=>{this.currentObservers=null,co(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new $e;return t.source=this,t}}return e.create=(n,t)=>new tp(n,t),e})();class tp extends nn{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:Yh}}function np(e){return De(e?.lift)}function ze(e){return n=>{if(np(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ue(e,n,t,r,i){return new $S(e,n,t,r,i)}class $S extends hl{constructor(n,t,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){n.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function be(e,n){return ze((t,r)=>{let i=0;t.subscribe(Ue(r,o=>{r.next(e.call(n,o,i++))}))})}function rr(e){return this instanceof rr?(this.v=e,this):new rr(e)}function sp(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function Cl(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=e[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const ap=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function cp(e){return De(e?.then)}function lp(e){return De(e[ml])}function up(e){return Symbol.asyncIterator&&De(e?.[Symbol.asyncIterator])}function dp(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const fp=function uE(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function hp(e){return De(e?.[fp])}function pp(e){return function op(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(e,n||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(h){return new Promise(function(y,_){o.push([f,h,y,_])>1||a(f,h)})})}function a(f,h){try{!function c(f){f.value instanceof rr?Promise.resolve(f.value.v).then(l,u):d(o[0][2],f)}(r[f](h))}catch(y){d(o[0][3],y)}}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:i}=yield rr(t.read());if(i)return yield rr(void 0);yield yield rr(r)}}finally{t.releaseLock()}})}function gp(e){return De(e?.getReader)}function Ot(e){if(e instanceof $e)return e;if(null!=e){if(lp(e))return function dE(e){return new $e(n=>{const t=e[ml]();if(De(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(ap(e))return function fE(e){return new $e(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(cp(e))return function hE(e){return new $e(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Xh)})}(e);if(up(e))return mp(e);if(hp(e))return function pE(e){return new $e(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(gp(e))return function gE(e){return mp(pp(e))}(e)}throw dp(e)}function mp(e){return new $e(n=>{(function mE(e,n){var t,r,i,o;return function rp(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(u.value).then(a,c)}l((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=sp(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function Ln(e,n,t,r=0,i=!1){const o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Je(e,n,t=1/0){return De(n)?Je((r,i)=>be((o,s)=>n(r,o,i,s))(Ot(e(r,i))),t):("number"==typeof n&&(t=n),ze((r,i)=>function yE(e,n,t,r,i,o,s,a){const c=[];let l=0,u=0,d=!1;const f=()=>{d&&!c.length&&!l&&n.complete()},h=_=>l<r?y(_):c.push(_),y=_=>{o&&n.next(_),l++;let E=!1;Ot(t(_,u++)).subscribe(Ue(n,A=>{i?.(A),o?h(A):n.next(A)},()=>{E=!0},void 0,()=>{if(E)try{for(l--;c.length&&l<r;){const A=c.shift();s?Ln(n,s,()=>y(A)):y(A)}f()}catch(A){n.error(A)}}))};return e.subscribe(Ue(n,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,e,t)))}function qr(e=1/0){return Je(nr,e)}const _n=new $e(e=>e.complete());function wl(e){return e[e.length-1]}function uo(e){return function _E(e){return e&&De(e.schedule)}(wl(e))?e.pop():void 0}function vp(e,n=0){return ze((t,r)=>{t.subscribe(Ue(r,i=>Ln(r,e,()=>r.next(i),n),()=>Ln(r,e,()=>r.complete(),n),i=>Ln(r,e,()=>r.error(i),n)))})}function _p(e,n=0){return ze((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function Cp(e,n){if(!e)throw new Error("Iterable cannot be null");return new $e(t=>{Ln(t,n,()=>{const r=e[Symbol.asyncIterator]();Ln(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Qe(e,n){return n?function ME(e,n){if(null!=e){if(lp(e))return function wE(e,n){return Ot(e).pipe(_p(n),vp(n))}(e,n);if(ap(e))return function bE(e,n){return new $e(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(cp(e))return function DE(e,n){return Ot(e).pipe(_p(n),vp(n))}(e,n);if(up(e))return Cp(e,n);if(hp(e))return function SE(e,n){return new $e(t=>{let r;return Ln(t,n,()=>{r=e[fp](),Ln(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>De(r?.return)&&r.return()})}(e,n);if(gp(e))return function EE(e,n){return Cp(pp(e),n)}(e,n)}throw dp(e)}(e,n):Ot(e)}class $t extends nn{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function X(...e){return Qe(e,uo(e))}function wp(e={}){const{connector:n=(()=>new nn),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,c,l=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=c=void 0,u=d=!1},y=()=>{const _=s;h(),_?.unsubscribe()};return ze((_,E)=>{l++,!d&&!u&&f();const A=c=c??n();E.add(()=>{l--,0===l&&!d&&!u&&(a=Dl(y,i))}),A.subscribe(E),!s&&l>0&&(s=new lo({next:S=>A.next(S),error:S=>{d=!0,f(),a=Dl(h,t,S),A.error(S)},complete:()=>{u=!0,f(),a=Dl(h,r),A.complete()}}),Ot(_).subscribe(s))})(o)}}function Dl(e,n,...t){if(!0===n)return void e();if(!1===n)return;const r=new lo({next:()=>{r.unsubscribe(),e()}});return Ot(n(...t)).subscribe(r)}function Cn(e,n){return ze((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(Ue(r,c=>{i?.unsubscribe();let l=0;const u=o++;Ot(e(c,u)).subscribe(i=Ue(r,d=>r.next(n?n(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function TE(e,n){return e===n}function _e(e){for(let n in e)if(e[n]===_e)return n;throw Error("Could not find renamed property on target object.")}function We(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(We).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function bl(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const kE=_e({__forward_ref__:_e});function Ee(e){return e.__forward_ref__=Ee,e.toString=function(){return We(this())},e}function Q(e){return Sl(e)?e():e}function Sl(e){return"function"==typeof e&&e.hasOwnProperty(kE)&&e.__forward_ref__===Ee}function El(e){return e&&!!e.\u0275providers}const Dp="https://g.co/ng/security#xss";class k extends Error{constructor(n,t){super(function zs(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}function J(e){return"string"==typeof e?e:null==e?"":String(e)}function Ml(e,n){throw new k(-201,!1)}function Ut(e,n){null==e&&function Z(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}(n,e,null,"!=")}function z(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function wn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ws(e){return bp(e,Zs)||bp(e,Sp)}function bp(e,n){return e.hasOwnProperty(n)?e[n]:null}function qs(e){return e&&(e.hasOwnProperty(Il)||e.hasOwnProperty(VE))?e[Il]:null}const Zs=_e({\u0275prov:_e}),Il=_e({\u0275inj:_e}),Sp=_e({ngInjectableDef:_e}),VE=_e({ngInjectorDef:_e});var ce=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(ce||{});let Al;function Et(e){const n=Al;return Al=e,n}function Mp(e,n,t){const r=Ws(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&ce.Optional?null:void 0!==n?n:void Ml(We(e))}const Me=globalThis;class j{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=z({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const fo={},Ol="__NG_DI_FLAG__",Ys="ngTempTokenPath",HE=/\n/gm,Ap="__source";let Zr;function ir(e){const n=Zr;return Zr=e,n}function GE(e,n=ce.Default){if(void 0===Zr)throw new k(-203,!1);return null===Zr?Mp(e,void 0,n):Zr.get(e,n&ce.Optional?null:void 0,n)}function W(e,n=ce.Default){return(function Ep(){return Al}()||GE)(Q(e),n)}function B(e,n=ce.Default){return W(e,Qs(n))}function Qs(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Rl(e){const n=[];for(let t=0;t<e.length;t++){const r=Q(e[t]);if(Array.isArray(r)){if(0===r.length)throw new k(900,!1);let i,o=ce.Default;for(let s=0;s<r.length;s++){const a=r[s],c=zE(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}n.push(W(i,o))}else n.push(W(r))}return n}function ho(e,n){return e[Ol]=n,e.prototype[Ol]=n,e}function zE(e){return e[Ol]}function Vn(e){return{toString:e}.toString()}var Ks=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Ks||{}),rn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(rn||{});const Dn={},pe=[],Xs=_e({\u0275cmp:_e}),Nl=_e({\u0275dir:_e}),Fl=_e({\u0275pipe:_e}),kp=_e({\u0275mod:_e}),Bn=_e({\u0275fac:_e}),po=_e({__NG_ELEMENT_ID__:_e}),xp=_e({__NG_ENV_ID__:_e});function Pp(e,n,t){let r=e.length;for(;;){const i=e.indexOf(n,t);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}function Ll(e,n,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,o)}else{const o=i,s=t[++r];Rp(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),r++}}return r}function Op(e){return 3===e||4===e||6===e}function Rp(e){return 64===e.charCodeAt(0)}function go(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?t=i:0===t||Np(e,t,i,null,-1===t||2===t?n[++r]:null)}}return e}function Np(e,n,t,r,i){let o=0,s=e.length;if(-1===n)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const Fp="ng-template";function ZE(e,n,t){let r=0,i=!0;for(;r<e.length;){let o=e[r++];if("string"==typeof o&&i){const s=e[r++];if(t&&"class"===o&&-1!==Pp(s.toLowerCase(),n,0))return!0}else{if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===n)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function Lp(e){return 4===e.type&&e.value!==Fp}function YE(e,n,t){return n===(4!==e.type||t?e.value:Fp)}function QE(e,n,t){let r=4;const i=e.attrs||[],o=function JE(e){for(let n=0;n<e.length;n++)if(Op(e[n]))return n;return e.length}(i);let s=!1;for(let a=0;a<n.length;a++){const c=n[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!YE(e,c,t)||""===c&&1===n.length){if(on(r))return!1;s=!0}}else{const l=8&r?c:n[++a];if(8&r&&null!==e.attrs){if(!ZE(e.attrs,l,t)){if(on(r))return!1;s=!0}continue}const d=KE(8&r?"class":c,i,Lp(e),t);if(-1===d){if(on(r))return!1;s=!0;continue}if(""!==l){let f;f=d>o?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==Pp(h,l,0)||2&r&&l!==f){if(on(r))return!1;s=!0}}}}else{if(!s&&!on(r)&&!on(c))return!1;if(s&&on(c))continue;s=!1,r=c|1&r}}return on(r)||s}function on(e){return 0==(1&e)}function KE(e,n,t,r){if(null===n)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){const s=n[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=n[++i];for(;"string"==typeof a;)a=n[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function e0(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function Vp(e,n,t=!1){for(let r=0;r<n.length;r++)if(QE(e,n[r],t))return!0;return!1}function Bp(e,n){return e?":not("+n.trim()+")":n}function n0(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if("string"==typeof s)if(2&r){const a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!on(s)&&(n+=Bp(o,i),i=""),r=s,o=o||!on(r);t++}return""!==i&&(n+=Bp(o,i)),n}function qe(e){return Vn(()=>{const n=Hp(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Ks.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||rn.Emulated,styles:e.styles||pe,_:null,schemas:e.schemas||null,tView:null,id:""};$p(t);const r=e.dependencies;return t.directiveDefs=Js(r,!1),t.pipeDefs=Js(r,!0),t.id=function d0(e){let n=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of t)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(t),t})}function a0(e){return fe(e)||et(e)}function c0(e){return null!==e}function jn(e){return Vn(()=>({type:e.type,bootstrap:e.bootstrap||pe,declarations:e.declarations||pe,imports:e.imports||pe,exports:e.exports||pe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function jp(e,n){if(null==e)return Dn;const t={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,n&&(n[i]=o)}return t}function K(e){return Vn(()=>{const n=Hp(e);return $p(n),n})}function fe(e){return e[Xs]||null}function et(e){return e[Nl]||null}function gt(e){return e[Fl]||null}function Nt(e,n){const t=e[kp]||null;if(!t&&!0===n)throw new Error(`Type ${We(e)} does not have '\u0275mod' property.`);return t}function Hp(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||Dn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||pe,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:jp(e.inputs,n),outputs:jp(e.outputs)}}function $p(e){e.features?.forEach(n=>n(e))}function Js(e,n){if(!e)return null;const t=n?gt:a0;return()=>("function"==typeof e?e():e).map(r=>t(r)).filter(c0)}const Fe=0,V=1,oe=2,xe=3,sn=4,mo=5,ot=6,Qr=7,Be=8,or=9,Kr=10,ee=11,yo=12,Up=13,Xr=14,je=15,vo=16,Jr=17,bn=18,_o=19,Gp=20,sr=21,Hn=22,Co=23,wo=24,le=25,Vl=1,zp=2,Sn=7,ei=9,tt=11;function It(e){return Array.isArray(e)&&"object"==typeof e[Vl]}function mt(e){return Array.isArray(e)&&!0===e[Vl]}function Bl(e){return 0!=(4&e.flags)}function Ir(e){return e.componentOffset>-1}function ta(e){return 1==(1&e.flags)}function an(e){return!!e.template}function jl(e){return 0!=(512&e[oe])}function Ar(e,n){return e.hasOwnProperty(Bn)?e[Bn]:null}let nt=null,na=!1;function Gt(e){const n=nt;return nt=e,n}const Zp={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Qp(e){if(!bo(e)||e.dirty){if(!e.producerMustRecompute(e)&&!Jp(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function Xp(e){e.dirty=!0,function Kp(e){if(void 0===e.liveConsumerNode)return;const n=na;na=!0;try{for(const t of e.liveConsumerNode)t.dirty||Xp(t)}finally{na=n}}(e),e.consumerMarkedDirty?.(e)}function $l(e){return e&&(e.nextProducerIndex=0),Gt(e)}function Ul(e,n){if(Gt(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(bo(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)ra(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Jp(e){ti(e);for(let n=0;n<e.producerNode.length;n++){const t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(Qp(t),r!==t.version))return!0}return!1}function eg(e){if(ti(e),bo(e))for(let n=0;n<e.producerNode.length;n++)ra(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function ra(e,n){if(function ng(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),ti(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)ra(e.producerNode[r],e.producerIndexOfThis[r]);const t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[n],i=e.liveConsumerNode[n];ti(i),i.producerIndexOfThis[r]=n}}function bo(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function ti(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let rg=null;const ag=()=>{},S0=(()=>({...Zp,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:ag}))();class E0{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function zt(){return cg}function cg(e){return e.type.prototype.ngOnChanges&&(e.setInput=I0),M0}function M0(){const e=ug(this),n=e?.current;if(n){const t=e.previous;if(t===Dn)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function I0(e,n,t,r){const i=this.declaredInputs[t],o=ug(e)||function A0(e,n){return e[lg]=n}(e,{previous:Dn,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new E0(c&&c.currentValue,n,a===Dn),e[r]=n}zt.ngInherit=!0;const lg="__ngSimpleChanges__";function ug(e){return e[lg]||null}const En=function(e,n,t){};function Ie(e){for(;Array.isArray(e);)e=e[Fe];return e}function ia(e,n){return Ie(n[e])}function At(e,n){return Ie(n[e.index])}function hg(e,n){return e.data[n]}function Ft(e,n){const t=n[e];return It(t)?t:t[Fe]}function cr(e,n){return null==n?null:e[n]}function pg(e){e[Jr]=0}function R0(e){1024&e[oe]||(e[oe]|=1024,mg(e,1))}function gg(e){1024&e[oe]&&(e[oe]&=-1025,mg(e,-1))}function mg(e,n){let t=e[xe];if(null===t)return;t[mo]+=n;let r=t;for(t=t[xe];null!==t&&(1===n&&1===r[mo]||-1===n&&0===r[mo]);)t[mo]+=n,r=t,t=t[xe]}const Y={lFrame:Ig(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function _g(){return Y.bindingsEnabled}function I(){return Y.lFrame.lView}function he(){return Y.lFrame.tView}function te(e){return Y.lFrame.contextLView=e,e[Be]}function ne(e){return Y.lFrame.contextLView=null,e}function rt(){let e=Cg();for(;null!==e&&64===e.type;)e=e.parent;return e}function Cg(){return Y.lFrame.currentTNode}function Mn(e,n){const t=Y.lFrame;t.currentTNode=e,t.isParent=n}function Zl(){return Y.lFrame.isParent}function yt(){const e=Y.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function ii(){return Y.lFrame.bindingIndex++}function Un(e){const n=Y.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function W0(e,n){const t=Y.lFrame;t.bindingIndex=t.bindingRootIndex=e,Ql(n)}function Ql(e){Y.lFrame.currentDirectiveIndex=e}function Sg(){return Y.lFrame.currentQueryIndex}function Xl(e){Y.lFrame.currentQueryIndex=e}function Z0(e){const n=e[V];return 2===n.type?n.declTNode:1===n.type?e[ot]:null}function Eg(e,n,t){if(t&ce.SkipSelf){let i=n,o=e;for(;!(i=i.parent,null!==i||t&ce.Host||(i=Z0(o),null===i||(o=o[Xr],10&i.type))););if(null===i)return!1;n=i,e=o}const r=Y.lFrame=Mg();return r.currentTNode=n,r.lView=e,!0}function Jl(e){const n=Mg(),t=e[V];Y.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function Mg(){const e=Y.lFrame,n=null===e?null:e.child;return null===n?Ig(e):n}function Ig(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function Ag(){const e=Y.lFrame;return Y.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Tg=Ag;function eu(){const e=Ag();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function vt(){return Y.lFrame.selectedIndex}function Tr(e){Y.lFrame.selectedIndex=e}function Re(){const e=Y.lFrame;return hg(e.tView,e.selectedIndex)}let xg=!0;function oa(){return xg}function lr(e){xg=e}function sa(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),c&&(e.viewHooks??=[]).push(-t,c),l&&((e.viewHooks??=[]).push(t,l),(e.viewCheckHooks??=[]).push(t,l)),null!=u&&(e.destroyHooks??=[]).push(t,u)}}function aa(e,n,t){Pg(e,n,3,t)}function ca(e,n,t,r){(3&e[oe])===t&&Pg(e,n,t,r)}function tu(e,n){let t=e[oe];(3&t)===n&&(t&=8191,t+=1,e[oe]=t)}function Pg(e,n,t,r){const o=r??-1,s=n.length-1;let a=0;for(let c=void 0!==r?65535&e[Jr]:0;c<s;c++)if("number"==typeof n[c+1]){if(a=n[c],null!=r&&a>=r)break}else n[c]<0&&(e[Jr]+=65536),(a<o||-1==o)&&(nM(e,t,n,c),e[Jr]=(4294901760&e[Jr])+c+2),c++}function Og(e,n){En(4,e,n);const t=Gt(null);try{n.call(e)}finally{Gt(t),En(5,e,n)}}function nM(e,n,t,r){const i=t[r]<0,o=t[r+1],a=e[i?-t[r]:t[r]];i?e[oe]>>13<e[Jr]>>16&&(3&e[oe])===n&&(e[oe]+=8192,Og(a,o)):Og(a,o)}const oi=-1;class Eo{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function ru(e){return e!==oi}function Mo(e){return 32767&e}function Io(e,n){let t=function sM(e){return e>>16}(e),r=n;for(;t>0;)r=r[Xr],t--;return r}let iu=!0;function la(e){const n=iu;return iu=e,n}const Rg=255,Ng=5;let aM=0;const In={};function ua(e,n){const t=Fg(e,n);if(-1!==t)return t;const r=n[V];r.firstCreatePass&&(e.injectorIndex=n.length,ou(r.data,e),ou(n,null),ou(r.blueprint,null));const i=da(e,n),o=e.injectorIndex;if(ru(i)){const s=Mo(i),a=Io(i,n),c=a[V].data;for(let l=0;l<8;l++)n[o+l]=a[s+l]|c[s+l]}return n[o+8]=i,o}function ou(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Fg(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function da(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;null!==i;){if(r=Ug(i),null===r)return oi;if(t++,i=i[Xr],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return oi}function su(e,n,t){!function cM(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(po)&&(r=t[po]),null==r&&(r=t[po]=aM++);const i=r&Rg;n.data[e+(i>>Ng)]|=1<<i}(e,n,t)}function Lg(e,n,t){if(t&ce.Optional||void 0!==e)return e;Ml()}function Vg(e,n,t,r){if(t&ce.Optional&&void 0===r&&(r=null),!(t&(ce.Self|ce.Host))){const i=e[or],o=Et(void 0);try{return i?i.get(n,r,t&ce.Optional):Mp(n,r,t&ce.Optional)}finally{Et(o)}}return Lg(r,0,t)}function Bg(e,n,t,r=ce.Default,i){if(null!==e){if(2048&n[oe]&&!(r&ce.Self)){const s=function pM(e,n,t,r,i){let o=e,s=n;for(;null!==o&&null!==s&&2048&s[oe]&&!(512&s[oe]);){const a=jg(o,s,t,r|ce.Self,In);if(a!==In)return a;let c=o.parent;if(!c){const l=s[Gp];if(l){const u=l.get(t,In,r);if(u!==In)return u}c=Ug(s),s=s[Xr]}o=c}return i}(e,n,t,r,In);if(s!==In)return s}const o=jg(e,n,t,r,In);if(o!==In)return o}return Vg(n,t,r,i)}function jg(e,n,t,r,i){const o=function dM(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(po)?e[po]:void 0;return"number"==typeof n?n>=0?n&Rg:hM:n}(t);if("function"==typeof o){if(!Eg(n,e,r))return r&ce.Host?Lg(i,0,r):Vg(n,t,r,i);try{let s;if(s=o(r),null!=s||r&ce.Optional)return s;Ml()}finally{Tg()}}else if("number"==typeof o){let s=null,a=Fg(e,n),c=oi,l=r&ce.Host?n[je][ot]:null;for((-1===a||r&ce.SkipSelf)&&(c=-1===a?da(e,n):n[a+8],c!==oi&&$g(r,!1)?(s=n[V],a=Mo(c),n=Io(c,n)):a=-1);-1!==a;){const u=n[V];if(Hg(o,a,u.data)){const d=uM(a,n,t,s,r,l);if(d!==In)return d}c=n[a+8],c!==oi&&$g(r,n[V].data[a+8]===l)&&Hg(o,a,n)?(s=u,a=Mo(c),n=Io(c,n)):a=-1}}return i}function uM(e,n,t,r,i,o){const s=n[V],a=s.data[e+8],u=fa(a,s,t,null==r?Ir(a)&&iu:r!=s&&0!=(3&a.type),i&ce.Host&&o===a);return null!==u?kr(n,s,u,a):In}function fa(e,n,t,r,i){const o=e.providerIndexes,s=n.data,a=1048575&o,c=e.directiveStart,u=o>>20,f=i?a+u:e.directiveEnd;for(let h=r?a:a+u;h<f;h++){const y=s[h];if(h<c&&t===y||h>=c&&y.type===t)return h}if(i){const h=s[c];if(h&&an(h)&&h.type===t)return c}return null}function kr(e,n,t,r){let i=e[t];const o=n.data;if(function rM(e){return e instanceof Eo}(i)){const s=i;s.resolving&&function xE(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new k(-200,`Circular dependency in DI detected for ${e}${t}`)}(function ve(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():J(e)}(o[t]));const a=la(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Et(s.injectImpl):null;Eg(e,r,ce.Default);try{i=e[t]=s.factory(void 0,o,e,r),n.firstCreatePass&&t>=r.directiveStart&&function tM(e,n,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){const s=cg(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}(t,o[t],n)}finally{null!==l&&Et(l),la(a),s.resolving=!1,Tg()}}return i}function Hg(e,n,t){return!!(t[n+(e>>Ng)]&1<<e)}function $g(e,n){return!(e&ce.Self||e&ce.Host&&n)}class _t{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return Bg(this._tNode,this._lView,n,Qs(r),t)}}function hM(){return new _t(rt(),I())}function au(e){return Sl(e)?()=>{const n=au(Q(e));return n&&n()}:Ar(e)}function Ug(e){const n=e[V],t=n.type;return 2===t?n.declTNode:1===t?e[ot]:null}const ai="__parameters__";function li(e,n,t){return Vn(()=>{const r=function cu(e){return function(...t){if(e){const r=e(...t);for(const i in r)this[i]=r[i]}}}(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,l,u){const d=c.hasOwnProperty(ai)?c[ai]:Object.defineProperty(c,ai,{value:[]})[ai];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function di(e,n){e.forEach(t=>Array.isArray(t)?di(t,n):n(t))}function zg(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function pa(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Lt(e,n,t){let r=fi(e,n);return r>=0?e[1|r]=t:(r=~r,function wM(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(1===i)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;)e[i]=e[i-2],i--;e[n]=t,e[n+1]=r}}(e,r,n,t)),r}function lu(e,n){const t=fi(e,n);if(t>=0)return e[1|t]}function fi(e,n){return function Wg(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<t];if(n===s)return o<<t;s>n?i=o:r=o+1}return~(i<<t)}(e,n,1)}const ma=ho(li("Optional"),8),ya=ho(li("SkipSelf"),4);function Da(e){return 128==(128&e.flags)}var ur=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ur||{});const pu=new Map;let zM=0;const mu="__ngContext__";function st(e,n){It(n)?(e[mu]=n[_o],function qM(e){pu.set(e[_o],e)}(n)):e[mu]=n}let yu;function vu(e,n){return yu(e,n)}function Oo(e){const n=e[xe];return mt(n)?n[xe]:n}function fm(e){return pm(e[yo])}function hm(e){return pm(e[sn])}function pm(e){for(;null!==e&&!mt(e);)e=e[sn];return e}function gi(e,n,t,r,i){if(null!=r){let o,s=!1;mt(r)?o=r:It(r)&&(s=!0,r=r[Fe]);const a=Ie(r);0===e&&null!==t?null==i?vm(n,t,a):xr(n,t,a,i||null,!0):1===e&&null!==t?xr(n,t,a,i||null,!0):2===e?function Ta(e,n,t){const r=Ia(e,n);r&&function f1(e,n,t,r){e.removeChild(n,t,r)}(e,r,n,t)}(n,a,s):3===e&&n.destroyNode(a),null!=o&&function g1(e,n,t,r,i){const o=t[Sn];o!==Ie(t)&&gi(n,e,r,o,i);for(let a=tt;a<t.length;a++){const c=t[a];No(c[V],c,e,n,r,o)}}(n,e,o,t,i)}}function Ea(e,n,t){return e.createElement(n,t)}function mm(e,n){const t=e[ei],r=t.indexOf(n);gg(n),t.splice(r,1)}function Ma(e,n){if(e.length<=tt)return;const t=tt+n,r=e[t];if(r){const i=r[vo];null!==i&&i!==e&&mm(i,r),n>0&&(e[t-1][sn]=r[sn]);const o=pa(e,tt+n);!function i1(e,n){No(e,n,n[ee],2,null,null),n[Fe]=null,n[ot]=null}(r[V],r);const s=o[bn];null!==s&&s.detachView(o[V]),r[xe]=null,r[sn]=null,r[oe]&=-129}return r}function Cu(e,n){if(!(256&n[oe])){const t=n[ee];n[Co]&&eg(n[Co]),n[wo]&&eg(n[wo]),t.destroyNode&&No(e,n,t,3,null,null),function a1(e){let n=e[yo];if(!n)return wu(e[V],e);for(;n;){let t=null;if(It(n))t=n[yo];else{const r=n[tt];r&&(t=r)}if(!t){for(;n&&!n[sn]&&n!==e;)It(n)&&wu(n[V],n),n=n[xe];null===n&&(n=e),It(n)&&wu(n[V],n),t=n&&n[sn]}n=t}}(n)}}function wu(e,n){if(!(256&n[oe])){n[oe]&=-129,n[oe]|=256,function d1(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const i=n[t[r]];if(!(i instanceof Eo)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];En(4,a,c);try{c.call(a)}finally{En(5,a,c)}}else{En(4,i,o);try{o.call(i)}finally{En(5,i,o)}}}}}(e,n),function u1(e,n){const t=e.cleanup,r=n[Qr];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else t[o].call(r[t[o+1]]);null!==r&&(n[Qr]=null);const i=n[sr];if(null!==i){n[sr]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,n),1===n[V].type&&n[ee].destroy();const t=n[vo];if(null!==t&&mt(n[xe])){t!==n[xe]&&mm(t,n);const r=n[bn];null!==r&&r.detachView(e)}!function ZM(e){pu.delete(e[_o])}(n)}}function Du(e,n,t){return function ym(e,n,t){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return t[Fe];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===rn.None||o===rn.Emulated)return null}return At(r,t)}}(e,n.parent,t)}function xr(e,n,t,r,i){e.insertBefore(n,t,r,i)}function vm(e,n,t){e.appendChild(n,t)}function _m(e,n,t,r,i){null!==r?xr(e,n,t,r,i):vm(e,n,t)}function Ia(e,n){return e.parentNode(n)}let bu,Iu,Dm=function wm(e,n,t){return 40&e.type?At(e,t):null};function Aa(e,n,t,r){const i=Du(e,r,n),o=n[ee],a=function Cm(e,n,t){return Dm(e,n,t)}(r.parent||n[ot],r,n);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)_m(o,i,t[c],a,!1);else _m(o,i,t,a,!1);void 0!==bu&&bu(o,r,n,t,i)}function Ro(e,n){if(null!==n){const t=n.type;if(3&t)return At(n,e);if(4&t)return Su(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return Ro(e,r);{const i=e[n.index];return mt(i)?Su(-1,i):Ie(i)}}if(32&t)return vu(n,e)()||Ie(e[n.index]);{const r=Sm(e,n);return null!==r?Array.isArray(r)?r[0]:Ro(Oo(e[je]),r):Ro(e,n.next)}}return null}function Sm(e,n){return null!==n?e[je][ot].projection[n.projection]:null}function Su(e,n){const t=tt+e+1;if(t<n.length){const r=n[t],i=r[V].firstChild;if(null!==i)return Ro(r,i)}return n[Sn]}function Eu(e,n,t,r,i,o,s){for(;null!=t;){const a=r[t.index],c=t.type;if(s&&0===n&&(a&&st(Ie(a),r),t.flags|=2),32!=(32&t.flags))if(8&c)Eu(e,n,t.child,r,i,o,!1),gi(n,e,i,a,o);else if(32&c){const l=vu(t,r);let u;for(;u=l();)gi(n,e,i,u,o);gi(n,e,i,a,o)}else 16&c?Mm(e,n,r,t,i,o):gi(n,e,i,a,o);t=s?t.projectionNext:t.next}}function No(e,n,t,r,i,o){Eu(t,r,e.firstChild,n,i,o,!1)}function Mm(e,n,t,r,i,o){const s=t[je],c=s[ot].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)gi(n,e,i,c[l],o);else{let l=c;const u=s[xe];Da(r)&&(l.flags|=128),Eu(e,n,l,u,i,o,!0)}}function Im(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function Am(e,n,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&Ll(e,n,r),null!==i&&Im(e,n,i),null!==o&&function y1(e,n,t){e.setAttribute(n,"style",t)}(e,n,o)}class Pm{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Dp})`}}function dr(e){return e instanceof Pm?e.changingThisBreaksApplicationSecurity:e}const x1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var vi=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(vi||{});function Pr(e){const n=function Vo(){const e=I();return e&&e[Kr].sanitizer}();return n?n.sanitize(vi.URL,e)||"":function Fo(e,n){const t=function I1(e){return e instanceof Pm&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${Dp})`)}return t===n}(e,"URL")?dr(e):function Tu(e){return(e=String(e)).match(x1)?e:"unsafe:"+e}(J(e))}const Bo=new j("ENVIRONMENT_INITIALIZER"),Hm=new j("INJECTOR",-1),$m=new j("INJECTOR_DEF_TYPES");class Ou{get(n,t=fo){if(t===fo){const r=new Error(`NullInjectorError: No provider for ${We(n)}!`);throw r.name="NullInjectorError",r}return t}}function G1(...e){return{\u0275providers:Gm(0,e),\u0275fromNgModule:!0}}function Gm(e,...n){const t=[],r=new Set;let i;const o=s=>{t.push(s)};return di(n,s=>{const a=s;Oa(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&zm(i,o),t}function zm(e,n){for(let t=0;t<e.length;t++){const{ngModule:r,providers:i}=e[t];Ru(i,o=>{n(o,r)})}}function Oa(e,n,t,r){if(!(e=Q(e)))return!1;let i=null,o=qs(e);const s=!o&&fe(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const c=e.ngModule;if(o=qs(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)Oa(l,n,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{di(o.imports,u=>{Oa(u,n,t,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&zm(l,n)}if(!a){const l=Ar(i)||(()=>new i);n({provide:i,useFactory:l,deps:pe},i),n({provide:$m,useValue:i,multi:!0},i),n({provide:Bo,useValue:()=>W(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const l=e;Ru(c,u=>{n(u,l)})}}}return i!==e&&void 0!==e.providers}function Ru(e,n){for(let t of e)El(t)&&(t=t.\u0275providers),Array.isArray(t)?Ru(t,n):n(t)}const z1=_e({provide:String,useValue:_e});function Nu(e){return null!==e&&"object"==typeof e&&z1 in e}function Or(e){return"function"==typeof e}const Fu=new j("Set Injector scope."),Ra={},q1={};let Lu;function Na(){return void 0===Lu&&(Lu=new Ou),Lu}class qt{}class _i extends qt{get destroyed(){return this._destroyed}constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Bu(n,s=>this.processProvider(s)),this.records.set(Hm,Ci(void 0,this)),i.has("environment")&&this.records.set(qt,Ci(void 0,this));const o=this.records.get(Fu);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get($m.multi,pe,ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of n)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const t=ir(this),r=Et(void 0);try{return n()}finally{ir(t),Et(r)}}get(n,t=fo,r=ce.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(xp))return n[xp](this);r=Qs(r);const o=ir(this),s=Et(void 0);try{if(!(r&ce.SkipSelf)){let c=this.records.get(n);if(void 0===c){const l=function X1(e){return"function"==typeof e||"object"==typeof e&&e instanceof j}(n)&&Ws(n);c=l&&this.injectableDefInScope(l)?Ci(Vu(n),Ra):null,this.records.set(n,c)}if(null!=c)return this.hydrate(n,c)}return(r&ce.Self?Na():this.parent).get(n,t=r&ce.Optional&&t===fo?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Ys]=a[Ys]||[]).unshift(We(n)),o)throw a;return function WE(e,n,t,r){const i=e[Ys];throw n[Ap]&&i.unshift(n[Ap]),e.message=function qE(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=We(n);if(Array.isArray(n))i=n.map(We).join(" -> ");else if("object"==typeof n){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):We(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(HE,"\n  ")}`}("\n"+e.message,i,t,r),e.ngTokenPath=i,e[Ys]=null,e}(a,n,"R3InjectorError",this.source)}throw a}finally{Et(s),ir(o)}}resolveInjectorInitializers(){const n=ir(this),t=Et(void 0);try{const i=this.get(Bo.multi,pe,ce.Self);for(const o of i)o()}finally{ir(n),Et(t)}}toString(){const n=[],t=this.records;for(const r of t.keys())n.push(We(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new k(205,!1)}processProvider(n){let t=Or(n=Q(n))?n:Q(n&&n.provide);const r=function Y1(e){return Nu(e)?Ci(void 0,e.useValue):Ci(function Zm(e,n,t){let r;if(Or(e)){const i=Q(e);return Ar(i)||Vu(i)}if(Nu(e))r=()=>Q(e.useValue);else if(function qm(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Rl(e.deps||[]));else if(function Wm(e){return!(!e||!e.useExisting)}(e))r=()=>W(Q(e.useExisting));else{const i=Q(e&&(e.useClass||e.provide));if(!function Q1(e){return!!e.deps}(e))return Ar(i)||Vu(i);r=()=>new i(...Rl(e.deps))}return r}(e),Ra)}(n);if(Or(n)||!0!==n.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Ci(void 0,Ra,!0),i.factory=()=>Rl(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){return t.value===Ra&&(t.value=q1,t.value=t.factory()),"object"==typeof t.value&&t.value&&function K1(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=Q(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Vu(e){const n=Ws(e),t=null!==n?n.factory:Ar(e);if(null!==t)return t;if(e instanceof j)throw new k(204,!1);if(e instanceof Function)return function Z1(e){const n=e.length;if(n>0)throw function ko(e,n){const t=[];for(let r=0;r<e;r++)t.push(n);return t}(n,"?"),new k(204,!1);const t=function LE(e){return e&&(e[Zs]||e[Sp])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new k(204,!1)}function Ci(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function Bu(e,n){for(const t of e)Array.isArray(t)?Bu(t,n):t&&El(t)?Bu(t.\u0275providers,n):n(t)}const Fa=new j("AppId",{providedIn:"root",factory:()=>J1}),J1="ng",Ym=new j("Platform Initializer"),wi=new j("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Qm=new j("CSP nonce",{providedIn:"root",factory:()=>function yi(){if(void 0!==Iu)return Iu;if(typeof document<"u")return document;throw new k(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Km=(e,n,t)=>null;function qu(e,n,t=!1){return Km(e,n,t)}class lI{}class ey{}class dI{resolveComponentFactory(n){throw function uI(e){const n=Error(`No component factory found for ${We(e)}.`);return n.ngComponent=e,n}(n)}}let $a=(()=>{class e{static#e=this.NULL=new dI}return e})();function fI(){return Si(rt(),I())}function Si(e,n){return new Vt(At(e,n))}let Vt=(()=>{class e{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=fI}return e})();function hI(e){return e instanceof Vt?e.nativeElement:e}class ny{}let zn=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function pI(){const e=I(),t=Ft(rt().index,e);return(It(t)?t:e)[ee]}()}return e})(),gI=(()=>{class e{static#e=this.\u0275prov=z({token:e,providedIn:"root",factory:()=>null})}return e})();class $o{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const mI=new $o("16.2.12"),Qu={};function sy(e,n=null,t=null,r){const i=ay(e,n,t,r);return i.resolveInjectorInitializers(),i}function ay(e,n=null,t=null,r,i=new Set){const o=[t||pe,G1(e)];return r=r||("object"==typeof e?void 0:We(e)),new _i(o,n||Na(),r||null,i)}let Bt=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=fo;static#t=this.NULL=new Ou;static create(t,r){if(Array.isArray(t))return sy({name:""},r,t,"");{const i=t.name??"";return sy({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=z({token:e,providedIn:"any",factory:()=>W(Hm)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function Xu(e){return e.ngOriginalError}class Wn{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&Xu(n);for(;t&&Xu(t);)t=Xu(t);return t||null}}function ed(e){return n=>{setTimeout(e,void 0,n)}}const ue=class bI extends nn{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,r){let i=n,o=t||(()=>null),s=r;if(n&&"object"==typeof n){const c=n;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=ed(o),i&&(i=ed(i)),s&&(s=ed(s)));const a=super.subscribe({next:i,error:o,complete:s});return n instanceof Pt&&n.add(a),a}};function ly(...e){}class Ae{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ue(!1),this.onMicrotaskEmpty=new ue(!1),this.onStable=new ue(!1),this.onError=new ue(!1),typeof Zone>"u")throw new k(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function SI(){const e="function"==typeof Me.requestAnimationFrame;let n=Me[e?"requestAnimationFrame":"setTimeout"],t=Me[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&t){const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function II(e){const n=()=>{!function MI(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Me,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,nd(e),e.isCheckStableRunning=!0,td(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),nd(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{if(function TI(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,o,s,a);try{return uy(e),t.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&n(),dy(e)}},onInvoke:(t,r,i,o,s,a,c)=>{try{return uy(e),t.invoke(i,o,s,a,c)}finally{e.shouldCoalesceRunChangeDetection&&n(),dy(e)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,nd(e),td(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ae.isInAngularZone())throw new k(909,!1)}static assertNotInAngularZone(){if(Ae.isInAngularZone())throw new k(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,EI,ly,ly);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const EI={};function td(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function nd(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function uy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function dy(e){e._nesting--,td(e)}class AI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ue,this.onMicrotaskEmpty=new ue,this.onStable=new ue,this.onError=new ue}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}}const fy=new j("",{providedIn:"root",factory:hy});function hy(){const e=B(Ae);let n=!0;return function IE(...e){const n=uo(e),t=function CE(e,n){return"number"==typeof wl(e)?e.pop():n}(e,1/0),r=e;return r.length?1===r.length?Ot(r[0]):qr(t)(Qe(r,n)):_n}(new $e(i=>{n=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(n),i.complete()})}),new $e(i=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(n=!0,i.next(!0))})})});const s=e.onUnstable.subscribe(()=>{Ae.assertInAngularZone(),n&&(n=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(wp()))}function rd(e){return e.ownerDocument}function qn(e){return e instanceof Function?e():e}let id=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=z({token:e,providedIn:"root",factory:()=>new e})}return e})();function Uo(e){for(;e;){e[oe]|=64;const n=Oo(e);if(jl(e)&&!n)return e;e=n}return null}const vy=new j("",{providedIn:"root",factory:()=>!1});let Ga=null;function Dy(e,n){return e[n]??Ey()}function by(e,n){const t=Ey();t.producerNode?.length&&(e[n]=Ga,t.lView=e,Ga=Sy())}const VI={...Zp,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Uo(e.lView)},lView:null};function Sy(){return Object.create(VI)}function Ey(){return Ga??=Sy(),Ga}const ie={};function C(e){My(he(),I(),vt()+e,!1)}function My(e,n,t,r){if(!r)if(3==(3&n[oe])){const o=e.preOrderCheckHooks;null!==o&&aa(n,o,t)}else{const o=e.preOrderHooks;null!==o&&ca(n,o,0,t)}Tr(t)}function x(e,n=ce.Default){const t=I();return null===t?W(e,n):Bg(rt(),t,Q(e),n)}function za(e,n,t,r,i,o,s,a,c,l,u){const d=n.blueprint.slice();return d[Fe]=i,d[oe]=140|r,(null!==l||e&&2048&e[oe])&&(d[oe]|=2048),pg(d),d[xe]=d[Xr]=e,d[Be]=t,d[Kr]=s||e&&e[Kr],d[ee]=a||e&&e[ee],d[or]=c||e&&e[or]||null,d[ot]=o,d[_o]=function WM(){return zM++}(),d[Hn]=u,d[Gp]=l,d[je]=2==n.type?e[je]:d,d}function Ii(e,n,t,r,i){let o=e.data[n];if(null===o)o=function od(e,n,t,r,i){const o=Cg(),s=Zl(),c=e.data[n]=function WI(e,n,t,r,i,o){let s=n?n.injectorIndex:-1,a=0;return function ri(){return null!==Y.skipHydrationRootTNode}()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,n,r,i);return null===e.firstChild&&(e.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(e,n,t,r,i),function z0(){return Y.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function So(){const e=Y.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Mn(o,!0),o}function Go(e,n,t,r){if(0===t)return-1;const i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function Ay(e,n,t,r,i){const o=Dy(n,Co),s=vt(),a=2&r;try{Tr(-1),a&&n.length>le&&My(e,n,le,!1),En(a?2:0,i);const l=a?o:null,u=$l(l);try{null!==l&&(l.dirty=!1),t(r,i)}finally{Ul(l,u)}}finally{a&&null===n[Co]&&by(n,Co),Tr(s),En(a?3:1,i)}}function sd(e,n,t){if(Bl(n)){const r=Gt(null);try{const o=n.directiveEnd;for(let s=n.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{Gt(r)}}}function ad(e,n,t){_g()&&(function JI(e,n,t,r){const i=t.directiveStart,o=t.directiveEnd;Ir(t)&&function sA(e,n,t){const r=At(n,e),i=Ty(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=Wa(e,za(e,i,null,s,r,n,null,e[Kr].rendererFactory.createRenderer(r,t),null,null,null));e[n.index]=a}(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||ua(t,n),st(r,n);const s=t.initialInputs;for(let a=i;a<o;a++){const c=e.data[a],l=kr(n,e,a,t);st(l,n),null!==s&&aA(0,a-i,l,c,0,s),an(c)&&(Ft(t.index,n)[Be]=kr(n,e,a,t))}}(e,n,t,At(t,n)),64==(64&t.flags)&&Ry(e,n,t))}function cd(e,n,t=At){const r=n.localNames;if(null!==r){let i=n.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(n,e):e[s];e[i++]=a}}}function Ty(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=ld(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function ld(e,n,t,r,i,o,s,a,c,l,u){const d=le+r,f=d+i,h=function jI(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:ie);return t}(d,f),y="function"==typeof l?l():l;return h[V]={type:e,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:n,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:u}}let ky=e=>null;function xy(e,n,t,r){for(let i in e)if(e.hasOwnProperty(i)){t=null===t?{}:t;const o=e[i];null===r?Py(t,n,i,o):r.hasOwnProperty(i)&&Py(t,n,r[i],o)}return t}function Py(e,n,t,r){e.hasOwnProperty(t)?e[t].push(n,r):e[t]=[n,r]}function jt(e,n,t,r,i,o,s,a){const c=At(n,t);let u,l=n.inputs;!a&&null!=l&&(u=l[r])?(pd(e,t,u,r,i),Ir(n)&&function YI(e,n){const t=Ft(n,e);16&t[oe]||(t[oe]|=64)}(t,n.index)):3&n.type&&(r=function ZI(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,n.value||"",r):i,o.setProperty(c,r,i))}function ud(e,n,t,r){if(_g()){const i=null===r?null:{"":-1},o=function tA(e,n){const t=e.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(Vp(n,s.selectors,!1))if(r||(r=[]),an(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),dd(e,n,a.length)}else r.unshift(s),dd(e,n,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&Oy(e,n,t,s,i,a),i&&function nA(e,n,t){if(n){const r=e.localNames=[];for(let i=0;i<n.length;i+=2){const o=t[n[i+1]];if(null==o)throw new k(-301,!1);r.push(n[i],o)}}}(t,r,i)}t.mergedAttrs=go(t.mergedAttrs,t.attrs)}function Oy(e,n,t,r,i,o){for(let l=0;l<r.length;l++)su(ua(t,n),e,r[l].type);!function iA(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=Go(e,n,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];t.mergedAttrs=go(t.mergedAttrs,u.hostAttrs),oA(e,t,n,c,u),rA(c,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function qI(e,n,t){const i=n.directiveEnd,o=e.data,s=n.attrs,a=[];let c=null,l=null;for(let u=n.directiveStart;u<i;u++){const d=o[u],f=t?t.get(d):null,y=f?f.outputs:null;c=xy(d.inputs,u,c,f?f.inputs:null),l=xy(d.outputs,u,l,y);const _=null===c||null===s||Lp(n)?null:cA(c,u,s);a.push(_)}null!==c&&(c.hasOwnProperty("class")&&(n.flags|=8),c.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=c,n.outputs=l}(e,t,o)}function Ry(e,n,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function q0(){return Y.lFrame.currentDirectiveIndex}();try{Tr(o);for(let a=r;a<i;a++){const c=e.data[a],l=n[a];Ql(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&eA(c,l)}}finally{Tr(-1),Ql(s)}}function eA(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function dd(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function rA(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;an(n)&&(t[""]=e)}}function oA(e,n,t,r,i){e.data[r]=i;const o=i.factory||(i.factory=Ar(i.type)),s=new Eo(o,an(i),x);e.blueprint[r]=s,t[r]=s,function KI(e,n,t,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~n.index;(function XI(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(e,n,r,Go(e,t,i.hostVars,ie),i)}function aA(e,n,t,r,i,o){const s=o[n];if(null!==s)for(let a=0;a<s.length;)Ny(r,t,s[a++],s[a++],s[a++])}function Ny(e,n,t,r,i){const o=Gt(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(n,i)),null!==e.setInput?e.setInput(n,i,t,r):n[r]=i}finally{Gt(o)}}function cA(e,n,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===n){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Fy(e,n,t,r){return[e,!0,!1,n,null,0,r,t,null,null,null]}function Ly(e,n){const t=e.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const s=e.data[o];Xl(t[r]),s.contentQueries(2,n[o],o)}}}function Wa(e,n){return e[yo]?e[Up][sn]=n:e[yo]=n,e[Up]=n,n}function hd(e,n,t){Xl(0);const r=Gt(null);try{n(e,t)}finally{Gt(r)}}function Vy(e){return e[Qr]||(e[Qr]=[])}function By(e){return e.cleanup||(e.cleanup=[])}function Hy(e,n){const t=e[or],r=t?t.get(Wn,null):null;r&&r.handleError(n)}function pd(e,n,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];Ny(e.data[s],n[s],r,a,i)}}function Zn(e,n,t){const r=ia(n,e);!function gm(e,n,t){e.setValue(n,t)}(e[ee],r,t)}function lA(e,n){const t=Ft(n,e),r=t[V];!function uA(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(r,t);const i=t[Fe];null!==i&&null===t[Hn]&&(t[Hn]=qu(i,t[or])),gd(r,t,t[Be])}function gd(e,n,t){Jl(n);try{const r=e.viewQuery;null!==r&&hd(1,r,t);const i=e.template;null!==i&&Ay(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Ly(e,n),e.staticViewQueries&&hd(2,e.viewQuery,t);const o=e.components;null!==o&&function dA(e,n){for(let t=0;t<n.length;t++)lA(e,n[t])}(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[oe]&=-5,eu()}}let $y=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function b0(e,n,t){const r=Object.create(S0);t&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=n;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>Xp(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Jp(r))return;r.hasRun=!0;const s=$l(r);try{r.cleanupFn(),r.cleanupFn=ag,r.fn(i)}finally{Ul(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(t,l=>{this.all.has(l)&&this.queue.set(l,o)},i);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=z({token:e,providedIn:"root",factory:()=>new e})}return e})();function qa(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?o=a:1==o?i=bl(i,a):2==o&&(r=bl(r,a+": "+n[++s]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function zo(e,n,t,r,i=!1){for(;null!==t;){const o=n[t.index];null!==o&&r.push(Ie(o)),mt(o)&&Uy(o,r);const s=t.type;if(8&s)zo(e,n,t.child,r);else if(32&s){const a=vu(t,n);let c;for(;c=a();)r.push(c)}else if(16&s){const a=Sm(n,t);if(Array.isArray(a))r.push(...a);else{const c=Oo(n[je]);zo(c[V],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Uy(e,n){for(let t=tt;t<e.length;t++){const r=e[t],i=r[V].firstChild;null!==i&&zo(r[V],r,i,n)}e[Sn]!==e[Fe]&&n.push(e[Sn])}function Za(e,n,t,r=!0){const i=n[Kr],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{Gy(e,n,e.template,t)}catch(c){throw r&&Hy(n,c),c}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function Gy(e,n,t,r){const i=n[oe];if(256!=(256&i)){n[Kr].effectManager?.flush(),Jl(n);try{pg(n),function Dg(e){return Y.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&Ay(e,n,t,2,r);const s=3==(3&i);if(s){const l=e.preOrderCheckHooks;null!==l&&aa(n,l,null)}else{const l=e.preOrderHooks;null!==l&&ca(n,l,0,null),tu(n,0)}if(function pA(e){for(let n=fm(e);null!==n;n=hm(n)){if(!n[zp])continue;const t=n[ei];for(let r=0;r<t.length;r++){R0(t[r])}}}(n),zy(n,2),null!==e.contentQueries&&Ly(e,n),s){const l=e.contentCheckHooks;null!==l&&aa(n,l)}else{const l=e.contentHooks;null!==l&&ca(n,l,1),tu(n,1)}!function BI(e,n){const t=e.hostBindingOpCodes;if(null===t)return;const r=Dy(n,wo);try{for(let i=0;i<t.length;i++){const o=t[i];if(o<0)Tr(~o);else{const s=o,a=t[++i],c=t[++i];W0(a,s),r.dirty=!1;const l=$l(r);try{c(2,n[s])}finally{Ul(r,l)}}}}finally{null===n[wo]&&by(n,wo),Tr(-1)}}(e,n);const a=e.components;null!==a&&qy(n,a,0);const c=e.viewQuery;if(null!==c&&hd(2,c,r),s){const l=e.viewCheckHooks;null!==l&&aa(n,l)}else{const l=e.viewHooks;null!==l&&ca(n,l,2),tu(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[oe]&=-73,gg(n)}finally{eu()}}}function zy(e,n){for(let t=fm(e);null!==t;t=hm(t))for(let r=tt;r<t.length;r++)Wy(t[r],n)}function gA(e,n,t){Wy(Ft(n,e),t)}function Wy(e,n){if(!function P0(e){return 128==(128&e[oe])}(e))return;const t=e[V],r=e[oe];if(80&r&&0===n||1024&r||2===n)Gy(t,e,t.template,e[Be]);else if(e[mo]>0){zy(e,1);const i=t.components;null!==i&&qy(e,i,1)}}function qy(e,n,t){for(let r=0;r<n.length;r++)gA(e,n[r],t)}class Wo{get rootNodes(){const n=this._lView,t=n[V];return zo(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Be]}set context(n){this._lView[Be]=n}get destroyed(){return 256==(256&this._lView[oe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[xe];if(mt(n)){const t=n[8],r=t?t.indexOf(this):-1;r>-1&&(Ma(n,r),pa(t,r))}this._attachedToViewContainer=!1}Cu(this._lView[V],this._lView)}onDestroy(n){!function yg(e,n){if(256==(256&e[oe]))throw new k(911,!1);null===e[sr]&&(e[sr]=[]),e[sr].push(n)}(this._lView,n)}markForCheck(){Uo(this._cdRefInjectingView||this._lView)}detach(){this._lView[oe]&=-129}reattach(){this._lView[oe]|=128}detectChanges(){Za(this._lView[V],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new k(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function s1(e,n){No(e,n,n[ee],2,null,null)}(this._lView[V],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new k(902,!1);this._appRef=n}}class mA extends Wo{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Za(n[V],n,n[Be],!1)}checkNoChanges(){}get context(){return null}}class Zy extends $a{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=fe(n);return new qo(t,this.ngModule)}}function Yy(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class vA{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=Qs(r);const i=this.injector.get(n,Qu,r);return i!==Qu||t===Qu?i:this.parentInjector.get(n,t,r)}}class qo extends ey{get inputs(){const n=this.componentDef,t=n.inputTransforms,r=Yy(n.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return Yy(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function r0(e){return e.map(n0).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,r,i){let o=(i=i||this.ngModule)instanceof qt?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new vA(n,o):n,a=s.get(ny,null);if(null===a)throw new k(407,!1);const d={rendererFactory:a,sanitizer:s.get(gI,null),effectManager:s.get($y,null),afterRenderEventManager:s.get(id,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",y=r?function HI(e,n,t,r){const o=r.get(vy,!1)||t===rn.ShadowDom,s=e.selectRootElement(n,o);return function $I(e){ky(e)}(s),s}(f,r,this.componentDef.encapsulation,s):Ea(f,h,function yA(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(h)),A=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let S=null;null!==y&&(S=qu(y,s,!0));const $=ld(0,null,null,1,0,null,null,null,null,null,null),U=za(null,$,null,A,null,null,d,f,s,null,S);let ae,Xe;Jl(U);try{const tn=this.componentDef;let br,Bs=null;tn.findHostDirectiveDefs?(br=[],Bs=new Map,tn.findHostDirectiveDefs(tn,br,Bs),br.push(tn)):br=[tn];const TS=function CA(e,n){const t=e[V],r=le;return e[r]=n,Ii(t,r,2,"#host",null)}(U,y),Zh=function wA(e,n,t,r,i,o,s){const a=i[V];!function DA(e,n,t,r){for(const i of e)n.mergedAttrs=go(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(qa(n,n.mergedAttrs,!0),null!==t&&Am(r,t,n))}(r,e,n,s);let c=null;null!==n&&(c=qu(n,i[or]));const l=o.rendererFactory.createRenderer(n,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const d=za(i,Ty(t),null,u,i[e.index],e,o,l,null,null,c);return a.firstCreatePass&&dd(a,e,r.length-1),Wa(i,d),i[e.index]=d}(TS,y,tn,br,U,d,f);Xe=hg($,le),y&&function SA(e,n,t,r){if(r)Ll(e,t,["ng-version",mI.full]);else{const{attrs:i,classes:o}=function o0(e){const n=[],t=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&n.push(o,e[++r]):8===i&&t.push(o);else{if(!on(i))break;i=o}r++}return{attrs:n,classes:t}}(n.selectors[0]);i&&Ll(e,t,i),o&&o.length>0&&Im(e,t,o.join(" "))}}(f,tn,y,r),void 0!==t&&function EA(e,n,t){const r=e.projection=[];for(let i=0;i<n.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(Xe,this.ngContentSelectors,t),ae=function bA(e,n,t,r,i,o){const s=rt(),a=i[V],c=At(s,i);Oy(a,i,s,t,null,r);for(let u=0;u<t.length;u++)st(kr(i,a,s.directiveStart+u,s),i);Ry(a,i,s),c&&st(c,i);const l=kr(i,a,s.directiveStart+s.componentOffset,s);if(e[Be]=i[Be]=l,null!==o)for(const u of o)u(l,n);return sd(a,s,e),l}(Zh,tn,br,Bs,U,[MA]),gd($,U,null)}finally{eu()}return new _A(this.componentType,ae,Si(Xe,U),U,Xe)}}class _A extends lI{constructor(n,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new mA(i),this.componentType=n}setInput(n,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const o=this._rootLView;pd(o[V],o,i,n,t),this.previousInputValues.set(n,t),Uo(Ft(this._tNode.index,o))}}get injector(){return new _t(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function MA(){const e=rt();sa(I()[V],e)}function Qa(e){return!!md(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function md(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Tn(e,n,t){return e[n]=t}function Zo(e,n){return e[n]}function at(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function Rr(e,n,t,r){const i=at(e,n,t);return at(e,n+1,r)||i}function Zt(e,n,t,r,i,o){const s=Rr(e,n,t,r);return Rr(e,n+2,i,o)||s}function Ti(e,n,t,r){return at(e,ii(),t)?n+J(t)+r:ie}function ki(e,n,t,r,i,o){const a=Rr(e,function $n(){return Y.lFrame.bindingIndex}(),t,i);return Un(2),a?n+J(t)+r+J(i)+o:ie}function R(e,n,t,r,i,o,s,a){const c=I(),l=he(),u=e+le,d=l.firstCreatePass?function tT(e,n,t,r,i,o,s,a,c){const l=n.consts,u=Ii(n,e,4,s||null,cr(l,a));ud(n,t,u,cr(l,c)),sa(n,u);const d=u.tView=ld(2,u,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,l,null);return null!==n.queries&&(n.queries.template(n,u),d.queries=n.queries.embeddedTView(u)),u}(u,l,c,n,t,r,i,o,s):l.data[u];Mn(d,!1);const f=hv(l,c,d,e);oa()&&Aa(l,c,f,d),st(f,c),Wa(c,c[u]=Fy(f,c,f,d)),ta(d)&&ad(l,c,d),null!=s&&cd(c,d,a)}let hv=function pv(e,n,t,r){return lr(!0),n[ee].createComment("")};function tc(e){return function ni(e,n){return e[n]}(function G0(){return Y.lFrame.contextLView}(),le+e)}function b(e,n,t){const r=I();return at(r,ii(),n)&&jt(he(),Re(),r,e,n,r[ee],t,!1),b}function Dd(e,n,t,r,i){const s=i?"class":"style";pd(e,t,n.inputs[s],s,r)}function m(e,n,t,r){const i=I(),o=he(),s=le+e,a=i[ee],c=o.firstCreatePass?function oT(e,n,t,r,i,o){const s=n.consts,c=Ii(n,e,2,r,cr(s,i));return ud(n,t,c,cr(s,o)),null!==c.attrs&&qa(c,c.attrs,!1),null!==c.mergedAttrs&&qa(c,c.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,c),c}(s,o,i,n,t,r):o.data[s],l=gv(o,i,c,a,n,e);i[s]=l;const u=ta(c);return Mn(c,!0),Am(a,l,c),32!=(32&c.flags)&&oa()&&Aa(o,i,l,c),0===function F0(){return Y.lFrame.elementDepthCount}()&&st(l,i),function L0(){Y.lFrame.elementDepthCount++}(),u&&(ad(o,i,c),sd(o,c,i)),null!==r&&cd(i,c),m}function p(){let e=rt();Zl()?function Yl(){Y.lFrame.isParent=!1}():(e=e.parent,Mn(e,!1));const n=e;(function B0(e){return Y.skipHydrationRootTNode===e})(n)&&function U0(){Y.skipHydrationRootTNode=null}(),function V0(){Y.lFrame.elementDepthCount--}();const t=he();return t.firstCreatePass&&(sa(t,e),Bl(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function iM(e){return 0!=(8&e.flags)}(n)&&Dd(t,n,I(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function oM(e){return 0!=(16&e.flags)}(n)&&Dd(t,n,I(),n.stylesWithoutHost,!1),p}function L(e,n,t,r){return m(e,n,t,r),p(),L}let gv=(e,n,t,r,i,o)=>(lr(!0),Ea(r,i,function kg(){return Y.lFrame.currentNamespace}()));function de(){return I()}function Xo(e){return!!e&&"function"==typeof e.then}function vv(e){return!!e&&"function"==typeof e.subscribe}function H(e,n,t,r){const i=I(),o=he(),s=rt();return function Cv(e,n,t,r,i,o,s){const a=ta(r),l=e.firstCreatePass&&By(e),u=n[Be],d=Vy(n);let f=!0;if(3&r.type||s){const _=At(r,n),E=s?s(_):_,A=d.length,S=s?U=>s(Ie(U[r.index])):r.index;let $=null;if(!s&&a&&($=function dT(e,n,t,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=n[Qr],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(e,n,i,r.index)),null!==$)($.__ngLastListenerFn__||$).__ngNextListenerFn__=o,$.__ngLastListenerFn__=o,f=!1;else{o=Dv(r,n,u,o,!1);const U=t.listen(E,i,o);d.push(o,U),l&&l.push(i,S,A,A+1)}}else o=Dv(r,n,u,o,!1);const h=r.outputs;let y;if(f&&null!==h&&(y=h[i])){const _=y.length;if(_)for(let E=0;E<_;E+=2){const ae=n[y[E]][y[E+1]].subscribe(o),Xe=d.length;d.push(o,ae),l&&l.push(i,r.index,Xe,-(Xe+1))}}}(o,i,i[ee],s,e,n,r),H}function wv(e,n,t,r){try{return En(6,n,t),!1!==t(r)}catch(i){return Hy(e,i),!1}finally{En(7,n,t)}}function Dv(e,n,t,r,i){return function o(s){if(s===Function)return r;Uo(e.componentOffset>-1?Ft(e.index,n):n);let c=wv(n,t,r,s),l=o.__ngNextListenerFn__;for(;l;)c=wv(n,t,l,s)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function M(e=1){return function Y0(e){return(Y.lFrame.contextLView=function Q0(e,n){for(;e>0;)n=n[Xr],e--;return n}(e,Y.lFrame.contextLView))[Be]}(e)}function Li(e,n,t){return Ed(e,"",n,"",t),Li}function Ed(e,n,t,r,i){const o=I(),s=Ti(o,n,t,r);return s!==ie&&jt(he(),Re(),o,e,s,o[ee],i,!1),Ed}function nc(e,n){return e<<17|n<<2}function fr(e){return e>>17&32767}function Md(e){return 2|e}function Nr(e){return(131068&e)>>2}function Id(e,n){return-131069&e|n<<2}function Ad(e){return 1|e}function xv(e,n,t,r,i){const o=e[t+1],s=null===n;let a=r?fr(o):Nr(o),c=!1;for(;0!==a&&(!1===c||s);){const u=e[a+1];CT(e[a],n)&&(c=!0,e[a+1]=r?Ad(u):Md(u)),a=r?fr(u):Nr(u)}c&&(e[t+1]=r?Md(o):Ad(o))}function CT(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&fi(e,n)>=0}function Td(e,n,t){return cn(e,n,t,!1),Td}function Jo(e,n){return cn(e,n,null,!0),Jo}function cn(e,n,t,r){const i=I(),o=he(),s=Un(2);o.firstUpdatePass&&function Bv(e,n,t,r){const i=e.data;if(null===i[t+1]){const o=i[vt()],s=function Vv(e,n){return n>=e.expandoStartIndex}(e,t);(function Uv(e,n){return 0!=(e.flags&(n?8:16))})(o,r)&&null===n&&!s&&(n=!1),n=function TT(e,n,t,r){const i=function Kl(e){const n=Y.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let o=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(t=es(t=kd(null,e,n,t,r),n.attrs,r),o=null);else{const s=n.directiveStylingLast;if(-1===s||e[s]!==i)if(t=kd(i,e,n,t,r),null===o){let c=function kT(e,n,t){const r=t?n.classBindings:n.styleBindings;if(0!==Nr(r))return e[fr(r)]}(e,n,r);void 0!==c&&Array.isArray(c)&&(c=kd(null,e,n,c[1],r),c=es(c,n.attrs,r),function xT(e,n,t,r){e[fr(t?n.classBindings:n.styleBindings)]=r}(e,n,r,c))}else o=function PT(e,n,t){let r;const i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++)r=es(r,e[o].hostAttrs,t);return es(r,n.attrs,t)}(e,n,r)}return void 0!==o&&(r?n.residualClasses=o:n.residualStyles=o),t}(i,o,n,r),function vT(e,n,t,r,i,o){let s=o?n.classBindings:n.styleBindings,a=fr(s),c=Nr(s);e[r]=t;let u,l=!1;if(Array.isArray(t)?(u=t[1],(null===u||fi(t,u)>0)&&(l=!0)):u=t,i)if(0!==c){const f=fr(e[a+1]);e[r+1]=nc(f,a),0!==f&&(e[f+1]=Id(e[f+1],r)),e[a+1]=function mT(e,n){return 131071&e|n<<17}(e[a+1],r)}else e[r+1]=nc(a,0),0!==a&&(e[a+1]=Id(e[a+1],r)),a=r;else e[r+1]=nc(c,0),0===a?a=r:e[c+1]=Id(e[c+1],r),c=r;l&&(e[r+1]=Md(e[r+1])),xv(e,u,r,!0),xv(e,u,r,!1),function _T(e,n,t,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof n&&fi(o,n)>=0&&(t[r+1]=Ad(t[r+1]))}(n,u,e,r,o),s=nc(a,c),o?n.classBindings=s:n.styleBindings=s}(i,o,n,t,s,r)}}(o,e,s,r),n!==ie&&at(i,s,n)&&function Hv(e,n,t,r,i,o,s,a){if(!(3&n.type))return;const c=e.data,l=c[a+1],u=function yT(e){return 1==(1&e)}(l)?$v(c,n,t,i,Nr(l),s):void 0;rc(u)||(rc(o)||function gT(e){return 2==(2&e)}(l)&&(o=$v(c,null,t,i,a,s)),function m1(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:ur.DashCase;null==i?e.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ur.Important),e.setStyle(t,r,i,o))}}(r,s,ia(vt(),t),i,o))}(o,o.data[vt()],i,i[ee],e,i[s+1]=function FT(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=We(dr(e)))),e}(n,t),r,s)}function kd(e,n,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=n[a],r=es(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(t.directiveStylingLast=a),r}function es(e,n,t){const r=t?1:2;let i=-1;if(null!==n)for(let o=0;o<n.length;o++){const s=n[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Lt(e,s,!!t||n[++o]))}return void 0===e?null:e}function $v(e,n,t,r,i,o){const s=null===n;let a;for(;i>0;){const c=e[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let f=t[i+1];f===ie&&(f=d?pe:void 0);let h=d?lu(f,r):u===r?f:void 0;if(l&&!rc(h)&&(h=lu(c,r)),rc(h)&&(a=h,s))return a;const y=e[i+1];i=s?fr(y):Nr(y)}if(null!==n){let c=o?n.residualClasses:n.residualStyles;null!=c&&(a=lu(c,r))}return a}function rc(e){return void 0!==e}function w(e,n=""){const t=I(),r=he(),i=e+le,o=r.firstCreatePass?Ii(r,i,1,n,null):r.data[i],s=Gv(r,t,o,n,e);t[i]=s,oa()&&Aa(r,t,s,o),Mn(o,!1)}let Gv=(e,n,t,r,i)=>(lr(!0),function Sa(e,n){return e.createText(n)}(n[ee],r));function un(e){return Le("",e,""),un}function Le(e,n,t){const r=I(),i=Ti(r,e,n,t);return i!==ie&&Zn(r,vt(),i),Le}function xd(e,n,t,r,i){const o=I(),s=ki(o,e,n,t,r,i);return s!==ie&&Zn(o,vt(),s),xd}const ji="en-US";let d_=ji;class Lr{}class L_{}class Vd extends Lr{constructor(n,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Zy(this);const i=Nt(n);this._bootstrapComponents=qn(i.bootstrap),this._r3Injector=ay(n,t,[{provide:Lr,useValue:this},{provide:$a,useValue:this.componentFactoryResolver},...r],We(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Bd extends L_{constructor(n){super(),this.moduleType=n}create(n){return new Vd(this.moduleType,n,[])}}class V_ extends Lr{constructor(n){super(),this.componentFactoryResolver=new Zy(this),this.instance=null;const t=new _i([...n.providers,{provide:Lr,useValue:this},{provide:$a,useValue:this.componentFactoryResolver}],n.parent||Na(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function jd(e,n,t=null){return new V_({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}let sx=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=Gm(0,t.type),i=r.length>0?jd([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=z({token:e,providedIn:"environment",factory:()=>new e(W(qt))})}return e})();function B_(e){e.getStandaloneInjector=n=>n.get(sx).getOrCreateStandaloneInjector(e)}function cc(e,n,t){const r=yt()+e,i=I();return i[r]===ie?Tn(i,r,t?n.call(t):n()):Zo(i,r)}function dn(e,n,t,r){return function Z_(e,n,t,r,i,o){const s=n+t;return at(e,s,i)?Tn(e,s+1,o?r.call(o,i):r(i)):ss(e,s+1)}(I(),yt(),e,n,t,r)}function lc(e,n,t,r,i){return function Y_(e,n,t,r,i,o,s){const a=n+t;return Rr(e,a,i,o)?Tn(e,a+2,s?r.call(s,i,o):r(i,o)):ss(e,a+2)}(I(),yt(),e,n,t,r,i)}function W_(e,n,t,r,i,o,s){return function K_(e,n,t,r,i,o,s,a,c){const l=n+t;return Zt(e,l,i,o,s,a)?Tn(e,l+4,c?r.call(c,i,o,s,a):r(i,o,s,a)):ss(e,l+4)}(I(),yt(),e,n,t,r,i,o,s)}function ss(e,n){const t=e[n];return t===ie?void 0:t}function Ix(){return this._results[Symbol.iterator]()}class $d{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new ue)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=$d.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Ix)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){const r=this;r.dirty=!1;const i=function Wt(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function _M(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Tx(e,n,t,r=!0){const i=n[V];if(function c1(e,n,t,r){const i=tt+r,o=t.length;r>0&&(t[i-1][sn]=n),r<o-tt?(n[sn]=t[i],zg(t,tt+r,n)):(t.push(n),n[sn]=null),n[xe]=t;const s=n[vo];null!==s&&t!==s&&function l1(e,n){const t=e[ei];n[je]!==n[xe][xe][je]&&(e[zp]=!0),null===t?e[ei]=[n]:t.push(n)}(s,n);const a=n[bn];null!==a&&a.insertView(e),n[oe]|=128}(i,n,e,t),r){const o=Su(t,e),s=n[ee],a=Ia(s,e[Sn]);null!==a&&function o1(e,n,t,r,i,o){r[Fe]=i,r[ot]=n,No(e,r,t,1,i,o)}(i,e[ot],s,n,a,o)}}let Yn=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Px}return e})();const kx=Yn,xx=class extends kx{constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,r){const i=function Ax(e,n,t,r){const i=n.tView,a=za(e,i,t,4096&e[oe]?4096:16,null,n,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[vo]=e[n.index];const l=e[bn];return null!==l&&(a[bn]=l.createEmbeddedView(i)),gd(i,a,t),a}(this._declarationLView,this._declarationTContainer,n,{injector:t,hydrationInfo:r});return new Wo(i)}};function Px(){return uc(rt(),I())}function uc(e,n){return 4&e.type?new xx(n,e,Si(e,n)):null}let fn=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Vx}return e})();function Vx(){return oC(rt(),I())}const Bx=fn,rC=class extends Bx{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return Si(this._hostTNode,this._hostLView)}get injector(){return new _t(this._hostTNode,this._hostLView)}get parentInjector(){const n=da(this._hostTNode,this._hostLView);if(ru(n)){const t=Io(n,this._hostLView),r=Mo(n);return new _t(t[V].data[r+8],t)}return new _t(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=iC(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-tt}createEmbeddedView(n,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=n.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,i,false),a}createComponent(n,t,r,i,o){const s=n&&!function To(e){return"function"==typeof e}(n);let a;if(s)a=t;else{const _=t||{};a=_.index,r=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}const c=s?n:new qo(fe(n)),l=r||this.parentInjector;if(!o&&null==c.ngModule){const E=(s?l:this.parentInjector).get(qt,null);E&&(o=E)}fe(c.componentType??{});const h=c.create(l,i,null,o);return this.insertImpl(h.hostView,a,false),h}insert(n,t){return this.insertImpl(n,t,!1)}insertImpl(n,t,r){const i=n._lView;if(function O0(e){return mt(e[xe])}(i)){const c=this.indexOf(n);if(-1!==c)this.detach(c);else{const l=i[xe],u=new rC(l,l[ot],l[xe]);u.detach(u.indexOf(n))}}const s=this._adjustIndex(t),a=this._lContainer;return Tx(a,i,s,!r),n.attachToViewContainerRef(),zg(Ud(a),s,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=iC(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=Ma(this._lContainer,t);r&&(pa(Ud(this._lContainer),t),Cu(r[V],r))}detach(n){const t=this._adjustIndex(n,-1),r=Ma(this._lContainer,t);return r&&null!=pa(Ud(this._lContainer),t)?new Wo(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function iC(e){return e[8]}function Ud(e){return e[8]||(e[8]=[])}function oC(e,n){let t;const r=n[e.index];return mt(r)?t=r:(t=Fy(r,n,null,e),n[e.index]=t,Wa(n,t)),sC(t,n,e,r),new rC(t,e,n)}let sC=function aC(e,n,t,r){if(e[Sn])return;let i;i=8&t.type?Ie(r):function jx(e,n){const t=e[ee],r=t.createComment(""),i=At(n,e);return xr(t,Ia(t,i),r,function h1(e,n){return e.nextSibling(n)}(t,i),!1),r}(n,t),e[Sn]=i};class Gd{constructor(n){this.queryList=n,this.matches=null}clone(){return new Gd(this.queryList)}setDirty(){this.queryList.setDirty()}}class zd{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const r=null!==n.contentQueries?n.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new zd(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==pC(n,t).matches&&this.queries[t].setDirty()}}class cC{constructor(n,t,r=null){this.predicate=n,this.flags=t,this.read=r}}class Wd{constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(n,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new Wd(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class qd{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new qd(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(n,t,Ux(t,o)),this.matchTNodeWithReadOption(n,t,fa(t,n,o,!1,!1))}else r===Yn?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,fa(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Vt||i===fn||i===Yn&&4&t.type)this.addMatch(t.index,-2);else{const o=fa(t,n,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function Ux(e,n){const t=e.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1];return null}function zx(e,n,t,r){return-1===t?function Gx(e,n){return 11&e.type?Si(e,n):4&e.type?uc(e,n):null}(n,e):-2===t?function Wx(e,n,t){return t===Vt?Si(n,e):t===Yn?uc(n,e):t===fn?oC(n,e):void 0}(e,n,r):kr(e,e[V],t,n)}function lC(e,n,t,r){const i=n[bn].queries[r];if(null===i.matches){const o=e.data,s=t.matches,a=[];for(let c=0;c<s.length;c+=2){const l=s[c];a.push(l<0?null:zx(n,o[l],s[c+1],t.metadata.read))}i.matches=a}return i.matches}function Zd(e,n,t,r){const i=e.queries.getByIndex(t),o=i.matches;if(null!==o){const s=lC(e,n,i,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const l=o[a+1],u=n[-c];for(let d=tt;d<u.length;d++){const f=u[d];f[vo]===f[xe]&&Zd(f[V],f,l,r)}if(null!==u[ei]){const d=u[ei];for(let f=0;f<d.length;f++){const h=d[f];Zd(h[V],h,l,r)}}}}}return r}function Yd(e){const n=I(),t=he(),r=Sg();Xl(r+1);const i=pC(t,r);if(e.dirty&&function x0(e){return 4==(4&e[oe])}(n)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?Zd(t,n,r,[]):lC(t,n,i,r);e.reset(o,hI),e.notifyOnChanges()}return!0}return!1}function uC(e,n,t){const r=he();r.firstCreatePass&&(function hC(e,n,t){null===e.queries&&(e.queries=new Wd),e.queries.track(new qd(n,t))}(r,new cC(e,n,t),-1),2==(2&n)&&(r.staticViewQueries=!0)),function fC(e,n,t){const r=new $d(4==(4&t));(function zI(e,n,t,r){const i=Vy(n);i.push(t),e.firstCreatePass&&By(e).push(r,i.length-1)})(e,n,r,r.destroy),null===n[bn]&&(n[bn]=new zd),n[bn].queries.push(new Gd(r))}(r,I(),n)}function pC(e,n){return e.queries.getByIndex(n)}function fc(e,n){return uc(e,n)}const nf=new j("Application Initializer");let rf=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=B(nf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=i();if(Xo(o))t.push(o);else if(vv(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xC=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Qn=new j("LocaleId",{providedIn:"root",factory:()=>B(Qn,ce.Optional|ce.SkipSelf)||function gP(){return typeof $localize<"u"&&$localize.locale||ji}()});let PC=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new $t(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class vP{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let OC=(()=>{class e{compileModuleSync(t){return new Bd(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=qn(Nt(t).declarations).reduce((s,a)=>{const c=fe(a);return c&&s.push(new qo(c)),s},[]);return new vP(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const LC=new j(""),gc=new j("");let uf,cf=(()=>{class e{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,uf||(function jP(e){uf=e}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(W(Ae),W(lf),W(gc))};static#t=this.\u0275prov=z({token:e,factory:e.\u0275fac})}return e})(),lf=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return uf?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),hr=null;const VC=new j("AllowMultipleToken"),df=new j("PlatformDestroyListeners"),ff=new j("appBootstrapListener");class jC{constructor(n,t){this.name=n,this.token=t}}function $C(e,n,t=[]){const r=`Platform: ${n}`,i=new j(r);return(o=[])=>{let s=hf();if(!s||s.injector.get(VC,!1)){const a=[...t,...o,{provide:i,useValue:!0}];e?e(a):function UP(e){if(hr&&!hr.get(VC,!1))throw new k(400,!1);(function BC(){!function v0(e){rg=e}(()=>{throw new k(600,!1)})})(),hr=e;const n=e.get(GC);(function HC(e){e.get(Ym,null)?.forEach(t=>t())})(e)}(function UC(e=[],n){return Bt.create({name:n,providers:[{provide:Fu,useValue:"platform"},{provide:df,useValue:new Set([()=>hr=null])},...e]})}(a,r))}return function zP(e){const n=hf();if(!n)throw new k(401,!1);return n}()}}function hf(){return hr?.get(GC)??null}let GC=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function WP(e="zone.js",n){return"noop"===e?new AI:"zone.js"===e?new Ae(n):e}(r?.ngZone,function zC(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function ox(e,n,t){return new Vd(e,n,t)}(t.moduleType,this.injector,function QC(e){return[{provide:Ae,useFactory:e},{provide:Bo,multi:!0,useFactory:()=>{const n=B(ZP,{optional:!0});return()=>n.initialize()}},{provide:YC,useFactory:qP},{provide:fy,useFactory:hy}]}(()=>i)),s=o.injector.get(Wn,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{mc(this._modules,o),a.unsubscribe()})}),function WC(e,n,t){try{const r=t();return Xo(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(rf);return a.runInitializers(),a.donePromise.then(()=>(function f_(e){Ut(e,"Expected localeId to be defined"),"string"==typeof e&&(d_=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Qn,ji)||ji),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,r=[]){const i=qC({},r);return function HP(e,n,t){const r=new Bd(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(Ui);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new k(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new k(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(df,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||e)(W(Bt))};static#t=this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function qC(e,n){return Array.isArray(n)?n.reduce(qC,e):{...e,...n}}let Ui=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=B(YC),this.zoneIsStable=B(fy),this.componentTypes=[],this.components=[],this.isStable=B(PC).hasPendingTasks.pipe(Cn(t=>t?X(!1):this.zoneIsStable),function AE(e,n=nr){return e=e??TE,ze((t,r)=>{let i,o=!0;t.subscribe(Ue(r,s=>{const a=n(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}(),wp()),this._injector=B(qt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof ey;if(!this._injector.get(rf).done)throw!i&&function Yr(e){const n=fe(e)||et(e)||gt(e);return null!==n&&n.standalone}(t),new k(405,!1);let s;s=i?t:this._injector.get($a).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function $P(e){return e.isBoundToModule}(s)?void 0:this._injector.get(Lr),l=s.create(Bt.NULL,[],r||s.selector,a),u=l.location.nativeElement,d=l.injector.get(LC,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),mc(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new k(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;mc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(ff,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>mc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new k(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function mc(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}const YC=new j("",{providedIn:"root",factory:()=>B(Wn).handleError.bind(void 0)});function qP(){const e=B(Ae),n=B(Wn);return t=>e.runOutsideAngular(()=>n.handleError(t))}let ZP=(()=>{class e{constructor(){this.zone=B(Ae),this.applicationRef=B(Ui)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let yc=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=QP}return e})();function QP(e){return function KP(e,n,t){if(Ir(e)&&!t){const r=Ft(e.index,n);return new Wo(r,r)}return 47&e.type?new Wo(n[je],n):null}(rt(),I(),16==(16&e))}class ew{constructor(){}supports(n){return Qa(n)}create(n){return new rO(n)}}const nO=(e,n)=>n;class rO{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||nO}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<nw(r,i,o)?t:r,a=nw(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){const h=f<o.length?o[f]:o[f]=0,y=h+f;u<=y&&y<l&&(o[f]=h+1)}o[s.previousIndex]=u-l}}a!==c&&n(s,a,c)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!Qa(n))throw new k(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function LA(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,i)):n=this._addAfter(new iO(t,r),o,i),n}_verifyReinsertion(n,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,o=n._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const i=null===t?this._itHead:t._next;return n._next=i,n._prev=t,null===i?this._itTail=n:i._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new tw),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new tw),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class iO{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oO{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class tw{constructor(){this.map=new Map}put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new oO,this.map.set(t,r)),r.add(n)}get(n,t){const i=this.map.get(n);return i?i.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function nw(e,n,t){const r=e.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}class rw{constructor(){}supports(n){return n instanceof Map||md(n)}create(){return new sO}}class sO{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let t;for(t=this._mapHead;null!==t;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}diff(n){if(n){if(!(n instanceof Map||md(n)))throw new k(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){const r=n._prev;return t._next=n,t._prev=r,n._prev=t,r&&(r._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,t);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new aO(n);return this._records.set(n,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(r=>t(n[r],r))}}class aO{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function iw(){return new Cc([new ew])}let Cc=(()=>{class e{static#e=this.\u0275prov=z({token:e,providedIn:"root",factory:iw});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||iw()),deps:[[e,new ya,new ma]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new k(901,!1)}}return e})();function ow(){return new us([new rw])}let us=(()=>{class e{static#e=this.\u0275prov=z({token:e,providedIn:"root",factory:ow});constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||ow()),deps:[[e,new ya,new ma]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new k(901,!1)}}return e})();const uO=$C(null,"core",[]);let dO=(()=>{class e{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||e)(W(Ui))};static#t=this.\u0275mod=jn({type:e});static#n=this.\u0275inj=wn({})}return e})(),_f=null;function pr(){return _f}class EO{}const Yt=new j("DocumentToken");let Cf=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=z({token:e,factory:function(){return B(IO)},providedIn:"platform"})}return e})();const MO=new j("Location Initialized");let IO=(()=>{class e extends Cf{constructor(){super(),this._doc=B(Yt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pr().getBaseHref(this._doc)}onPopState(t){const r=pr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=pr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=z({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function wf(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function pw(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function Kn(e){return e&&"?"!==e[0]?"?"+e:e}let Br=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=z({token:e,factory:function(){return B(mw)},providedIn:"root"})}return e})();const gw=new j("appBaseHref");let mw=(()=>{class e extends Br{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??B(Yt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return wf(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Kn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+Kn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+Kn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||e)(W(Cf),W(gw,8))};static#t=this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),AO=(()=>{class e extends Br{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=wf(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Kn(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Kn(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||e)(W(Cf),W(gw,8))};static#t=this.\u0275prov=z({token:e,factory:e.\u0275fac})}return e})(),Df=(()=>{class e{constructor(t){this._subject=new ue,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function xO(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(pw(yw(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Kn(r))}normalize(t){return e.stripTrailingSlash(function kO(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,yw(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Kn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Kn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=Kn;static#t=this.joinWithSlash=wf;static#n=this.stripTrailingSlash=pw;static#r=this.\u0275fac=function(r){return new(r||e)(W(Br))};static#i=this.\u0275prov=z({token:e,factory:function(){return function TO(){return new Df(W(Br))}()},providedIn:"root"})}return e})();function yw(e){return e.replace(/\/index.html$/,"")}const Pf=/\s+/,Mw=[];let hs=(()=>{class e{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=Mw,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Pf):Mw}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Pf):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(Pf).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||e)(x(Cc),x(us),x(Vt),x(zn))};static#t=this.\u0275dir=K({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return e})();class yR{constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pn=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new yR(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),Aw(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Aw(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(x(fn),x(Yn),x(Cc))};static#t=this.\u0275dir=K({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function Aw(e,n){e.context.$implicit=n.item}let ct=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new vR,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Tw("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Tw("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(x(fn),x(Yn))};static#t=this.\u0275dir=K({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class vR{constructor(){this.$implicit=null,this.ngIf=null}}function Tw(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${We(n)}'.`)}let jr=(()=>{class e{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,o]=t.split("."),s=-1===i.indexOf("-")?void 0:ur.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static#e=this.\u0275fac=function(r){return new(r||e)(x(Vt),x(us),x(zn))};static#t=this.\u0275dir=K({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return e})(),GR=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=jn({type:e});static#n=this.\u0275inj=wn({})}return e})();function Ow(e){return"server"===e}let ZR=(()=>{class e{static#e=this.\u0275prov=z({token:e,providedIn:"root",factory:()=>new YR(W(Yt),window)})}return e})();class YR{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function QR(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.supportsScrolling()&&(this.window.history.scrollRestoration=n)}scrollToElement(n){const t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class CN extends EO{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Bf extends CN{static makeCurrent(){!function SO(e){_f||(_f=e)}(new Bf)}onAndCancel(n,t,r){return n.addEventListener(t,r),()=>{n.removeEventListener(t,r)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function wN(){return gs=gs||document.querySelector("base"),gs?gs.getAttribute("href"):null}();return null==t?null:function DN(e){Rc=Rc||document.createElement("a"),Rc.setAttribute("href",e);const n=Rc.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){gs=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function gR(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}(document.cookie,n)}}let Rc,gs=null,SN=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=z({token:e,factory:e.\u0275fac})}return e})();const jf=new j("EventManagerPlugins");let Vw=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new k(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||e)(W(jf),W(Ae))};static#t=this.\u0275prov=z({token:e,factory:e.\u0275fac})}return e})();class Bw{constructor(n){this._doc=n}}const Hf="ng-app-id";let jw=(()=>{class e{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ow(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Hf}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Hf),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Hf,this.appId),s}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||e)(W(Yt),W(Fa),W(Qm,8),W(wi))};static#t=this.\u0275prov=z({token:e,factory:e.\u0275fac})}return e})();const $f={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Uf=/%COMP%/g,AN=new j("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function $w(e,n){return n.map(t=>t.replace(Uf,e))}let Uw=(()=>{class e{constructor(t,r,i,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Ow(a),this.defaultRenderer=new Gf(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===rn.ShadowDom&&(r={...r,encapsulation:rn.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof zw?i.applyToHost(t):i instanceof zf&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case rn.Emulated:o=new zw(c,l,r,this.appId,u,s,a,d);break;case rn.ShadowDom:return new PN(c,l,t,r,s,a,this.nonce,d);default:o=new zf(c,l,r,u,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(W(Vw),W(jw),W(Fa),W(AN),W(Yt),W(wi),W(Ae),W(Qm))};static#t=this.\u0275prov=z({token:e,factory:e.\u0275fac})}return e})();class Gf{constructor(n,t,r,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS($f[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(Gw(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(Gw(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new k(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;const o=$f[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const i=$f[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(ur.DashCase|ur.Important)?n.style.setProperty(t,r,i&ur.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&ur.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n[t]=r}setValue(n,t){n.nodeValue=t}listen(n,t,r){if("string"==typeof n&&!(n=pr().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(r))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function Gw(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class PN extends Gf{constructor(n,t,r,i,o,s,a,c){super(n,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=$w(i.id,i.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class zf extends Gf{constructor(n,t,r,i,o,s,a,c){super(n,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?$w(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class zw extends zf{constructor(n,t,r,i,o,s,a,c){const l=i+"-"+r.id;super(n,t,r,o,s,a,c,l),this.contentAttr=function TN(e){return"_ngcontent-%COMP%".replace(Uf,e)}(l),this.hostAttr=function kN(e){return"_nghost-%COMP%".replace(Uf,e)}(l)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}let ON=(()=>{class e extends Bw{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||e)(W(Yt))};static#t=this.\u0275prov=z({token:e,factory:e.\u0275fac})}return e})();const Ww=["alt","control","meta","shift"],RN={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},NN={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let FN=(()=>{class e extends Bw{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Ww.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=RN[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ww.forEach(s=>{s!==i&&(0,NN[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||e)(W(Yt))};static#t=this.\u0275prov=z({token:e,factory:e.\u0275fac})}return e})();const jN=$C(uO,"browser",[{provide:wi,useValue:"browser"},{provide:Ym,useValue:function LN(){Bf.makeCurrent()},multi:!0},{provide:Yt,useFactory:function BN(){return function w1(e){Iu=e}(document),document},deps:[]}]),HN=new j(""),Yw=[{provide:gc,useClass:class bN{addToWindow(n){Me.getAngularTestability=(r,i=!0)=>{const o=n.findTestabilityInTree(r,i);if(null==o)throw new k(5103,!1);return o},Me.getAllAngularTestabilities=()=>n.getAllTestabilities(),Me.getAllAngularRootElements=()=>n.getAllRootElements(),Me.frameworkStabilizers||(Me.frameworkStabilizers=[]),Me.frameworkStabilizers.push(r=>{const i=Me.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(n,t,r){return null==t?null:n.getTestability(t)??(r?pr().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:LC,useClass:cf,deps:[Ae,lf,gc]},{provide:cf,useClass:cf,deps:[Ae,lf,gc]}],Qw=[{provide:Fu,useValue:"root"},{provide:Wn,useFactory:function VN(){return new Wn},deps:[]},{provide:jf,useClass:ON,multi:!0,deps:[Yt,Ae,wi]},{provide:jf,useClass:FN,multi:!0,deps:[Yt]},Uw,jw,Vw,{provide:ny,useExisting:Uw},{provide:class KR{},useClass:SN,deps:[]},[]];let $N=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:Fa,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||e)(W(HN,12))};static#t=this.\u0275mod=jn({type:e});static#n=this.\u0275inj=wn({providers:[...Qw,...Yw],imports:[GR,dO]})}return e})(),Kw=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||e)(W(Yt))};static#t=this.\u0275prov=z({token:e,factory:function(r){let i=null;return i=r?new r:function GN(){return new Kw(W(Yt))}(),i},providedIn:"root"})}return e})();typeof window<"u"&&window;var P=function(e){return e[e.Instant=0]="Instant",e[e.Dodge=1]="Dodge",e[e.Engineer=2]="Engineer",e[e.Repair=3]="Repair",e[e.Flying=4]="Flying",e[e.Slow=5]="Slow",e[e.Fast=6]="Fast",e[e.Pacifist=7]="Pacifist",e[e.Sentry=8]="Sentry",e[e.Siege=9]="Siege",e[e.Momentum=10]="Momentum",e[e.Sharpen=11]="Sharpen",e[e.Armorer=12]="Armorer",e[e.Rascal=13]="Rascal",e[e.Medic=14]="Medic",e[e.Regenerate=15]="Regenerate",e}(P||{}),D=function(e){return e[e.Sun=0]="Sun",e[e.Earth=1]="Earth",e[e.Sky=2]="Sky",e[e.Neptune=3]="Neptune",e[e.MoonAndStars=4]="MoonAndStars",e[e.Colorless=5]="Colorless",e[e.Any=6]="Any",e}(D||{}),re=function(e){return e[e.None=0]="None",e[e.Attackers=1]="Attackers",e[e.Blockers=2]="Blockers",e[e.Main1=3]="Main1",e[e.Main2=4]="Main2",e[e.Start=5]="Start",e[e.DrawStep=6]="DrawStep",e[e.EndTurn=7]="EndTurn",e[e.DrawCard=8]="DrawCard",e[e.Attack=9]="Attack",e[e.Block=10]="Block",e[e.Unblocked=11]="Unblocked",e[e.Blocked=12]="Blocked",e[e.Enters=13]="Enters",e[e.Dies=14]="Dies",e[e.Awake=15]="Awake",e[e.Income=16]="Income",e[e.Exiled=17]="Exiled",e[e.Discarded=18]="Discarded",e[e.Mill=19]="Mill",e[e.WallRepair=20]="WallRepair",e[e.Any=21]="Any",e[e.SpellCast=22]="SpellCast",e[e.CreatureCast=23]="CreatureCast",e[e.MineCase=24]="MineCase",e[e.FortificationCast=25]="FortificationCast",e}(re||{}),g=function(e){return e[e.Any=0]="Any",e[e.Opponent=1]="Opponent",e[e.Self=2]="Self",e}(g||{}),O=function(e){return e[e.Creature=0]="Creature",e[e.Tech=1]="Tech",e[e.Mine=2]="Mine",e[e.Wall=3]="Wall",e[e.Attachment=4]="Attachment",e[e.Spell=5]="Spell",e[e.Player=6]="Player",e[e.Hoard=7]="Hoard",e[e.Permanent=8]="Permanent",e[e.Fortification=9]="Fortification",e[e.Any=10]="Any",e}(O||{}),G=function(e){return e[e.Single=0]="Single",e[e.Multiple=1]="Multiple",e[e.All=2]="All",e}(G||{}),q=function(e){return e[e.start=0]="start",e[e.main=1]="main",e[e.main2=2]="main2",e[e.attackers=3]="attackers",e[e.blockers=4]="blockers",e[e.end=5]="end",e[e.combatResults=6]="combatResults",e[e.combatCleanup=7]="combatCleanup",e}(q||{}),v=function(e){return e[e.hand=0]="hand",e[e.play=1]="play",e[e.discard=2]="discard",e[e.exile=3]="exile",e[e.deck=4]="deck",e[e.any=5]="any",e}(v||{}),F=function(e){return e[e.Gold=0]="Gold",e[e.Ruby=1]="Ruby",e[e.Emerald=2]="Emerald",e[e.Sapphire=3]="Sapphire",e[e.Topaz=4]="Topaz",e[e.LionEye=5]="LionEye",e}(F||{}),tD=function(e){return e[e.All=0]="All",e[e.PickOne=1]="PickOne",e[e.Random=2]="Random",e}(tD||{});class mn{constructor(n,t,r,i,o,s,a,c,l){this.effects=[],this.allowedTargets=[O.Creature],this.allowedZones=[],this.targetNumber=1,this.possibleTargets=[],this.target=null,this.allEffectsToOne=!1,this.name=n,this.description=t,this.allowedTargets=r,this.targetNumber=s,this.effects=a,this.allowedZones=o,this.allowedPlayer=i,this.cardService=c,void 0!==l&&(this.allEffectsToOne=l)}checkConditions(){return!0}undoEffects(){throw new Error("Method not implemented.")}checkTargetValid(n){return this.allowedTargets.includes(n)}setTargetByIndex(n){if(this.possibleTargets.length>0&&n<this.possibleTargets.length&&n>=0){let t=this.possibleTargets[n];this.checkTargetValid(t.type)&&(this.target=t)}}doEffects(){for(let n=0;n<this.effects.length;n++)this.effects[n].doEffect()}}class lt{constructor(n,t,r,i){this.zoneAffected=v.play,this.effects=n,this.name=t,this.cardService=r,this.description=i}checkConditions(){return!0}undoEffects(){throw new Error("Method not implemented.")}doEffects(){for(let n=0;n<this.effects.length;n++)this.effects[n].doEffect()}undoAll(){for(let n=0;n<this.effects.length;n++)this.effects[n].undoEffect()}}class ut{constructor(n,t,r,i,o,s,a){this.triggerZones=[],this.effects=n,this.name=t,this.description=r,this.triggerTimes=i,this.cardService=o,this.controller=void 0===s?g.Any:s,void 0===a?this.triggerZones.push(v.play):this.triggerZones=a}checkConditions(){return!0}undoEffects(){throw new Error("Method not implemented.")}checkTriggers(n,t){void 0===t&&(t=g.Any);let r=this.controller===t||this.controller===g.Any,i=this.triggerTimes.includes(n);r&&i&&this.doEffects()}doEffects(){for(let n=0;n<this.effects.length;n++)this.effects[n].doEffect()}}class Oe{constructor(n,t,r,i){this.effects=n,this.name=t,this.description=r,this.cardService=i}checkConditions(){return!0}undoEffects(){throw new Error("Method not implemented.")}doEffects(){for(let n=0;n<this.effects.length;n++)this.effects[n].doEffect()}}class nD{constructor(n,t,r,i,o){this.display=!1,this.effects=n,this.name=t,this.description=r,this.cardService=i,this.cards=o}checkConditions(){return!0}selectCard(n){return this.display=!1,this.cards[n]}doEffects(){this.display=!0,this.cardService.pickAbility.push(this)}undoEffects(){throw new Error("Method not implemented.")}}function Ne(e,n){return Math.floor(Math.random()*(n-e))+e}class T{constructor(n,t,r,i,o,s){this.gold=1,this.ruby=0,this.sapphire=0,this.emerald=0,this.lionsEye=0,this.topaz=0,void 0!==n&&(this.gold=n),void 0!==t&&(this.ruby=t),void 0!==r&&(this.sapphire=r),void 0!==i&&(this.emerald=i),void 0!==o&&(this.lionsEye=o),void 0!==s&&(this.topaz=s)}getTotalCost(){return this.gold+this.ruby+this.emerald+this.sapphire+this.lionsEye+this.topaz}getGemCost(){return this.getTotalCost()-this.gold}canAfford(n){return this.gold>=n.gold&&this.ruby>=n.ruby&&this.sapphire>=n.sapphire&&this.emerald>=n.emerald&&this.lionsEye>=n.lionsEye&&this.topaz>=n.topaz}subtractCost(n){this.canAfford(n)&&(this.gold-=n.gold,this.ruby-=n.ruby,this.emerald-=n.emerald,this.sapphire-=n.sapphire,this.lionsEye-=n.lionsEye,this.topaz-=n.topaz)}clear(){this.gold=0,this.emerald=0,this.ruby=0,this.sapphire=0,this.lionsEye=0,this.topaz=0}resetIncome(){this.clear(),this.gold=1}resetStarting(){this.clear(),this.gold=3}addBag(n){this.gold+=n.gold,this.ruby+=n.ruby,this.emerald+=n.emerald,this.lionsEye+=n.lionsEye,this.sapphire+=n.sapphire,this.topaz+=n.topaz}addSingle(n,t){switch(n){case F.Gold:this.gold+=t;break;case F.Emerald:this.emerald+=t;break;case F.Ruby:this.ruby+=t;break;case F.LionEye:this.lionsEye+=t;break;case F.Sapphire:this.sapphire+=t;break;case F.Topaz:this.topaz+=t;break;default:this.gold+=t}}getValue(n){switch(n){case F.Gold:return this.gold;case F.Emerald:return this.emerald;case F.Ruby:return this.ruby;case F.LionEye:return this.lionsEye;case F.Sapphire:return this.sapphire;case F.Topaz:return this.topaz;default:return this.gold}}isEmpty(){return this.gold<=0&&this.ruby<=0&&this.sapphire<=0&&this.emerald<=0&&this.lionsEye<=0&&this.topaz<=0}getImage(n){let t="assets/";switch(n){case F.Gold:return t+"Coin.png";case F.Emerald:return t+"Emerald.png";case F.Ruby:return t+"Ruby.png";case F.LionEye:return t+"eye.png";case F.Sapphire:return t+"Saphire.png";case F.Topaz:return t+"topaz.png"}}getTypes(){let n=[];return this.gold>0&&n.push(F.Gold),this.ruby>0&&n.push(F.Ruby),this.emerald>0&&n.push(F.Emerald),this.topaz>0&&n.push(F.Topaz),this.lionsEye>0&&n.push(F.LionEye),this.sapphire>0&&n.push(F.Sapphire),n}}class qf{getFaction(n){switch(n){case F.Gold:return D.Colorless;case F.Emerald:return D.Earth;case F.Ruby:return D.Sun;case F.LionEye:return D.MoonAndStars;case F.Sapphire:return D.Neptune;case F.Topaz:return D.Sky;default:return D.Colorless}}getGem(n){switch(n){case D.Colorless:return F.Gold;case D.Earth:return F.Emerald;case D.Sky:return F.Topaz;case D.MoonAndStars:return F.LionEye;case D.Neptune:return F.Sapphire;case D.Sun:return F.Ruby;default:return F.Gold}}}class rD{copyBag(n){return new T(n.gold,n.ruby,n.sapphire,n.emerald,n.lionsEye,n.topaz)}copyCreature(n){return new N(n.hp,n.hp,n.speed,n.name,this.copyBag(n.cost),n.image,n.text,n.instant,n.owner,n.zone,n.faction,n.abilities,n.keywords,n.isMinion)}copySpell(n){return new Ke(n.name,n.cost,n.image,n.text,n.abilities,n.instant,n.owner,n.zone,n.faction)}}class dt{constructor(n,t,r,i,o,s,a,c,l){this.displayCards=!1,this.playerTargets=[],this.random=!1,this.cardService=n,this.quan=t,this.types=r,this.zones=i,this.controller=o,this.targetsPlayer=s,this.targetsCards=a,void 0!==c&&(this.random=c),this.targetsWall=void 0!==l&&l}getWall(){let n=[],t=this.cardService.playerService.getPlayer(g.Any);for(let r=0;r<t.length;r++)n.push(t[r].wall);return n}getPlayer(){return this.playerTargets=[],this.targetsPlayer&&(this.playerTargets=this.cardService.playerService.getPlayer(G.Single===this.quan?this.controller:g.Any)),this.playerTargets}getRandomTargetSingle(){let n=[],t=[];this.targetsPlayer&&(n=this.getPlayer()),this.targetsCards&&(t=this.cardService.getTargets(this));let r=[...n,...t];console.log(r);let i=Ne(0,r.length-1);return console.log(r[i]),r[i]}isValidTarget(n){if(n instanceof N||n instanceof Jf){let t=n,r=this.zones.includes(t.zone),i=this.types.includes(t.type);return r&&i&&(t.owner===this.controller||this.controller===g.Any)}if(n instanceof Jt){if(this.types.includes(O.Player)&&(this.controller===g.Self||this.controller===g.Any))return!0}else if(n instanceof Zi&&this.types.includes(O.Player)&&(this.controller===g.Opponent||this.controller===g.Any))return!0;return!1}getTarget(){let n=[];if(this.targetsCards){switch(n=this.cardService.getTargets(this),this.quan){case G.Single:case G.Multiple:this.displayCards=!0}this.targetsPlayer&&this.getPlayer()}return n}}class On{constructor(n){this.cardDb=[],this.keywordMapper=new KN,this.cardService=n}generateCardByName(n){return this.cardDb.find(t=>t.name===n)}getCard(n){}copyCard(n,t){}getDeck(n){}getMinesBulk(n,t){let r=[];for(let i=0;i<t;i++)r.push(this.generateBasicMine(n));return r}generateBasicMine(n){let t,r,i;switch(n){case F.Gold:t=new T(1,0,0,0,0,0),r=D.Colorless;break;case F.Emerald:t=new T(0,0,0,1,0,0),r=D.Earth;break;case F.Ruby:t=new T(0,1,0,0,0,0),r=D.Sun;break;case F.LionEye:t=new T(0,0,0,0,1,0),r=D.MoonAndStars;break;case F.Sapphire:t=new T(0,0,1,0,0,0),r=D.Neptune;break;case F.Topaz:t=new T(0,0,0,0,0,1),r=D.Sky;break;default:t=new T(1,0,0,0,0,0),r=D.Colorless}i=`add 1 ${F[n]} to your gem bag.`;let o=new Oe([new ms(n,1,this.cardService)],"Add Gem","",this.cardService);return new Jf(F[n]+" Mine",new T(0,0,0,0,0,0),t,"",i,g.Self,v.deck,r,[o])}generateRandomCreature(n,t,r,i){let o=this.rollRandomNumber(1,t+1),s=this.rollRandomNumber(0,t+2)+1,a=this.rollRandomNumber(1,t+2),c=Math.ceil(.2*t),l=this.rollRandomNumber(c,t),d=new T(t-l,0,0,0,0,0);d.addSingle(n,l);let f=new qf;return new N(s,o,a,"",d,"","",!1,r,i,f.getFaction(n))}genMultipleForFaction(n,t,r,i,o){let s=[];for(let a=0;a<o;a++)s.push(this.generateRandomCreatureForFaction(n,t,r,i));return s}generateRandomCreatureForFaction(n,t,r,i){let o=this.generateGemBag(t,n),a=(o.getGemCost(),n),c=1,l=n,u=1,d=n,h=this.generateKeywords(t,n,!1);switch(t){case D.Sun:u+=2,d+=2,a--;break;case D.Earth:a+=2,c+=2,d-=2;break;case D.Colorless:a+=1,d+=1,l+=1}let y=this.rollRandomNumber(u,l),_=this.rollRandomNumber(c,a),E=this.rollRandomNumber(1,d);y<=0&&(y=1),_<=0&&(_=1),E<=0&&(E=1);let A=new N(_,y,E,"Test ",o,"","",!1,r,i,t,[],h);for(let S=0;S<h.length;S++)A.text+=P[h[S]],S<h.length-1&&(h[S]===P.Repair&&(A.repairAmount=Ne(n-1,n+1),A.text+=A.repairAmount),A.text+=", ");return h.length<=0&&(A.text="No abilities"),A}generateKeywords(n,t,r){let i=[];if(r){let o=Object.values(P),s=Ne(0,o.length-1);for(let a=0;a<s;a++){let c=Ne(0,o.length);i.includes(o[c])?a--:i.push(o[c])}}else{let o=this.keywordMapper.getKeywords(n),s=t+this.rollRandomNumber(-1,1);s<0&&(s=0);for(let a=0;a<s;a++){let l=o[this.rollRandomNumber(0,o.length-1)];i.includes(l)||i.push(l)}}return i}generateAiMinion(n,t,r){let i=this.rollRandomNumber(1,t+1),o=this.rollRandomNumber(1,t+2),s=this.rollRandomNumber(0,t+2),a=new T(0,0,0,0,0,0),c=new qf;return new N(o,i,s,"Minion",a,"","",!1,g.Opponent,r,c.getFaction(n),[],[],!0)}generateAiBasicMinion(n,t,r){let i=new T(0,0,0,0,0,0),o=new qf;return new N(t,t,t,"Minion",i,"","",!1,g.Opponent,r,o.getFaction(n),[],[],!0)}generateGemBag(n,t){let r,i=this.rollRandomNumber(1,t),o=t-i;switch(n){case D.Colorless:r=new T(i+o,0,0,0,0,0);break;case D.Earth:r=new T(i,0,0,o,0,0);break;case D.Sun:r=new T(i,o,0,0,0,0);break;case D.Sky:r=new T(i,0,0,0,o,0);break;case D.Neptune:r=new T(i,0,o,0,0,0);break;case D.MoonAndStars:r=new T(i,0,0,0,0,o);break;default:r=new T(i+t,0,0,0,0,0)}return r}rollRandomNumber(n,t){return Math.floor(Math.random()*(t-n))+n}}class Zf{constructor(n,t){this.faction=n,this.keywords=t}}class KN{constructor(){this.items=[],Object.keys(P),this.items=[new Zf(D.Sun,[P.Fast,P.Dodge,P.Momentum,P.Sharpen,P.Siege,P.Flying,P.Rascal]),new Zf(D.Earth,[P.Armorer,P.Dodge,P.Engineer,P.Siege,P.Repair]),new Zf(D.Colorless,[P.Armorer,P.Dodge,P.Engineer,P.Fast,P.Flying,P.Instant,P.Medic,P.Momentum,P.Repair,P.Siege])]}getKeywords(n){let t=[];return t=this.items.filter(i=>i.faction===n)[0].keywords,t}}class yn{constructor(n,t,r,i,o,s,a,c){this.name=n,this.speedDiff=t,this.hpDiff=r,this.attackDiff=i,this.cardService=o,void 0===c&&(c=!1),this.targeting=new dt(o,a,[O.Creature],[v.play],s,!1,!0,c),this.controller=s}undoEffectSingle(n){let t=!n.currentEffects.includes(this),r=this.targeting.isValidTarget(n);if(t&&r){n.attack-=this.attackDiff,n.hp-=this.hpDiff,n.speed-=this.speedDiff;let i=n.currentEffects.indexOf(this);n.currentEffects.splice(i,1)}}doEffectSingle(n){let t=!n.currentEffects.includes(this),r=this.targeting.isValidTarget(n);t&&r&&(n.attack+=this.attackDiff,n.hp+=this.hpDiff,n.speed+=this.speedDiff,n.currentEffects.push(this),n.hp<=0&&this.cardService.setCardZoneByCard(n,v.discard))}doEffect(){let n=this.targeting.getTarget();if(this.targeting.quan===G.All)for(let t=0;t<n.length;t++)this.doEffectSingle(n[t])}undoEffect(){let n=this.cardService.grabAffected(this);if(console.log(n),this.targeting.quan===G.All){let t=n;for(let r=0;r<t.length;r++)this.undoEffectSingle(t[r])}}}class XN{constructor(n,t,r,i){this.name="Kill Creature",this.validTypes=[O.Creature],this.validController=t,this.cardService=n,this.targeting=new dt(this.cardService,r,i,[v.play],t,!1,!0)}undoEffectSingle(n){throw new Error("Method not implemented.")}doEffectSingle(n){this.targeting.isValidTarget(n)&&this.cardService.setCardZoneByCard(n,v.discard)}undoEffect(){throw new Error("Method not implemented.")}doEffect(){let n=this.targeting.getTarget();for(let t=0;t<n.length;t++)this.doEffectSingle(n[t])}}class Yf{constructor(n,t,r,i){this.name="Make creature",this.amount=1,this.objCopier=new rD,this.controller=n,this.cardService=t,this.creatureToMake=r,void 0!==i&&(this.amount=i),this.targeting=new dt(this.cardService,G.Single,[O.Player],[v.play],n,!0,!1)}undoEffectSingle(n){throw new Error("Method not implemented.")}doEffectSingle(n){let t=this.objCopier.copyCreature(this.creatureToMake);t.zone=v.play,this.cardService.cardList.push(t)}grabUnaffected(){throw new Error("Method not implemented.")}doEffect(){for(let n=0;n<this.amount;n++)this.doEffectSingle()}undoEffect(){throw new Error("Method not implemented.")}}class JN{constructor(n,t,r,i,o,s){this.objCopier=new rD,this.name=n,this.targeting=new dt(t,G.Single,[O.Player],[v.play],o,!0,!1),this.cardService=t,this.spellToMake=r,this.destinationZone=i,this.player=o,this.amount=void 0===s?1:s}doEffect(){for(let n=0;n<this.amount;n++)this.doEffectSingle(1)}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(n){let t=this.objCopier.copySpell(this.spellToMake);t.zone=this.destinationZone,t.owner=this.player,this.cardService.cardList.push(t)}undoEffectSingle(n){throw new Error("Method not implemented.")}}class ms{constructor(n,t,r){this.name="Add Gem",this.manaType=n,this.amount=t,this.cardService=r,this.targeting=new dt(this.cardService,G.Single,[O.Player],[],g.Self,!0,!1)}undoEffectSingle(n){throw new Error("Method not implemented.")}doEffectSingle(n){n.gembag.addSingle(this.manaType,this.amount)}grabUnaffected(){throw new Error("Method not implemented.")}doEffect(){console.log("hi");let n=this.targeting.getPlayer();n[0]instanceof Jt&&n[0].gembag.addSingle(this.manaType,this.amount)}undoEffect(){throw new Error("Method not implemented.")}}class eF{constructor(n,t,r){this.name=n,this.cardService=t,this.targeting=new dt(this.cardService,G.Single,[O.Player],[v.any],g.Self,!0,!1,!1),this.manaType=r}doEffect(){let n=new On(this.cardService);if(this.targeting.getPlayer()[0]instanceof Jt){let r=n.generateBasicMine(this.manaType);this.cardService.cardList.push(r)}}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(n){throw new Error("Method not implemented.")}undoEffectSingle(n){throw new Error("Method not implemented.")}}class tF{constructor(n,t,r){this.name="Add Random Gem",this.possibleManaTypes=n,this.amount=t,this.cardService=r,this.targeting=new dt(this.cardService,G.Single,[O.Player],[],g.Self,!0,!1)}undoEffectSingle(n){throw new Error("Method not implemented.")}doEffectSingle(n){throw new Error("Method not implemented.")}grabUnaffected(){throw new Error("Method not implemented.")}doEffect(){let n=this.targeting.getPlayer();if(n[0]instanceof Jt){let t=this.rollRandomNumber(0,this.possibleManaTypes.length);n[0].gembag.addSingle(this.possibleManaTypes[t],this.amount)}}undoEffect(){throw new Error("Method not implemented.")}rollRandomNumber(n,t){return Math.floor(Math.random()*(t-n))+n}}class nF{constructor(n,t,r,i){this.name="MoveZones",this.validController=t,this.cardService=n,this.destinationZone=i,this.targeting=new dt(this.cardService,r,[O.Any],[v.play],t,!1,!0)}doEffect(){let n=this.targeting.getTarget();for(let t=0;t<n.length;t++)this.doEffectSingle(n[t])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(n){this.targeting.isValidTarget(n)&&this.cardService.setCardZoneByCard(n,this.destinationZone)}undoEffectSingle(n){throw new Error("Method not implemented.")}}class rF{constructor(n,t,r){this.name="Slow",this.cardService=n,this.targeting=new dt(n,r,[O.Creature],[v.play],g.Any,!1,!0)}doEffect(){let n=this.targeting.getTarget();for(let t=0;t<n.length;t++)this.doEffectSingle(n[t])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(n){n instanceof N&&n.setSlow()}undoEffectSingle(n){throw new Error("Method not implemented.")}}class Wi{constructor(n,t,r,i,o,s,a){this.amount=1,this.name=`Deal ${this.amount} Damage`,this.amount=n,this.cardService=t,void 0===o&&(o=!1),void 0===s&&(s=!1),void 0===a&&(a=!0),this.targeting=new dt(t,r,[O.Player,O.Creature],[v.play],i,s,a,o)}doEffect(){if(this.targeting.quan===G.Single){if(this.targeting.random){let n=this.targeting.getRandomTargetSingle();this.doEffectSingle(n)}else if(this.targeting.targetsPlayer&&!this.targeting.targetsCards){let n=this.targeting.getPlayer();for(let t=0;t<n.length;t++)this.doEffectSingle(n[t])}}else if(this.targeting.quan===G.All){let n=this.targeting.getTarget();for(let t=0;t<n.length;t++)this.doEffectSingle(n[t])}}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(n){if(console.log("hi"),n instanceof N){let t=n;t.hp-=this.amount,t.isAlive()||this.cardService.setCardZoneByCard(t,v.discard)}if(n instanceof Jt&&(console.log(n),n.takeDamage(this.amount)),n instanceof Xf){let t=n;t.hp-=this.amount,t.hp<0&&(t.hp=0)}}undoEffectSingle(n){throw new Error("Method not implemented.")}}class Xt{constructor(n,t,r,i,o){this.amount=1,this.name=n,this.cardService=t,this.targeting=new dt(this.cardService,r,[O.Player],[v.play],i,!0,!1),void 0!==o&&(this.amount=o)}doEffect(){let n=this.targeting.getPlayer();for(let t=0;t<n.length;t++)this.doEffectSingle(n[0])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(n){if(n instanceof Jt)n.drawCards(this.amount);else if(n instanceof Zi){let t=n;for(let r=0;r<this.amount;r++)t.playCards()}}undoEffectSingle(n){throw new Error("Method not implemented.")}}class iF{constructor(n,t,r,i){this.name=n,this.cardService=t,this.targeting=new dt(this.cardService,i,[O.Creature],[v.play],r,!1,!0)}doEffect(){let n=this.targeting.getTarget();for(let t=0;t<n.length;t++)this.doEffectSingle(n[t])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(n){n instanceof N&&n.heal()}undoEffectSingle(n){throw new Error("Method not implemented.")}}class oF{constructor(n,t,r,i){this.name=n,this.cardService=t,this.targeting=new dt(this.cardService,i,[O.Creature],[v.play],g.Self,!1,!0)}doEffect(){}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(n){n instanceof N&&(n.firstTurn=!1)}undoEffectSingle(n){}}class Qf{constructor(n,t,r,i,o,s){this.name=n,this.cardService=t,this.targeting=new dt(this.cardService,r,[O.Creature],i,o,!1,!0),this.keywords=s}doEffect(){let n=this.targeting.getTarget();for(let t=0;t<n.length;t++)this.doEffectSingle(n[t])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(n){if(n instanceof N){let t=n;for(let r=0;r<this.keywords.length;r++){let i=this.keywords[r];t.keywords.includes(i)||t.keywords.push(i)}}}undoEffectSingle(n){throw new Error("Method not implemented.")}}class iD{constructor(n,t,r,i){this.name=n,this.cardService=t,this.amount=r,this.targeting=new dt(this.cardService,G.Single,[O.Player],[v.play],i,!0,!1)}doEffect(){throw new Error("Method not implemented.")}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(n){n instanceof Jt&&(n.hp+=this.amount)}undoEffectSingle(n){n instanceof Jt&&(n.hp-=this.amount)}}class sF{constructor(n,t,r,i){this.name=n,this.cardService=r,this.effects=t,this.targeting=i}doEffect(){let n=this.targeting.getTarget();for(let t=0;t<n.length;t++)this.doEffectSingle(n[t])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(n){for(let t=0;t<this.effects.length;t++)this.effects[t].doEffectSingle(n)}undoEffectSingle(n){throw new Error("Method not implemented.")}}class aF{constructor(n,t){this.name=n,this.cardService=t,this.targeting=new dt(this.cardService,G.Single,[O.Player],[],g.Self,!0,!1)}doEffect(){this.targeting.getPlayer()[0].startingGold++}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(n){throw new Error("Method not implemented.")}undoEffectSingle(n){throw new Error("Method not implemented.")}}var ft=function(e){return e[e.Common=0]="Common",e[e.Uncommon=1]="Uncommon",e[e.Rare=2]="Rare",e[e.SuperRare=3]="SuperRare",e}(ft||{});class qi{constructor(n,t,r,i,o,s,a,c){if(this.abilities=[],this.targeting={},this.cost=0,this.image="",this.description="",this.name=n,this.image=r,this.description=i,this.cardService=o,void 0!==c&&(this.targeting=c),this.rarity=t,void 0!==s&&(this.abilities=s),void 0!==a)this.cost=a;else switch(t){case ft.Common:this.cost=Ne(50,100);break;case ft.Uncommon:this.cost=Ne(75,130);break;case ft.Rare:this.cost=Ne(100,200);break;case ft.SuperRare:this.cost=Ne(150,250)}}applyInitialEffects(){let n=this.abilities.filter(t=>t instanceof Oe);for(let t=0;t<n.length;t++)n[t].doEffects()}applyTriggeredEffects(n){}canBuy(n){return n>=this.cost}}class Kf{constructor(n){this.relics=[],console.log(n),this.cardService=n,this.cardGen=new On(n);let t=new yn("Buff",1,1,1,n,g.Self,G.All),r=new lt([t],"Buff",n,""),i=new qi("Buff",ft.Common,"test.png","All your creatures get +1/+1/+1",n,[r]);this.relics.push(i);let o=new N(1,1,1,"Spider",new T(1),"","",!1,g.Self,v.any,D.Earth,[],[],!0),s=new Yf(g.Self,n,o,1),a=new ut([s],"Spawn Spider","At the start of your turn, make a 1/1/1 spider",[re.Start],n,g.Self),c=new qi("Swarm Amulet",ft.Uncommon,"amulet.png","At the start of your turn, create a 1/1/1 spider",n,[a]);this.relics.push(c);let l=new Qf("",n,G.All,[v.play],g.Self,[P.Momentum]),u=new lt([l],"",n,""),d=new qi("Bowling Ball",ft.Rare,"bowlingBall.png","At the start of your turn, all your creatures gain 1 speed",n,[u]);this.relics.push(d);let f=new Qf("",n,G.All,[v.play],g.Self,[P.Armorer,P.Pacifist,P.Regenerate]),h=new lt([f],"",n,""),y=new qi("Plate of Peace",ft.SuperRare,"plate.png","At the start of your turn all your creatures gain 1 more hp and then heal to max hp. Creatures you control may not attack",n,[h]);this.relics.push(y);let _=new Xt("",n,G.Single,g.Self,2),E=new Oe([_],"","",n),A=new Ke("Scrying Report",new T(4),"","Draw 2 Cards",[E],!1,g.Self,v.any,D.Colorless),S=new JN("",n,A,v.hand,g.Self),$=new ut([S],"","",[re.Start],n,g.Self,[v.play]),U=new qi("Monocle of Insight",ft.Uncommon,"monocle.png","At the start of your turn, add a 4 gold cost draw spell to your hand",n,[$]);this.relics.push(U);let ae=new aF("",n),Xe=new Oe([ae],"","",n);new qi("Lucky Coin",ft.Common,"luckyCoin.png","Start each battle with one extra gold",n,[Xe])}getRelicByIndex(n){return this.relics[n]}getRelicsByRarity(n){return this.relics.filter(t=>t.rarity===n)}getAllRelics(){return this.relics}getRandomRelic(n){let t;return t=void 0!==n?this.getRelicsByRarity(n):this.getAllRelics(),t[this.cardGen.rollRandomNumber(0,t.length)]}}class ys{convertToCreature(n){return n}convertToMine(n){return n}convertToSpell(n){return n}convertToTech(n){return n}}class oD{constructor(n,t,r,i,o,s,a,c,l){this.type=O.Any,this.hover=!1,this.turned=!1,this.instant=!1,this.currentEffects=[],this.targetableCard=!1,this.name=n,this.cost=t,this.image=r,this.text=i,this.abilities=void 0!==c?c:[],this.rarity=void 0===l?ft.Common:l,this.owner=o,this.zone=s,this.faction=a}hasTargetedAbility(){return this.abilities.filter(t=>t instanceof mn).length>0}hasStaticAbility(){return this.abilities.filter(t=>t instanceof lt).length>0}getStaticAbilities(){return this.abilities.filter(n=>n instanceof lt)}processAbilities(n){for(let t=0;t<this.abilities.length;t++){let r=this.abilities[t];r instanceof lt?n.intialApplyStaticAbilities(r):r instanceof Oe&&r.doEffects()}}shouldDie(){return!0}}class N{constructor(n,t,r,i,o,s,a,c,l,u,d,f,h,y,_){this.hover=!1,this.type=O.Creature,this.turned=!1,this.attacking=!1,this.blocking=!1,this.blocked=!1,this.selected=!1,this.instant=!1,this.awake=!0,this.firstTurn=!0,this.currentEffects=[],this.keywords=[],this.repairAmount=0,this.isMinion=!1,this.resist=0,this.dodgeAmount=0,this.targetableCard=!1,this.rarity=void 0===_?ft.Common:_,this.attack=t,this.baseAttack=t,this.hp=n,this.baseHp=n,this.speed=r,this.baseSpeed=r,this.name=i,this.cost=o,this.image=s,this.text=a,this.abilities=void 0!==f?f:[],this.keywords=void 0!==h?h:[],this.keywords.includes(P.Slow)&&(this.speed=0),this.keywords.includes(P.Fast)&&(this.firstTurn=!1),this.instant=c,this.owner=l,this.zone=u,this.faction=d,void 0!==y&&(this.isMinion=y)}hasStaticAbility(){return this.abilities.filter(t=>t instanceof lt).length>0}getStaticAbilities(){return this.abilities.filter(n=>n instanceof lt)}shouldDie(){return this.hp>0}resetStats(){this.hp=this.baseHp,this.attack=this.baseAttack,this.speed=this.baseSpeed}heal(){this.hp<this.baseHp&&(this.hp=this.baseHp)}processAbilities(n){for(let t=0;t<this.abilities.length;t++){let r=this.abilities[t];r instanceof lt?n.intialApplyStaticAbilities(r):r instanceof Oe&&r.doEffects()}}hasTargetedAbility(){return this.abilities.filter(t=>t instanceof mn).length>0}setSlow(){this.speed=0,this.keywords.push(P.Slow)}isAlive(){return this.hp>0}resetHp(){this.hp=this.baseHp}addEffect(n){throw new Error("Method not implemented.")}removeEffect(n){throw new Error("Method not implemented.")}runEffects(){}canBlock(){return!1===this.turned&&!1===this.blocking}}class Ke extends oD{constructor(n,t,r,i,o,s,a,c,l){super(n,t,r,i,a,c,l,o),this.type=O.Spell,this.targets=[],this.text=i,this.instant=s}shouldDie(){return!0}runEffects(n){for(let t=0;t<this.abilities.length;t++);}resolve(){}}class Xf{constructor(n){this.hp=30,this.alive=!0,this.type=O.Wall,this.hp=n}isAlive(){return this.alive=this.hp>0,this.alive}takeDamage(n){this.hp-=n,this.hp<0&&(this.hp=0),this.isAlive()}}class cF extends oD{constructor(n,t,r,i,o,s,a,c){super(n,t,r,i,o,s,a,c),this.type=O.Fortification}wallIsAlive(n){return n.playerService.getPlayer(this.owner)[0].wall.hp>0}runEffects(){for(let n=0;n<this.abilities.length;n++)this.abilities[n].doEffects()}undoEffects(){for(let n=0;n<this.abilities.length;n++)this.abilities[n].undoEffects()}}class Jf{constructor(n,t,r,i,o,s,a,c,l,u){this.type=O.Mine,this.hover=!1,this.turned=!1,this.instant=!1,this.currentEffects=[],this.targetableCard=!1,this.name=n,this.cost=t,this.incomeBag=r,this.image=i,this.text=o,this.abilities=void 0!==l?l:[],this.owner=s,this.zone=a,this.faction=c,this.incomeBag=r,this.rarity=void 0===u?ft.Common:u}hasStaticAbility(){return this.abilities.filter(t=>t instanceof lt).length>0}getStaticAbilities(){return this.abilities.filter(n=>n instanceof lt)}shouldDie(){return!1}processAbilities(n){throw new Error("Method not implemented.")}hasTargetedAbility(){return this.abilities.filter(t=>t instanceof mn).length>0}mine(n){n.gold+=this.incomeBag.gold,n.ruby+=this.incomeBag.ruby,n.emerald+=this.incomeBag.emerald,n.sapphire+=this.incomeBag.sapphire,n.lionsEye+=this.incomeBag.lionsEye,n.topaz+=this.incomeBag.topaz}addEffect(n){throw new Error("Method not implemented.")}removeEffect(n){throw new Error("Method not implemented.")}runEffects(){throw new Error("Method not implemented.")}}class Jt{constructor(n){this.isAi=!1,this.name="human",this.hp=40,this.drawPerTurn=1,this.attacking=!1,this.pickingBlockers=!1,this.showFights=!1,this.defending=!1,this.targeting=!1,this.possibleTargets=[],this.wall=new Xf(20),this.staticAbilities=[],this.cardConverter=new ys,this.gembag=new T(2,0,0,0,0,0),this.incomeBag=new T(0,0,0,0,0,0),this.currentEffects=[],this.mineLimits=1,this.minesPlayed=0,this.effectStack=[],this.pickStack=[],this.controller=g.Self,this.stopPhases=!1,this.currentPos=0,this.startingGold=3,this.relics=[],this.cardService=n,this.gembag.gold=this.startingGold}applyStaticAbilities(){for(let n=0;n<this.staticAbilities.length;n++)this.staticAbilities[n].doEffects()}getAllCards(){return this.cardService.getCards(v.any,this.controller)}checkIfPlayable(n,t){let i,r=this.cardService.getCards(v.hand,g.Self,O.Any);if(n instanceof Jf&&this.minesPlayed>=this.mineLimits)return!1;r.includes(n)||(i=!1);let o=this.gembag.canAfford(n.cost);return!!o&&(!!n.instant||!(!o||t.currentPhase!==q.main&&t.currentPhase!==q.main2||t.currentTurn!==this))}hasRelic(n){return this.relics.filter(r=>r.name===n).length>0}playCard(n,t){if(this.checkIfPlayable(n,t)){if(this.gembag.subtractCost(n.cost),[O.Creature,O.Wall,O.Mine,O.Fortification,O.Tech].includes(n.type)){this.cardService.checkTriggers(re.Enters,g.Self);let i=this.cardService.getCardIndex(n);this.cardService.setCardZone(i,v.play),n.type===O.Mine&&(this.incomeBag.addBag(n.incomeBag),this.minesPlayed++)}else n.type===O.Spell&&this.playSpell(n,t);n.type===O.Fortification&&(this.wall.isAlive()?this.applyExistingAbilities(n):this.wall.hp+=n.cost.getTotalCost()),n.type!==O.Fortification&&this.applyExistingAbilities(n),n.type!==O.Tech&&this.processAbilities(n)}}playSpell(n,t){this.cardService.checkTriggers(re.SpellCast),this.cardService.setCardZoneByCard(n,v.discard)}addRelic(n){this.relics.push(n),this.processAbilities(n)}processAbilities(n){for(let t=0;t<n.abilities.length;t++){let r=n.abilities[t];if(r instanceof mn){let i=r;for(let o=0;o<i.effects.length;o++){let s=i.effects[o];if(s.targeting.random){let a=s.targeting.getRandomTargetSingle();s.doEffectSingle(a)}else{let a=s.targeting.getTarget();for(let c=0;c<a.length;c++)a[c].targetableCard=!0;this.effectStack.push(s)}}}else r instanceof nD?this.pickStack.push(...r.cards):r instanceof lt?this.cardService.intialApplyStaticAbilities(r):r instanceof ut?this.cardService.triggeredEffects.push(r):r instanceof Oe&&r.doEffects()}}applyExistingAbilities(n){for(let t=0;this.cardService.staticEffects.length>t;t++){let r=this.cardService.staticEffects[t];console.log(r),r.doEffects()}}killCardByIndex(n){this.cardService.setCardZone(n,v.discard)}killCardBySearch(n){let t=this.cardService.getCardIndex(n);this.cardService.setCardZone(t,v.discard)}getMines(){return this.cardService.getCards(v.play,g.Self,O.Mine)}earnIncome(){this.gembag.addBag(this.incomeBag)}normalDraw(n){let t=this.cardService.getCards(v.deck,g.Self,O.Any);if(t.length>=this.drawPerTurn)for(let r=0;r<this.drawPerTurn;r++)t[r].zone=v.play,this.cardService.checkTriggers(re.DrawCard)}drawCards(n){let t=this.cardService.getCards(v.deck,g.Self,O.Any);if(t.length>=n)for(let r=0;r<n;r++){let i=t[r];console.log(n),i.zone=v.hand,this.cardService.checkTriggers(re.DrawCard)}}canAttack(){let n;n=this.cardService.getCreatures(this.isAi?g.Opponent:g.Self);let t=n.length>0;if(console.log(t),console.log(n),this.isAi)return t;for(let r=0;r<n.length;r++){let i=n[r];if(i.awake&&!i.firstTurn)return!0}return!1}getAttackers(){let n=this.cardService.getCreatures(g.Self).filter(t=>t.attacking);for(let t=0;t<n.length;t++){let r=n[t];r.attacking&&(r.awake=!1)}return n}attack(){this.cardService.checkTriggers(re.Attack),this.attacking=!0}defend(){this.defending=!0}clearCombat(){this.defending=!1,this.attacking=!1;let n=this.cardService.getCreatures(g.Any);for(let t=0;t<n.length;t++){let r=n[t];r.attacking=!1,r.blocked=!1,r.blocking=!1}this.checkDead()}doneDefending(){this.defending=!1}doneAttacking(){this.attacking=!1}dealDamage(n){let t=this.getAttackersUnblocked(),r=0,i=0;for(let o=0;o<t.length;o++){let s=t[o];s.keywords.includes(P.Flying)?i+=s.attack:r+=s.attack}if(n.isAi){let o=n;o.millCard(i),o.wall.isAlive()?o.wall.hp-=r:o.millCard(r)}else{let o=n;o.hp-=i,o.takeDamage(r)}}takeDamage(n){this.wall.isAlive()?this.wall.hp-=n:this.hp-=n}getAttackersUnblocked(){let n=[],t=this.cardService.getCreatures(g.Self),r=[];for(let i=0;i<t.length;i++)r.push(t[i]);for(let i=0;i<r.length;i++){let o=r[i];o.attacking&&!o.blocked&&n.push(o)}return n}resetMines(){this.minesPlayed=0}checkDead(){let n=this.getCreatures().filter(t=>!t.isAlive());for(let t=0;t<n.length;t++){let r=n[t];r.isAlive()||(r.zone=v.discard,this.cardService.checkTriggers(re.Dies))}}isAlive(){return this.cardService.getCards(v.deck,g.Self,O.Any).length>0&&this.hp>0}getCreatures(){return this.cardService.getCards(v.play,this.controller,O.Creature)}getHand(){return this.cardService.getCards(v.hand,g.Self,O.Any)}awakeAll(){let n=this.getCreatures();for(let t=0;t<n.length;t++)n[t].turned=!1,n[t].awake=!0,n[t].firstTurn=!1}getBlockers(){return this.hasBlockers()?this.getCreatures().filter(t=>t.awake):[]}hasBlockers(){let n=this.getCreatures();return 0!==n.length&&n.filter(r=>r.awake).length>0}hasMedic(){let n=this.getCreatures();for(let t=0;t<n.length;t++)if(n[t].keywords.includes(P.Medic))return!0;return!1}}class Zi extends Jt{constructor(n){super(n),this.currentSpell=null,this.currentTargets=[],this.isAi=!0,this.name="Horde",this.controller=g.Opponent,this.wall=new Xf(10),this.pullsPerTurn=1,this.pullsThisTurn=0}playCards(){console.log(this.pullsThisTurn),console.log(this.pullsPerTurn);let n=this.cardService.getCards(v.deck,g.Opponent,O.Any);if(n.length>0&&this.pullsThisTurn<this.pullsPerTurn){let t=n[0];if(t.type===O.Creature){let r=t;r.firstTurn=!1;let i=this.cardService.getCardIndex(t);if(this.cardService.setCardZone(i,v.play),r.isMinion)this.playCards();else{if(this.pullsThisTurn++,this.pullsPerTurn===this.pullsThisTurn)return void(this.pullsThisTurn=0);this.pullsThisTurn<this.pullsPerTurn&&this.playCards()}}else t.type===O.Spell&&(this.currentSpell=t,this.stopPhases=!0)}else this.pullsThisTurn=0}runCurrentSpell(){this.currentSpell&&this.currentSpell.processAbilities(this.cardService),this.cardService.setCardZoneByCard(this.currentSpell,v.discard),this.currentSpell=null,this.stopPhases=!1}millCard(n){let t=this.cardService.getCards(v.deck,g.Opponent,O.Any);n>t.length&&(n=t.length);for(let r=0;r<n;r++)t[r].zone=v.discard}attack(){let n=this.cardService.getCreatures(g.Opponent);this.attacking=!0;for(let t=0;t<n.length;t++)n[t].turned=!0,n[t].attacking=!0,n[t].awake=!1}getAttackers(){return this.cardService.getCreatures(g.Opponent)}getAttackersUnblocked(){let n=[],t=this.cardService.getCreatures(g.Opponent);for(let r=0;r<t.length;r++){let i=t[r];i.attacking&&!i.blocked&&n.push(i)}return n}takeDamage(n){this.wall.isAlive()?this.wall.hp-=n:this.millCard(n)}defend(){let n=this.cardService.getCreatures(g.Self).filter(i=>i.attacking),t=0;for(let i=0;i<n.length;i++)t+=n[i].attack;let r=this.cardService.getCards(v.deck,g.Opponent,O.Any);r.length>t&&(t=r.length);for(let i=0;i<t;i++)r.pop()}isAlive(){return 0===this.cardService.getCards(v.deck,g.Opponent,O.Any).length}}class lF{constructor(n,t){this.player=n,this.opponent=t}getPlayer(n){return n===g.Any?[this.player,this.opponent]:n===g.Opponent?[this.opponent]:[this.player]}}class uF{constructor(){this.cardList=[],this.staticEffects=[],this.triggeredEffects=[],this.pickAbility=[],this.playerService={},this.relicsManager=new Kf(this),this.currentPos=0,this.difficultyMods="",this.selectedFaction=D.Any,this.nodePos=0,this.shuffleDeck(this.cardList)}getPlayerDeck(){let n=new On(this),t=new On(this),r=new lt([new yn("buff",0,2,2,this,g.Self,G.All)],"buff",this,"+1/+3/+0 all creatures you control");this.cardList.push(new N(5,7,3,"Dwarf Commander",new T(4,0,0,1,0,0),"","Creatures you control get +2/+2/+0",!1,g.Self,v.deck,D.Earth,[r])),this.cardList.push(t.generateRandomCreatureForFaction(3,D.Earth,g.Self,v.deck)),this.cardList.push(t.generateRandomCreatureForFaction(6,D.Earth,g.Self,v.deck));for(let o=0;o<4;o++){let s=new N(1,2,1,"Dwarf Engineer",new T(0,0,0,1),"","Repair 3 - Repairs owners wall each turn by 3 hp",!1,g.Self,v.deck,D.Earth,[],[P.Repair]);s.repairAmount=3;let a=new N(3,3,1,"Dwarf Sapper",new T(0,0,0,2),"","Siege - double damage against walls",!1,g.Self,v.deck,D.Earth,[],[P.Siege]),c=new N(8,5,2,"Dwarf Infantry",new T(1,0,0,2),"","",!1,g.Self,v.deck,D.Earth),l=new ms(F.Gold,1,this),u=new Oe([l],"Add 1 gold on enter","",this),d=new N(1,2,4,"Rogue for Hire",new T(1),"","Gain 1 gold on enter",!0,g.Self,v.deck,D.Colorless,[u]),f=new tF([F.Emerald,F.Gold],1,this),y=(new ut([f],"","",[re.Start],this),new N(3,3,3,"Battle Dwarf",new T(1,0,0,1,0,0),"assets//dwarf.png","",!1,g.Self,v.deck,D.Earth,[])),_=new N(1,3,1,"Engineer",new T(0,0,0,2,0,0),"black","Repair 5 - during each of your upkeeps, your wall gains 5hp.",!1,g.Self,v.deck,D.Earth,[],[P.Repair]);_.repairAmount=5,_.keywords.push(P.Repair),_.repairAmount=2;let E=new N(1,4,4,"Shortbow Archer",new T(2),"","",!1,g.Self,v.deck,D.Colorless),A=new Xt("",this,G.Single,g.Self,1),S=new Oe([A],"","",this),$=new N(2,1,2,"Fresh Scholar",new T(1),"","When this creature comes into play, draw a card",!1,g.Self,v.deck,D.Colorless,[S]),U=new Xt("",this,G.Single,g.Self,1),Xe=(new ut([U],"","",[re.Start],this),new yn("Lower Enemy Attack",0,0,-2,this,g.Opponent,G.All)),tn=new lt([Xe],"Lower all enemy attack",this,"Lower all enemy's attack by 2"),br=new cF("Shimmer Stone",new T(2,0,0,2),"","All enemy Creatures get -2/-0/-0",g.Self,v.play,D.Earth,[tn]),Bs=n.genMultipleForFaction(10,D.Earth,g.Self,v.exile,3);new nD([],"","",this,Bs),this.cardList.push(E,$,br,s,a);let Zh=new ms(F.Emerald,2,this),Y3=new Oe([Zh],"Add 2 emeralds on enter","",this),Q3=new N(2,3,1,"Verdant Warrior",new T(1,0,0,1),"","Adds 2 Emeralds on enter",!1,g.Self,v.deck,D.Earth,[Y3]),K3=new N(3,1,3,"Scout",new T(2),"black","Instant: Maybe played at any time",!0,g.Self,v.deck,D.Colorless),X3=new N(8,4,1,"Heavy Armadillo",new T(3,0,0,1),"","Momentum - gain 1 speed at the start of your turn",!1,g.Self,v.deck,D.Earth,[],[P.Momentum]),J3=new N(4,3,5,"Stone Roc",new T(2,0,0,2),"","Sharpen - gains 1 attack at the start of your turn, Flying - may only be blocked by other fliers. Deals damage directly to players, going over walls.",!1,g.Self,v.deck,D.Earth,[],[P.Sharpen,P.Flying]),ej=new yn("Reduce HP and Speed",-3,-3,0,this,g.Any,G.Single),tj=new mn("","",[O.Creature],g.Any,[v.play],1,[ej],this),nj=new Ke("Slow",new T(1,0,0,1),"","Target creature gets -0/-3/-3",[tj],!0,g.Self,v.deck,D.Earth),rj=new rF(this,g.Opponent,G.All),ij=new Oe([rj],"","",this),oj=new Ke("Mass Slow",new T(3,0,0,2),"","Gives all enemy creatures slow, which permanently sets their speed to 0 and gives them the slow keyword",[ij],!1,g.Self,v.deck,D.Earth);this.cardList.push(K3,c,y,_,Q3,J3,X3,oj,d,nj)}let i=n.getMinesBulk(F.Emerald,5);for(let o=0;o<i.length;o++)0===o&&(i[o].zone=v.hand),this.cardList.push(i[o]);i=n.getMinesBulk(F.Gold,5);for(let o=0;o<i.length;o++)0===o&&(i[o].zone=v.hand),this.cardList.push(i[o])}getEnemyDeck(){for(let t=0;t<4;t++){let r=new N(4,5,2,"Ogre",new T(0,0,0,0,0,0),"","",!1,g.Opponent,v.deck,D.Sun),i=new N(2,2,2,"Goblin",new T(0,0,0,0,0,0),"","",!1,g.Opponent,v.deck,D.Sun),o=new N(8,3,2,"Siege Ram",new T(0,0,0,0,0,0),"","Siege - deals double damage to walls",!1,g.Opponent,v.deck,D.Sun,[],[P.Siege]),s=new N(1,4,1,"Goblin Charger",new T(0,0,0,0,0,0),"","Momentum - Gains 1 speed per turn",!1,g.Opponent,v.deck,D.Sun,[],[P.Momentum]),a=new N(2,4,3,"Seeker of the Sun",new T(0,3,0,0,0),"","Gets +1/+1/+1 the start of each hoard turn",!1,g.Opponent,v.deck,D.Sun,[],[P.Sharpen,P.Momentum,P.Armorer]),c=new Wi(3,this,G.Single,g.Self,!0,!0,!0),l=new Oe([c],"Fire Bolt","",this),u=new Ke("Fire Bolt",new T(0,1),"","Deal 3 damage to a random enemy target ",[l],!1,g.Opponent,v.deck,D.Sun),d=new Wi(4,this,G.All,g.Any,!0,!1,!0),f=new Oe([d],"","",this),h=new Ke("Fire Ball",new T(0,3),"","Deal 4 damage to all creatures ",[f],!1,g.Opponent,v.hand,D.Sun),y=new yn("",0,0,2,this,g.Opponent,G.All),_=new lt([y],"",this,""),E=new N(3,3,5,"Fire Charger",new T(3,1),"","",!0,g.Opponent,v.deck,D.Sun,[_]),A=new yn("",3,0,3,this,g.Opponent,G.Single,!0),S=new Xt("",this,G.Single,g.Opponent,1),U=(new Oe([A,S],"Boost!","",this),new N(5,5,3,"Great Dragon",new T(3,2),"","Flying, Sharpen",!1,g.Opponent,v.deck,D.Sun,[],[P.Sharpen,P.Flying])),ae=new N(1,2,4,"Fire Wisp",new T(1,1),"","Flying - may only be blocked by other fliers. Ignores enemy walls and damages players directly",!1,g.Opponent,v.deck,D.Sun,[],[P.Flying]);this.cardList.push(r,i,o,h,E,s,a,U,ae,u)}let n=new On(this);for(let t=0;t<10;t++){let r=n.rollRandomNumber(1,3);this.cardList.push(n.generateAiMinion(F.Ruby,r,v.deck))}for(let t=0;t<10;t++){let r=n.rollRandomNumber(1,3);this.cardList.push(n.generateAiBasicMinion(F.Ruby,r,v.deck))}}makePlayerService(n,t){this.playerService=new lF(n,t)}getCount(n,t,r,i){return void 0===r&&(r=O.Any),void 0===t&&(t=g.Any),void 0===i&&(i=D.Any),void 0===n&&(n=v.any),this.getCards(n,t,r,i).length}countMultiple(n,t,r,i){let o=0;void 0===r&&(r=[O.Any]),void 0===t&&(t=g.Any),void 0===i&&(i=[D.Any]),void 0===n&&(n=[v.any]);for(const s of n)for(const a of i)for(const c of r)o+=this.getCount(s,t,c,a);return o}getCardsWithStatics(){return this.getCards().filter(t=>t.hasStaticAbility())}checkTriggers(n,t){if(void 0===t&&(t=g.Any),n===re.Start){let s=this.getTechs();t!==g.Any&&(s=s.filter(a=>a.owner===t));for(let a=0;a<s.length;a++)s[a].incrementResearch()}let r=this.getCards(v.any,t,O.Any,D.Any);for(let s=0;s<r.length;s++){let a=r[s];for(let c=0;c<r.length;c++){let l=a.abilities[c];l instanceof ut&&l.triggerZones.includes(a.zone)&&l.checkTriggers(n,t)}}let o=this.playerService.getPlayer(g.Self)[0].relics;for(let s=0;s<o.length;s++){let a=o[s];for(let c=0;c<r.length;c++){let l=a.abilities[c];l instanceof ut&&l.checkTriggers(n,t)}}n===re.Enters&&this.getCardsWithStatics()}intialApplyStaticAbilities(n){n.doEffects(),this.staticEffects.push(n)}staticDestroy(n){if(this.staticEffects.includes(n)){n.undoAll();let t=this.staticEffects.indexOf(n);this.staticEffects.splice(t,1)}}shuffleDeck(n){let r,t=n.length;for(;t>0;)r=Math.floor(Math.random()*t),t--,[n[t],n[r]]=[n[r],n[t]];return n}checkZoneTriggers(n,t){n===v.exile&&this.checkTriggers(re.Exiled),t===v.play&&n===v.discard&&this.checkTriggers(re.Dies),t===v.hand&&(n===v.play?this.checkTriggers(re.Enters):n===v.discard&&this.checkTriggers(re.Discarded)),t===v.deck&&n===v.discard&&this.checkTriggers(re.Mill)}setCardZoneByCard(n,t){this.checkZoneTriggers(t,n.zone);for(let r=0;r<this.staticEffects.length;r++){let i=this.staticEffects[r];n.abilities.includes(i)&&i.undoAll()}n.zone=t,n instanceof N&&(n.awake=!0)}setCardZone(n,t){let r=this.cardList[n];this.checkZoneTriggers(t,r.zone);for(let o=0;o<this.staticEffects.length;o++);this.cardList[n].zone=t,r instanceof N&&(r.awake=!0)}setCardZoneObj(n,t){let r=this.getCardIndex(n);r>=0&&r<this.cardList.length&&(this.cardList[r].zone=t)}setCardOwner(n,t){this.cardList[t].owner=n}getCardIndex(n){return this.cardList.findIndex(r=>r===n)}getCard(n){return this.cardList[n]}getCreatures(n){return this.getCards(v.play,n,O.Creature)}getTechs(n){return void 0===n&&(n=g.Any),this.getCards(v.play,n,O.Tech)}filterByKeyword(n,t){return void 0===t&&(t=g.Any),this.getCreatures(t).filter(i=>i.keywords.includes(n))}getCardsWithTriggers(n,t,r,i){return void 0===r&&(r=O.Any),void 0===t&&(t=g.Any),void 0===i&&(i=D.Any),void 0===n&&(n=v.any),this.getCards(n,t,r,i).filter(a=>a.abilities.filter(c=>c instanceof ut))}getCards(n,t,r,i){let o=[];void 0===r&&(r=O.Any),void 0===t&&(t=g.Any),void 0===i&&(i=D.Any),void 0===n&&(n=v.any);for(let s=0;s<this.cardList.length;s++){let a=this.cardList[s];(a.owner===t||t==g.Any)&&(a.zone===n||n===v.any)&&(r===a.type||r===O.Any)&&(i===a.faction||i===D.Any)&&o.push(a)}return o}getDeck(n){return this.cardList.filter(t=>t.owner==n&&t.zone==v.deck)}clearList(n){this.cardList=this.cardList.filter(t=>t.owner!==n)}resetCreatures(){for(let n=this.cardList.length-1;n>=0;n--){let t=this.cardList[n];t instanceof N&&(t.isMinion?this.cardList.splice(n,1):(t.resetStats(),this.cardList[n]=t))}}reset(){this.clearList(g.Opponent),console.log(this.staticEffects),this.playerService.player.wall.hp=20,this.playerService.opponent.wall.hp=20,this.playerService.player.gembag.resetStarting(),this.playerService.player.incomeBag.resetIncome();for(let n=0;n<this.cardList.length;n++)this.cardList[n].zone=v.deck,this.playerService.player.applyExistingAbilities(this.cardList[n])}drawInitialHand(){this.playerService.player.drawCards(6);let n=this.getCards(v.deck,g.Self,O.Mine);for(let t=0;t<n.length;t++){let r=n[t];if(r.faction!==D.Colorless){r.zone=v.hand;break}}}getTargets(n){let t=n.zones,r=n.controller,i=n.types,o=i.includes(O.Any),s=t.includes(v.any);o&&(i=Object.values(O)),s&&(t=Object.values(v));let a=[];for(let c=0;c<this.cardList.length;c++){let l=this.cardList[c],u=t.includes(l.zone),d=i.includes(l.type);u&&d&&(l.owner===r||r===g.Any)&&a.push(l)}return a}grabUnaffected(n,t){void 0===t&&(t=O.Any);let r=n.targeting.getTarget();console.log(n),t!==O.Any&&(r=r.filter(o=>o.type===t)),console.log(r);let i=r.filter(o=>!o.currentEffects.includes(n));return console.log(i),i}grabAffected(n,t){void 0===t&&(t=O.Any);let r=n.targeting.getTarget();return t!==O.Any&&(r=r.filter(o=>o.type===t)),r.filter(o=>o.currentEffects.includes(n))}}class dF{constructor(n){this.showTurnPlayer=!1,this.showTurnEnemy=!1,this.game=n}getPhaseText(){switch(this.game.currentPhase){case q.main||q.main2:return"You may play a mine and as many other cards as you can afford. If it is your first main phase, you gain income from your mines.";case q.attackers:return"Pick what creatures you want to attack. For a hoard, all creature always attack.";case q.blockers:return"Choose which creatures from the horde you want to block. The hoard will never block.";case q.combatResults:return"See the results of each block in combat. Greyed out creatures are set to die";case q.end:return"The end of the turn. Until end of turn effects wear off here.";case q.start:return"The start of a battle.";default:return""}}resetPhase(){this.game.currentPhase=q.start,this.game.phaseDisplay=q[this.game.currentPhase],this.game.currentTurn=this.game.player}nextPhase(){this.game.currentTurn.isAi?this.handleAIPhases():this.handlePlayerPhases(),this.game.phaseDisplay=q[this.game.currentPhase]}handlePlayerPhases(){if(0===this.game.player.effectStack.length)switch(this.game.currentPhase){case q.start:this.game.cardService.checkTriggers(re.Start,g.Self),alert("Your Turn"),this.game.currentPhase=q.main;break;case q.main:this.handleMainPhase();break;case q.attackers:this.game.combatManager.runBlocks(),this.game.combatManager.runUnblocked(),this.game.combatManager.clearCombat(),this.game.currentPhase=q.main2;break;case q.main2:this.endTurn(),alert("Enemy Turn")}}handleAIPhases(){switch(this.game.currentPhase){case q.main:this.handleAIMainPhase();break;case q.attackers:this.game.player.hasBlockers()?this.game.currentPhase=q.blockers:(this.game.combatManager.runUnblocked(),this.game.combatManager.clearCombat(),this.game.currentPhase=q.end,this.game.cardService.checkTriggers(re.EndTurn,g.Opponent));break;case q.blockers:this.game.currentPhase=q.combatResults,this.game.combatManager.runUnblocked(),this.game.combatManager.runBlocks();break;case q.combatResults:this.game.combatManager.clearCombat(),this.game.currentPhase=q.end,this.game.cardService.checkTriggers(re.EndTurn,g.Opponent);break;case q.end:this.game.cardService.checkTriggers(re.Start,g.Self),this.game.cardService.checkTriggers(re.Awake,g.Opponent),this.endTurn(),alert("Your Turn")}}handleMainPhase(){this.game.currentTurn.canAttack()?(this.game.currentPhase=q.attackers,this.game.combatManager.runAttack()):(this.endTurn(),alert("Enemy Turn"))}handleAIMainPhase(){this.game.currentTurn.canAttack()?(this.game.currentPhase=q.attackers,this.game.combatManager.runAttack()):this.game.currentPhase=q.end}endTurn(){this.game.currentPhase=q.main,this.game.cardService.checkTriggers(re.EndTurn,g.Self);let n=this.game.player.getCreatures();for(let t=0;t<n.length;t++){let r=n[t];r.keywords.includes(P.Regenerate)&&r.heal()}this.game.currentTurn===this.game.player&&[q.main,q.main2,q.start,q.end].includes(this.game.currentPhase),this.game.currentPhase=q.main,this.game.phaseDisplay=q[this.game.currentPhase],this.swapCurrent(),this.runUpkeep(),this.game.cardService.checkTriggers(re.Start,g.Opponent),this.game.cardService.checkTriggers(re.Awake,g.Opponent)}runUpkeep(){this.game.currentTurn.awakeAll();const n=this.game.getCurrentTurnController();this.game.currentTurn instanceof Zi?this.game.processKeywords(g.Opponent,this.game.currentTurn.wall):this.game.currentTurn instanceof Jt&&(this.game.player.minesPlayed=0,this.game.player.earnIncome(),this.game.processKeywords(g.Self,this.game.player.wall)),this.game.runDraw(),this.game.cardService.checkTriggers(re.Awake,n)}swapCurrent(){this.game.currentTurn=this.game.currentTurn.controller===g.Opponent?this.game.player:this.game.enemy}passTurn(){this.game.currentTurn===this.game.player&&(this.game.currentPhase===q.main||this.game.currentPhase===q.main2||this.game.currentPhase===q.start)&&this.game.currentTurn===this.game.player&&(this.swapCurrent(),this.runUpkeep(),this.game.currentPhase=q.main,this.game.phaseDisplay=q[this.game.currentPhase],alert("Enemy Turn"))}}class fF{constructor(n,t){this.attacker={},this.blocker={},this.attacker=n,this.blocker=t}fight(){let n=this.attacker.keywords.includes(P.Dodge)&&this.attacker.dodgeAmount>0,t=this.blocker.keywords.includes(P.Dodge)&&this.blocker.dodgeAmount>0;this.attacker.speed>this.blocker.speed?(t?this.blocker.dodgeAmount--:this.blocker.hp-=this.attacker.attack,this.blocker.hp>0&&(n?this.attacker.dodgeAmount--:this.attacker.hp-=this.blocker.attack)):this.attacker.speed<this.blocker.speed?(n?this.attacker.dodgeAmount--:this.attacker.hp-=this.blocker.attack,this.attacker.hp>0&&(t?this.blocker.dodgeAmount--:this.blocker.hp-=this.attacker.attack)):(n?this.attacker.dodgeAmount--:this.attacker.hp-=this.blocker.attack,t?this.blocker.dodgeAmount--:this.blocker.hp-=this.attacker.attack)}}class hF{constructor(n){this.fights=[],this.selectedAttacker=null,this.selectedBlocker=null,this.game=n}inCombat(n){return n===q.attackers||n===q.blockers||n===q.combatCleanup}runAttack(){const n=this.game.getCurrentTurnController();this.game.cardService.checkTriggers(re.Attack,n),this.game.currentTurn.isAi?(this.game.currentTurn.attack(),this.game.player.defend()):this.game.player.attack()}runBlocks(){let n=this.game.getCurrentTurnController()===g.Self?g.Opponent:g.Self;n=n===g.Opponent?g.Self:g.Opponent,this.runFights(),this.game.cardService.checkTriggers(re.Blockers,n)}runFights(){for(let n=0;n<this.fights.length;n++)this.fights[n].fight()}runUnblocked(){this.game.currentTurn.isAi?this.game.enemy.dealDamage(this.game.player):this.game.player.dealDamage(this.game.enemy)}clearCombat(){this.game.player.clearCombat(),this.game.enemy.clearCombat(),this.clearFights()}isFighting(n){return this.fights.some(t=>t.attacker===n||t.blocker===n)}cancelFight(n){const t=this.fights.indexOf(n);t>=0&&this.fights.splice(t,1),this.selectedAttacker&&this.selectedBlocker&&(this.selectedAttacker.blocked=!1,this.selectedBlocker.blocking=!1)}setAttacker(n){this.selectedAttacker=n,this.checkFight()}setBlocker(n){this.selectedBlocker=n,this.checkFight()}unsetBlocker(n){if(this.isFighting(n)){let t=this.getFightByCreature(n);t.attacker.blocked=!1,t.blocker.blocking=!1;let r=this.fights.indexOf(t);this.fights.splice(r,1)}this.selectedBlocker=null,this.selectedAttacker=null}checkFight(){this.selectedAttacker&&this.selectedBlocker&&(this.selectedAttacker.blocked=!0,this.selectedBlocker.blocking=!0,this.createFight(this.selectedAttacker,this.selectedBlocker),this.selectedAttacker=null,this.selectedBlocker=null)}createFight(n,t){let r=new fF(n,t);this.fights.push(r),this.selectedAttacker=null,this.selectedBlocker=null}clearFights(){this.game.player.checkDead(),this.game.enemy.checkDead(),this.fights=[]}getFightByCreature(n){return this.fights.filter(r=>r.attacker===n||r.blocker===n)[0]}}class eh{constructor(n,t,r){this.currentTurn={},this.fights=[],this.currentPhase=q.start,this.phaseDisplay=q[this.currentPhase],this.selectedBlocker=null,this.selectedAttacker=null,this.selectPlayer=null,this.possibleCardTargets=[],this.spellStack=[],this.phaseManager=new dF(this),this.combatManager=new hF(this),this.cardService=r,this.enemy=t,this.player=n,this.currentTurn=this.player,this.cardService.makePlayerService(this.player,this.enemy)}pickFirst(){this.currentTurn=2*Math.random()==0?this.player:this.enemy}getCurrentTurnController(){let n=g.Any;return this.currentTurn===this.player?n=g.Self:this.currentTurn===this.enemy&&(n=g.Opponent),n}runUpkeep(){this.currentTurn.awakeAll();let n=this.getCurrentTurnController();this.runDraw(),this.cardService.checkTriggers(re.Start,n),this.cardService.checkTriggers(re.Awake,n),this.currentTurn instanceof Zi?this.processKeywords(g.Opponent,this.currentTurn.wall):this.currentTurn instanceof Jt&&(this.player.minesPlayed=0,this.player.earnIncome(),this.processKeywords(g.Self,this.player.wall))}processKeywords(n,t){let r=this.cardService.getCreatures(n);for(let i=0;i<r.length;i++){let o=r[i];if(o.keywords.includes(P.Momentum)&&o.speed++,o.keywords.includes(P.Sharpen)&&o.attack++,o.keywords.includes(P.Armorer)&&o.hp++,o.keywords.includes(P.Repair)&&(t.hp+=o.repairAmount,this.cardService.checkTriggers(re.WallRepair)),o.keywords.includes(P.Medic)){let s=this.currentTurn.getCreatures();for(let a=0;a<s.length;a++)s[a].heal()}}}runDraw(){let n=this.getCurrentTurnController();this.cardService.checkTriggers(re.DrawStep,n),this.cardService.checkTriggers(re.DrawCard,n),this.currentTurn.isAi?this.currentTurn.playCards():this.currentTurn.drawCards(1)}mainPhase(){let n=this.getCurrentTurnController();this.cardService.checkTriggers(re.Main1,n)}runAttack(){let n=this.getCurrentTurnController();this.cardService.checkTriggers(re.Attack,n),this.currentTurn.isAi?(this.currentTurn.attack(),this.player.defend()):this.player.attack()}}let sD=(()=>{class e{constructor(){}getBgColor(t){switch(t){case D.Colorless:return"#888888";case D.Earth:return"#787235";case D.Neptune:return"#1a58a3";case D.Sky:return"#02aed6";case D.Sun:return"#cc4304";case D.MoonAndStars:return"#373737";default:return"white"}}getFgColor(t){switch(t){case D.Colorless:return"#DDDDDD";case D.Earth:return"#77c589";case D.Neptune:return"#6ea9f0";case D.Sky:return"#c3dde3";case D.Sun:return"#e8736b";case D.MoonAndStars:return"#e0ce7e";default:return"white"}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function pF(e,n){if(1&e&&L(0,"img",5),2&e){const t=M().$implicit,r=M();Td("width",r.imgWidth,"px"),Li("src",r.bag.getImage(t),Pr)}}const gF=function(){return[]};function mF(e,n){if(1&e&&(m(0,"span",3),R(1,pF,1,3,"img",4),p()),2&e){const t=n.$implicit,r=M();C(1),b("ngForOf",cc(1,gF).constructor(r.bag.getValue(t)))}}function yF(e,n){1&e&&L(0,"span",3)}let Nc=(()=>{class e{constructor(){this.bag=new T,this.imgWidth=16,this.manaTypes=[]}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-gembag"]],inputs:{bag:"bag",imgWidth:"imgWidth"},decls:3,vars:2,consts:[[1,""],["style","margin-left: 3px;",4,"ngFor","ngForOf"],["style","margin-left: 3px;",4,"ngIf"],[2,"margin-left","3px"],["class","gemDimensions",3,"src","width",4,"ngFor","ngForOf"],[1,"gemDimensions",3,"src"]],template:function(r,i){1&r&&(m(0,"div",0),R(1,mF,2,2,"span",1),p(),R(2,yF,1,0,"span",2)),2&r&&(C(1),b("ngForOf",i.bag.getTypes()),C(1),b("ngIf",i.bag.isEmpty()))},dependencies:[pn,ct]})}return e})();const Fc=function(e){return{backgroundColor:e}};function vF(e,n){if(1&e&&(m(0,"div",2),L(1,"app-gembag",13),p()),2&e){const t=M(2);b("ngStyle",dn(2,Fc,t.fgColor)),C(1),b("bag",t.card.cost)}}function _F(e,n){1&e&&L(0,"img",14),2&e&&Li("src",M(2).card.image,Pr)}function CF(e,n){1&e&&L(0,"div",15)}function wF(e,n){if(1&e&&(m(0,"div")(1,"p",16)(2,"span",17),w(3),p(),w(4," |"),m(5,"span",17),w(6),p(),w(7," |"),m(8,"span",17),w(9),p()()()),2&e){const t=M(2);C(2),b("ngStyle",t.getStatStyle(t.card,"atk")),C(1),Le("ATK:",t.converter.convertToCreature(t.card).attack," "),C(2),b("ngStyle",t.getStatStyle(t.card,"hp")),C(1),Le("HP: ",t.converter.convertToCreature(t.card).hp," "),C(2),b("ngStyle",t.getStatStyle(t.card,"spd")),C(1),Le(" SPD:",t.converter.convertToCreature(t.card).speed,"")}}function DF(e,n){if(1&e&&(m(0,"span")(1,"p",16),w(2,"INCOME: "),L(3,"app-gembag",13),p()()),2&e){const t=M(2);C(3),b("bag",t.converter.convertToMine(t.card).incomeBag)}}function bF(e,n){if(1&e&&(m(0,"span")(1,"p",18),w(2),p()()),2&e){const t=M(2);C(2),xd("Turns left: ",t.converter.convertToTech(t.card).researchLevel,"/",t.converter.convertToTech(t.card).researchTime,"")}}function SF(e,n){1&e&&(m(0,"p"),w(1,"Fast - You may play this card at any time"),p())}function EF(e,n){if(1&e&&(m(0,"p"),w(1),p()),2&e){const t=M(2);C(1),Le("Dodge: ",t.converter.convertToCreature(t.card).dodgeAmount,"")}}const MF=function(e,n,t,r){return{playable:e,notPlayable:n,awake:t,asleep:r}},IF=function(){return{backgroundColor:"black"}};function AF(e,n){if(1&e&&(m(0,"div",1)(1,"div",2)(2,"p",3),w(3),p()(),R(4,vF,2,4,"div",4),m(5,"div",5),R(6,_F,1,1,"img",6),R(7,CF,1,0,"ng-template",null,7,fc),p(),m(9,"div",8)(10,"p",9),w(11),p()(),m(12,"div",10),R(13,wF,10,6,"div",11),R(14,DF,4,1,"span",11),R(15,bF,3,2,"span",11),R(16,SF,2,0,"p",11),m(17,"p",12),w(18),p(),R(19,EF,2,1,"p",11),p()()),2&e){const t=tc(8),r=M();b("ngClass",W_(16,MF,r.playable&&0===r.card.zone,!r.playable&&0===r.card.zone,0===r.card.type&&!0===r.converter.convertToCreature(r.card).awake,!1===r.converter.convertToCreature(r.card).awake))("ngStyle",dn(21,Fc,r.bgColor)),C(1),b("ngStyle",cc(23,IF)),C(2),Le("",r.card.name," "),C(1),b("ngIf",2===r.card.owner),C(1),b("ngStyle",dn(24,Fc,r.fgColor)),C(1),b("ngIf",""!==r.card.image&&void 0!==r.card.image)("ngIfElse",t),C(5),un(r.getTypeString(r.card.type)),C(1),b("ngStyle",dn(26,Fc,r.fgColor)),C(1),b("ngIf",0===r.card.type),C(1),b("ngIf",2===r.card.type),C(1),b("ngIf",1===r.card.type&&1===r.card.zone),C(1),b("ngIf",r.card.instant),C(2),Le(" ",r.card.text,""),C(1),b("ngIf",r.converter.convertToCreature(r.card).dodgeAmount>0)}}let mr=(()=>{class e{constructor(t){this.fcs=t,this.card={},this.playable=void 0,this.cardEmitter=new ue,this.flipped=!0,this.bgColor="grey",this.fgColor="#cccccc",this.gradientColor="radialGradient(bgColor, gradientColor)",this.type=O[this.card.type],this.selected=!1,this.converter=new ys}ngOnInit(){void 0!==this.card&&(this.bgColor=this.fcs.getBgColor(this.card.faction),this.fgColor=this.fcs.getFgColor(this.card.faction),this.gradientColor=`radialGradient(${this.bgColor}, ${this.fgColor})`)}clickCard(){this.cardEmitter.emit(this.card)}getTypeString(t){return O[t]}getStatStyle(t,r){const i=this.converter.convertToCreature(t);let o=0,s=0;switch(r){case"hp":o=i.baseHp,s=i.hp;break;case"atk":o=i.baseAttack,s=i.attack;break;case"spd":o=i.baseSpeed,s=i.speed}return s>o?{color:"rgb(98, 219, 98);"}:s<o?{color:"red"}:{color:"white"}}static#e=this.\u0275fac=function(r){return new(r||e)(x(sD))};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-card"]],inputs:{card:"card",playable:"playable",flipped:"flipped"},outputs:{cardEmitter:"cardEmitter"},decls:1,vars:1,consts:[["id","BlackFont","class","cardBorder hoverZoom cardDimensions",3,"ngClass","ngStyle",4,"ngIf"],["id","BlackFont",1,"cardBorder","hoverZoom","cardDimensions",3,"ngClass","ngStyle"],[1,"mainFont","titleBoxWidth","cardOutline",3,"ngStyle"],[1,"titleText"],["class","mainFont titleBoxWidth cardOutline",3,"ngStyle",4,"ngIf"],["id","PlaceHolder",1,"cardOutline",3,"ngStyle"],["class","centerElement cardImage ",3,"src",4,"ngIf","ngIfElse"],["fake",""],[1,"typeBox","cardOutline"],[1,"typeText"],[1,"textBox","cardOutline","mainFont","cardText",3,"ngStyle"],[4,"ngIf"],[1,"mainFont"],[3,"bag"],[1,"centerElement","cardImage",3,"src"],[1,"centerElement","cardImage"],[1,"statDisplay"],[3,"ngStyle"],[1,"whiteFont","statDisplay"]],template:function(r,i){1&r&&R(0,AF,20,28,"div",0),2&r&&b("ngIf",void 0!==i.card)},dependencies:[hs,ct,jr,Nc],styles:['.cardOutline[_ngcontent-%COMP%]{border:solid 1px black;border-radius:5%;margin:1px}#PlaceHolder[_ngcontent-%COMP%]{min-height:40px}.titleText[_ngcontent-%COMP%]{font-family:Tahoma,sans-serif;font-weight:700;font-size:60%;text-align:center;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.titleBoxWidth[_ngcontent-%COMP%]{width:93%;margin-left:auto;margin-right:auto}.flexBox[_ngcontent-%COMP%]{display:flex}.flexSpace[_ngcontent-%COMP%]{justify-content:space-between}.foregroundColor[_ngcontent-%COMP%]{opacity:.9}.typeText[_ngcontent-%COMP%]{color:#fff;text-align:center}.typeBox[_ngcontent-%COMP%]{height:17px;margin-top:2px;margin-bottom:2px;font-size:13px;font-family:Arial,Helvetica,sans-serif;background:rgba(30,30,30,.5);opacity:1}.typeBoxBg[_ngcontent-%COMP%]{background-color:"#373737"}.textBox[_ngcontent-%COMP%]{height:40%;max-height:3rem;text-align:center;font-family:Arial,Helvetica,sans-serif}.cardText[_ngcontent-%COMP%]{font-size:45%}.statDisplay[_ngcontent-%COMP%]{border-bottom:ridge 2px #737373;margin-bottom:2px;background-color:#000;color:#fff}.playable[_ngcontent-%COMP%]{border:3px solid green;border-radius:5%}.notPlayable[_ngcontent-%COMP%]{border:3px solid red;border-radius:5%}.playable[_ngcontent-%COMP%], .notPlayable[_ngcontent-%COMP%]{margin:-2px}.hoverZoom[_ngcontent-%COMP%]:hover{z-index:9999;transform:scale(1.3);transition:transform .8s ease-in-out;transition:translate .4s ease-in-out;translate:0px -40%;animation-delay:1ms;position:relative}.hoverZoom[_ngcontent-%COMP%]{transform:scale(1);margin-bottom:0;transition:transform .4s ease-in-out;transition:translate .2s ease-in-out;translate:0px 0px;animation-delay:2ms}#BlackFont[_ngcontent-%COMP%]{color:#000}']})}return e})();function TF(e,n){1&e&&L(0,"img",3)}const kF=function(e){return{width:e}};function xF(e,n){if(1&e&&(m(0,"div",1),R(1,TF,1,0,"img",2),p()),2&e){const t=M();b("ngStyle",dn(2,kF,t.getWallLength())),C(1),b("ngForOf",t.calcDisplay())}}let aD=(()=>{class e{constructor(){this.wall={}}calcDisplay(){let t=this.wall.hp/5;return t=Math.ceil(t),t<0&&(t=0),Array(t).fill(0)}getWallLength(){return 24*Math.ceil(this.wall.hp/5)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-wall"]],inputs:{wall:"wall"},decls:4,vars:2,consts:[["class","cardRow wallSpacing",3,"ngStyle",4,"ngIf"],[1,"cardRow","wallSpacing",3,"ngStyle"],["class","","width","24px","height","24px","src","assets/wall.png",4,"ngFor","ngForOf"],["width","24px","height","24px","src","assets/wall.png",1,""]],template:function(r,i){1&r&&(m(0,"div")(1,"p"),w(2),p(),R(3,xF,2,4,"div",0),p()),2&r&&(C(2),Le("Wall HP: ",i.wall.hp,""),C(1),b("ngIf",i.calcDisplay().length>0))},dependencies:[pn,ct,jr],styles:[".wallSpacing[_ngcontent-%COMP%]{justify-content:center}"]})}return e})();function PF(e,n){1&e&&L(0,"img",12),2&e&&Li("src",M().card.image,Pr)}function OF(e,n){if(1&e&&(m(0,"span",13),L(1,"img",14),w(2,": "),m(3,"span",15),w(4),p(),L(5,"img",16),w(6,": "),m(7,"span",15),w(8),p(),L(9,"img",17),w(10,": "),m(11,"span",15),w(12),p()()),2&e){const t=M();C(3),b("ngStyle",t.getStatStyle(t.card,"atk")),C(1),un(t.converter.convertToCreature(t.card).attack),C(3),b("ngStyle",t.getStatStyle(t.card,"hp")),C(1),un(t.converter.convertToCreature(t.card).hp),C(3),b("ngStyle",t.getStatStyle(t.card,"spd")),C(1),Le(" ",t.converter.convertToCreature(t.card).speed,"")}}function RF(e,n){if(1&e&&(m(0,"span")(1,"p",13),w(2,"INCOME: "),L(3,"app-gembag",18),p()()),2&e){const t=M();C(3),b("bag",t.converter.convertToMine(t.card).incomeBag)}}function NF(e,n){1&e&&L(0,"img",19)}function FF(e,n){1&e&&L(0,"img",20)}function LF(e,n){if(1&e){const t=de();m(0,"button",21),H("click",function(){return te(t),ne(M().select())}),w(1),p()}if(2&e){const t=M();C(1),Le("Target ",t.card.name,"")}}const cD=function(e){return{backgroundColor:e}},VF=function(e,n,t,r,i){return{awake:e,asleep:n,dead:t,blocked:r,blocking:i}},BF=function(){return{backgroundColor:"black"}};let lD=(()=>{class e{constructor(t){this.fcs=t,this.card={},this.cardEmitter=new ue,this.bgColor="grey",this.fgColor="#cccccc",this.gradientColor="radialGradient(bgColor, gradientColor)",this.type=O[this.card.type],this.selected=!1,this.converter=new ys}ngOnInit(){this.bgColor=this.fcs.getBgColor(this.card.faction),this.fgColor=this.fcs.getFgColor(this.card.faction),this.gradientColor=`radialGradient(${this.bgColor}, ${this.fgColor})`}select(){this.cardEmitter.emit(this.card)}getTypeString(t){return O[t]}getStatStyle(t,r){const i=this.converter.convertToCreature(t);let o=0,s=0;switch(r){case"hp":o=i.baseHp,s=i.hp;break;case"atk":o=i.baseAttack,s=i.attack;break;case"spd":o=i.baseSpeed,s=i.speed}return s>o?{color:"#44e36e"}:s<o?{color:"red"}:{color:"white"}}static#e=this.\u0275fac=function(r){return new(r||e)(x(sD))};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-card-small"]],inputs:{card:"card"},outputs:{cardEmitter:"cardEmitter"},decls:13,vars:23,consts:[[1,"smallCardContainer"],[1,"largeCard",3,"card"],[1,"cardBorder","hoverZoom",3,"ngStyle","ngClass"],[1,"mainFont","titleBoxWidth","cardOutline",3,"ngStyle"],[1,"titleText"],[1,"cardOutline","cardImageSmall",2,"margin","3px",3,"ngStyle"],["class","centerElement","height","auto","width","103px",3,"src",4,"ngIf"],["class","statDisplay blackBg",4,"ngIf"],[4,"ngIf"],["class","attackingIcon","src","assets/attackSymbol.png","height","auto","width","50%",4,"ngIf"],["class","blockingIcon","src","assets/HP Symbol.png","height","auto","width","50%",4,"ngIf"],[3,"click",4,"ngIf"],["height","auto","width","103px",1,"centerElement",3,"src"],[1,"statDisplay","blackBg"],["src","assets/attackSymbol.png","width","16px","height","auto",1,"statIcon"],[3,"ngStyle"],["src","assets/HP Symbol.png","width","16px","height","auto",1,"statIcon"],["src","assets/Speed Symbol.png","width","16px","height","auto",1,"statIcon"],[3,"bag"],["src","assets/attackSymbol.png","height","auto","width","50%",1,"attackingIcon"],["src","assets/HP Symbol.png","height","auto","width","50%",1,"blockingIcon"],[3,"click"]],template:function(r,i){1&r&&(m(0,"div",0),L(1,"app-card",1),m(2,"div",2)(3,"div",3)(4,"p",4),w(5),p()(),m(6,"div",5),R(7,PF,1,1,"img",6),R(8,OF,13,6,"span",7),R(9,RF,4,1,"span",8),p(),R(10,NF,1,0,"img",9),R(11,FF,1,0,"img",10),p()(),R(12,LF,2,1,"button",11)),2&r&&(C(1),b("card",i.card),C(1),b("ngStyle",dn(12,cD,i.bgColor))("ngClass",function q_(e,n,t,r,i,o,s,a){const c=yt()+e,l=I(),u=Zt(l,c,t,r,i,o);return at(l,c+4,s)||u?Tn(l,c+5,a?n.call(a,t,r,i,o,s):n(t,r,i,o,s)):Zo(l,c+5)}(14,VF,0===i.card.type&&!0===i.converter.convertToCreature(i.card).awake,!1===i.converter.convertToCreature(i.card).awake,i.converter.convertToCreature(i.card).hp<=0,i.converter.convertToCreature(i.card).blocked,i.converter.convertToCreature(i.card).blocking)),C(1),b("ngStyle",cc(20,BF)),C(2),Le("",i.card.name," "),C(1),b("ngStyle",dn(21,cD,i.fgColor)),C(1),b("ngIf",""!==i.card.image&&void 0!==i.card.image),C(1),b("ngIf",0===i.card.type),C(1),b("ngIf",2===i.card.type),C(1),b("ngIf",0===i.card.type&&i.converter.convertToCreature(i.card).attacking),C(1),b("ngIf",0===i.card.type&&i.converter.convertToCreature(i.card).blocking),C(1),b("ngIf",i.card.targetableCard))},dependencies:[hs,ct,jr,mr,Nc],styles:['p[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;font-weight:700}.cardBorder[_ngcontent-%COMP%]{border:solid 2px black;border-radius:4%;width:150px;padding:5px;margin-right:auto;margin-top:2px;margin-bottom:5px}.cardOutline[_ngcontent-%COMP%]{border:solid 1px black;border-radius:5%;margin:1px}.titleText[_ngcontent-%COMP%]{font-family:Verdana,Tahoma,sans-serif;font-weight:700;font-size:14px;text-align:center;color:#fff}.titleBoxWidth[_ngcontent-%COMP%]{width:93%;margin-left:auto;margin-right:auto;height:37px}.flexBox[_ngcontent-%COMP%]{display:flex}.flexSpace[_ngcontent-%COMP%]{justify-content:space-between}.cardImage[_ngcontent-%COMP%]{min-height:100px;height:75%}.blackBg[_ngcontent-%COMP%]{background-color:#000}.foregroundColor[_ngcontent-%COMP%]{opacity:.9}.typeText[_ngcontent-%COMP%]{color:#fff;text-align:center}.typeBox[_ngcontent-%COMP%]{height:17px;margin-top:2px;margin-bottom:2px;font-size:13px;font-family:Arial,Helvetica,sans-serif;background:rgba(30,30,30,.5);opacity:1}.typeBoxBg[_ngcontent-%COMP%]{background-color:"#373737"}.textBox[_ngcontent-%COMP%]{height:100px;text-align:center;font-family:Arial,Helvetica,sans-serif}.centerElement[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.cardText[_ngcontent-%COMP%]{font-size:12px}.statDisplay[_ngcontent-%COMP%]{border:ridge 2px #737373;border-radius:10%;margin-bottom:2px;font-size:14px;font-weight:700;font-family:Arial,Helvetica,sans-serif;text-align:center;color:#fff;position:absolute;bottom:1px;left:5px;right:5px}.whiteFont[_ngcontent-%COMP%]{color:#fff}.asleep[_ngcontent-%COMP%]{transform:rotate(90deg);margin-bottom:18px}.largeCard[_ngcontent-%COMP%]{visibility:hidden;position:absolute;z-index:1;opacity:0;transition:visibility .2s linear .2s;-webkit-user-select:none;user-select:none;transform:scale(1)}.smallCardContainer[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;transition-delay:.1s;position:relative}#Hand[_ngcontent-%COMP%]:hover   .largeCard[_ngcontent-%COMP%]{visibility:visible;opacity:1;transform:scale(1.1);transition:transform .5s ease-in-out;transition:opacity .3s ease-in-out;transform:translate(0);z-index:99999}#Enemies[_ngcontent-%COMP%]   .smallCardContainer[_ngcontent-%COMP%]:hover   .largeCard[_ngcontent-%COMP%]{visibility:visible;opacity:1;transform:scale(1.05);transition-delay:3s;transition:transform .5s ease-in-out;transition:opacity .3s ease-in-out;transform:translateY(-200px)}.smallCardContainer[_ngcontent-%COMP%]:hover   .largeCard[_ngcontent-%COMP%]{visibility:visible;opacity:1;transition-delay:4ms;transition:opacity .3s ease-in-out;transform:translateY(20px)}.smallCardContainer[_ngcontent-%COMP%]:hover{border:2px solid #ddff1e}.smallCardContainer[_ngcontent-%COMP%]:hover, .attackingIcon[_ngcontent-%COMP%]:hover, .blockingIcon[_ngcontent-%COMP%]:hover{opacity:1}.statIcon[_ngcontent-%COMP%]{margin:2px}.asleep[_ngcontent-%COMP%], .awake[_ngcontent-%COMP%]{transition:width 2s,height 2s,transform .3s}.asleep[_ngcontent-%COMP%]{transform:rotate(90deg)}.awake[_ngcontent-%COMP%]{transform:rotate(0)}.dead[_ngcontent-%COMP%]{opacity:.5}.combatIcon[_ngcontent-%COMP%]{display:none}.blocking[_ngcontent-%COMP%]:hover   .combatIcon[_ngcontent-%COMP%]{display:block;position:relative;top:-100px}.attackingIcon[_ngcontent-%COMP%], .blockingIcon[_ngcontent-%COMP%]{position:absolute;bottom:1rem;left:2rem;opacity:.7}']})}return e})();function jF(e,n){if(1&e){const t=de();m(0,"button",2),H("click",function(){return te(t),ne(M().toggleDisplay())}),w(1),p()}if(2&e){const t=M();C(1),Le("Show ",t.displayTitle,"")}}function HF(e,n){if(1&e){const t=de();m(0,"button",2),H("click",function(){return te(t),ne(M(2).toggleDisplay())}),w(1),p()}if(2&e){const t=M(2);C(1),Le("Hide ",t.displayTitle,"")}}function $F(e,n){if(1&e){const t=de();m(0,"button",8),H("click",function(){return te(t),ne(M(2).done())}),w(1,"Done"),p()}}function UF(e,n){if(1&e){const t=de();m(0,"button",8),H("click",function(){te(t);const i=M(2).$implicit;return ne(M(2).selectCard(i))}),w(1),p()}if(2&e){const t=M(2).$implicit;C(1),Le("select ",t.name,"")}}function GF(e,n){if(1&e){const t=de();m(0,"button",2),H("click",function(){te(t);const i=M(2).$implicit;return ne(M(2).unselectCard(i))}),w(1),p()}if(2&e){const t=M(2).$implicit;C(1),Le("unselect ",t.name,"")}}function zF(e,n){if(1&e&&(m(0,"div"),R(1,UF,2,1,"button",11),R(2,GF,2,1,"ng-template",null,12,fc),p()),2&e){const t=tc(3),r=M().$implicit,i=M(2);C(1),b("ngIf",!i.selectedCards.includes(r))("ngIfElse",t)}}function WF(e,n){if(1&e&&(m(0,"div"),L(1,"app-card",9),R(2,zF,4,2,"div",10),p()),2&e){const t=n.$implicit,r=M(2);C(1),b("card",t),C(1),b("ngIf",r.selectMax>0)}}function qF(e,n){if(1&e&&(m(0,"div",3)(1,"p",4),w(2),p(),R(3,HF,2,1,"button",0),m(4,"div",5),R(5,$F,2,0,"button",6),R(6,WF,3,2,"div",7),p()()),2&e){const t=M();C(2),un(t.displayTitle),C(1),b("ngIf",!0===t.display),C(2),b("ngIf",(t.selectedCards.length>0||0===t.selectAmount)&&t.showDone),C(1),b("ngForOf",t.cards)}}let ZF=(()=>{class e{constructor(){this.cards=[],this.displayTitle="",this.picker=!1,this.selectMax=0,this.selectAmount=0,this.display=!1,this.showDone=!1,this.hideCompletely=!1,this.horizontal=!0,this.selectedCards=[],this.cardSelectedEvent=new ue,this.cardSingleEvent=new ue}toggleDisplay(){this.display=!this.display}done(){this.display=!1,this.hideCompletely=!0,this.picker&&(this.cardSelectedEvent.emit(this.selectedCards),this.clear())}clear(){this.selectedCards=[],this.selectAmount=0}selectCard(t){this.selectAmount<this.selectMax&&(this.selectedCards.push(t),this.selectAmount++)}unselectCard(t){if(this.selectedCards.includes(t)){let r=this.selectedCards.indexOf(t);console.log(r),this.selectedCards.splice(r,1),this.selectAmount--}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-card-pop-up"]],inputs:{cards:"cards",displayTitle:"displayTitle",picker:"picker",selectMax:"selectMax",display:"display",showDone:"showDone",horizontal:"horizontal"},outputs:{cardSelectedEvent:"cardSelectedEvent",cardSingleEvent:"cardSingleEvent"},decls:2,vars:2,consts:[[3,"click",4,"ngIf"],["id","PopUp",4,"ngIf"],[3,"click"],["id","PopUp"],[1,"title","whiteFont"],[1,"cardRow"],["class","centerElement",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"centerElement",3,"click"],[3,"card"],[4,"ngIf"],["class","centerElement",3,"click",4,"ngIf","ngIfElse"],["unselect",""]],template:function(r,i){1&r&&(R(0,jF,2,1,"button",0),R(1,qF,7,4,"div",1)),2&r&&(b("ngIf",!1===i.display&&!1===i.hideCompletely),C(1),b("ngIf",i.display))},dependencies:[pn,ct,mr],styles:["#PopUp[_ngcontent-%COMP%]{position:fixed;top:33%;left:28%;background-color:#000;border-radius:5%;border:white 1px solid;z-index:100;padding:10px}.title[_ngcontent-%COMP%]{text-align:center}"]})}return e})();const YF=["cardElement"];function QF(e,n){1&e&&L(0,"div",8)}function KF(e,n){if(1&e){const t=de();m(0,"div",8)(1,"app-card-pop-up",13),H("cardSingleEvent",function(i){return te(t),ne(M().playSelected(i))}),p()()}if(2&e){const t=M();C(1),b("cards",t.Player.cardService.pickAbility[0].cards)("displayTitle","Target selector for "+t.Player.cardService.pickAbility[0].name)("selectMax",1)("picker",t.Player.effectStack.length>0)("showDone",!0)}}function XF(e,n){if(1&e){const t=de();m(0,"button",18),H("click",function(){te(t);const i=M(2).index;return ne(M().toggleAttack(i))}),w(1,"Attack"),p()}}function JF(e,n){if(1&e&&(m(0,"div"),R(1,XF,2,0,"button",17),p()),2&e){const t=M().$implicit;C(1),b("ngIf",!t.attacking&&!t.keywords.includes(7))}}function e2(e,n){if(1&e){const t=de();m(0,"button",18),H("click",function(){te(t);const i=M().index;return ne(M().toggleAttack(i))}),w(1,"X Cancel Attack"),p()}}function t2(e,n){if(1&e){const t=de();m(0,"button",18),H("click",function(){te(t);const i=M(2).$implicit;return ne(M().game.combatManager.setBlocker(i))}),w(1,"Block"),p()}}function n2(e,n){if(1&e){const t=de();m(0,"button",21),H("click",function(){te(t);const i=M(2).$implicit;return ne(M().game.combatManager.unsetBlocker(i))}),w(1,"Cancel Block"),p()}}function r2(e,n){if(1&e&&(m(0,"div"),R(1,t2,2,0,"button",19),R(2,n2,2,0,"ng-template",null,20,fc),p()),2&e){const t=tc(3),r=M().$implicit,i=M();C(1),b("ngIf",!1===i.cardConverter.convertToCreature(r).blocking)("ngIfElse",t)}}function i2(e,n){if(1&e){const t=de();m(0,"div",null,14)(2,"app-card-small",15),H("cardEmitter",function(i){return te(t),ne(M().targetSelected(i))}),p(),R(3,JF,2,1,"div",16),R(4,e2,2,0,"button",17),R(5,r2,4,2,"div",16),p()}if(2&e){const t=n.$implicit,r=M();C(2),Jo("attacker",r.game.combatManager.isFighting(t)&&r.game.currentTurn===r.Player)("blocker",r.game.combatManager.isFighting(t)&&r.game.currentTurn!==r.Player),b("card",t),C(1),b("ngIf",r.Player.attacking&&t.awake&&!t.firstTurn),C(1),b("ngIf",t.attacking),C(1),b("ngIf",r.Player.defending&&!0===r.cardConverter.convertToCreature(t).awake&&!1===r.cardConverter.convertToCreature(t).attacking)}}function o2(e,n){1&e&&L(0,"img",22)}function s2(e,n){if(1&e){const t=de();m(0,"div",23)(1,"app-card",24),H("dblclick",function(){const o=te(t).$implicit,s=M();return ne(s.Player.playCard(o,s.game))}),p()()}if(2&e){const t=n.$implicit,r=M();C(1),b("card",t)("playable",r.Player.checkIfPlayable(t,r.game))}}const a2=function(e){return{width:e}};let c2=(()=>{class e{constructor(){this.Player={},this.game={},this.rotStart=355,this.rotEnd=365,this.targetingMode=!1,this.selected={},this.possibleTargets=[],this.cardConverter=new ys,this.popupVisible=!1,this.popupX=100,this.popupY=100}getCardCenterPosition(t){const i=this.cardElements.toArray()[t].nativeElement.getBoundingClientRect();return{x:i.left+i.width/2,y:i.top+i.height/2}}selectTarget(t){this.selected=this.possibleTargets[t]}toggleAttack(t){let r=this.Player.getCreatures()[t];r.attacking=!r.attacking,r.keywords.includes(P.Sentry)||(r.awake=!r.awake),r.blocking=!1}targetSelected(t){console.log(t),this.Player.effectStack[0].doEffectSingle(t),this.Player.effectStack.splice(0,1),this.turnOffTargetting(this.Player.getCreatures())}playSelected(t){this.Player.playCard(t,this.game),this.Player.effectStack=[]}turnOnTargetting(t){for(let r=0;r<t.length;r++)t[r].targetableCard=!0}turnOffTargetting(t){for(let r=0;r<t.length;r++)t[r].targetableCard=!1}getRotAmount(t){return(this.rotEnd-this.rotStart)/this.Player.getHand().length*t}resetRot(t){}showPopup(t){this.popupVisible=!0,this.updatePopupPosition(t)}movePopup(t){this.updatePopupPosition(t)}hidePopup(){this.popupVisible=!1}updatePopupPosition(t){this.popupX=t.clientX+10,this.popupY=t.clientY+10}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-player"]],viewQuery:function(r,i){if(1&r&&uC(YF,5),2&r){let o;Yd(o=function Qd(){return function qx(e,n){return e[bn].queries[n].queryList}(I(),Sg())}())&&(i.cardElements=o)}},inputs:{Player:"Player",game:"game"},decls:20,vars:12,consts:[["class","cardRow",4,"ngIf"],[1,"gemBagDisplay","uiPanel","paneBg"],[1,"centerElement","whiteFont",3,"wall"],[1,"whiteFont",2,"margin-bottom",".5rem"],[1,"whiteFont"],[3,"bag"],[1,"cardRow","creatureDisplay","uiPanel",3,"ngStyle"],[4,"ngFor","ngForOf"],[1,"cardRow"],["id","",1,"cardRow","flexCenter"],[1,"discardPile","cardDimensions"],["id","CardBack","class","cardDimensions","src","assets/back2.webp",4,"ngIf"],["class","handMargin",4,"ngFor","ngForOf"],[3,"cards","displayTitle","selectMax","picker","showDone","cardSingleEvent"],["cardElement",""],[3,"card","cardEmitter"],[4,"ngIf"],["class","centerElement combatButton",3,"click",4,"ngIf"],[1,"centerElement","combatButton",3,"click"],["class","centerElement combatButton",3,"click",4,"ngIf","ngIfElse"],["cancel",""],[1,"centerElement",3,"click"],["id","CardBack","src","assets/back2.webp",1,"cardDimensions"],[1,"handMargin"],[1,"card",3,"card","playable","dblclick"]],template:function(r,i){1&r&&(R(0,QF,1,0,"div",0),R(1,KF,2,5,"div",0),m(2,"div",1),L(3,"app-wall",2),m(4,"p",3),w(5),p(),m(6,"h3",4),w(7,"Resources:"),p(),L(8,"app-gembag",5),m(9,"h3",4),w(10,"Income:"),p(),L(11,"app-gembag",5),p(),m(12,"div",6),R(13,i2,6,8,"div",7),p(),m(14,"div",8),L(15,"div"),p(),m(16,"div",9),L(17,"div",10),R(18,o2,1,0,"img",11),R(19,s2,2,2,"div",12),p()),2&r&&(b("ngIf",i.Player.effectStack.length>0),C(1),b("ngIf",i.Player.cardService.pickAbility.length>0),C(2),b("wall",i.Player.wall),C(2),Le("Your Life: ",i.Player.hp,""),C(3),b("bag",i.Player.gembag),C(3),b("bag",i.Player.incomeBag),C(1),b("ngStyle",dn(10,a2,183*i.Player.getCreatures().length+"px")),C(1),b("ngForOf",i.Player.getCreatures()),C(5),b("ngIf",i.Player.cardService.getDeck(2).length>0),C(1),b("ngForOf",i.Player.getHand()))},dependencies:[pn,ct,jr,mr,Nc,aD,lD,ZF],styles:["#Hand[_ngcontent-%COMP%]{display:flex;margin-left:5%;margin-right:5%;position:fixed;left:20%;right:20%}#CardBack[_ngcontent-%COMP%]{margin-bottom:0}.playButton[_ngcontent-%COMP%]{max-width:120px}.creatureArea[_ngcontent-%COMP%]{height:150px}.gemBagDisplay[_ngcontent-%COMP%]{position:fixed;right:0;bottom:0;border-radius:5%;padding:10px}.discardDisplay[_ngcontent-%COMP%]{border-radius:3%}.wallDisplay[_ngcontent-%COMP%]{margin-left:auto;width:25%;margin-bottom:10px;padding:6px}.card[_ngcontent-%COMP%]{transform-origin:bottom center;transition:transform .3s ease-in-out}.card[_ngcontent-%COMP%]:hover{transform:rotate(0);transition:transform .3s ease-in-out;z-index:1000;margin-bottom:20px}.attacker[_ngcontent-%COMP%], .blocker[_ngcontent-%COMP%]{display:inline-block;transition:transform .3s ease-in-out}.attacker[_ngcontent-%COMP%]{border-color:#f75d5d}.blocker[_ngcontent-%COMP%]{border-color:#4ecdf8}.fighting[_ngcontent-%COMP%]{transform:translateY(50px)}.flexCenter[_ngcontent-%COMP%]{justify-content:center;position:fixed;bottom:0}"]})}return e})();function l2(e,n){if(1&e){const t=de();m(0,"div")(1,"app-card",8),H("click",function(){return te(t),ne(M().showDiscardArea())}),p()()}if(2&e){const t=M();C(1),b("card",t.hoard.cardService.getCards(2,1)[0])}}function u2(e,n){1&e&&L(0,"img",9)}function d2(e,n){if(1&e){const t=de();m(0,"button",12),H("click",function(){te(t);const i=M().$implicit;return ne(M().game.combatManager.setAttacker(i))}),w(1," Block this Attacker"),p()}}function f2(e,n){if(1&e){const t=de();m(0,"div")(1,"app-card-small",10),H("cardEmitter",function(i){return te(t),ne(M().targetSelected(i))}),p(),R(2,d2,2,0,"button",11),p()}if(2&e){const t=n.$implicit,r=M();C(1),b("card",t),C(1),b("ngIf",r.hoard.attacking&&!1===r.creatureConverter.convertToCreature(t).blocked&&r.opponentHasBlockers())}}function h2(e,n){if(1&e){const t=de();m(0,"div")(1,"button",14),H("click",function(){return te(t),ne(M(2).hoard.runCurrentSpell())}),w(2,"Run Spell"),p()()}}function p2(e,n){if(1&e&&(m(0,"div"),L(1,"app-card",13),R(2,h2,3,0,"div",5),p()),2&e){const t=M();C(1),b("card",t.hoard.currentSpell),C(1),b("ngForOf",t.hoard.currentSpell.abilities)}}let g2=(()=>{class e{constructor(){this.hoard={},this.game={},this.blockedCreature=new ue,this.creatureConverter=new ys}block(t){this.hoard.cardService.getCreatures(1)}opponentHasBlockers(){return this.hoard.cardService.getCards(v.play,g.Self,O.Creature).filter(i=>i.awake&&!i.blocking).length>0}targetSelected(t){console.log(t);let r=this.game.cardService.playerService.getPlayer(g.Self)[0];r.effectStack[0].doEffectSingle(t),r.effectStack.splice(0,1);let i=this.game.cardService.playerService.getPlayer(g.Opponent)[0];this.turnOffTargetting(r.getCreatures()),this.turnOffTargetting(i.getCreatures())}turnOnTargetting(t){for(let r=0;r<t.length;r++)t[r].targetableCard=!0}turnOffTargetting(t){for(let r=0;r<t.length;r++)t[r].targetableCard=!1}showDiscardArea(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-ai"]],inputs:{hoard:"hoard",game:"game"},outputs:{blockedCreature:"blockedCreature"},decls:11,vars:6,consts:[[1,"cardRow","uiPanel"],[1,"cardDimensions","discardPile"],[4,"ngIf"],["id","EnemyCardBack","class","cardDimensions","src","assets/back2.webp",4,"ngIf"],["id","Enemies",1,""],[4,"ngFor","ngForOf"],["id","HpPane",1,"paneBg","whiteFont","uiPanel","centerText","lifePanel"],[3,"wall"],[3,"card","click"],["id","EnemyCardBack","src","assets/back2.webp",1,"cardDimensions"],[3,"card","cardEmitter"],["class","centerElement combatButton",3,"click",4,"ngIf"],[1,"centerElement","combatButton",3,"click"],[3,"card"],[3,"click"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1),R(2,l2,2,1,"div",2),p(),R(3,u2,1,0,"img",3),m(4,"div",4),R(5,f2,3,2,"div",5),p()(),m(6,"div",6),L(7,"app-wall",7),m(8,"p"),w(9),p()(),R(10,p2,3,2,"div",2)),2&r&&(C(2),b("ngIf",i.hoard.cardService.getCards(2,1).length>0),C(1),b("ngIf",i.hoard.cardService.getDeck(2).length>0),C(2),b("ngForOf",i.hoard.cardService.getCreatures(1)),C(2),b("wall",i.hoard.wall),C(2),Le("Horde Deck: ",i.hoard.cardService.getDeck(1).length,""),C(1),b("ngIf",null!==i.hoard.currentSpell))},dependencies:[pn,ct,mr,aD,lD],styles:[".cardRow[_ngcontent-%COMP%]{display:flex;flex-flow:row;justify-content:start}#Enemies[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap}.lifePanel[_ngcontent-%COMP%]{width:25%;padding:5px}.discardPos[_ngcontent-%COMP%]{position:absolute;top:0;left:0}#HpPane[_ngcontent-%COMP%]{position:fixed;top:3.5rem;right:0}"]})}return e})();function m2(e,n){1&e&&L(0,"app-card",2),2&e&&b("card",n.$implicit)}let uD=(()=>{class e{constructor(){this.deck=[],this.display=!1}sortDeck(){return this.deck.sort((r,i)=>r.name.localeCompare(i.name))}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-deck-viewer"]],inputs:{deck:"deck",display:"display"},decls:2,vars:1,consts:[[1,"cardRow","scrollBar"],["class","card",3,"card",4,"ngFor","ngForOf"],[1,"card",3,"card"]],template:function(r,i){1&r&&(m(0,"div",0),R(1,m2,1,1,"app-card",1),p()),2&r&&(C(1),b("ngForOf",i.sortDeck()))},dependencies:[pn,mr],styles:[".cardRow[_ngcontent-%COMP%]{flex-wrap:wrap;padding-top:5%}.card[_ngcontent-%COMP%]{margin:10px 5px;flex:0 0 10%;border-radius:5%;width:94%}.scrollBar[_ngcontent-%COMP%]{max-height:600px;overflow-y:auto}"]})}return e})();function y2(e,n){if(1&e){const t=de();m(0,"button",4),H("click",function(){return te(t),ne(M().nextStep())}),w(1," Next Slide"),p()}}function v2(e,n){if(1&e){const t=de();m(0,"button",4),H("click",function(){return te(t),ne(M().prevStep())}),w(1,"Previous Slide"),p()}}function _2(e,n){1&e&&(m(0,"div")(1,"h3"),w(2,"Super Gembag Wars"),p(),L(3,"br"),m(4,"p"),w(5,"This is a game about surviving a horde of enemies knocking at your wall. Your goal is to destroy the enemy deck while keeping your life above 0. "),p(),L(6,"br"),m(7,"p"),w(8,"To protect your life, you have a wall that will absorb attacks until it reach 0. Each square of wall represents 5 wall hp rounded up. "),p(),L(9,"br"),m(10,"p"),w(11,"When you attack the hoard, for each 1 damage you deal, the hoard discards a card from their deck."),p(),L(12,"img",5),p())}function C2(e,n){if(1&e&&(m(0,"div")(1,"h3"),w(2,"Understanding a Card"),p(),L(3,"app-card",6),m(4,"p"),w(5,"Every non-mine card has a cost consisting of Gems and gold."),p(),m(6,"p"),w(7,"You gain resources by playing mines"),p(),m(8,"p"),w(9,"This card costs 1 ruby and 1 gold"),p(),L(10,"app-card",6),m(11,"p"),w(12,"This is a basic mine. It will give you one gem right away and 1 gem at the start of each of your turns"),p(),m(13,"p"),w(14,"Basic mines are free to play, BUT you may only play one mine per turn"),p(),m(15,"p"),w(16,"You start the game with 4 gold and 1 basic gold mine"),p(),L(17,"img",7),m(18,"h3"),w(19,"Controls"),p(),m(20,"p"),w(21,"To play a card from your hand, double click on it. If a card is currently playable (it is the right time and you can afford it), then it will be highlighted in green. "),p(),m(22,"p"),w(23,"If a card is not playable, it will be highlighted in red."),p()()),2&e){const t=M();C(3),b("card",t.spell),C(7),b("card",t.mine)}}function w2(e,n){if(1&e&&(m(0,"div")(1,"p"),w(2,"Factions"),p(),L(3,"app-gembag",8),m(4,"p"),w(5,"In this game there are 5 factions each with their own gem. The 6th resource, gold, is used by all factions "),p(),m(6,"p"),w(7,"These icons are used to represent costs, current resources and income for the player"),p(),m(8,"p"),w(9,"For now, all cards will have a single faction."),p(),m(10,"p"),w(11,"Here's a little bit about the strengths and weaknesses of each faction:"),p(),L(12,"br")(13,"img",9),m(14,"p"),w(15,"Sun "),p(),m(16,"p"),w(17,"Strengths: Good attack and speed on creatures. Lots of damage."),p(),m(18,"p"),w(19,"Weaknesses: low HP creatures, good at destroying other's walls, bad at maintaining theirs"),p(),L(20,"br")(21,"img",10),m(22,"p"),w(23,"Ocean"),p(),m(24,"p"),w(25,"Strengths: Good healing and card draw, high HP creatures"),p(),m(26,"p"),w(27,"Weaknesses: Poor offensive creatures, lack of removal"),p(),L(28,"br")(29,"img",11),m(30,"p"),w(31,"Sky"),p(),m(32,"p"),w(33,"Strengths: Lots of flying, speedy, and dodging, good card draw"),p(),m(34,"p"),w(35,"Weaknesses: Low Hp creatures, low attack/hp creatures"),p(),L(36,"br")(37,"img",12),m(38,"p"),w(39,"Earth"),p(),m(40,"p"),w(41,"Strengths: High HP and Attack Creatures, good at getting gems"),p(),m(42,"p"),w(43,"Weaknesses: Low speed Creatures, no card draw"),p(),L(44,"br")(45,"img",13),m(46,"p"),w(47,"Moon and Stars"),p(),m(48,"p"),w(49,"Strengths: Kill enemy creatures, revive your own. Speedy creatures, Healing -however, not as good as Ocean "),p(),m(50,"p"),w(51,"Weaknesses: Creatures that start with low stats and buff up over time, no card draw "),p()()),2&e){const t=M();C(3),b("bag",t.gembag)("imgWidth",48)}}function D2(e,n){if(1&e&&(m(0,"div")(1,"p"),w(2,"Creature Stats"),p(),L(3,"app-card",6),m(4,"p"),w(5,"Each Creature has 3 stats:"),p(),L(6,"img",14),m(7,"p"),w(8," Attack - this determines how much damage the creature deals"),p(),L(9,"br")(10,"img",15),m(11,"p"),w(12,"HP - this determines how much damage a creature can take before dying"),p(),L(13,"br")(14,"img",16),m(15,"p"),w(16,"Speed - when fighting another creature this determines who goes first. In case of a tie, creaute deal damage simultaneously"),p(),L(17,"br"),m(18,"p"),w(19,"Any changes to stats are permanent, whether through spells or combat. Certain abilities can heal creatures, however."),p()()),2&e){const t=M();C(3),b("card",t.creature)}}function b2(e,n){if(1&e&&(m(0,"div")(1,"h2"),w(2,"Card Types"),p(),m(3,"div",17),L(4,"app-card",6)(5,"app-card",6)(6,"app-card",6),p(),m(7,"p"),w(8,"In this demo there are 3 card types: "),p(),m(9,"ul")(10,"li"),w(11,"Creatures - attacks, blocks, and has various abilities"),p(),m(12,"li"),w(13,"Spells - does a one use effect"),p(),m(14,"li"),w(15,"Mines - produces resources"),p()(),m(16,"p"),w(17,"More types are planned as the game is built out!"),p()()),2&e){const t=M();C(4),b("card",t.creature),C(1),b("card",t.spell),C(1),b("card",t.mine)}}function S2(e,n){1&e&&(m(0,"div")(1,"h2"),w(2,"Horde Phases"),p(),m(3,"p"),w(4,"Each Turn consists of several phases."),p(),m(5,"p"),w(6,"These phases different between the horde and the player. The horde's turns are automatic. Let's look at the horde first:"),p(),L(7,"br"),m(8,"p"),w(9,"Main - the horde draws and plays cards. The horde deck has 2 types of cards: Regular ones and minions"),p(),L(10,"img",18),m(11,"p"),w(12,"When drawing, the horde draws and plays minion cards until it draws and plays a regular card"),p(),L(13,"br"),m(14,"p"),w(15,"Combat - The horde will attack with all of its creatures. All horde creatures may attack right away. Attacking is signifier in 2 ways the card is rotated 90 degrees and the red sword appears over the card. "),p(),L(16,"img",19),m(17,"p"),w(18,"If the player chooses to block an attacker, the blocking creature will have a shield appear over them."),p(),L(19,"img",20),m(20,"p"),w(21,"The player may block horde creatures to prevent damage to themselves."),p(),m(22,"p"),w(23,"Blockers - the player may decide to block the horde's creatures. A blocked creature will not damage a player's wall or HP"),p(),L(24,"br"),m(25,"p"),w(26,"Combat Results - displays how much damage creatures have taken. If a creature becomes faded, it has taken enough damage to die."),p(),L(27,"img",21)(28,"br"),m(29,"p"),w(30,"End - any until end of turn effects wear off here. Some cards will activate here as well."),p(),m(31,"p"),w(32,"Should the horde play a card that requires any kind of decision making, it will choose targets randomly. "),p()())}function E2(e,n){1&e&&(m(0,"div")(1,"h2"),w(2,"Player Phases"),p(),m(3,"p"),w(4,"Now let's get into the player's phases:"),p(),m(5,"p"),w(6,"Main 1 - At the start of this phase you gain your income from your mines and all of your creatures turn upright, ready to attack again. You may play any cards you can afford during this phase. Anything you can play will be highlighted with a green border. Anything you cannot play will be highlighted in red."),p(),L(7,"br"),m(8,"p"),w(9,"Combat - This is more straight forward than the the horde. Pick what creatures you want to attack and they will damage the enemy's wall, and then once that's destroyed, their deck. However, any rotated creature may NOT block, so measure the risk/reward carefully. "),p(),L(10,"br"),m(11,"p"),w(12,"Main 2 - This occurs only when you attacked. No income, but you may play cards following the same rules as the previous main phase. When you are done with this phase, it swaps to the enemy's turn"),p()())}let dD=(()=>{class e{constructor(){this.step=0,this.cardService={},this.gembag=new T(1,1,1,1,1,1),this.tutorialDone=new ue,this.cardFa=new On(this.cardService),this.dmgEffect=new Wi(4,this.cardService,G.Single,g.Opponent,!1,!0),this.targeted=new mn("","",[O.Creature,O.Player],g.Opponent,[v.play],1,[this.dmgEffect],this.cardService),this.spell=new Ke("Fire Blast",new T(1,1),"","Deal 4 damage to any opponent or opponent's creature",[this.targeted],!0,g.Self,v.any,D.Sun),this.mine=this.cardFa.generateBasicMine(F.LionEye),this.creature=new N(2,2,2,"Goblin",new T(1,1),"","",!1,g.Self,v.any,D.Sun)}nextStep(){this.step++}prevStep(){this.step--,this.step<0&&(this.step=0)}done(){this.tutorialDone.emit()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-tutorial"]],inputs:{cardService:"cardService"},outputs:{tutorialDone:"tutorialDone"},decls:14,vars:9,consts:[[1,"mapColors","centerElement","mainMargins","tutorialHeight"],[2,"float","right","margin","15px",3,"click"],[3,"click",4,"ngIf"],[4,"ngIf"],[3,"click"],["src","assets/LifeTotals.png"],[3,"card"],["src","assets/Income.png"],[3,"bag","imgWidth"],["width","64px","src","assets/Ruby.png"],["width","64px","src","assets/Saphire.png"],["width","64px","src","assets/topaz.png"],["width","64px","src","assets/Emerald.png"],["width","64px","src","assets/eye.png"],["height","64px","src","assets/attackSymbol.png"],["height","64px","src","assets/HP Symbol.png"],["height","64px","src","assets/Speed Symbol.png"],[1,"cardRow"],["src","assets/Minions.png"],["src","assets/Attacking.png"],["src","assets/Blocking.png"],["src","assets/Result.png"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"button",1),H("click",function(){return i.done()}),w(2,"X"),p(),m(3,"h2"),w(4,"Tutorial"),p(),R(5,y2,2,0,"button",2),R(6,v2,2,0,"button",2),R(7,_2,13,0,"div",3),R(8,C2,24,2,"div",3),R(9,w2,52,2,"div",3),R(10,D2,20,1,"div",3),R(11,b2,18,3,"div",3),R(12,S2,33,0,"div",3),R(13,E2,13,0,"div",3),p()),2&r&&(C(5),b("ngIf",i.step<6),C(1),b("ngIf",i.step>0),C(1),b("ngIf",0===i.step),C(1),b("ngIf",1===i.step),C(1),b("ngIf",2===i.step),C(1),b("ngIf",3===i.step),C(1),b("ngIf",4===i.step),C(1),b("ngIf",5===i.step),C(1),b("ngIf",6===i.step))},dependencies:[ct,mr,Nc],styles:[".centerText[_ngcontent-%COMP%]{text-align:center}.alignCard[_ngcontent-%COMP%]{margin-left:50%}.windowDimensions[_ngcontent-%COMP%]{width:80%;height:90%;padding:10px}p[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], .margin[_ngcontent-%COMP%]{margin-left:15px}.tutorialHeight[_ngcontent-%COMP%]{height:80%}"]})}return e})();const M2=function(e,n){return{"top.px":e,"left.px":n}};function I2(e,n){if(1&e&&(m(0,"div",2)(1,"p",3),w(2),p(),m(3,"p"),w(4),p()()),2&e){const t=M();b("ngStyle",lc(3,M2,t.popupY,t.popupX)),C(2),un(t.relic.name),C(2),un(t.relic.description)}}let fD=(()=>{class e{constructor(){this.relic={},this.prefix="assets",this.popupVisible=!1,this.popupX=100,this.popupY=100}getImageSrc(){return"assets/"+this.relic.image}showPopup(t){this.popupVisible=!0,this.updatePopupPosition(t)}movePopup(t){this.updatePopupPosition(t)}hidePopup(){this.popupVisible=!1}updatePopupPosition(t){this.popupX=t.clientX+10,this.popupY=t.clientY+10}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-relic"]],inputs:{relic:"relic"},decls:2,vars:2,consts:[["width","64px","height","64px","alt","Your Image",1,"relic",3,"src","mouseover","mousemove","mouseout"],["class","popUp","class","popup",3,"ngStyle",4,"ngIf"],[1,"popup",3,"ngStyle"],[1,"relicHeader"]],template:function(r,i){1&r&&(m(0,"img",0),H("mouseover",function(s){return i.showPopup(s)})("mousemove",function(s){return i.movePopup(s)})("mouseout",function(){return i.hidePopup()}),p(),R(1,I2,5,6,"div",1)),2&r&&(Li("src",i.getImageSrc(),Pr),C(1),b("ngIf",i.popupVisible))},dependencies:[ct,jr],styles:[".relicHeader[_ngcontent-%COMP%]{color:#f3e712}"]})}return e})();function A2(e,n){1&e&&L(0,"app-relic",8),2&e&&b("relic",M().$implicit)}function T2(e,n){if(1&e&&(m(0,"div"),R(1,A2,1,1,"app-relic",7),p()),2&e){const t=n.$implicit;C(1),b("ngIf",void 0!==t)}}function k2(e,n){if(1&e&&(m(0,"div")(1,"p",9),w(2),p()()),2&e){const t=M();C(2),un(t.cardService.difficultyMods)}}function x2(e,n){if(1&e){const t=de();m(0,"div",10)(1,"button",11),H("click",function(){return te(t),ne(M().toggleShowDeck())}),w(2,"X"),p(),L(3,"app-deck-viewer",12),p()}if(2&e){const t=M();C(3),b("deck",t.deck)}}function P2(e,n){if(1&e){const t=de();m(0,"div",10)(1,"button",11),H("click",function(){return te(t),ne(M().toggleDisplayHelp())}),w(2,"X"),p(),L(3,"app-tutorial"),p()}}let O2=(()=>{class e{constructor(){this.showDeck=!1,this.displayHelp=!1,this.deck=[],this.relics=[],this.cardService={}}toggleShowDeck(){this.showDeck=!this.showDeck,this.displayHelp=!1}toggleDisplayHelp(){this.displayHelp=!this.displayHelp,this.showDeck=!1}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-header"]],inputs:{deck:"deck",relics:"relics",cardService:"cardService"},decls:13,vars:4,consts:[[1,"wrapper"],["id","MenuButtons"],[3,"click"],["id","Header"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","paneBg whiteFont popUp scrollBar",4,"ngIf"],[3,"relic",4,"ngIf"],[3,"relic"],[1,"whiteFont"],[1,"paneBg","whiteFont","popUp","scrollBar"],[1,"xButton",3,"click"],[1,"popUp",3,"deck"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"button",2),H("click",function(){return i.toggleShowDeck()}),m(3,"p"),w(4,"Show your Deck"),p()(),m(5,"button",2),H("click",function(){return i.toggleDisplayHelp()}),m(6,"p"),w(7,"How to play"),p()()(),m(8,"div",3),R(9,T2,2,1,"div",4),p(),R(10,k2,3,1,"div",5),R(11,x2,4,1,"div",6),R(12,P2,4,0,"div",6),p()),2&r&&(C(9),b("ngForOf",i.relics),C(1),b("ngIf",""!==i.cardService.difficultyMods),C(1),b("ngIf",i.showDeck),C(1),b("ngIf",i.displayHelp))},dependencies:[pn,ct,uD,dD,fD],styles:["#HowToPlay[_ngcontent-%COMP%]{position:fixed;left:auto;right:auto;width:80%;top:50px}.popUp[_ngcontent-%COMP%]{position:fixed;top:50px;z-index:999;scroll-behavior:auto;left:12%;right:12%;height:90%;width:80%}h3[_ngcontent-%COMP%]{margin-top:15px;font-size:30px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.scrollBar[_ngcontent-%COMP%]{overflow-y:auto}.xButton[_ngcontent-%COMP%]{position:absolute;z-index:1000;top:5px;right:5px}#Header[_ngcontent-%COMP%]{display:flex;min-height:64px}#MenuButtons[_ngcontent-%COMP%]{float:right}.wrapper[_ngcontent-%COMP%]{background-color:#0c0303}"]})}return e})();class th{constructor(n){this.cardAmount=1,this.mineAmount=2,this.goldMineAmount=2,this.cardService=n,this.cardFactory=new On(n)}addMinesToStarterDeck(n,t){this.cardFactory.getMinesBulk(t,5),this.cardFactory.getMinesBulk(F.Gold,4)}getAllFireCards(n){let t=this.fireDeck().filter(f=>f.type!==O.Mine),r=new N(5,5,2,"Troll Warrior",new T(0,3),"","Regenerate, set HP to full at the end of your turn",!1,n,v.deck,D.Sun,[],[P.Regenerate]),i=new ms(F.Ruby,2,this.cardService),o=new ut([i],"","",[re.Dies],this.cardService,n),s=new N(1,3,3,"Fire Gem Miner",new T(1,1),"","When this dies, add 2 Rubies to your gembag",!1,n,v.deck,D.Sun,[o]),a=new N(3,10,6,"T-Rex",new T(5,2),"","Siege, deals double damage to walls",!1,n,v.deck,D.Sun,[],[P.Siege]),c=new N(3,4,4,"Sun Knight",new T(2,1),"","Sentry - does not turn to attack. Sharpen - gains 1 attack at the start of each of your turns",!1,n,v.deck,D.Sun,[],[P.Sentry,P.Sharpen]),l=new Wi(7,this.cardService,G.All,g.Opponent,!1,!1,!0),u=new Oe([l],"","",this.cardService),d=new Ke("Wild Inferno",new T(5,2),"","Deal 7 damage to all enemy creatures",[u],!0,g.Self,v.deck,D.Sun);return t.push(r,s,a,c,d),t}getAllEarthCards(n){let t=this.earthDeck().filter(_=>_.type!==O.Mine),r=new N(15,15,2,"Stone Tyrant",new T(5,0,0,3),"","Repair 5 - at the start of each of your turns, your wall gains 5 hp.",!1,n,v.deck,D.Earth,[],[P.Repair],!1,ft.Rare);r.repairAmount=5;let i=new eF("",this.cardService,F.Emerald),o=new Xt("",this.cardService,G.Single,n),s=new ut([o,i],"","",[re.Start],this.cardService,g.Self,[v.play]),a=new N(3,3,3,"Miner Major",new T(3,0,0,2),"","At the start of each turn, add a mine and draw a card",!1,n,v.deck,D.Earth,[s],[],!1,ft.SuperRare),c=new N(15,0,0,"Stone Barricade",new T(2,0,0,2),"","",!1,g.Self,v.deck,D.Earth),l=new N(8,4,2,"Flex Tank",new T(0,0,0,4),"","Siege, Armorer, Engineer 4",!1,g.Self,v.deck,D.Earth,[],[P.Siege,P.Armorer,P.Engineer]);l.repairAmount=4;let u=new N(6,6,5,"Hammer Squad",new T(3,0,0,1),"","Siege",!1,g.Self,v.deck,D.Earth,[],[P.Siege]),d=new yn("",0,2,0,this.cardService,g.Self,G.All),f=new lt([d],"",this.cardService,""),h=new N(9,6,4,"Master Armorer",new T(5,0,0,2),"","Armorer, all your creatures get +0/+2/+0",!1,g.Self,v.deck,D.Earth,[f]),y=new N(3,3,3,"Dwarf Soldier",new T(1,0,0,1),"","",!1,g.Self,v.deck,D.Earth);return t.push(a,r,c,l,u,h,y),t}getAllAirCards(n){let t=[],r=new N(2,2,2,"Sky Knight",new T(1,0,0,0,0,1),"","",!1,n,v.deck,D.Sky),i=new N(1,1,1,"Bee Swarm",new T(0,0,0,0,0,3),"","Flying - Ignores enemy walls, deals damage directly to the opponent. At the start of each of your turns, this gains +1/+1/+1",!1,n,v.deck,D.Sky,[],[P.Armorer,P.Momentum,P.Sharpen,P.Flying]),o=new N(2,2,2,"Chaotic Clone",new T(4,0,0,0,0,1),"","At the start of each of your turns, make a 1/1/1 copy of this creature",!1,n,v.deck,D.Sky),s=new Yf(n,this.cardService,o),a=new ut([s],"","",[re.Start],this.cardService,n,[v.play]),c=new N(2,2,2,"Chaotic Clone",new T(4,0,0,0,0,1),"","At the start of each of your turns, make a 1/1/1 copy of this creature",!1,n,v.deck,D.Sky,[a]);return o.abilities.push(a),t.push(...this.airDeck(),r,i,c),t}getAllWaterCards(n){let t=[];t.push(...this.waterDeck());let r=new N(3,1,1,"Sea Snail",new T(0,0,1),"","",!1,n,v.deck,D.Neptune),i=new Xt("",this.cardService,G.Single,g.Self,1),o=new ut([i],"","",[re.MineCase],this.cardService,n,[v.play]),s=new N(3,2,3,"Otter Diver",new T(3,0,1),"","Whenever you play a mine, draw a card",!1,n,v.deck,D.Neptune,[o]);return t.push(r,s),t}getAllStarCards(n){let r,t=[];r=n===g.Self?g.Opponent:g.Self;let i=new iD("",this.cardService,1,n),o=new ut([i],"","",[re.CreatureCast,re.Start],this.cardService,n,[v.play]),s=new N(1,1,1,"Life Magician",new T(0,0,0,0,1),"","At the start of your turn, gain 1 life. Whenever you play a creature, gain 1 life",!1,n,v.deck,D.MoonAndStars,[o]),a=new iD("",this.cardService,3,n),c=new Xt("",this.cardService,G.Single,n,3),l=new Oe([a,c],"","",this.cardService),u=new Ke("Divine Eyes",new T(3,0,0,0,1),"","Draw 3 cards, gain 3 life",[l],!1,n,v.deck,D.MoonAndStars),d=new yn("",1,1,1,this.cardService,g.Any,G.Single),f=new ut([d],"","",[re.Dies],this.cardService,g.Any,[v.play]),h=new N(2,2,2,"Walker of Voids",new T(1,0,0,0,2),"","Whenever a creature dies, this creature gets +1/+1/+1 permanently",!1,n,v.deck,D.MoonAndStars,[f]),y=new nF(this.cardService,n,G.Single,v.hand),_=new ut([y],"","",[re.Dies],this.cardService,n,[v.discard]),E=new N(6,8,5,"Dead Diety",new T(3,0,0,0,3),"","Sentry - this creature does not turn to attack. If this is in the discard pile, return it to your hand whenever a creature dies",!1,n,v.hand,D.MoonAndStars,[_],[P.Sentry]);return t.push(...this.starDeck(n),s,u,h,E),t}fireDeck(){let n=[],t=0;for(;t<this.cardAmount;){let r=new N(4,6,4,"Great Dragon",new T(2,2),"","Flying, Sharpen",!1,g.Opponent,v.deck,D.Sun,[],[P.Sharpen,P.Flying]),i=new Wi(3,this.cardService,G.Single,g.Opponent,!1,!0,!1),o=new Oe([i],"Bolt","Deals 3 damage to the enemy player",this.cardService),s=new N(2,2,2,"Blast Boy",new T(1,1),"","When played, deal 3 damage to the enemy player",!1,g.Self,v.deck,D.Sun,[o]),a=new Wi(3,this.cardService,G.Single,g.Opponent,!1,!0,!0),c=new mn("","",[O.Creature],g.Any,[v.play],1,[a],this.cardService),l=new Ke("Fire Bolt",new T(0,1),"","3 damage to target creature",[c],!0,g.Self,v.deck,D.Sun),u=new N(1,3,5,"Fire Raptor",new T(1,1),"","Fast",!0,g.Self,v.deck,D.Sun),d=new yn("",3,0,3,this.cardService,g.Self,G.Single),f=new oF("",this.cardService,g.Self,G.Single),h=new sF("",[d,f],this.cardService,f.targeting),y=new mn("","",[O.Creature],g.Self,[v.play],1,[h],this.cardService),_=new Ke("Haste",new T(0,2),"","Target creature gets +3/+0/+3 and may attack the turn it came into play",[y],!0,g.Self,v.deck,D.Sun);n.push(r,s,l,u,_),t++}return n.push(...this.cardFactory.getMinesBulk(F.Ruby,this.mineAmount)),n.push(...this.cardFactory.getMinesBulk(F.Gold,this.goldMineAmount)),n}earthDeck(){let n=0,t=[];for(;n<this.cardAmount;){let r=new yn("Reduce HP and Speed",-3,-3,0,this.cardService,g.Any,G.Single),i=new mn("","",[O.Creature],g.Any,[v.play],1,[r],this.cardService),o=new Ke("Slow",new T(1,0,0,1),"","Target creature gets -0/-3/-3",[i],!0,g.Self,v.deck,D.Earth),s=new ms(F.Emerald,2,this.cardService),a=new Oe([s],"Add 2 emeralds on enter","",this.cardService),c=new N(3,4,3,"Verdant Warrior",new T(2,0,0,1),"","Adds 2 Emeralds on enter",!1,g.Self,v.deck,D.Earth,[a]),l=new N(2,2,1,"Dwarf Engineer",new T(0,0,0,1),"","Repair 3 - Repairs owners wall each turn by 3 hp",!1,g.Self,v.deck,D.Earth,[],[P.Repair]);l.repairAmount=3;let u=new N(6,6,3,"Battle Dwarf",new T(2,0,0,2,0,0),"assets//dwarf.png","",!1,g.Self,v.deck,D.Earth,[]);t.push(o,c,l,u),n++}return t.push(...this.cardFactory.getMinesBulk(F.Emerald,this.mineAmount)),t.push(...this.cardFactory.getMinesBulk(F.Gold,this.goldMineAmount)),t}airDeck(){let n=0,t=[];for(;n<this.cardAmount;){let r=new Xt("",this.cardService,G.Single,g.Opponent,1),i=new Oe([r],"","",this.cardService),o=new N(1,2,2,"Loyal Hawk",new T(1,0,0,0,0,1),"","Flying. On Enter, Draw a card",!1,g.Self,v.deck,D.Sky,[i],[P.Flying]),s=new N(2,2,1,"Agile Monk",new T(0,0,0,0,0,1),"","Dodge 2:if this creature would take damage instead remove a dodge counter.",!1,g.Self,v.deck,D.Sky,[],[P.Dodge]);s.dodgeAmount=2;let a=new Xt("",this.cardService,G.Single,g.Opponent,2),c=new Oe([a],"","",this.cardService),l=new Ke("Scout",new T(0,0,0,0,0,2),"","Draw 2 cards",[c],!1,g.Self,v.deck,D.Sky),u=new N(5,5,5,"Great Bird Monk",new T(3,0,0,0,0,2),"","Dodge 2, Flying",!1,g.Self,v.deck,D.Sky,[],[P.Dodge,P.Flying]);u.dodgeAmount=2,t.push(o,s,l,u),n++}return t.push(...this.cardFactory.getMinesBulk(F.Topaz,this.mineAmount)),t.push(...this.cardFactory.getMinesBulk(F.Gold,this.goldMineAmount)),t}waterDeck(){let n=0,t=[];for(;n<this.cardAmount;){let r=new yn("",0,0,-5,this.cardService,g.Any,G.Single),i=new mn("","",[O.Creature],g.Any,[v.play],1,[r],this.cardService),o=new Ke("Freeze",new T(0,0,1),"","Target creature gets -5/-0/-0",[i],!0,g.Self,v.deck,D.Neptune),s=new Xt("",this.cardService,G.Single,g.Self,1),a=new ut([s],"","",[re.Start],this.cardService,g.Self),c=new N(15,0,3,"Ice Rune Wall",new T(1,0,2),"","Draw a card at the start of each of your turns",!1,g.Self,v.deck,D.Neptune,[a]),l=new iF("",this.cardService,g.Self,G.All),u=new Oe([l],"","",this.cardService),d=new N(4,2,2,"Aqua Healer",new T(1,0,1),"","On enter, heal all of your creatures, fast - may be played at any time",!0,g.Self,v.deck,D.Neptune,[u]),f=new N(10,5,6,"King Serpent",new T(2,0,2),"","Regnerate - heal the end of your turn",!1,g.Self,v.deck,D.Neptune,[],[P.Regenerate]),h=new N(3,3,3,"Deep Sea Yeti",new T(1,0,2),"","Siege-double damage to walls",!1,g.Self,v.deck,D.Neptune,[],[P.Dodge,P.Siege]);h.dodgeAmount=1,t.push(o,c,d,f,h),n++}return t.push(...this.cardFactory.getMinesBulk(F.Sapphire,this.mineAmount)),t.push(...this.cardFactory.getMinesBulk(F.Gold,this.goldMineAmount)),t}starDeck(n){void 0===n&&(n=g.Self);let t=0,r=[];for(;t<this.cardAmount;){let i=new XN(this.cardService,g.Opponent,G.Single,[O.Creature]),o=new mn("","",[O.Creature],g.Opponent,[v.play],1,[i],this.cardService),s=new Ke("Death Beam",new T(1,0,0,0,1,0),"","Kill Target Creature an opponent controls",[o],!1,g.Self,v.deck,D.MoonAndStars),a=new N(1,1,2,"Wolf of the Stars",new T(0,0,0,0,1),"","Gain +1/+1/+0 each turn",!1,g.Self,v.deck,D.MoonAndStars,[],[P.Armorer,P.Sharpen]),c=new N(5,2,2,"Moon Healer",new T(2,0,0,0,1),"","Medic - Heal all other units you control at the start of your turn.",!1,g.Self,v.deck,D.MoonAndStars,[],[P.Medic]),l=new N(3,3,5,"Comet Trooper",new T(0,0,0,0,2),"","",!1,g.Self,v.deck,D.MoonAndStars,[],[P.Flying]),u=new N(2,2,2,"Time Sprite",new T(1,0,0,0,1),"","Flying. Gain +1/+1/+1 at the start of your turn.",!1,g.Self,v.any,D.MoonAndStars,[],[P.Armorer,P.Sharpen,P.Momentum,P.Flying]),d=new Yf(n,this.cardService,u,3),f=new Qf("",this.cardService,G.All,[v.play],g.Self,[P.Armorer,P.Sharpen,P.Momentum]),h=new Oe([d,f],"","",this.cardService),y=new Ke("Summon Star Squad",new T(1,0,0,0,4),"","Summon 3 2/2/2 sprites. All creatures you control gain +1/+1/+1 at the start of each of your turns.",[h],!1,g.Self,v.deck,D.MoonAndStars);r.push(s,a,c,l,y),t++}return r.push(...this.cardFactory.getMinesBulk(F.LionEye,this.mineAmount)),r.push(...this.cardFactory.getMinesBulk(F.Gold,this.goldMineAmount)),r}getAllNeutralCards(n){let t=[],r=new Xt("",this.cardService,G.Single,n,3),i=new Oe([r],"","",this.cardService),o=new Ke("Find Loot",new T(3),"","Draw 3 cards",[i],!1,n,v.deck,D.Colorless);return t.push(...this.neutralCards(n),o),t}neutralCards(n){let t=[],r=0;for(;r<this.cardAmount;){let i=new Xt("",this.cardService,G.Single,n,2),o=new Oe([i],"","",this.cardService),s=new Ke("Find Loot",new T(3),"","Draw 2 cards",[o],!1,n,v.deck,D.Colorless),a=new N(4,3,2,"Pikeman",new T(2),"assets//pikeman.png","",!1,n,v.deck,D.Colorless),c=new N(7,7,1,"Ironclad Mercenary",new T(4),"assets//Ironclad.png","",!1,n,v.deck,D.Colorless),l=new N(2,2,2,"Squire",new T(1),"","",!1,n,v.deck,D.Colorless);t.push(s,a,c,l),r++}return t}getEnemyDeck(n,t,r){void 0===r&&(r=F.Gold);let i=[];switch(void 0===t&&(t=0),r){case F.Gold:i.push(...this.neutralCards(g.Opponent));break;case F.Emerald:i.push(...this.earthDeck());break;case F.Ruby:i.push(...this.fireDeck());break;case F.LionEye:i.push(...this.starDeck());break;case F.Sapphire:i.push(...this.waterDeck());break;case F.Topaz:i.push(...this.airDeck())}let o=1;for(;o<5;){let a=this.cardFactory.generateAiBasicMinion(r,o,v.deck),c=this.cardFactory.generateAiMinion(r,o+n,v.deck);i.push(a,c),o++}for(let a=0;a<i.length;a++)i[a].owner=g.Opponent;let s=["Slow","Ice Rune Wall","Freeze"];return i=i.filter(a=>!s.includes(a.name)),i=i.filter(a=>a.type!==O.Spell),i=i.filter(a=>a.type!==O.Mine),i}getAllCards(n){let t=[];return t.push(...this.getAllFireCards(n)),t.push(...this.getAllEarthCards(n)),console.log(t),t}getRandomCards(n,t){let r=[];switch(r.push(...this.getAllNeutralCards(n)),t){case D.Any:r.push(...this.getAllCards(n));break;case D.Sun:r.push(...this.getAllFireCards(n));break;case D.Earth:r.push(...this.getAllEarthCards(n));break;case D.MoonAndStars:r.push(...this.getAllStarCards(n));break;case D.Neptune:r.push(...this.getAllWaterCards(n));break;case D.Sky:r.push(...this.getAllAirCards(n))}return r}}function R2(e,n){if(1&e){const t=de();m(0,"button",0),H("click",function(){return te(t),ne(M(2).deckChoosen())}),w(1,"Select this deck"),p()}}function N2(e,n){if(1&e&&(m(0,"div"),R(1,R2,2,0,"button",2),L(2,"app-deck-viewer",3),p()),2&e){const t=M();C(1),b("ngIf",t.showDeck()),C(1),b("deck",t.selectedDeck)}}let F2=(()=>{class e{constructor(){this.cardService={},this.player={},this.enemy={},this.decks={},this.selectedDeck=[],this.selectDeckEvent=new ue,this.showEarth=!1,this.showFire=!1,this.showAir=!1,this.showMoon=!1,this.showWater=!1}ngOnInit(){console.log(this.cardService),this.decks=new th(this.cardService)}swapView(t){switch(this.showAir=!1,this.showEarth=!1,this.showFire=!1,this.showWater=!1,this.showMoon=!1,t){case"air":this.showAir=!0,this.cardService.selectedFaction=D.Sky,this.selectedDeck=this.decks.airDeck();break;case"water":this.showWater=!0,this.cardService.selectedFaction=D.Neptune,this.selectedDeck=this.decks.waterDeck();break;case"fire":this.showFire=!0,this.cardService.selectedFaction=D.Sun,this.selectedDeck=this.decks.fireDeck();break;case"moon":this.showMoon=!0,this.cardService.selectedFaction=D.MoonAndStars,this.selectedDeck=this.decks.starDeck();break;case"earth":this.showEarth=!0,this.cardService.selectedFaction=D.Earth,this.selectedDeck=this.decks.earthDeck()}this.selectedDeck.push(...this.decks.neutralCards(g.Self))}showDeck(){return this.showFire||this.showAir||this.showEarth||this.showMoon||this.showWater}deckChoosen(){this.selectDeckEvent.emit(this.selectedDeck)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-deck-picker"]],inputs:{cardService:"cardService",player:"player",enemy:"enemy"},outputs:{selectDeckEvent:"selectDeckEvent"},decls:23,vars:1,consts:[[3,"click"],[4,"ngIf"],[3,"click",4,"ngIf"],[3,"deck"]],template:function(r,i){1&r&&(m(0,"h2"),w(1,"Select which deck you want to play"),p(),m(2,"p"),w(3,"Air is the faction of wisdom, flexibility, and flight. Air values freedom."),p(),m(4,"button",0),H("click",function(){return i.swapView("air")}),w(5,"View Air Starter Deck"),p(),m(6,"p"),w(7,"Water is the faction of logic, knowledge, and change. Water values truth."),p(),m(8,"button",0),H("click",function(){return i.swapView("water")}),w(9,"View Water Starter Deck"),p(),m(10,"p"),w(11,"Earth is the faction of loyalty, hardiness, and mining. Earth values order."),p(),m(12,"button",0),H("click",function(){return i.swapView("earth")}),w(13,"View Earth Starter Deck"),p(),m(14,"p"),w(15,"Fire is the faction of offense, impulse, and emotion. Fire values passion."),p(),m(16,"button",0),H("click",function(){return i.swapView("fire")}),w(17,"View Fire Starter Deck"),p(),m(18,"p"),w(19,"Moon and Stars is the faction of life, death, and the cosmos. They value mystery and paradox.\n"),p(),m(20,"button",0),H("click",function(){return i.swapView("moon")}),w(21,"View Moon and Stars Deck"),p(),R(22,N2,3,2,"div",1)),2&r&&(C(22),b("ngIf",i.showDeck()))},dependencies:[ct,uD],styles:[".popUp[_ngcontent-%COMP%]{position:fixed;top:50px;z-index:999999;scroll-behavior:auto;left:7%;right:15%}button[_ngcontent-%COMP%]{margin-bottom:10px}"]})}return e})();var ge=function(e){return e[e.Random=0]="Random",e[e.Event=1]="Event",e[e.Battle=2]="Battle",e[e.Relic=3]="Relic",e[e.Chest=4]="Chest",e[e.Pack=5]="Pack",e[e.Boss=6]="Boss",e}(ge||{});class V2{constructor(n,t){this.nodes=[],this.columnPos=n,this.nodes=t}}class bt{constructor(n,t,r,i,o){this.nextNodes=[],this.rewards=[],this.image="",this.description="",this.nodeType=n,this.difficulty=t,this.nodePos=i,void 0!==o&&(this.rewards=o),this.image=this.getImage(),this.cardService=r,this.decks=new th(this.cardService),this.setDescription()}setDescription(){switch(this.nodeType){case ge.Random:this.description="Random - Anything can happen";break;case ge.Battle:this.description="Battle - Fight a horde, get a reward";break;case ge.Relic:this.description="Relic Chest - Gain a permanent passive buff";break;case ge.Boss:this.description="Boss Battle - A harder fight, bosses gain randomized boosts";break;case ge.Event:this.description="Event - Anything can happen";break;case ge.Pack:this.description="Pack - Choose 1 of 3 cards"}}getImage(){let n="assets/";switch(this.nodeType){case ge.Random||ge.Event:return n+"random.png";case ge.Battle:return n+"battle.png";case ge.Relic||ge.Chest:return n+"chest.png";case ge.Boss:return n+"boss.png";case ge.Pack:return n+"pack.png";default:return""}}makeEnemyDeck(){let n=Math.floor(6*Math.random());this.decks.cardAmount=2;let t=this.decks.getEnemyDeck(this.difficulty,1,n);return this.decks.cardAmount=4,t}makeBossDeck(){let n=new B2(this.cardService),t=Math.floor(6*Math.random()),r=this.decks.getEnemyDeck(this.difficulty,1,t);this.cardService.cardList.push(...r),n.applyDifficultyBoosters(1,t)}Visit(n){switch(this.nodeType){case ge.Random:break;case ge.Battle:let t=this.makeEnemyDeck();this.cardService.cardList.push(...t);break;case ge.Relic:break;case ge.Boss:this.makeBossDeck()}}}class B2{constructor(n){this.enemyDeck=[],this.difficulty=0,this.description="",this.cardService=n}applyDifficultyBoosters(n,t){for(let r=0;r<n;r++)switch(Ne(1,7)){case 1:this.extraPull(),this.description+="Every turn, the enemy flips over cards a second time. ";break;case 2:this.moreSpeed(2),this.description+="All enemy creatures get +2 speed. ";break;case 3:this.moreAttack(2),this.description+="All enemy creatures get +2 attack. ";break;case 4:this.moreHp(2),this.description+="All enemy creatures get +2 HP. ";break;case 5:this.moreMinions(5,t),this.description+="The enemy deck has 10 more minions. ";break;case 6:this.addBoss(4,t),this.description+="The enemy deck has 4 extra elite creatures. ";break;case 7:this.addRandomKeyword(),this.description+="Enemy creatures all have a random extra keyword. "}this.cardService.difficultyMods=this.description,console.log(this.cardService.difficultyMods)}extraPull(){this.cardService.playerService.opponent.pullsPerTurn++}moreSpeed(n){let t=this.cardService.getCards(v.any,g.Opponent,O.Creature);for(let r=0;r<t.length;r++)t[r].speed+=n}moreAttack(n){let t=this.cardService.getCards(v.any,g.Opponent,O.Creature);for(let r=0;r<t.length;r++)t[r].attack+=n}moreHp(n){let t=this.cardService.getCards(v.any,g.Opponent,O.Creature);for(let r=0;r<t.length;r++){let i=t[r];i.baseHp+=n,i.hp=i.baseHp}}addBoss(n,t){let r=new On(this.cardService);for(let i=0;i<n;i++){let o=Ne(5,8),s=r.generateAiMinion(t,o,v.deck);s.isMinion=!1,s.name="Elite",s.owner=g.Opponent,this.cardService.cardList.push(s)}}moreMinions(n,t){let r=new On(this.cardService);for(let i=0;i<n;i++){let o=Ne(1,5),s=r.generateAiBasicMinion(t,o,v.deck);s.owner=g.Opponent,this.cardService.cardList.push(s),o=Ne(1,5);let a=r.generateAiMinion(t,o,v.deck);a.owner=g.Opponent,this.cardService.cardList.push(a)}}addRandomKeyword(){let n=this.cardService.getCards(v.any,g.Opponent,O.Creature);for(let t=0;t<n.length;t++){let r=Ne(0,15),i=n[t];i.keywords.includes(r)||i.keywords.push(r)}}}function j2(e,n){if(1&e&&(m(0,"div",13),w(1),p()),2&e){const t=M().$implicit;C(1),Le(" ",t.description," ")}}const H2=function(e,n){return{nodeImage:e,prevNode:n}};function $2(e,n){if(1&e){const t=de();m(0,"div",10),H("click",function(){const o=te(t).$implicit,s=M().$implicit,a=M();return ne(s.columnPos===a.cardService.currentPos?a.selectNode(o):null)})("mouseenter",function(){const o=te(t).$implicit;return ne(M(2).showDescription=o.description)})("mouseleave",function(){return te(t),ne(M(2).showDescription="")}),L(1,"img",11),R(2,j2,2,1,"div",12),p()}if(2&e){const t=n.$implicit,r=M().$implicit,i=M();b("ngClass",lc(3,H2,r.columnPos===i.cardService.currentPos,r.columnPos<i.cardService.currentPos)),C(1),b("src",t.image,Pr),C(1),b("ngIf",i.showDescription===t.description)}}function U2(e,n){if(1&e&&(m(0,"div"),R(1,$2,3,6,"div",9),p()),2&e){const t=n.$implicit;C(1),b("ngForOf",t.nodes)}}let G2=(()=>{class e{constructor(){this.player={},this.cardService={},this.enemyDeckEvent=new ue,this.rewardSelectEvent=new ue,this.packSelectEvent=new ue,this.enemyDeck=[],this.currentPos=0,this.nodes=[],this.displayNodes=[],this.showDescription=""}ngOnInit(){this.player.cardService=this.cardService,this.nodes=[new bt(ge.Relic,1,this.cardService,0),new bt(ge.Battle,1,this.cardService,1),new bt(ge.Pack,1,this.cardService,2),new bt(ge.Battle,1,this.cardService,3),new bt(Ne(2,5),1,this.cardService,4),new bt(Ne(2,5),1,this.cardService,4),new bt(Ne(2,5),1,this.cardService,5),new bt(Ne(2,5),1,this.cardService,5),new bt(Ne(2,5),1,this.cardService,6),new bt(Ne(2,5),1,this.cardService,6),new bt(Ne(2,5),1,this.cardService,6),new bt(ge.Battle,1,this.cardService,7),new bt(ge.Relic,1,this.cardService,8),new bt(Ne(1,5),1,this.cardService,9),new bt(ge.Boss,1,this.cardService,10)],this.getDisplayNodes()}getDisplayNodes(){let t=Math.max(...this.nodes.map(r=>r.nodePos),0);for(let r=0;r<=t;r++){let i=this.nodes.filter(o=>o.nodePos===r);this.displayNodes.push(new V2(r,i))}}selectNode(t){t.nodePos===this.cardService.currentPos&&(t.Visit(this.player),this.cardService.currentPos++,t.nodeType===ge.Battle?this.enemyDeckEvent.emit():t.nodeType===ge.Relic||t.nodeType===ge.Chest?this.rewardSelectEvent.emit():t.nodeType===ge.Boss?this.enemyDeckEvent.emit():t.nodeType===ge.Pack&&this.packSelectEvent.emit())}getFutureNodes(){return this.nodes.filter(r=>r.nodePos>this.player.currentPos)}getCurrentNodes(){return this.nodes.filter(r=>r.nodePos===this.player.currentPos)}getPreviousNodes(){return this.nodes.filter(r=>r.nodePos<this.player.currentPos)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-map"]],inputs:{player:"player",cardService:"cardService",currentPos:"currentPos"},outputs:{enemyDeckEvent:"enemyDeckEvent",rewardSelectEvent:"rewardSelectEvent",packSelectEvent:"packSelectEvent"},decls:27,vars:1,consts:[[1,"mapColors","legend"],["src","assets/battle.png",1,"centerElement"],["src","assets/random.png",1,"centerElement"],["src","assets/chest.png",1,"centerElement"],["src","assets/pack.png",1,"centerElement"],["src","assets/boss.png",1,"centerElement"],[1,"whiteFont","centerText"],[1,"mapColors","cardRow",2,"margin-left","auto","margin-right","auto","width","70%"],[4,"ngFor","ngForOf"],["class","node-container",3,"ngClass","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],[1,"node-container",3,"ngClass","click","mouseenter","mouseleave"],[3,"src"],["class","node-popup",4,"ngIf"],[1,"node-popup"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"h2"),w(2,"Legend"),p(),L(3,"br"),m(4,"p"),w(5,"Battle"),p(),L(6,"img",1)(7,"br"),m(8,"p"),w(9,"Random Event"),p(),L(10,"img",2)(11,"br"),m(12,"p"),w(13,"Relics"),p(),L(14,"img",3)(15,"br"),m(16,"p"),w(17,"Card Pack"),p(),L(18,"img",4)(19,"br"),m(20,"p"),w(21,"Boss Battle"),p(),L(22,"img",5),p(),m(23,"h2",6),w(24,"Select where you want to go on the map"),p(),m(25,"div",7),R(26,U2,2,1,"div",8),p()),2&r&&(C(26),b("ngForOf",i.displayNodes))},dependencies:[hs,pn,ct],styles:[".prevNode[_ngcontent-%COMP%]{opacity:.3}.legend[_ngcontent-%COMP%]{border:solid 5px black;padding:10px;float:right;width:10rem;text-align:center}.nodeImage[_ngcontent-%COMP%]{cursor:pointer;animation:_ngcontent-%COMP%_shrinkGrow 1.5s infinite ease-in-out;transition:transform .3s ease}@keyframes _ngcontent-%COMP%_shrinkGrow{0%{transform:scale(1.4)}50%{transform:scale(1)}to{transform:scale(1.4)}}.column[_ngcontent-%COMP%]{flex-direction:column}.node-container[_ngcontent-%COMP%]{position:relative}.node-popup[_ngcontent-%COMP%]{position:absolute;top:50px;left:50%;transform:translate(-50%);background-color:#fff;border:1px solid #ccc;z-index:10;width:200px;box-shadow:0 4px 8px #0003;font-size:14px;display:none;font-size:.7rem;width:10rem;height:auto;border:white solid 2px;background-image:linear-gradient(to bottom left,rgb(0,0,0),rgb(87,87,87));color:#fff;padding:5px 10px;border-radius:5px;font-family:Verdana,Geneva,Tahoma,sans-serif}.node-container[_ngcontent-%COMP%]:hover   .node-popup[_ngcontent-%COMP%]{display:block}"]})}return e})();function z2(e,n){if(1&e){const t=de();m(0,"app-relic",6),H("click",function(){const o=te(t).$implicit;return ne(M(2).setRelic(o))}),p()}2&e&&b("relic",n.$implicit)}function W2(e,n){if(1&e&&(m(0,"div"),R(1,z2,1,1,"app-relic",5),p()),2&e){const t=M();C(1),b("ngForOf",t.relics)}}let q2=(()=>{class e{constructor(){this.cardService={},this.faction=0,this.mode=tD.Random,this.rewardTypes=[],this.selectedRelic=new ue,this.proceed=new ue,this.relicManager={},this.cardFactory=new On(this.cardService),this.rewards=[],this.hideRelics=!1,this.relics=[]}ngOnInit(){console.log(this.cardService),this.relicManager=new Kf(this.cardService),this.getRelics()}getRelics(){for(let t=0;t<3;t++)this.relics.push(this.relicManager.getRandomRelic())}setRelic(t){this.hideRelics=!0,this.selectedRelic.emit(t)}done(){this.proceed.emit()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-chest"]],inputs:{cardService:"cardService",faction:"faction",mode:"mode",rewardTypes:"rewardTypes"},outputs:{selectedRelic:"selectedRelic",proceed:"proceed"},decls:7,vars:1,consts:[[1,"mainMargins","mapColors","centerElement"],[1,"centerElement","relicBar"],[1,"centerText"],[4,"ngIf"],[1,"centerElement",3,"click"],["class","relic",3,"relic","click",4,"ngFor","ngForOf"],[1,"relic",3,"relic","click"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"h2",2),w(3,"Select a new Relic"),p(),R(4,W2,2,1,"div",3),m(5,"button",4),H("click",function(){return i.done()}),w(6,"Proceed"),p()()()),2&r&&(C(4),b("ngIf",!1===i.hideRelics))},dependencies:[pn,ct,fD],styles:[".relic[_ngcontent-%COMP%]{cursor:pointer;margin-left:15px;margin-right:15px}.relicBar[_ngcontent-%COMP%]{width:26%}"]})}return e})();function Z2(e,n){if(1&e){const t=de();m(0,"span",5)(1,"app-card",6),H("click",function(){const o=te(t).$implicit;return ne(M(2).selectCard(o))}),p()()}if(2&e){const t=n.$implicit;C(1),b("card",t)}}function Y2(e,n){if(1&e&&(m(0,"div",2)(1,"h2",3),w(2,"Select a new card for your deck"),p(),R(3,Z2,2,1,"span",4),p()),2&e){const t=M();C(3),b("ngForOf",t.displayCards)}}let Q2=(()=>{class e{constructor(){this.cardservice={},this.cardAmount=3,this.faction=D.Any,this.cardSelectedEvent=new ue,this.proceed=new ue,this.showCards=!0,this.deckStorage=new th(this.cardservice),this.displayCards=[]}ngOnInit(){let t=this.deckStorage.getRandomCards(g.Self,this.cardservice.selectedFaction);for(let r=0;r<this.cardAmount;r++){let i=Ne(0,t.length),o=t[i];this.displayCards.includes(o)?r--:(this.displayCards.push(o),t.slice(i,1),this.showCards=!0)}}selectCard(t){this.showCards=!1,this.cardservice.cardList.push(t)}done(){this.proceed.emit()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-pack"]],inputs:{cardservice:"cardservice",cardAmount:"cardAmount",faction:"faction"},outputs:{cardSelectedEvent:"cardSelectedEvent",proceed:"proceed"},decls:3,vars:1,consts:[["class","cardRow fireColors",4,"ngIf"],[3,"click"],[1,"cardRow","fireColors"],[1,"whiteFont"],["class","selectCard",4,"ngFor","ngForOf"],[1,"selectCard"],[3,"card","click"]],template:function(r,i){1&r&&(R(0,Y2,4,1,"div",0),m(1,"button",1),H("click",function(){return i.done()}),w(2,"Proceed"),p()),2&r&&b("ngIf",i.showCards)},dependencies:[pn,ct,mr],styles:[".selectCard[_ngcontent-%COMP%]:hover{cursor:pointer}"]})}return e})();const hD=function(e){return{fadeIn:e}};function K2(e,n){if(1&e&&(m(0,"div",6)(1,"p"),w(2,"Your Turn"),p()()),2&e){const t=M();b("ngClass",dn(1,hD,t.game.phaseManager.showTurnPlayer))}}function X2(e,n){if(1&e&&(m(0,"div",7)(1,"p"),w(2,"Enemy Turn"),p()()),2&e){const t=M();b("ngClass",dn(1,hD,t.game.phaseManager.showTurnEnemy))}}function J2(e,n){if(1&e){const t=de();m(0,"app-tutorial",11),H("tutorialDone",function(){return te(t),ne(M(2).done())}),p()}}function eL(e,n){if(1&e){const t=de();m(0,"button",15),H("click",function(){return te(t),ne(M(3).showTutorial=!0)}),w(1,"Tutorial"),p()}}function tL(e,n){if(1&e){const t=de();m(0,"div",12)(1,"p"),w(2,"New to Gembag wars? Start here:"),p(),R(3,eL,2,0,"button",13),m(4,"app-deck-picker",14),H("selectDeckEvent",function(i){return te(t),ne(M(2).setPlayerDeck(i))}),p(),L(5,"br"),p()}if(2&e){const t=M(2);C(3),b("ngIf",!t.showTutorial&&!t.showBattle),C(1),b("cardService",t.cardService)("enemy",t.enemy)("player",t.player)}}function nL(e,n){if(1&e&&(m(0,"div",8)(1,"div",8),R(2,J2,1,0,"app-tutorial",9),p(),R(3,tL,6,4,"div",10),p()),2&e){const t=M();C(2),b("ngIf",t.showTutorial&&!t.showBattle),C(1),b("ngIf",!t.showBattle&&!t.showTutorial&&!t.showPack)}}function rL(e,n){if(1&e){const t=de();m(0,"button",24),H("click",function(){return te(t),ne(M(4).game.phaseManager.passTurn())}),w(1,"Pass Turn"),p()}}function iL(e,n){if(1&e){const t=de();m(0,"div",22),H("mouseover",function(i){return te(t),ne(M(3).showPopup(i))})("mousemove",function(i){return te(t),ne(M(3).movePopup(i))})("mouseout",function(){return te(t),ne(M(3).hidePopup())}),m(1,"h3"),w(2),p(),m(3,"h3"),w(4),p(),m(5,"button",15),H("click",function(){return te(t),ne(M(3).game.phaseManager.nextPhase())}),w(6,"Next Phase"),p(),R(7,rL,2,0,"button",23),p()}if(2&e){const t=M(3);C(2),Le("Current Turn: ",t.game.currentTurn.name,""),C(2),Le("Current Phase: ",t.game.phaseDisplay,""),C(3),b("ngIf",t.isPassableTime())}}function oL(e,n){if(1&e&&(m(0,"div"),R(1,iL,8,3,"div",21),p()),2&e){const t=M(2);C(1),b("ngIf",t.player.hp>0&&t.player.cardService.getCards(4,1).length>0)}}function sL(e,n){if(1&e){const t=de();m(0,"div",25)(1,"h3"),w(2,"You lose!"),p(),m(3,"button",15),H("click",function(){return te(t),ne(M(2).backToMenu())}),w(4,"Back to Main Menu"),p()()}}function aL(e,n){if(1&e){const t=de();m(0,"div",25)(1,"h3"),w(2,"You Win!"),p(),m(3,"button",15),H("click",function(){return te(t),ne(M(2).randomReward())}),w(4,"Get Rewards"),p()()}}function cL(e,n){if(1&e&&(m(0,"div"),R(1,oL,2,1,"div",4),R(2,sL,5,0,"div",16),R(3,aL,5,0,"div",16),m(4,"div",17)(5,"div",18),L(6,"app-ai",19),p(),m(7,"div",18),L(8,"app-player",20),p()()()),2&e){const t=M();C(1),b("ngIf",!t.player.stopPhases&&!t.enemy.stopPhases),C(1),b("ngIf",t.player.hp<=0),C(1),b("ngIf",t.player.cardService.getCards(4,1).length<=0),C(3),b("hoard",t.enemy)("game",t.game),C(2),b("Player",t.player)("game",t.game)}}function lL(e,n){if(1&e){const t=de();m(0,"div")(1,"app-map",26),H("rewardSelectEvent",function(){return te(t),ne(M().chestReady())})("packSelectEvent",function(){return te(t),ne(M().packReady())})("enemyDeckEvent",function(){return te(t),ne(M().enemyReady())}),p()()}if(2&e){const t=M();C(1),b("player",t.player)("cardService",t.cardService)}}function uL(e,n){if(1&e){const t=de();m(0,"div")(1,"app-chest",27),H("selectedRelic",function(i){return te(t),ne(M().addRelic(i))})("proceed",function(){return te(t),ne(M().backToMap())}),p()()}if(2&e){const t=M();C(1),b("cardService",t.cardService)}}function dL(e,n){if(1&e){const t=de();m(0,"div")(1,"app-pack",28),H("cardSelectedEvent",function(i){return te(t),ne(M().addCard(i))})("proceed",function(){return te(t),ne(M().backToMap())}),p()()}if(2&e){const t=M();C(1),b("cardservice",t.cardService)}}const fL=function(e,n){return{"top.px":e,"left.px":n}};function hL(e,n){if(1&e&&(m(0,"div",29)(1,"p"),w(2),p(),m(3,"p"),w(4),p()()),2&e){const t=M();b("ngStyle",lc(3,fL,t.popupY,t.popupX)),C(2),un(t.game.phaseDisplay),C(2),un(t.game.phaseManager.getPhaseText())}}let pD=(()=>{class e{ngOnInit(){if(this.player=new Jt(this.cardService),this.enemy=new Zi(this.cardService),this.cardService.makePlayerService(this.player,this.enemy),this.game=new eh(this.player,this.enemy,this.cardService),this.cardService.cardList.push(...this.playerDeck),this.player.cardService=this.cardService,this.enemy.cardService=this.cardService,new Kf(this.cardService),this.player.hasRelic("Lucky Coin")){let r=this.player.relics.filter(i=>"Lucky Coin"===i.name);this.player.startingGold+=r.length}this.player.applyStaticAbilities()}constructor(){this.winner=!1,this.spellNeedsTargets=!1,this.showBattle=!1,this.showTutorial=!1,this.showMap=!1,this.showChest=!1,this.showPack=!1,this.cardService=new uF,this.player={},this.enemy=new Zi(this.cardService),this.game={},this.playerDeck=[],this.popupVisible=!1,this.popupX=100,this.popupY=100}handleKeyboardE(t){this.canProgressTurn()&&this.game.phaseManager.nextPhase()}handleKeyboardSpace(t){this.canProgressTurn()&&this.game.phaseManager.nextPhase()}canProgressTurn(){return!this.player.stopPhases&&!this.enemy.stopPhases&&this.player.hp>0&&this.enemy.getAllCards().length>0}isPassableTime(){return(1===this.game.currentPhase||2===this.game.currentPhase||3===this.game.currentPhase||4===this.game.currentPhase||5===this.game.currentPhase)&&this.game.currentTurn===this.game.player}setPlayerDeck(t){this.cardService.cardList.push(...t),this.cardService.shuffleDeck(this.cardService.cardList),this.showMap=!0,this.player.drawCards(6);let r=this.cardService.getCards(v.deck,g.Self,O.Mine);for(let i=0;i<r.length;i++){let o=r[i];if(o.faction!==D.Colorless){o.zone=v.hand;break}}}enemyReady(){this.cardService.shuffleDeck(this.cardService.cardList);let t=this.player.relics;console.log(this.cardService.staticEffects);for(let r=0;r<t.length;r++)this.player.processAbilities(t[r]);this.showMap=!1,this.showBattle=!0}chestReady(){this.showMap=!1,this.showChest=!0}packReady(){this.showPack=!0,this.showMap=!1}randomReward(){this.showBattle=!1,this.cardService.resetCreatures(),console.log(this.cardService.cardList),Ne(1,100)<75?this.packReady():this.chestReady()}backToMap(){this.showMap=!0,this.showBattle=!1,this.showChest=!1,this.showPack=!1,console.log(this.cardService.staticEffects),this.cardService.reset(),this.cardService.shuffleDeck(this.cardService.cardList),this.cardService.drawInitialHand(),this.game.phaseManager.resetPhase(),this.cardService.difficultyMods="",this.player.currentPos++,this.player.minesPlayed=0,this.player.applyStaticAbilities()}backToMenu(){this.cardService.nodePos=0,this.showBattle=!1,this.showMap=!1,this.cardService.cardList=[],this.player.hp=40,this.player.wall.hp=20,this.game.currentTurn=this.player,this.game.phaseManager.resetPhase(),this.cardService.difficultyMods="",this.player.incomeBag.resetIncome(),this.player.gembag.resetStarting(),this.player.resetMines(),this.player.relics=[]}addRelic(t){this.player.addRelic(t)}addCard(t){this.cardService.cardList.push(t)}done(){this.showTutorial=!1}showPopup(t){this.popupVisible=!0,this.updatePopupPosition(t)}movePopup(t){this.updatePopupPosition(t)}hidePopup(){this.popupVisible=!1}updatePopupPosition(t){this.popupX=t.clientX+10,this.popupY=t.clientY+10}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-game"]],hostBindings:function(r,i){1&r&&H("keyup.e",function(s){return i.handleKeyboardE(s)},0,rd)("keyup.space",function(s){return i.handleKeyboardSpace(s)},!1,rd)},inputs:{playerDeck:"playerDeck"},decls:9,vars:11,consts:[[3,"relics","deck","cardService"],["class","turnPopUp whiteFont fadeIn",3,"ngClass",4,"ngIf"],["class","turnPopUp whiteFont",3,"ngClass",4,"ngIf"],["class","",4,"ngIf"],[4,"ngIf"],["class","popUp","class","popup",3,"ngStyle",4,"ngIf"],[1,"turnPopUp","whiteFont","fadeIn",3,"ngClass"],[1,"turnPopUp","whiteFont",3,"ngClass"],[1,""],[3,"tutorialDone",4,"ngIf"],["class","centerElement mapColors mainMargins",4,"ngIf"],[3,"tutorialDone"],[1,"centerElement","mapColors","mainMargins"],[3,"click",4,"ngIf"],[3,"cardService","enemy","player","selectDeckEvent"],[3,"click"],["class","uiPanel paneBg turnDisplay whiteFont noMargin",4,"ngIf"],[1,"fireColors"],[1,"playerArea"],[1,"noMargin",3,"hoard","game"],[1,"noMargin",3,"Player","game"],["class","uiPanel paneBg turnDisplay whiteFont noMargin",3,"mouseover","mousemove","mouseout",4,"ngIf"],[1,"uiPanel","paneBg","turnDisplay","whiteFont","noMargin",3,"mouseover","mousemove","mouseout"],["style","margin-left: 2%;",3,"click",4,"ngIf"],[2,"margin-left","2%",3,"click"],[1,"uiPanel","paneBg","turnDisplay","whiteFont","noMargin"],[3,"player","cardService","rewardSelectEvent","packSelectEvent","enemyDeckEvent"],[3,"cardService","selectedRelic","proceed"],[3,"cardservice","cardSelectedEvent","proceed"],[1,"popup",3,"ngStyle"]],template:function(r,i){1&r&&(L(0,"app-header",0),R(1,K2,3,3,"div",1),R(2,X2,3,3,"div",2),R(3,nL,4,2,"div",3),R(4,cL,9,7,"div",4),R(5,lL,2,2,"div",4),R(6,uL,2,1,"div",4),R(7,dL,2,1,"div",4),R(8,hL,5,6,"div",5)),2&r&&(b("relics",i.player.relics)("deck",i.player.getAllCards())("cardService",i.cardService),C(1),b("ngIf",i.game.phaseManager.showTurnPlayer),C(1),b("ngIf",i.game.phaseManager.showTurnEnemy),C(1),b("ngIf",!(i.showBattle||i.showMap||i.showChest||i.showPack)),C(1),b("ngIf",i.showBattle),C(1),b("ngIf",i.showMap),C(1),b("ngIf",i.showChest),C(1),b("ngIf",i.showPack),C(1),b("ngIf",i.popupVisible))},dependencies:[hs,ct,jr,c2,g2,O2,F2,dD,G2,q2,Q2],styles:[".displayRow[_ngcontent-%COMP%]{display:flex;flex-flow:row;justify-content:space-between}.turnDisplay[_ngcontent-%COMP%]{position:fixed;padding:10px;bottom:52%;right:0;top:34%}.turnPopUp[_ngcontent-%COMP%]{position:absolute;border:2px solid white;background-color:#000;width:95%;left:2.5%;right:2.5%;text-align:center;top:50%;padding:3px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}.fighting[_ngcontent-%COMP%]{transform:translateY(50px)}.attacker[_ngcontent-%COMP%], .blocker[_ngcontent-%COMP%]{display:inline-block;transition:transform .3s ease-in-out}.attacker[_ngcontent-%COMP%]{border-color:#f6a5a5}.blocker[_ngcontent-%COMP%]{border-color:#6b81ff}.battleBg[_ngcontent-%COMP%]{background-color:#90ff7991}.fireGradient[_ngcontent-%COMP%]{background-image:linear-gradient(rgb(8,8,8),rgb(141,79,42));background-size:100% 200%;animation:_ngcontent-%COMP%_fireFlare 30s infinite ease-in-out}@keyframes _ngcontent-%COMP%_fireFlare{0%{background-position:0% 0%;background-image:linear-gradient(rgb(8,8,8),rgb(141,79,42))}25%{background-position:0% 100%;background-image:linear-gradient(rgb(8,8,8),rgb(192,88,52))}50%{background-position:0% 0%;background-image:linear-gradient(rgb(8,8,8),rgb(171,69,32))}75%{background-position:0% 100%;background-image:linear-gradient(rgb(8,8,8),rgb(141,79,42))}to{background-position:0% 0%;background-image:linear-gradient(rgb(8,8,8),rgb(192,88,52))}}"]})}return e})(),pL=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&L(0,"app-game")},dependencies:[pD]})}return e})();const{isArray:mL}=Array,{getPrototypeOf:yL,prototype:vL,keys:_L}=Object;const{isArray:wL}=Array;function nh(...e){const n=uo(e),t=function yp(e){return De(wl(e))?e.pop():void 0}(e),{args:r,keys:i}=function gD(e){if(1===e.length){const n=e[0];if(mL(n))return{args:n,keys:null};if(function CL(e){return e&&"object"==typeof e&&yL(e)===vL}(n)){const t=_L(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}(e);if(0===r.length)return Qe([],n);const o=new $e(function bL(e,n,t=nr){return r=>{vD(n,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)vD(n,()=>{const l=Qe(e[c],n);let u=!1;l.subscribe(Ue(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,n,i?s=>function yD(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}(i,s):nr));return t?o.pipe(function mD(e){return be(n=>function DL(e,n){return wL(n)?e(...n):e(n)}(e,n))}(t)):o}function vD(e,n,t){e?Ln(t,e,n):n()}const Lc=ao(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function rh(...e){return function SL(){return qr(1)}()(Qe(e,uo(e)))}function _D(e){return new $e(n=>{Ot(e()).subscribe(n)})}function vs(e,n){const t=De(e)?e:()=>e,r=i=>i.error(t());return new $e(n?i=>n.schedule(r,0,i):r)}function ih(){return ze((e,n)=>{let t=null;e._refCount++;const r=Ue(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class CD extends $e{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,np(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Pt;const t=this.getSubject();n.add(this.source.subscribe(Ue(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Pt.EMPTY)}return n}refCount(){return ih()(this)}}function Yi(e){return e<=0?()=>_n:ze((n,t)=>{let r=0;n.subscribe(Ue(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function yr(e,n){return ze((t,r)=>{let i=0;t.subscribe(Ue(r,o=>e.call(n,o,i++)&&r.next(o)))})}function Vc(e){return ze((n,t)=>{let r=!1;n.subscribe(Ue(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function wD(e=ML){return ze((n,t)=>{let r=!1;n.subscribe(Ue(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function ML(){return new Lc}function Hr(e,n){const t=arguments.length>=2;return r=>r.pipe(e?yr((i,o)=>e(i,o,r)):nr,Yi(1),t?Vc(n):wD(()=>new Lc))}function _s(e,n){return De(n)?Je(e,n,1):Je(e,1)}function ht(e,n,t){const r=De(e)||n||t?{next:e,error:n,complete:t}:e;return r?ze((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Ue(o,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),o.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):nr}function $r(e){return ze((n,t)=>{let o,r=null,i=!1;r=n.subscribe(Ue(t,void 0,void 0,s=>{o=Ot(e(s,$r(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function oh(e){return e<=0?()=>_n:ze((n,t)=>{let r=[];n.subscribe(Ue(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function sh(e){return ze((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}const se="primary",Cs=Symbol("RouteTitle");class PL{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Qi(e){return new PL(e)}function OL(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Rn(e,n){const t=e?Object.keys(e):void 0,r=n?Object.keys(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!DD(e[i],n[i]))return!1;return!0}function DD(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}return e===n}function bD(e){return e.length>0?e[e.length-1]:null}function vr(e){return function gL(e){return!!e&&(e instanceof $e||De(e.lift)&&De(e.subscribe))}(e)?e:Xo(e)?Qe(Promise.resolve(e)):X(e)}const NL={exact:function MD(e,n,t){if(!Ur(e.segments,n.segments)||!Bc(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!MD(e.children[r],n.children[r],t))return!1;return!0},subset:ID},SD={exact:function FL(e,n){return Rn(e,n)},subset:function LL(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>DD(e[t],n[t]))},ignored:()=>!0};function ED(e,n,t){return NL[t.paths](e.root,n.root,t.matrixParams)&&SD[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function ID(e,n,t){return AD(e,n,n.segments,t)}function AD(e,n,t,r){if(e.segments.length>t.length){const i=e.segments.slice(0,t.length);return!(!Ur(i,t)||n.hasChildren()||!Bc(i,t,r))}if(e.segments.length===t.length){if(!Ur(e.segments,t)||!Bc(e.segments,t,r))return!1;for(const i in n.children)if(!e.children[i]||!ID(e.children[i],n.children[i],r))return!1;return!0}{const i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!!(Ur(e.segments,i)&&Bc(e.segments,i,r)&&e.children[se])&&AD(e.children[se],n,o,r)}}function Bc(e,n,t){return n.every((r,i)=>SD[t](e[i].parameters,r.parameters))}class Ki{constructor(n=new we([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qi(this.queryParams)),this._queryParamMap}toString(){return jL.serialize(this)}}class we{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jc(this)}}class ws{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Qi(this.parameters)),this._parameterMap}toString(){return xD(this)}}function Ur(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}let Ds=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=z({token:e,factory:function(){return new ah},providedIn:"root"})}return e})();class ah{parse(n){const t=new KL(n);return new Ki(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${bs(n.root,!0)}`,r=function UL(e){const n=Object.keys(e).map(t=>{const r=e[t];return Array.isArray(r)?r.map(i=>`${Hc(t)}=${Hc(i)}`).join("&"):`${Hc(t)}=${Hc(r)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${r}${"string"==typeof n.fragment?`#${function HL(e){return encodeURI(e)}(n.fragment)}`:""}`}}const jL=new ah;function jc(e){return e.segments.map(n=>xD(n)).join("/")}function bs(e,n){if(!e.hasChildren())return jc(e);if(n){const t=e.children[se]?bs(e.children[se],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==se&&r.push(`${i}:${bs(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function BL(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===se&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==se&&(t=t.concat(n(i,r)))}),t}(e,(r,i)=>i===se?[bs(e.children[se],!1)]:[`${i}:${bs(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[se]?`${jc(e)}/${t[0]}`:`${jc(e)}/(${t.join("//")})`}}function TD(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hc(e){return TD(e).replace(/%3B/gi,";")}function ch(e){return TD(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $c(e){return decodeURIComponent(e)}function kD(e){return $c(e.replace(/\+/g,"%20"))}function xD(e){return`${ch(e.path)}${function $L(e){return Object.keys(e).map(n=>`;${ch(n)}=${ch(e[n])}`).join("")}(e.parameters)}`}const GL=/^[^\/()?;#]+/;function lh(e){const n=e.match(GL);return n?n[0]:""}const zL=/^[^\/()?;=#]+/,qL=/^[^=?&#]+/,YL=/^[^&#]+/;class KL{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new we([],{}):new we([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[se]=new we(n,t)),r}parseSegment(){const n=lh(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new k(4009,!1);return this.capture(n),new ws($c(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function WL(e){const n=e.match(zL);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=lh(this.remaining);i&&(r=i,this.capture(r))}n[$c(t)]=$c(r)}parseQueryParam(n){const t=function ZL(e){const n=e.match(qL);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function QL(e){const n=e.match(YL);return n?n[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=kD(t),o=kD(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=lh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new k(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=se);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[se]:new we([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new k(4011,!1)}}function PD(e){return e.segments.length>0?new we([],{[se]:e}):e}function OD(e){const n={};for(const r of Object.keys(e.children)){const o=OD(e.children[r]);if(r===se&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}return function XL(e){if(1===e.numberOfChildren&&e.children[se]){const n=e.children[se];return new we(e.segments.concat(n.segments),n.children)}return e}(new we(e.segments,n))}function Gr(e){return e instanceof Ki}function RD(e){let n;const i=PD(function t(o){const s={};for(const c of o.children){const l=t(c);s[c.outlet]=l}const a=new we(o.url,s);return o===e&&(n=a),a}(e.root));return n??i}function ND(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(0===n.length)return uh(i,i,i,t,r);const o=function eV(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new LD(!0,0,e);let n=0,t=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?n++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new LD(t,n,r)}(n);if(o.toRoot())return uh(i,i,new we([],{}),t,r);const s=function tV(e,n,t){if(e.isAbsolute)return new Gc(n,!0,0);if(!t)return new Gc(n,!1,NaN);if(null===t.parent)return new Gc(t,!0,0);const r=Uc(e.commands[0])?0:1;return function nV(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new k(4005,!1);i=r.segments.length}return new Gc(r,!1,i-o)}(t,t.segments.length-1+r,e.numberOfDoubleDots)}(o,i,e),a=s.processChildren?Es(s.segmentGroup,s.index,o.commands):VD(s.segmentGroup,s.index,o.commands);return uh(i,s.segmentGroup,a,t,r)}function Uc(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Ss(e){return"object"==typeof e&&null!=e&&e.outlets}function uh(e,n,t,r,i){let s,o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=e===n?t:FD(e,n,t);const a=PD(OD(s));return new Ki(a,o,i)}function FD(e,n,t){const r={};return Object.entries(e.children).forEach(([i,o])=>{r[i]=o===n?t:FD(o,n,t)}),new we(e.segments,r)}class LD{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Uc(r[0]))throw new k(4003,!1);const i=r.find(Ss);if(i&&i!==bD(r))throw new k(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gc{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function VD(e,n,t){if(e||(e=new we([],{})),0===e.segments.length&&e.hasChildren())return Es(e,n,t);const r=function iV(e,n,t){let r=0,i=n;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;const s=e.segments[i],a=t[r];if(Ss(a))break;const c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!jD(c,l,s))return o;r+=2}else{if(!jD(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new we(e.segments.slice(0,r.pathIndex),{});return o.children[se]=new we(e.segments.slice(r.pathIndex),e.children),Es(o,0,i)}return r.match&&0===i.length?new we(e.segments,{}):r.match&&!e.hasChildren()?dh(e,n,t):r.match?Es(e,0,i):dh(e,n,t)}function Es(e,n,t){if(0===t.length)return new we(e.segments,{});{const r=function rV(e){return Ss(e[0])?e[0].outlets:{[se]:e}}(t),i={};if(Object.keys(r).some(o=>o!==se)&&e.children[se]&&1===e.numberOfChildren&&0===e.children[se].segments.length){const o=Es(e.children[se],n,t);return new we(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=VD(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new we(e.segments,i)}}function dh(e,n,t){const r=e.segments.slice(0,n);let i=0;for(;i<t.length;){const o=t[i];if(Ss(o)){const c=oV(o.outlets);return new we(r,c)}if(0===i&&Uc(t[0])){r.push(new ws(e.segments[n].path,BD(t[0]))),i++;continue}const s=Ss(o)?o.outlets[se]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Uc(a)?(r.push(new ws(s,BD(a))),i+=2):(r.push(new ws(s,{})),i++)}return new we(r,{})}function oV(e){const n={};return Object.entries(e).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[t]=dh(new we([],{}),0,r))}),n}function BD(e){const n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function jD(e,n,t){return e==t.path&&Rn(n,t.parameters)}const Ms="imperative";class Nn{constructor(n,t){this.id=n,this.url=t}}class zc extends Nn{constructor(n,t,r="imperative",i=null){super(n,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _r extends Nn{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Is extends Nn{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Xi extends Nn{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=16}}class Wc extends Nn{constructor(n,t,r,i){super(n,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class HD extends Nn{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sV extends Nn{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aV extends Nn{constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class cV extends Nn{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lV extends Nn{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uV{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class dV{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fV{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hV{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pV{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gV{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $D{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class fh{}class hh{constructor(n){this.url=n}}class mV{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new As,this.attachRef=null}}let As=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new mV,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class UD{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=ph(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=ph(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=gh(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return gh(n,this._root).map(t=>t.value)}}function ph(e,n){if(e===n.value)return n;for(const t of n.children){const r=ph(e,t);if(r)return r}return null}function gh(e,n){if(e===n.value)return[n];for(const t of n.children){const r=gh(e,t);if(r.length)return r.unshift(n),r}return[]}class er{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ji(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class GD extends UD{constructor(n,t){super(n),this.snapshot=t,mh(this,n)}toString(){return this.snapshot.toString()}}function zD(e,n){const t=function yV(e,n){const s=new qc([],{},{},"",{},se,n,null,{});return new qD("",new er(s,[]))}(0,n),r=new $t([new ws("",{})]),i=new $t({}),o=new $t({}),s=new $t({}),a=new $t(""),c=new eo(r,i,s,a,o,se,n,t.root);return c.snapshot=t.root,new GD(new er(c,[]),t)}class eo{constructor(n,t,r,i,o,s,a,c){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(be(l=>l[Cs]))??X(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(be(n=>Qi(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(be(n=>Qi(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function WD(e,n="emptyOnly"){const t=e.pathFromRoot;let r=0;if("always"!==n)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function vV(e){return e.reduce((n,t)=>({params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class qc{get title(){return this.data?.[Cs]}constructor(n,t,r,i,o,s,a,c,l){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qD extends UD{constructor(n,t){super(t),this.url=n,mh(this,t)}toString(){return ZD(this._root)}}function mh(e,n){n.value._routerState=e,n.children.forEach(t=>mh(e,t))}function ZD(e){const n=e.children.length>0?` { ${e.children.map(ZD).join(", ")} } `:"";return`${e.value}${n}`}function yh(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Rn(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Rn(n.params,t.params)||e.paramsSubject.next(t.params),function RL(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Rn(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),Rn(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function vh(e,n){const t=Rn(e.params,n.params)&&function VL(e,n){return Ur(e,n)&&e.every((t,r)=>Rn(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||vh(e.parent,n.parent))}let YD=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=se,this.activateEvents=new ue,this.deactivateEvents=new ue,this.attachEvents=new ue,this.detachEvents=new ue,this.parentContexts=B(As),this.location=B(fn),this.changeDetector=B(yc),this.environmentInjector=B(qt),this.inputBinder=B(Zc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new k(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new k(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new k(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new k(4013,!1);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new _V(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=K({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[zt]})}return e})();class _V{constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===eo?this.route:n===As?this.childContexts:this.parent.get(n,t)}}const Zc=new j("");let QD=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=nh([r.queryParams,r.params,r.data]).pipe(Cn(([o,s,a],c)=>(a={...o,...s,...a},0===c?X(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function bO(e){const n=fe(e);if(!n)return null;const t=new qo(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=z({token:e,factory:e.\u0275fac})}return e})();function Ts(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const i=function wV(e,n,t){return n.children.map(r=>{for(const i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Ts(e,r,i);return Ts(e,r)})}(e,n,t);return new er(r,i)}{if(e.shouldAttach(n.value)){const o=e.retrieve(n.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Ts(e,a)),s}}const r=function DV(e){return new eo(new $t(e.url),new $t(e.params),new $t(e.queryParams),new $t(e.fragment),new $t(e.data),e.outlet,e.component,e)}(n.value),i=n.children.map(o=>Ts(e,o));return new er(r,i)}}const _h="ngNavigationCancelingError";function KD(e,n){const{redirectTo:t,navigationBehaviorOptions:r}=Gr(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=XD(!1,0,n);return i.url=t,i.navigationBehaviorOptions=r,i}function XD(e,n,t){const r=new Error("NavigationCancelingError: "+(e||""));return r[_h]=!0,r.cancellationCode=n,t&&(r.url=t),r}function JD(e){return e&&e[_h]}let eb=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=qe({type:e,selectors:[["ng-component"]],standalone:!0,features:[B_],decls:1,vars:0,template:function(r,i){1&r&&L(0,"router-outlet")},dependencies:[YD],encapsulation:2})}return e})();function Ch(e){const n=e.children&&e.children.map(Ch),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==se&&(t.component=eb),t}function vn(e){return e.outlet||se}function ks(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class kV{constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),yh(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const i=Ji(t);n.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){const i=n.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=Ji(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=Ji(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){const i=Ji(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new gV(o.value.snapshot))}),n.children.length&&this.forwardEvent(new hV(n.value.snapshot))}activateRoutes(n,t,r){const i=n.value,o=t?t.value:null;if(yh(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),yh(a.route.value),this.activateChildRoutes(n,null,s.children)}else{const a=ks(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,r)}}class tb{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Yc{constructor(n,t){this.component=n,this.route=t}}function xV(e,n,t){const r=e._root;return xs(r,n?n._root:null,t,[r.value])}function to(e,n){const t=Symbol(),r=n.get(e,t);return r===t?"function"!=typeof e||function FE(e){return null!==Ws(e)}(e)?n.get(e):e:r}function xs(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ji(n);return e.children.forEach(s=>{(function OV(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function RV(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!Ur(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Ur(e.url,n.url)||!Rn(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vh(e,n)||!Rn(e.queryParams,n.queryParams);default:return!vh(e,n)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new tb(r)):(o.data=s.data,o._resolvedData=s._resolvedData),xs(e,n,o.component?a?a.children:null:t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Yc(a.outlet.component,s))}else s&&Ps(n,a,i),i.canActivateChecks.push(new tb(r)),xs(e,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ps(a,t.getContext(s),i)),i}function Ps(e,n,t){const r=Ji(e),i=e.value;Object.entries(r).forEach(([o,s])=>{Ps(s,i.component?n?n.children.getContext(o):null:n,t)}),t.canDeactivateChecks.push(new Yc(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function Os(e){return"function"==typeof e}function nb(e){return e instanceof Lc||"EmptyError"===e?.name}const Qc=Symbol("INITIAL_VALUE");function no(){return Cn(e=>nh(e.map(n=>n.pipe(Yi(1),function EL(...e){const n=uo(e);return ze((t,r)=>{(n?rh(e,t,n):rh(e,t)).subscribe(r)})}(Qc)))).pipe(be(n=>{for(const t of n)if(!0!==t){if(t===Qc)return Qc;if(!1===t||t instanceof Ki)return t}return!0}),yr(n=>n!==Qc),Yi(1)))}function rb(e){return function VS(...e){return Jh(e)}(ht(n=>{if(Gr(n))throw KD(0,n)}),be(n=>!0===n))}class Kc{constructor(n){this.segmentGroup=n||null}}class ib{constructor(n){this.urlTree=n}}function ro(e){return vs(new Kc(e))}function ob(e){return vs(new ib(e))}class eB{constructor(n,t){this.urlSerializer=n,this.urlTree=t}noMatchError(n){return new k(4002,!1)}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return X(r);if(i.numberOfChildren>1||!i.children[se])return vs(new k(4e3,!1));i=i.children[se]}}applyRedirectCommands(n,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r)}applyRedirectCreateUrlTree(n,t,r,i){const o=this.createSegmentGroup(n,t.root,r,i);return new Ki(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return Object.entries(n).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){const o=this.createSegments(n,t.segments,r,i);let s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(n,c,r,i)}),new we(o,s)}createSegments(n,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){const i=r[t.path.substring(1)];if(!i)throw new k(4001,!1);return i}findOrReturn(n,t){let r=0;for(const i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}}const wh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tB(e,n,t,r,i){const o=Dh(e,n,t);return o.matched?(r=function SV(e,n){return e.providers&&!e._injector&&(e._injector=jd(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,r),function KV(e,n,t,r){const i=n.canMatch;return i&&0!==i.length?X(i.map(s=>{const a=to(s,e);return vr(function jV(e){return e&&Os(e.canMatch)}(a)?a.canMatch(n,t):e.runInContext(()=>a(n,t)))})).pipe(no(),rb()):X(!0)}(r,n,t).pipe(be(s=>!0===s?o:{...wh}))):X(o)}function Dh(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...wh}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(n.matcher||OL)(t,e,n);if(!i)return{...wh};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function sb(e,n,t,r){return t.length>0&&function iB(e,n,t){return t.some(r=>Xc(e,n,r)&&vn(r)!==se)}(e,t,r)?{segmentGroup:new we(n,rB(r,new we(t,e.children))),slicedSegments:[]}:0===t.length&&function oB(e,n,t){return t.some(r=>Xc(e,n,r))}(e,t,r)?{segmentGroup:new we(e.segments,nB(e,0,t,r,e.children)),slicedSegments:t}:{segmentGroup:new we(e.segments,e.children),slicedSegments:t}}function nB(e,n,t,r,i){const o={};for(const s of r)if(Xc(e,t,s)&&!i[vn(s)]){const a=new we([],{});o[vn(s)]=a}return{...i,...o}}function rB(e,n){const t={};t[se]=n;for(const r of e)if(""===r.path&&vn(r)!==se){const i=new we([],{});t[vn(r)]=i}return t}function Xc(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class lB{constructor(n,t,r,i,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new eB(this.urlSerializer,this.urlTree)}noMatchError(n){return new k(4002,!1)}recognize(){const n=sb(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,se).pipe($r(t=>{if(t instanceof ib)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Kc?this.noMatchError(t):t}),be(t=>{const r=new qc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},se,this.rootComponentType,null,{}),i=new er(r,t),o=new qD("",i),s=function JL(e,n,t=null,r=null){return ND(RD(e),n,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,se).pipe($r(r=>{throw r instanceof Kc?this.noMatchError(r):r}))}inheritParamsAndData(n){const t=n.value,r=WD(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,t,r):this.processSegment(n,t,r,r.segments,i,!0)}processChildren(n,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Qe(i).pipe(_s(o=>{const s=r.children[o],a=function AV(e,n){const t=e.filter(r=>vn(r)===n);return t.push(...e.filter(r=>vn(r)!==n)),t}(t,o);return this.processSegmentGroup(n,a,s,o)}),function AL(e,n){return ze(function IL(e,n,t,r,i){return(o,s)=>{let a=t,c=n,l=0;o.subscribe(Ue(s,u=>{const d=l++;c=a?e(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(e,n,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),Vc(null),function TL(e,n){const t=arguments.length>=2;return r=>r.pipe(e?yr((i,o)=>e(i,o,r)):nr,oh(1),t?Vc(n):wD(()=>new Lc))}(),Je(o=>{if(null===o)return ro(r);const s=ab(o);return function uB(e){e.sort((n,t)=>n.value.outlet===se?-1:t.value.outlet===se?1:n.value.outlet.localeCompare(t.value.outlet))}(s),X(s)}))}processSegment(n,t,r,i,o,s){return Qe(t).pipe(_s(a=>this.processSegmentAgainstRoute(a._injector??n,t,a,r,i,o,s).pipe($r(c=>{if(c instanceof Kc)return X(null);throw c}))),Hr(a=>!!a),$r(a=>{if(nb(a))return function aB(e,n,t){return 0===n.length&&!e.children[t]}(r,i,o)?X([]):ro(r);throw a}))}processSegmentAgainstRoute(n,t,r,i,o,s,a){return function sB(e,n,t,r){return!!(vn(e)===r||r!==se&&Xc(n,t,e))&&("**"===e.path||Dh(n,e,t).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,s):ro(i):ro(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?ob(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Je(s=>{const a=new we(s,{});return this.processSegment(n,t,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=Dh(t,i,o);if(!a)return ro(t);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?ob(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Je(f=>this.processSegment(n,r,t,f.concat(l),s,!1)))}matchSegmentAgainstRoute(n,t,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?bD(i).parameters:{};a=X({snapshot:new qc(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cb(r),vn(r),r.component??r._loadedComponent??null,r,lb(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=tB(t,r,i,n).pipe(be(({matched:c,consumedSegments:l,remainingSegments:u,parameters:d})=>c?{snapshot:new qc(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cb(r),vn(r),r.component??r._loadedComponent??null,r,lb(r)),consumedSegments:l,remainingSegments:u}:null));return a.pipe(Cn(c=>null===c?ro(t):this.getChildConfig(n=r._injector??n,r,i).pipe(Cn(({routes:l})=>{const u=r._loadedInjector??n,{snapshot:d,consumedSegments:f,remainingSegments:h}=c,{segmentGroup:y,slicedSegments:_}=sb(t,f,h,l);if(0===_.length&&y.hasChildren())return this.processChildren(u,l,y).pipe(be(A=>null===A?null:[new er(d,A)]));if(0===l.length&&0===_.length)return X([new er(d,[])]);const E=vn(r)===o;return this.processSegment(u,l,y,_,E?se:o,!0).pipe(be(A=>[new er(d,A)]))}))))}getChildConfig(n,t,r){return t.children?X({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?X({routes:t._loadedRoutes,injector:t._loadedInjector}):function QV(e,n,t,r){const i=n.canLoad;return void 0===i||0===i.length?X(!0):X(i.map(s=>{const a=to(s,e);return vr(function FV(e){return e&&Os(e.canLoad)}(a)?a.canLoad(n,t):e.runInContext(()=>a(n,t)))})).pipe(no(),rb())}(n,t,r).pipe(Je(i=>i?this.configLoader.loadChildren(n,t).pipe(ht(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function JV(e){return vs(XD(!1,3))}())):X({routes:[],injector:n})}}function dB(e){const n=e.value.routeConfig;return n&&""===n.path}function ab(e){const n=[],t=new Set;for(const r of e){if(!dB(r)){n.push(r);continue}const i=n.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):n.push(r)}for(const r of t){const i=ab(r.children);n.push(new er(r.value,i))}return n.filter(r=>!t.has(r))}function cb(e){return e.data||{}}function lb(e){return e.resolve||{}}function ub(e){return"string"==typeof e.title||null===e.title}function bh(e){return Cn(n=>{const t=e(n);return t?Qe(t).pipe(be(()=>n)):X(n)})}const io=new j("ROUTES");let Sh=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=B(OC)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return X(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=vr(t.loadComponent()).pipe(be(db),ht(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),sh(()=>{this.componentLoaders.delete(t)})),i=new CD(r,()=>new nn).pipe(ih());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return X({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function vB(e,n,t,r){return vr(e.loadChildren()).pipe(be(db),Je(i=>i instanceof L_||Array.isArray(i)?X(i):Qe(n.compileModuleAsync(i))),be(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(t).injector,s=o.get(io,[],{optional:!0,self:!0}).flat()),{routes:s.map(Ch),injector:o}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(sh(()=>{this.childrenLoaders.delete(r)})),s=new CD(o,()=>new nn).pipe(ih());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function db(e){return function _B(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Jc=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new nn,this.transitionAbortSubject=new nn,this.configLoader=B(Sh),this.environmentInjector=B(qt),this.urlSerializer=B(Ds),this.rootContexts=B(As),this.inputBindingEnabled=null!==B(Zc,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>X(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new dV(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new uV(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new $t({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ms,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(yr(o=>0!==o.id),be(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),Cn(o=>{this.currentTransition=o;let s=!1,a=!1;return X(o).pipe(ht(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Cn(c=>{const l=c.currentBrowserUrl.toString(),u=!t.navigated||c.extractedUrl.toString()!==l||l!==c.currentUrlTree.toString();if(!u&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const f="";return this.events.next(new Xi(c.id,this.urlSerializer.serialize(c.rawUrl),f,0)),c.resolve(null),_n}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return X(c).pipe(Cn(f=>{const h=this.transitions?.getValue();return this.events.next(new zc(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?_n:Promise.resolve(f)}),function fB(e,n,t,r,i,o){return Je(s=>function cB(e,n,t,r,i,o,s="emptyOnly"){return new lB(e,n,t,r,i,s,o).recognize()}(e,n,t,r,s.extractedUrl,i,o).pipe(be(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),ht(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const h=new HD(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:f,extractedUrl:h,source:y,restoredState:_,extras:E}=c,A=new zc(f,this.urlSerializer.serialize(h),y,_);this.events.next(A);const S=zD(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:S,urlAfterRedirects:h,extras:{...E,skipLocationChange:!1,replaceUrl:!1}},X(o)}{const f="";return this.events.next(new Xi(c.id,this.urlSerializer.serialize(c.extractedUrl),f,1)),c.resolve(null),_n}}),ht(c=>{const l=new sV(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),be(c=>(this.currentTransition=o={...c,guards:xV(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function $V(e,n){return Je(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?X({...t,guardsResult:!0}):function UV(e,n,t,r){return Qe(e).pipe(Je(i=>function YV(e,n,t,r,i){const o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return o&&0!==o.length?X(o.map(a=>{const c=ks(n)??i,l=to(a,c);return vr(function BV(e){return e&&Os(e.canDeactivate)}(l)?l.canDeactivate(e,n,t,r):c.runInContext(()=>l(e,n,t,r))).pipe(Hr())})).pipe(no()):X(!0)}(i.component,i.route,t,n,r)),Hr(i=>!0!==i,!0))}(s,r,i,e).pipe(Je(a=>a&&function NV(e){return"boolean"==typeof e}(a)?function GV(e,n,t,r){return Qe(n).pipe(_s(i=>rh(function WV(e,n){return null!==e&&n&&n(new fV(e)),X(!0)}(i.route.parent,r),function zV(e,n){return null!==e&&n&&n(new pV(e)),X(!0)}(i.route,r),function ZV(e,n,t){const r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>function PV(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(s)).filter(s=>null!==s).map(s=>_D(()=>X(s.guards.map(c=>{const l=ks(s.node)??t,u=to(c,l);return vr(function VV(e){return e&&Os(e.canActivateChild)}(u)?u.canActivateChild(r,e):l.runInContext(()=>u(r,e))).pipe(Hr())})).pipe(no())));return X(o).pipe(no())}(e,i.path,t),function qV(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return X(!0);const i=r.map(o=>_D(()=>{const s=ks(n)??t,a=to(o,s);return vr(function LV(e){return e&&Os(e.canActivate)}(a)?a.canActivate(n,e):s.runInContext(()=>a(n,e))).pipe(Hr())}));return X(i).pipe(no())}(e,i.route,t))),Hr(i=>!0!==i,!0))}(r,o,e,n):X(a)),be(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),ht(c=>{if(o.guardsResult=c.guardsResult,Gr(c.guardsResult))throw KD(0,c.guardsResult);const l=new aV(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),yr(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),bh(c=>{if(c.guards.canActivateChecks.length)return X(c).pipe(ht(l=>{const u=new cV(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Cn(l=>{let u=!1;return X(l).pipe(function hB(e,n){return Je(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return X(t);let o=0;return Qe(i).pipe(_s(s=>function pB(e,n,t,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!ub(i)&&(o[Cs]=i.title),function gB(e,n,t,r){const i=function mB(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return X({});const o={};return Qe(i).pipe(Je(s=>function yB(e,n,t,r){const i=ks(n)??r,o=to(e,i);return vr(o.resolve?o.resolve(n,t):i.runInContext(()=>o(n,t)))}(e[s],n,t,r).pipe(Hr(),ht(a=>{o[s]=a}))),oh(1),function kL(e){return be(()=>e)}(o),$r(s=>nb(s)?_n:vs(s)))}(o,e,n,r).pipe(be(s=>(e._resolvedData=s,e.data=WD(e,t).resolve,i&&ub(i)&&(e.data[Cs]=i.title),null)))}(s.route,r,e,n)),ht(()=>o++),oh(1),Je(s=>o===i.length?X(t):_n))})}(t.paramsInheritanceStrategy,this.environmentInjector),ht({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",2)}}))}),ht(l=>{const u=new lV(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),bh(c=>{const l=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(ht(f=>{u.component=f}),be(()=>{})));for(const f of u.children)d.push(...l(f));return d};return nh(l(c.targetSnapshot.root)).pipe(Vc(),Yi(1))}),bh(()=>this.afterPreactivation()),be(c=>{const l=function CV(e,n,t){const r=Ts(e,n._root,t?t._root:void 0);return new GD(r,n)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:l},o}),ht(()=>{this.events.next(new fh)}),((e,n,t,r)=>be(i=>(new kV(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Yi(1),ht({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _r(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),function xL(e){return ze((n,t)=>{Ot(e).subscribe(Ue(t,()=>t.complete(),dl)),!t.closed&&n.subscribe(t)})}(this.transitionAbortSubject.pipe(ht(c=>{throw c}))),sh(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),$r(c=>{if(a=!0,JD(c))this.events.next(new Is(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function bV(e){return JD(e)&&Gr(e.url)}(c)?this.events.next(new hh(c.url)):o.resolve(!1);else{this.events.next(new Wc(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(l){o.reject(l)}}return _n}))}))}cancelNavigationTransition(t,r,i){const o=new Is(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function fb(e){return e!==Ms}let hb=(()=>{class e{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===se);return r}getResolvedTitleForRoute(t){return t.data[Cs]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=z({token:e,factory:function(){return B(CB)},providedIn:"root"})}return e})(),CB=(()=>{class e extends hb{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||e)(W(Kw))};static#t=this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),wB=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=z({token:e,factory:function(){return B(bB)},providedIn:"root"})}return e})();class DB{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let bB=(()=>{class e extends DB{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=function it(e){return Vn(()=>{const n=e.prototype.constructor,t=n[Bn]||au(n),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[Bn]||au(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}(e)))(i||e)}}();static#t=this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const el=new j("",{providedIn:"root",factory:()=>({})});let SB=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=z({token:e,factory:function(){return B(EB)},providedIn:"root"})}return e})(),EB=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Rs=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Rs||{});function pb(e,n){e.events.pipe(yr(t=>t instanceof _r||t instanceof Is||t instanceof Wc||t instanceof Xi),be(t=>t instanceof _r||t instanceof Xi?Rs.COMPLETE:t instanceof Is&&(0===t.code||1===t.code)?Rs.REDIRECTING:Rs.FAILED),yr(t=>t!==Rs.REDIRECTING),Yi(1)).subscribe(()=>{n()})}function MB(e){throw e}function IB(e,n,t){return n.parse("/")}const AB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},TB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let en=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=B(xC),this.isNgZoneEnabled=!1,this._events=new nn,this.options=B(el,{optional:!0})||{},this.pendingTasks=B(PC),this.errorHandler=this.options.errorHandler||MB,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||IB,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=B(SB),this.routeReuseStrategy=B(wB),this.titleStrategy=B(hb),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=B(io,{optional:!0})?.flat()??[],this.navigationTransitions=B(Jc),this.urlSerializer=B(Ds),this.location=B(Df),this.componentInputBindingEnabled=!!B(Zc,{optional:!0}),this.eventsSubscription=new Pt,this.isNgZoneEnabled=B(Ae)instanceof Ae&&Ae.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ki,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=zD(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(gb(r)&&this._events.next(r));if(r instanceof zc)fb(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Xi)this.rawUrlTree=i.rawUrl;else if(r instanceof HD){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof fh)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Is)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof hh){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||fb(i.source)};this.scheduleNavigation(o,Ms,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Wc&&this.restoreHistory(i,!0),r instanceof _r&&(this.navigated=!0),gb(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ms,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Ch),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{d=RD(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return ND(d,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Gr(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ms,null,r)}navigate(t,r={skipLocationChange:!1}){return function kB(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new k(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...AB}:!1===r?{...TB}:r,Gr(t))return ED(this.currentUrlTree,t,i);const o=this.parseUrl(t);return ED(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,f)=>{a=d,c=f});const u=this.pendingTasks.add();return pb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function gb(e){return!(e instanceof fh||e instanceof hh)}class mb{}let OB=(()=>{class e{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(yr(t=>t instanceof _r),_s(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=jd(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Qe(i).pipe(qr())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):X(null);const o=i.pipe(Je(s=>null===s?X(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?Qe([o,this.loader.loadComponent(r)]).pipe(qr()):o})}static#e=this.\u0275fac=function(r){return new(r||e)(W(en),W(OC),W(qt),W(mb),W(Sh))};static#t=this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Mh=new j("");let yb=(()=>{class e{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof zc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof _r?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Xi&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof $D&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $D(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function Iy(){throw new Error("invalid")}()};static#t=this.\u0275prov=z({token:e,factory:e.\u0275fac})}return e})();function tr(e,n){return{\u0275kind:e,\u0275providers:n}}function _b(){const e=B(Bt);return n=>{const t=e.get(Ui);if(n!==t.components[0])return;const r=e.get(en),i=e.get(Cb);1===e.get(Ih)&&r.initialNavigation(),e.get(wb,null,ce.Optional)?.setUpPreloading(),e.get(Mh,null,ce.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const Cb=new j("",{factory:()=>new nn}),Ih=new j("",{providedIn:"root",factory:()=>1}),wb=new j("");function LB(e){return tr(0,[{provide:wb,useExisting:OB},{provide:mb,useExisting:e}])}const Db=new j("ROUTER_FORROOT_GUARD"),BB=[Df,{provide:Ds,useClass:ah},en,As,{provide:eo,useFactory:function vb(e){return e.routerState.root},deps:[en]},Sh,[]];function jB(){return new jC("Router",en)}let bb=(()=>{class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[BB,[],{provide:io,multi:!0,useValue:t},{provide:Db,useFactory:GB,deps:[[en,new ma,new ya]]},{provide:el,useValue:r||{}},r?.useHash?{provide:Br,useClass:AO}:{provide:Br,useClass:mw},{provide:Mh,useFactory:()=>{const e=B(ZR),n=B(Ae),t=B(el),r=B(Jc),i=B(Ds);return t.scrollOffset&&e.setOffset(t.scrollOffset),new yb(i,r,e,n,t)}},r?.preloadingStrategy?LB(r.preloadingStrategy).\u0275providers:[],{provide:jC,multi:!0,useFactory:jB},r?.initialNavigation?zB(r):[],r?.bindToComponentInputs?tr(8,[QD,{provide:Zc,useExisting:QD}]).\u0275providers:[],[{provide:Sb,useFactory:_b},{provide:ff,multi:!0,useExisting:Sb}]]}}static forChild(t){return{ngModule:e,providers:[{provide:io,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||e)(W(Db,8))};static#t=this.\u0275mod=jn({type:e});static#n=this.\u0275inj=wn({})}return e})();function GB(e){return"guarded"}function zB(e){return["disabled"===e.initialNavigation?tr(3,[{provide:nf,multi:!0,useFactory:()=>{const n=B(en);return()=>{n.setUpLocationChangeListener()}}},{provide:Ih,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?tr(2,[{provide:Ih,useValue:0},{provide:nf,multi:!0,deps:[Bt],useFactory:n=>{const t=n.get(MO,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=n.get(en),o=n.get(Cb);pb(i,()=>{r(!0)}),n.get(Jc).afterPreactivation=()=>(r(!0),o.closed?X(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const Sb=new j(""),so=new j("CallSetDisabledState",{providedIn:"root",factory:()=>sl}),sl="always";let dS=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=jn({type:e});static#n=this.\u0275inj=wn({})}return e})(),G3=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=jn({type:e});static#n=this.\u0275inj=wn({imports:[dS]})}return e})(),W3=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:so,useValue:t.callSetDisabledState??sl}]}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=jn({type:e});static#n=this.\u0275inj=wn({imports:[G3]})}return e})();const q3=[{path:"game",component:pD},{path:"card",component:mr},{path:"",pathMatch:"full",redirectTo:"game"}];let Z3=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=jn({type:e,bootstrap:[pL]});static#n=this.\u0275inj=wn({imports:[$N,W3,[bb.forRoot(q3,{initialNavigation:"enabledBlocking",useHash:!0})],bb]})}return e})();jN().bootstrapModule(Z3).catch(e=>console.error(e))}},De=>{De(De.s=223)}]);