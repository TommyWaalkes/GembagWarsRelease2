"use strict";(self.webpackChunkCardApp=self.webpackChunkCardApp||[]).push([[179],{200:()=>{function Re(t){return"function"==typeof t}function io(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const za=io(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function so(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class sn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Re(r))try{r()}catch(s){e=s instanceof za?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Vg(s)}catch(o){e=e??[],o instanceof za?e=[...e,...o.errors]:e.push(o)}}if(e)throw new za(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Vg(e);else{if(e instanceof sn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&so(n,e)}remove(e){const{_finalizers:n}=this;n&&so(n,e),e instanceof sn&&e._removeParent(this)}}sn.EMPTY=(()=>{const t=new sn;return t.closed=!0,t})();const Lg=sn.EMPTY;function Bg(t){return t instanceof sn||t&&"closed"in t&&Re(t.remove)&&Re(t.add)&&Re(t.unsubscribe)}function Vg(t){Re(t)?t():t.unsubscribe()}const fi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ga={setTimeout(t,e,...n){const{delegate:r}=Ga;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Ga;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function jg(t){Ga.setTimeout(()=>{const{onUnhandledError:e}=fi;if(!e)throw t;e(t)})}function xu(){}const fM=Ou("C",void 0,void 0);function Ou(t,e,n){return{kind:t,value:e,error:n}}let pi=null;function Wa(t){if(fi.useDeprecatedSynchronousErrorHandling){const e=!pi;if(e&&(pi={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=pi;if(pi=null,n)throw r}}else t()}class Fu extends sn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Bg(e)&&e.add(this)):this.destination=wM}static create(e,n,r){return new oo(e,n,r)}next(e){this.isStopped?Bu(function gM(t){return Ou("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Bu(function pM(t){return Ou("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Bu(fM,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const yM=Function.prototype.bind;function Lu(t,e){return yM.call(t,e)}class vM{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){qa(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){qa(r)}else qa(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){qa(n)}}}class oo extends Fu{constructor(e,n,r){let i;if(super(),Re(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&fi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Lu(e.next,s),error:e.error&&Lu(e.error,s),complete:e.complete&&Lu(e.complete,s)}):i=e}this.destination=new vM(i)}}function qa(t){fi.useDeprecatedSynchronousErrorHandling?function mM(t){fi.useDeprecatedSynchronousErrorHandling&&pi&&(pi.errorThrown=!0,pi.error=t)}(t):jg(t)}function Bu(t,e){const{onStoppedNotification:n}=fi;n&&Ga.setTimeout(()=>n(t,e))}const wM={closed:!0,next:xu,error:function _M(t){throw t},complete:xu},Vu="function"==typeof Symbol&&Symbol.observable||"@@observable";function Hr(t){return t}function Hg(t){return 0===t.length?Hr:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let st=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function bM(t){return t&&t instanceof Fu||function SM(t){return t&&Re(t.next)&&Re(t.error)&&Re(t.complete)}(t)&&Bg(t)}(n)?n:new oo(n,r,i);return Wa(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=$g(r))((i,s)=>{const o=new oo({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Vu](){return this}pipe(...n){return Hg(n)(this)}toPromise(n){return new(n=$g(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function $g(t){var e;return null!==(e=t??fi.Promise)&&void 0!==e?e:Promise}const DM=io(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let _n=(()=>{class t extends st{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Ug(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new DM}next(n){Wa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Wa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Wa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Lg:(this.currentObservers=null,s.push(n),new sn(()=>{this.currentObservers=null,so(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new st;return n.source=this,n}}return t.create=(e,n)=>new Ug(e,n),t})();class Ug extends _n{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Lg}}function zg(t){return Re(t?.lift)}function ut(t){return e=>{if(zg(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ot(t,e,n,r,i){return new EM(t,e,n,r,i)}class EM extends Fu{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Oe(t,e){return ut((n,r)=>{let i=0;n.subscribe(ot(r,s=>{r.next(t.call(e,s,i++))}))})}function $r(t){return this instanceof $r?(this.v=t,this):new $r(t)}function Kg(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Uu(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Zg=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Yg(t){return Re(t?.then)}function Qg(t){return Re(t[Vu])}function Xg(t){return Symbol.asyncIterator&&Re(t?.[Symbol.asyncIterator])}function Jg(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const em=function qM(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function tm(t){return Re(t?.[em])}function nm(t){return function qg(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(g,_){s.push([h,f,g,_])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof $r?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(r[h](f))}catch(g){d(s[0][3],g)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield $r(n.read());if(i)return yield $r(void 0);yield yield $r(r)}}finally{n.releaseLock()}})}function rm(t){return Re(t?.getReader)}function on(t){if(t instanceof st)return t;if(null!=t){if(Qg(t))return function KM(t){return new st(e=>{const n=t[Vu]();if(Re(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Zg(t))return function ZM(t){return new st(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Yg(t))return function YM(t){return new st(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,jg)})}(t);if(Xg(t))return im(t);if(tm(t))return function QM(t){return new st(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(rm(t))return function XM(t){return im(nm(t))}(t)}throw Jg(t)}function im(t){return new st(e=>{(function JM(t,e){var n,r,i,s;return function Gg(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Kg(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function yr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function _t(t,e,n=1/0){return Re(e)?_t((r,i)=>Oe((s,o)=>e(r,s,i,o))(on(t(r,i))),n):("number"==typeof e&&(n=e),ut((r,i)=>function e1(t,e,n,r,i,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=_=>c<r?g(_):l.push(_),g=_=>{s&&e.next(_),c++;let A=!1;on(n(_,u++)).subscribe(ot(e,I=>{i?.(I),s?f(I):e.next(I)},()=>{A=!0},void 0,()=>{if(A)try{for(c--;l.length&&c<r;){const I=l.shift();o?yr(e,o,()=>g(I)):g(I)}h()}catch(I){e.error(I)}}))};return t.subscribe(ot(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function zi(t=1/0){return _t(Hr,t)}const Kn=new st(t=>t.complete());function zu(t){return t[t.length-1]}function sm(t){return Re(zu(t))?t.pop():void 0}function ao(t){return function n1(t){return t&&Re(t.schedule)}(zu(t))?t.pop():void 0}function om(t,e=0){return ut((n,r)=>{n.subscribe(ot(r,i=>yr(r,t,()=>r.next(i),e),()=>yr(r,t,()=>r.complete(),e),i=>yr(r,t,()=>r.error(i),e)))})}function am(t,e=0){return ut((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function lm(t,e){if(!t)throw new Error("Iterable cannot be null");return new st(n=>{yr(n,e,()=>{const r=t[Symbol.asyncIterator]();yr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function gt(t,e){return e?function c1(t,e){if(null!=t){if(Qg(t))return function i1(t,e){return on(t).pipe(am(e),om(e))}(t,e);if(Zg(t))return function o1(t,e){return new st(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Yg(t))return function s1(t,e){return on(t).pipe(am(e),om(e))}(t,e);if(Xg(t))return lm(t,e);if(tm(t))return function a1(t,e){return new st(n=>{let r;return yr(n,e,()=>{r=t[em](),yr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Re(r?.return)&&r.return()})}(t,e);if(rm(t))return function l1(t,e){return lm(nm(t),e)}(t,e)}throw Jg(t)}(t,e):on(t)}class wn extends _n{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function se(...t){return gt(t,ao(t))}function cm(t={}){const{connector:e=(()=>new _n),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},g=()=>{const _=o;f(),_?.unsubscribe()};return ut((_,A)=>{c++,!d&&!u&&h();const I=l=l??e();A.add(()=>{c--,0===c&&!d&&!u&&(a=Gu(g,i))}),I.subscribe(A),!o&&c>0&&(o=new oo({next:b=>I.next(b),error:b=>{d=!0,h(),a=Gu(f,n,b),I.error(b)},complete:()=>{u=!0,h(),a=Gu(f,r),I.complete()}}),on(_).subscribe(o))})(s)}}function Gu(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new oo({next:()=>{r.unsubscribe(),t()}});return on(e(...n)).subscribe(r)}function Zn(t,e){return ut((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(ot(r,l=>{i?.unsubscribe();let c=0;const u=s++;on(t(l,u)).subscribe(i=ot(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function h1(t,e){return t===e}function Me(t){for(let e in t)if(t[e]===Me)return e;throw Error("Could not find renamed property on target object.")}function Ka(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function dt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(dt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Wu(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const f1=Me({__forward_ref__:Me});function Le(t){return t.__forward_ref__=Le,t.toString=function(){return dt(this())},t}function re(t){return qu(t)?t():t}function qu(t){return"function"==typeof t&&t.hasOwnProperty(f1)&&t.__forward_ref__===Le}function Ku(t){return t&&!!t.\u0275providers}const um="https://g.co/ng/security#xss";class P extends Error{constructor(e,n){super(function Za(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function ae(t){return"string"==typeof t?t:null==t?"":String(t)}function Zu(t,e){throw new P(-201,!1)}function Cn(t,e){null==t&&function te(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function X(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function On(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ya(t){return dm(t,Xa)||dm(t,hm)}function dm(t,e){return t.hasOwnProperty(e)?t[e]:null}function Qa(t){return t&&(t.hasOwnProperty(Yu)||t.hasOwnProperty(C1))?t[Yu]:null}const Xa=Me({\u0275prov:Me}),Yu=Me({\u0275inj:Me}),hm=Me({ngInjectableDef:Me}),C1=Me({ngInjectorDef:Me});var ge=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ge||{});let Qu;function Wt(t){const e=Qu;return Qu=t,e}function pm(t,e,n){const r=Ya(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ge.Optional?null:void 0!==e?e:void Zu(dt(t))}const Be=globalThis;class K{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=X({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const lo={},nd="__NG_DI_FLAG__",Ja="ngTempTokenPath",D1=/\n/gm,mm="__source";let Gi;function Ur(t){const e=Gi;return Gi=t,e}function A1(t,e=ge.Default){if(void 0===Gi)throw new P(-203,!1);return null===Gi?pm(t,void 0,e):Gi.get(t,e&ge.Optional?null:void 0,e)}function Z(t,e=ge.Default){return(function fm(){return Qu}()||A1)(re(t),e)}function G(t,e=ge.Default){return Z(t,el(e))}function el(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function rd(t){const e=[];for(let n=0;n<t.length;n++){const r=re(t[n]);if(Array.isArray(r)){if(0===r.length)throw new P(900,!1);let i,s=ge.Default;for(let o=0;o<r.length;o++){const a=r[o],l=T1(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(Z(i,s))}else e.push(Z(r))}return e}function co(t,e){return t[nd]=e,t.prototype[nd]=e,t}function T1(t){return t[nd]}function vr(t){return{toString:t}.toString()}var tl=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(tl||{}),Sn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Sn||{});const Yn={},Ce=[],nl=Me({\u0275cmp:Me}),id=Me({\u0275dir:Me}),sd=Me({\u0275pipe:Me}),vm=Me({\u0275mod:Me}),_r=Me({\u0275fac:Me}),uo=Me({__NG_ELEMENT_ID__:Me}),_m=Me({__NG_ENV_ID__:Me});function wm(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function od(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];Sm(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Cm(t){return 3===t||4===t||6===t}function Sm(t){return 64===t.charCodeAt(0)}function ho(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||bm(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function bm(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const Dm="ng-template";function P1(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==wm(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Em(t){return 4===t.type&&t.value!==Dm}function N1(t,e,n){return e===(4!==t.type||n?t.value:Dm)}function R1(t,e,n){let r=4;const i=t.attrs||[],s=function F1(t){for(let e=0;e<t.length;e++)if(Cm(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!N1(t,l,n)||""===l&&1===e.length){if(Fn(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!P1(t.attrs,c,n)){if(Fn(r))return!1;o=!0}continue}const d=x1(8&r?"class":l,i,Em(t),n);if(-1===d){if(Fn(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==wm(f,c,0)||2&r&&c!==h){if(Fn(r))return!1;o=!0}}}}else{if(!o&&!Fn(r)&&!Fn(l))return!1;if(o&&Fn(l))continue;o=!1,r=l|1&r}}return Fn(r)||o}function Fn(t){return 0==(1&t)}function x1(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function L1(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Mm(t,e,n=!1){for(let r=0;r<e.length;r++)if(R1(t,e[r],n))return!0;return!1}function Am(t,e){return t?":not("+e.trim()+")":e}function V1(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Fn(o)&&(e+=Am(s,i),i=""),r=o,s=s||!Fn(r);n++}return""!==i&&(e+=Am(s,i)),e}function Ae(t){return vr(()=>{const e=Im(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===tl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Sn.Emulated,styles:t.styles||Ce,_:null,schemas:t.schemas||null,tView:null,id:""};km(n);const r=t.dependencies;return n.directiveDefs=rl(r,!1),n.pipeDefs=rl(r,!0),n.id=function q1(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function U1(t){return _e(t)||wt(t)}function z1(t){return null!==t}function Qn(t){return vr(()=>({type:t.type,bootstrap:t.bootstrap||Ce,declarations:t.declarations||Ce,imports:t.imports||Ce,exports:t.exports||Ce,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Tm(t,e){if(null==t)return Yn;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function ie(t){return vr(()=>{const e=Im(t);return km(e),e})}function _e(t){return t[nl]||null}function wt(t){return t[id]||null}function xt(t){return t[sd]||null}function ln(t,e){const n=t[vm]||null;if(!n&&!0===e)throw new Error(`Type ${dt(t)} does not have '\u0275mod' property.`);return n}function Im(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Yn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Ce,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Tm(t.inputs,e),outputs:Tm(t.outputs)}}function km(t){t.features?.forEach(e=>e(t))}function rl(t,e){if(!t)return null;const n=e?xt:U1;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(z1)}const Xe=0,$=1,de=2,We=3,Ln=4,fo=5,Tt=6,qi=7,tt=8,zr=9,Ki=10,le=11,po=12,Pm=13,Zi=14,nt=15,go=16,Yi=17,Xn=18,mo=19,Nm=20,Gr=21,wr=22,yo=23,vo=24,me=25,ad=1,Rm=2,Jn=7,Qi=9,Ct=11;function Kt(t){return Array.isArray(t)&&"object"==typeof t[ad]}function Ot(t){return Array.isArray(t)&&!0===t[ad]}function ld(t){return 0!=(4&t.flags)}function mi(t){return t.componentOffset>-1}function sl(t){return 1==(1&t.flags)}function Bn(t){return!!t.template}function cd(t){return 0!=(512&t[de])}function yi(t,e){return t.hasOwnProperty(_r)?t[_r]:null}let St=null,ol=!1;function bn(t){const e=St;return St=t,e}const Fm={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Bm(t){if(!wo(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Hm(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function jm(t){t.dirty=!0,function Vm(t){if(void 0===t.liveConsumerNode)return;const e=ol;ol=!0;try{for(const n of t.liveConsumerNode)n.dirty||jm(n)}finally{ol=e}}(t),t.consumerMarkedDirty?.(t)}function dd(t){return t&&(t.nextProducerIndex=0),bn(t)}function hd(t,e){if(bn(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(wo(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)al(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Hm(t){Xi(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Bm(n),r!==n.version))return!0}return!1}function $m(t){if(Xi(t),wo(t))for(let e=0;e<t.producerNode.length;e++)al(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function al(t,e){if(function zm(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Xi(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)al(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Xi(i),i.producerIndexOfThis[r]=e}}function wo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Xi(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Gm=null;const Zm=()=>{},oA=(()=>({...Fm,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Zm}))();class aA{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Dn(){return Ym}function Ym(t){return t.type.prototype.ngOnChanges&&(t.setInput=cA),lA}function lA(){const t=Xm(this),e=t?.current;if(e){const n=t.previous;if(n===Yn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function cA(t,e,n,r){const i=this.declaredInputs[n],s=Xm(t)||function uA(t,e){return t[Qm]=e}(t,{previous:Yn,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new aA(l&&l.currentValue,e,a===Yn),t[r]=e}Dn.ngInherit=!0;const Qm="__ngSimpleChanges__";function Xm(t){return t[Qm]||null}const er=function(t,e,n){};function Ve(t){for(;Array.isArray(t);)t=t[Xe];return t}function ll(t,e){return Ve(e[t])}function Zt(t,e){return Ve(e[t.index])}function ty(t,e){return t.data[e]}function cn(t,e){const n=e[t];return Kt(n)?n:n[Xe]}function qr(t,e){return null==e?null:t[e]}function ny(t){t[Yi]=0}function mA(t){1024&t[de]||(t[de]|=1024,iy(t,1))}function ry(t){1024&t[de]&&(t[de]&=-1025,iy(t,-1))}function iy(t,e){let n=t[We];if(null===n)return;n[fo]+=e;let r=n;for(n=n[We];null!==n&&(1===e&&1===r[fo]||-1===e&&0===r[fo]);)n[fo]+=e,r=n,n=n[We]}const ne={lFrame:gy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ay(){return ne.bindingsEnabled}function R(){return ne.lFrame.lView}function we(){return ne.lFrame.tView}function W(t){return ne.lFrame.contextLView=t,t[tt]}function q(t){return ne.lFrame.contextLView=null,t}function bt(){let t=ly();for(;null!==t&&64===t.type;)t=t.parent;return t}function ly(){return ne.lFrame.currentTNode}function tr(t,e){const n=ne.lFrame;n.currentTNode=t,n.isParent=e}function yd(){return ne.lFrame.isParent}function Ft(){const t=ne.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ts(){return ne.lFrame.bindingIndex++}function Sr(t){const e=ne.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function TA(t,e){const n=ne.lFrame;n.bindingIndex=n.bindingRootIndex=t,_d(e)}function _d(t){ne.lFrame.currentDirectiveIndex=t}function Cd(t){ne.lFrame.currentQueryIndex=t}function kA(t){const e=t[$];return 2===e.type?e.declTNode:1===e.type?t[Tt]:null}function fy(t,e,n){if(n&ge.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&ge.Host||(i=kA(s),null===i||(s=s[Zi],10&i.type))););if(null===i)return!1;e=i,t=s}const r=ne.lFrame=py();return r.currentTNode=e,r.lView=t,!0}function Sd(t){const e=py(),n=t[$];ne.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function py(){const t=ne.lFrame,e=null===t?null:t.child;return null===e?gy(t):e}function gy(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function my(){const t=ne.lFrame;return ne.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const yy=my;function bd(){const t=my();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Lt(){return ne.lFrame.selectedIndex}function vi(t){ne.lFrame.selectedIndex=t}function Ze(){const t=ne.lFrame;return ty(t.tView,t.selectedIndex)}let _y=!0;function cl(){return _y}function Kr(t){_y=t}function ul(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function dl(t,e,n){wy(t,e,3,n)}function hl(t,e,n,r){(3&t[de])===n&&wy(t,e,n,r)}function Dd(t,e){let n=t[de];(3&n)===e&&(n&=8191,n+=1,t[de]=n)}function wy(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&t[Yi]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[Yi]+=65536),(a<s||-1==s)&&(BA(t,n,e,l),t[Yi]=(4294901760&t[Yi])+l+2),l++}function Cy(t,e){er(4,t,e);const n=bn(null);try{e.call(t)}finally{bn(n),er(5,t,e)}}function BA(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[de]>>13<t[Yi]>>16&&(3&t[de])===e&&(t[de]+=8192,Cy(a,s)):Cy(a,s)}const ns=-1;class So{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Md(t){return t!==ns}function bo(t){return 32767&t}function Do(t,e){let n=function $A(t){return t>>16}(t),r=e;for(;n>0;)r=r[Zi],n--;return r}let Ad=!0;function fl(t){const e=Ad;return Ad=t,e}const Sy=255,by=5;let UA=0;const nr={};function pl(t,e){const n=Dy(t,e);if(-1!==n)return n;const r=e[$];r.firstCreatePass&&(t.injectorIndex=e.length,Td(r.data,t),Td(e,null),Td(r.blueprint,null));const i=gl(t,e),s=t.injectorIndex;if(Md(i)){const o=bo(i),a=Do(i,e),l=a[$].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function Td(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Dy(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function gl(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=Py(i),null===r)return ns;if(n++,i=i[Zi],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ns}function Id(t,e,n){!function zA(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(uo)&&(r=n[uo]),null==r&&(r=n[uo]=UA++);const i=r&Sy;e.data[t+(i>>by)]|=1<<i}(t,e,n)}function Ey(t,e,n){if(n&ge.Optional||void 0!==t)return t;Zu()}function My(t,e,n,r){if(n&ge.Optional&&void 0===r&&(r=null),!(n&(ge.Self|ge.Host))){const i=t[zr],s=Wt(void 0);try{return i?i.get(e,r,n&ge.Optional):pm(e,r,n&ge.Optional)}finally{Wt(s)}}return Ey(r,0,n)}function Ay(t,e,n,r=ge.Default,i){if(null!==t){if(2048&e[de]&&!(r&ge.Self)){const o=function YA(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[de]&&!(512&o[de]);){const a=Ty(s,o,n,r|ge.Self,nr);if(a!==nr)return a;let l=s.parent;if(!l){const c=o[Nm];if(c){const u=c.get(n,nr,r);if(u!==nr)return u}l=Py(o),o=o[Zi]}s=l}return i}(t,e,n,r,nr);if(o!==nr)return o}const s=Ty(t,e,n,r,nr);if(s!==nr)return s}return My(e,n,r,i)}function Ty(t,e,n,r,i){const s=function qA(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(uo)?t[uo]:void 0;return"number"==typeof e?e>=0?e&Sy:ZA:e}(n);if("function"==typeof s){if(!fy(e,t,r))return r&ge.Host?Ey(i,0,r):My(e,n,r,i);try{let o;if(o=s(r),null!=o||r&ge.Optional)return o;Zu()}finally{yy()}}else if("number"==typeof s){let o=null,a=Dy(t,e),l=ns,c=r&ge.Host?e[nt][Tt]:null;for((-1===a||r&ge.SkipSelf)&&(l=-1===a?gl(t,e):e[a+8],l!==ns&&ky(r,!1)?(o=e[$],a=bo(l),e=Do(l,e)):a=-1);-1!==a;){const u=e[$];if(Iy(s,a,u.data)){const d=WA(a,e,n,o,r,c);if(d!==nr)return d}l=e[a+8],l!==ns&&ky(r,e[$].data[a+8]===c)&&Iy(s,a,e)?(o=u,a=bo(l),e=Do(l,e)):a=-1}}return i}function WA(t,e,n,r,i,s){const o=e[$],a=o.data[t+8],u=function ml(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,l=t.directiveStart,u=s>>20,h=i?a+u:t.directiveEnd;for(let f=r?a:a+u;f<h;f++){const g=o[f];if(f<l&&n===g||f>=l&&g.type===n)return f}if(i){const f=o[l];if(f&&Bn(f)&&f.type===n)return l}return null}(a,o,n,null==r?mi(a)&&Ad:r!=o&&0!=(3&a.type),i&ge.Host&&s===a);return null!==u?_i(e,o,u,a):nr}function _i(t,e,n,r){let i=t[n];const s=e.data;if(function VA(t){return t instanceof So}(i)){const o=i;o.resolving&&function p1(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new P(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ee(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ae(t)}(s[n]));const a=fl(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Wt(o.injectImpl):null;fy(t,r,ge.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function LA(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Ym(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==c&&Wt(c),fl(a),o.resolving=!1,yy()}}return i}function Iy(t,e,n){return!!(n[e+(t>>by)]&1<<t)}function ky(t,e){return!(t&ge.Self||t&ge.Host&&e)}class Bt{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Ay(this._tNode,this._lView,e,el(r),n)}}function ZA(){return new Bt(bt(),R())}function Dt(t){return vr(()=>{const e=t.prototype.constructor,n=e[_r]||kd(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[_r]||kd(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function kd(t){return qu(t)?()=>{const e=kd(re(t));return e&&e()}:yi(t)}function Py(t){const e=t[$],n=e.type;return 2===n?e.declTNode:1===n?t[Tt]:null}const is="__parameters__";function os(t,e,n){return vr(()=>{const r=function Pd(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(is)?l[is]:Object.defineProperty(l,is,{value:[]})[is];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function ls(t,e){t.forEach(n=>Array.isArray(n)?ls(n,e):e(n))}function Ry(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function vl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function un(t,e,n){let r=cs(t,e);return r>=0?t[1|r]=n:(r=~r,function rT(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Nd(t,e){const n=cs(t,e);if(n>=0)return t[1|n]}function cs(t,e){return function xy(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const wl=co(os("Optional"),8),Cl=co(os("SkipSelf"),4);function Ml(t){return 128==(128&t.flags)}var Zr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Zr||{});const Ld=new Map;let AT=0;const Vd="__ngContext__";function It(t,e){Kt(e)?(t[Vd]=e[mo],function IT(t){Ld.set(t[mo],t)}(e)):t[Vd]=e}let jd;function Hd(t,e){return jd(t,e)}function ko(t){const e=t[We];return Ot(e)?e[We]:e}function ev(t){return nv(t[po])}function tv(t){return nv(t[Ln])}function nv(t){for(;null!==t&&!Ot(t);)t=t[Ln];return t}function hs(t,e,n,r,i){if(null!=r){let s,o=!1;Ot(r)?s=r:Kt(r)&&(o=!0,r=r[Xe]);const a=Ve(r);0===t&&null!==n?null==i?ov(e,n,a):wi(e,n,a,i||null,!0):1===t&&null!==n?wi(e,n,a,i||null,!0):2===t?function Rl(t,e,n){const r=Pl(t,e);r&&function KT(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function QT(t,e,n,r,i){const s=n[Jn];s!==Ve(n)&&hs(e,t,r,s,i);for(let a=Ct;a<n.length;a++){const l=n[a];No(l[$],l,t,e,r,s)}}(e,t,s,n,i)}}function Il(t,e,n){return t.createElement(e,n)}function iv(t,e){const n=t[Qi],r=n.indexOf(e);ry(e),n.splice(r,1)}function kl(t,e){if(t.length<=Ct)return;const n=Ct+e,r=t[n];if(r){const i=r[go];null!==i&&i!==t&&iv(i,r),e>0&&(t[n-1][Ln]=r[Ln]);const s=vl(t,Ct+e);!function jT(t,e){No(t,e,e[le],2,null,null),e[Xe]=null,e[Tt]=null}(r[$],r);const o=s[Xn];null!==o&&o.detachView(s[$]),r[We]=null,r[Ln]=null,r[de]&=-129}return r}function Ud(t,e){if(!(256&e[de])){const n=e[le];e[yo]&&$m(e[yo]),e[vo]&&$m(e[vo]),n.destroyNode&&No(t,e,n,3,null,null),function UT(t){let e=t[po];if(!e)return zd(t[$],t);for(;e;){let n=null;if(Kt(e))n=e[po];else{const r=e[Ct];r&&(n=r)}if(!n){for(;e&&!e[Ln]&&e!==t;)Kt(e)&&zd(e[$],e),e=e[We];null===e&&(e=t),Kt(e)&&zd(e[$],e),n=e&&e[Ln]}e=n}}(e)}}function zd(t,e){if(!(256&e[de])){e[de]&=-129,e[de]|=256,function qT(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof So)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];er(4,a,l);try{l.call(a)}finally{er(5,a,l)}}else{er(4,i,s);try{s.call(i)}finally{er(5,i,s)}}}}}(t,e),function WT(t,e){const n=t.cleanup,r=e[qi];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[qi]=null);const i=e[Gr];if(null!==i){e[Gr]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[$].type&&e[le].destroy();const n=e[go];if(null!==n&&Ot(e[We])){n!==e[We]&&iv(n,e);const r=e[Xn];null!==r&&r.detachView(t)}!function kT(t){Ld.delete(t[mo])}(e)}}function Gd(t,e,n){return function sv(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Xe];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Sn.None||s===Sn.Emulated)return null}return Zt(r,n)}}(t,e.parent,n)}function wi(t,e,n,r,i){t.insertBefore(e,n,r,i)}function ov(t,e,n){t.appendChild(e,n)}function av(t,e,n,r,i){null!==r?wi(t,e,n,r,i):ov(t,e,n)}function Pl(t,e){return t.parentNode(e)}let Wd,Yd,uv=function cv(t,e,n){return 40&t.type?Zt(t,n):null};function Nl(t,e,n,r){const i=Gd(t,r,e),s=e[le],a=function lv(t,e,n){return uv(t,e,n)}(r.parent||e[Tt],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)av(s,i,n[l],a,!1);else av(s,i,n,a,!1);void 0!==Wd&&Wd(s,r,e,n,i)}function Po(t,e){if(null!==e){const n=e.type;if(3&n)return Zt(e,t);if(4&n)return qd(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Po(t,r);{const i=t[e.index];return Ot(i)?qd(-1,i):Ve(i)}}if(32&n)return Hd(e,t)()||Ve(t[e.index]);{const r=hv(t,e);return null!==r?Array.isArray(r)?r[0]:Po(ko(t[nt]),r):Po(t,e.next)}}return null}function hv(t,e){return null!==e?t[nt][Tt].projection[e.projection]:null}function qd(t,e){const n=Ct+t+1;if(n<e.length){const r=e[n],i=r[$].firstChild;if(null!==i)return Po(r,i)}return e[Jn]}function Kd(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===e&&(a&&It(Ve(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)Kd(t,e,n.child,r,i,s,!1),hs(e,t,i,a,s);else if(32&l){const c=Hd(n,r);let u;for(;u=c();)hs(e,t,i,u,s);hs(e,t,i,a,s)}else 16&l?pv(t,e,r,n,i,s):hs(e,t,i,a,s);n=o?n.projectionNext:n.next}}function No(t,e,n,r,i,s){Kd(n,r,t.firstChild,e,i,s,!1)}function pv(t,e,n,r,i,s){const o=n[nt],l=o[Tt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)hs(e,t,i,l[c],s);else{let c=l;const u=o[We];Ml(r)&&(c.flags|=128),Kd(t,e,c,u,i,s,!0)}}function gv(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function mv(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&od(t,e,r),null!==i&&gv(t,e,i),null!==s&&function JT(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}class wv{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${um})`}}function Yr(t){return t instanceof wv?t.changingThisBreaksApplicationSecurity:t}const fI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var gs=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(gs||{});function rr(t){const e=function Oo(){const t=R();return t&&t[Ki].sanitizer}();return e?e.sanitize(gs.URL,t)||"":function Ro(t,e){const n=function cI(t){return t instanceof wv&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${um})`)}return n===e}(t,"URL")?Yr(t):function Xd(t){return(t=String(t)).match(fI)?t:"unsafe:"+t}(ae(t))}const Fo=new K("ENVIRONMENT_INITIALIZER"),Iv=new K("INJECTOR",-1),kv=new K("INJECTOR_DEF_TYPES");class nh{get(e,n=lo){if(n===lo){const r=new Error(`NullInjectorError: No provider for ${dt(e)}!`);throw r.name="NullInjectorError",r}return n}}function MI(...t){return{\u0275providers:Nv(0,t),\u0275fromNgModule:!0}}function Nv(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return ls(e,o=>{const a=o;Ll(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&Rv(i,s),n}function Rv(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];rh(i,s=>{e(s,r)})}}function Ll(t,e,n,r){if(!(t=re(t)))return!1;let i=null,s=Qa(t);const o=!s&&_e(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const l=t.ngModule;if(s=Qa(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)Ll(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{ls(s.imports,u=>{Ll(u,e,n,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&Rv(c,e)}if(!a){const c=yi(i)||(()=>new i);e({provide:i,useFactory:c,deps:Ce},i),e({provide:kv,useValue:i,multi:!0},i),e({provide:Fo,useValue:()=>Z(i),multi:!0},i)}const l=s.providers;if(null!=l&&!a){const c=t;rh(l,u=>{e(u,c)})}}}return i!==t&&void 0!==t.providers}function rh(t,e){for(let n of t)Ku(n)&&(n=n.\u0275providers),Array.isArray(n)?rh(n,e):e(n)}const AI=Me({provide:String,useValue:Me});function ih(t){return null!==t&&"object"==typeof t&&AI in t}function Ci(t){return"function"==typeof t}const sh=new K("Set Injector scope."),Bl={},II={};let oh;function Vl(){return void 0===oh&&(oh=new nh),oh}class Mn{}class ms extends Mn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,lh(e,o=>this.processProvider(o)),this.records.set(Iv,ys(void 0,this)),i.has("environment")&&this.records.set(Mn,ys(void 0,this));const s=this.records.get(sh);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(kv.multi,Ce,ge.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Ur(this),r=Wt(void 0);try{return e()}finally{Ur(n),Wt(r)}}get(e,n=lo,r=ge.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(_m))return e[_m](this);r=el(r);const s=Ur(this),o=Wt(void 0);try{if(!(r&ge.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function xI(t){return"function"==typeof t||"object"==typeof t&&t instanceof K}(e)&&Ya(e);l=c&&this.injectableDefInScope(c)?ys(ah(e),Bl):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&ge.Self?Vl():this.parent).get(e,n=r&ge.Optional&&n===lo?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Ja]=a[Ja]||[]).unshift(dt(e)),s)throw a;return function I1(t,e,n,r){const i=t[Ja];throw e[mm]&&i.unshift(e[mm]),t.message=function k1(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=dt(e);if(Array.isArray(e))i=e.map(dt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):dt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(D1,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Ja]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Wt(o),Ur(s)}}resolveInjectorInitializers(){const e=Ur(this),n=Wt(void 0);try{const i=this.get(Fo.multi,Ce,ge.Self);for(const s of i)s()}finally{Ur(e),Wt(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(dt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new P(205,!1)}processProvider(e){let n=Ci(e=re(e))?e:re(e&&e.provide);const r=function PI(t){return ih(t)?ys(void 0,t.useValue):ys(Fv(t),Bl)}(e);if(Ci(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=ys(void 0,Bl,!0),i.factory=()=>rd(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Bl&&(n.value=II,n.value=n.factory()),"object"==typeof n.value&&n.value&&function RI(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=re(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function ah(t){const e=Ya(t),n=null!==e?e.factory:yi(t);if(null!==n)return n;if(t instanceof K)throw new P(204,!1);if(t instanceof Function)return function kI(t){const e=t.length;if(e>0)throw function Ao(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new P(204,!1);const n=function w1(t){return t&&(t[Xa]||t[hm])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new P(204,!1)}function Fv(t,e,n){let r;if(Ci(t)){const i=re(t);return yi(i)||ah(i)}if(ih(t))r=()=>re(t.useValue);else if(function Ov(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...rd(t.deps||[]));else if(function xv(t){return!(!t||!t.useExisting)}(t))r=()=>Z(re(t.useExisting));else{const i=re(t&&(t.useClass||t.provide));if(!function NI(t){return!!t.deps}(t))return yi(i)||ah(i);r=()=>new i(...rd(t.deps))}return r}function ys(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function lh(t,e){for(const n of t)Array.isArray(n)?lh(n,e):n&&Ku(n)?lh(n.\u0275providers,e):e(n)}const jl=new K("AppId",{providedIn:"root",factory:()=>OI}),OI="ng",Lv=new K("Platform Initializer"),vs=new K("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Bv=new K("AnimationModuleType"),Vv=new K("CSP nonce",{providedIn:"root",factory:()=>function ps(){if(void 0!==Yd)return Yd;if(typeof document<"u")return document;throw new P(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let jv=(t,e,n)=>null;function mh(t,e,n=!1){return jv(t,e,n)}class GI{}class Uv{}class qI{resolveComponentFactory(e){throw function WI(t){const e=Error(`No component factory found for ${dt(t)}.`);return e.ngComponent=t,e}(e)}}let Wl=(()=>{class t{static#e=this.NULL=new qI}return t})();function KI(){return Cs(bt(),R())}function Cs(t,e){return new dn(Zt(t,e))}let dn=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=KI}return t})();class Vo{}let Dr=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function YI(){const t=R(),n=cn(bt().index,t);return(Kt(n)?n:t)[le]}()}return t})(),QI=(()=>{class t{static#e=this.\u0275prov=X({token:t,providedIn:"root",factory:()=>null})}return t})();class jo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const XI=new jo("16.2.12"),_h={};function Kv(t,e=null,n=null,r){const i=Zv(t,e,n,r);return i.resolveInjectorInitializers(),i}function Zv(t,e=null,n=null,r,i=new Set){const s=[n||Ce,MI(t)];return r=r||("object"==typeof t?void 0:dt(t)),new ms(s,e||Vl(),r||null,i)}let hn=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=lo;static#t=this.NULL=new nh;static create(n,r){if(Array.isArray(n))return Kv({name:""},r,n,"");{const i=n.name??"";return Kv({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=X({token:t,providedIn:"any",factory:()=>Z(Iv)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Ch(t){return t.ngOriginalError}class Er{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Ch(e);for(;n&&Ch(n);)n=Ch(n);return n||null}}function bh(t){return e=>{setTimeout(t,void 0,e)}}const oe=class sk extends _n{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=bh(s),i&&(i=bh(i)),o&&(o=bh(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof sn&&e.add(a),a}};function Qv(...t){}class xe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new oe(!1),this.onMicrotaskEmpty=new oe(!1),this.onStable=new oe(!1),this.onError=new oe(!1),typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function ok(){const t="function"==typeof Be.requestAnimationFrame;let e=Be[t?"requestAnimationFrame":"setTimeout"],n=Be[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function ck(t){const e=()=>{!function lk(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Be,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Eh(t),t.isCheckStableRunning=!0,Dh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Eh(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function dk(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return Xv(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Jv(t)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return Xv(t),n.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),Jv(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Eh(t),Dh(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xe.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(xe.isInAngularZone())throw new P(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,ak,Qv,Qv);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const ak={};function Dh(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Eh(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Xv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Jv(t){t._nesting--,Dh(t)}class uk{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new oe,this.onMicrotaskEmpty=new oe,this.onStable=new oe,this.onError=new oe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const e_=new K("",{providedIn:"root",factory:t_});function t_(){const t=G(xe);let e=!0;return function u1(...t){const e=ao(t),n=function r1(t,e){return"number"==typeof zu(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?on(r[0]):zi(n)(gt(r,e)):Kn}(new st(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new st(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{xe.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{xe.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(cm()))}function ql(t){return t.ownerDocument}function Mr(t){return t instanceof Function?t():t}let Mh=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=X({token:t,providedIn:"root",factory:()=>new t})}return t})();function Ho(t){for(;t;){t[de]|=64;const e=ko(t);if(cd(t)&&!e)return t;t=e}return null}const o_=new K("",{providedIn:"root",factory:()=>!1});let Zl=null;function u_(t,e){return t[e]??f_()}function d_(t,e){const n=f_();n.producerNode?.length&&(t[e]=Zl,n.lView=t,Zl=h_())}const wk={...Fm,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ho(t.lView)},lView:null};function h_(){return Object.create(wk)}function f_(){return Zl??=h_(),Zl}const ce={};function w(t){p_(we(),R(),Lt()+t,!1)}function p_(t,e,n,r){if(!r)if(3==(3&e[de])){const s=t.preOrderCheckHooks;null!==s&&dl(e,s,n)}else{const s=t.preOrderHooks;null!==s&&hl(e,s,0,n)}vi(n)}function O(t,e=ge.Default){const n=R();return null===n?Z(t,e):Ay(bt(),n,re(t),e)}function Yl(t,e,n,r,i,s,o,a,l,c,u){const d=e.blueprint.slice();return d[Xe]=i,d[de]=140|r,(null!==c||t&&2048&t[de])&&(d[de]|=2048),ny(d),d[We]=d[Zi]=t,d[tt]=n,d[Ki]=o||t&&t[Ki],d[le]=a||t&&t[le],d[zr]=l||t&&t[zr]||null,d[Tt]=s,d[mo]=function TT(){return AT++}(),d[wr]=u,d[Nm]=c,d[nt]=2==e.type?t[nt]:d,d}function Ds(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Ah(t,e,n,r,i){const s=ly(),o=yd(),l=t.data[e]=function Tk(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function es(){return null!==ne.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(t,e,n,r,i),function AA(){return ne.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Co(){const t=ne.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return tr(s,!0),s}function $o(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function m_(t,e,n,r,i){const s=u_(e,yo),o=Lt(),a=2&r;try{vi(-1),a&&e.length>me&&p_(t,e,me,!1),er(a?2:0,i);const c=a?s:null,u=dd(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{hd(c,u)}}finally{a&&null===e[yo]&&d_(e,yo),vi(o),er(a?3:1,i)}}function Th(t,e,n){if(ld(e)){const r=bn(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{bn(r)}}}function Ih(t,e,n){ay()&&(function Ok(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;mi(n)&&function $k(t,e,n){const r=Zt(e,t),i=y_(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Ql(t,Yl(t,i,null,o,r,e,null,t[Ki].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||pl(n,e),It(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const l=t.data[a],c=_i(e,t,a,n);It(c,e),null!==o&&Uk(0,a-i,c,l,0,o),Bn(l)&&(cn(n.index,e)[tt]=_i(e,t,a,n))}}(t,e,n,Zt(n,e)),64==(64&n.flags)&&S_(t,e,n))}function kh(t,e,n=Zt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function y_(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ph(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ph(t,e,n,r,i,s,o,a,l,c,u){const d=me+r,h=d+i,f=function Sk(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ce);return n}(d,h),g="function"==typeof c?c():c;return f[$]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:u}}let v_=t=>null;function __(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?w_(n,e,i,s):r.hasOwnProperty(i)&&w_(n,e,r[i],s)}return n}function w_(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function fn(t,e,n,r,i,s,o,a){const l=Zt(e,n);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(Fh(t,n,u,r,i),mi(e)&&function Pk(t,e){const n=cn(e,t);16&n[de]||(n[de]|=64)}(n,e.index)):3&e.type&&(r=function kk(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}function Nh(t,e,n,r){if(ay()){const i=null===r?null:{"":-1},s=function Lk(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(Mm(e,o.selectors,!1))if(r||(r=[]),Bn(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Rh(t,e,a.length)}else r.unshift(o),Rh(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&C_(t,e,n,o,i,a),i&&function Bk(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new P(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=ho(n.mergedAttrs,n.attrs)}function C_(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Id(pl(n,e),t,r[c].type);!function jk(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=$o(t,e,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];n.mergedAttrs=ho(n.mergedAttrs,u.hostAttrs),Hk(t,n,e,l,u),Vk(l,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}!function Ik(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<i;u++){const d=s[u],h=n?n.get(d):null,g=h?h.outputs:null;l=__(d.inputs,u,l,h?h.inputs:null),c=__(d.outputs,u,c,g);const _=null===l||null===o||Em(e)?null:zk(l,u,o);a.push(_)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(t,n,s)}function S_(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function IA(){return ne.lFrame.currentDirectiveIndex}();try{vi(s);for(let a=r;a<i;a++){const l=t.data[a],c=e[a];_d(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&Fk(l,c)}}finally{vi(-1),_d(o)}}function Fk(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Rh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Vk(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Bn(e)&&(n[""]=t)}}function Hk(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=yi(i.type)),o=new So(s,Bn(i),O);t.blueprint[r]=o,n[r]=o,function Rk(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function xk(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,$o(t,n,i.hostVars,ce),i)}function Uk(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)b_(r,n,o[a++],o[a++],o[a++])}function b_(t,e,n,r,i){const s=bn(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{bn(s)}}function zk(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function D_(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function E_(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];Cd(n[r]),o.contentQueries(2,e[s],s)}}}function Ql(t,e){return t[po]?t[Pm][Ln]=e:t[po]=e,t[Pm]=e,e}function Oh(t,e,n){Cd(0);const r=bn(null);try{e(t,n)}finally{bn(r)}}function I_(t,e){const n=t[zr],r=n?n.get(Er,null):null;r&&r.handleError(e)}function Fh(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];b_(t.data[o],e[o],r,a,i)}}function Ar(t,e,n){const r=ll(e,t);!function rv(t,e,n){t.setValue(e,n)}(t[le],r,n)}function Gk(t,e){const n=cn(e,t),r=n[$];!function Wk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Xe];null!==i&&null===n[wr]&&(n[wr]=mh(i,n[zr])),Lh(r,n,n[tt])}function Lh(t,e,n){Sd(e);try{const r=t.viewQuery;null!==r&&Oh(1,r,n);const i=t.template;null!==i&&m_(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&E_(t,e),t.staticViewQueries&&Oh(2,t.viewQuery,n);const s=t.components;null!==s&&function qk(t,e){for(let n=0;n<e.length;n++)Gk(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[de]&=-5,bd()}}let k_=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function sA(t,e,n){const r=Object.create(oA);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>jm(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Hm(r))return;r.hasRun=!0;const o=dd(r);try{r.cleanupFn(),r.cleanupFn=Zm,r.fn(i)}finally{hd(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=X({token:t,providedIn:"root",factory:()=>new t})}return t})();function Xl(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Wu(i,a):2==s&&(r=Wu(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Uo(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(Ve(s)),Ot(s)&&P_(s,r);const o=n.type;if(8&o)Uo(t,e,n.child,r);else if(32&o){const a=Hd(n,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=hv(e,n);if(Array.isArray(a))r.push(...a);else{const l=ko(e[nt]);Uo(l[$],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function P_(t,e){for(let n=Ct;n<t.length;n++){const r=t[n],i=r[$].firstChild;null!==i&&Uo(r[$],r,i,e)}t[Jn]!==t[Xe]&&e.push(t[Jn])}function Jl(t,e,n,r=!0){const i=e[Ki],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{N_(t,e,t.template,n)}catch(l){throw r&&I_(e,l),l}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function N_(t,e,n,r){const i=e[de];if(256!=(256&i)){e[Ki].effectManager?.flush(),Sd(e);try{ny(e),function uy(t){return ne.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&m_(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&dl(e,c,null)}else{const c=t.preOrderHooks;null!==c&&hl(e,c,0,null),Dd(e,0)}if(function Yk(t){for(let e=ev(t);null!==e;e=tv(e)){if(!e[Rm])continue;const n=e[Qi];for(let r=0;r<n.length;r++){mA(n[r])}}}(e),R_(e,2),null!==t.contentQueries&&E_(t,e),o){const c=t.contentCheckHooks;null!==c&&dl(e,c)}else{const c=t.contentHooks;null!==c&&hl(e,c,1),Dd(e,1)}!function Ck(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=u_(e,vo);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)vi(~s);else{const o=s,a=n[++i],l=n[++i];TA(a,o),r.dirty=!1;const c=dd(r);try{l(2,e[o])}finally{hd(r,c)}}}}finally{null===e[vo]&&d_(e,vo),vi(-1)}}(t,e);const a=t.components;null!==a&&O_(e,a,0);const l=t.viewQuery;if(null!==l&&Oh(2,l,r),o){const c=t.viewCheckHooks;null!==c&&dl(e,c)}else{const c=t.viewHooks;null!==c&&hl(e,c,2),Dd(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[de]&=-73,ry(e)}finally{bd()}}}function R_(t,e){for(let n=ev(t);null!==n;n=tv(n))for(let r=Ct;r<n.length;r++)x_(n[r],e)}function Qk(t,e,n){x_(cn(e,t),n)}function x_(t,e){if(!function pA(t){return 128==(128&t[de])}(t))return;const n=t[$],r=t[de];if(80&r&&0===e||1024&r||2===e)N_(n,t,n.template,t[tt]);else if(t[fo]>0){R_(t,1);const i=n.components;null!==i&&O_(t,i,1)}}function O_(t,e,n){for(let r=0;r<e.length;r++)Qk(t,e[r],n)}class zo{get rootNodes(){const e=this._lView,n=e[$];return Uo(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[tt]}set context(e){this._lView[tt]=e}get destroyed(){return 256==(256&this._lView[de])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[We];if(Ot(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(kl(e,r),vl(n,r))}this._attachedToViewContainer=!1}Ud(this._lView[$],this._lView)}onDestroy(e){!function sy(t,e){if(256==(256&t[de]))throw new P(911,!1);null===t[Gr]&&(t[Gr]=[]),t[Gr].push(e)}(this._lView,e)}markForCheck(){Ho(this._cdRefInjectingView||this._lView)}detach(){this._lView[de]&=-129}reattach(){this._lView[de]|=128}detectChanges(){Jl(this._lView[$],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function $T(t,e){No(t,e,e[le],2,null,null)}(this._lView[$],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=e}}class Xk extends zo{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Jl(e[$],e,e[tt],!1)}checkNoChanges(){}get context(){return null}}class F_ extends Wl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=_e(e);return new Go(n,this.ngModule)}}function L_(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class eP{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=el(r);const i=this.injector.get(e,_h,r);return i!==_h||n===_h?i:this.parentInjector.get(e,n,r)}}class Go extends Uv{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=L_(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return L_(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function j1(t){return t.map(V1).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Mn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new eP(e,s):e,a=o.get(Vo,null);if(null===a)throw new P(407,!1);const d={rendererFactory:a,sanitizer:o.get(QI,null),effectManager:o.get(k_,null),afterRenderEventManager:o.get(Mh,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",g=r?function bk(t,e,n,r){const s=r.get(o_,!1)||n===Sn.ShadowDom,o=t.selectRootElement(e,s);return function Dk(t){v_(t)}(o),o}(h,r,this.componentDef.encapsulation,o):Il(h,f,function Jk(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),I=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let b=null;null!==g&&(b=mh(g,o,!0));const F=Ph(0,null,null,1,0,null,null,null,null,null,null),V=Yl(null,F,null,I,null,null,d,h,o,null,b);let Y,fe;Sd(V);try{const ye=this.componentDef;let $e,Qe=null;ye.findHostDirectiveDefs?($e=[],Qe=new Map,ye.findHostDirectiveDefs(ye,$e,Qe),$e.push(ye)):$e=[ye];const pt=function nP(t,e){const n=t[$],r=me;return t[r]=e,Ds(n,r,2,"#host",null)}(V,g),vn=function rP(t,e,n,r,i,s,o){const a=i[$];!function iP(t,e,n,r){for(const i of t)e.mergedAttrs=ho(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Xl(e,e.mergedAttrs,!0),null!==n&&mv(r,n,e))}(r,t,e,o);let l=null;null!==e&&(l=mh(e,i[zr]));const c=s.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=Yl(i,y_(n),null,u,i[t.index],t,s,c,null,null,l);return a.firstCreatePass&&Rh(a,t,r.length-1),Ql(i,d),i[t.index]=d}(pt,g,ye,$e,V,d,h);fe=ty(F,me),g&&function oP(t,e,n,r){if(r)od(t,n,["ng-version",XI.full]);else{const{attrs:i,classes:s}=function H1(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Fn(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&od(t,n,i),s&&s.length>0&&gv(t,n,s.join(" "))}}(h,ye,g,r),void 0!==n&&function aP(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(fe,this.ngContentSelectors,n),Y=function sP(t,e,n,r,i,s){const o=bt(),a=i[$],l=Zt(o,i);C_(a,i,o,n,null,r);for(let u=0;u<n.length;u++)It(_i(i,a,o.directiveStart+u,o),i);S_(a,i,o),l&&It(l,i);const c=_i(i,a,o.directiveStart+o.componentOffset,o);if(t[tt]=i[tt]=c,null!==s)for(const u of s)u(c,e);return Th(a,o,t),c}(vn,ye,$e,Qe,V,[lP]),Lh(F,V,null)}finally{bd()}return new tP(this.componentType,Y,Cs(fe,V),V,fe)}}class tP extends GI{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Xk(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;Fh(s[$],s,i,e,n),this.previousInputValues.set(e,n),Ho(cn(this._tNode.index,s))}}get injector(){return new Bt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function lP(){const t=bt();ul(R()[$],t)}function Te(t){let e=function B_(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Bn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new P(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=ec(t.inputs),o.inputTransforms=ec(t.inputTransforms),o.declaredInputs=ec(t.declaredInputs),o.outputs=ec(t.outputs);const a=i.hostBindings;a&&hP(t,a);const l=i.viewQuery,c=i.contentQueries;if(l&&uP(t,l),c&&dP(t,c),Ka(t.inputs,i.inputs),Ka(t.declaredInputs,i.declaredInputs),Ka(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Ka(o.inputTransforms,i.inputTransforms)),Bn(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Te&&(n=!1)}}e=Object.getPrototypeOf(e)}!function cP(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ho(i.hostAttrs,n=ho(n,i.hostAttrs))}}(r)}function ec(t){return t===Yn?{}:t===Ce?[]:t}function uP(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function dP(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function hP(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function tc(t){return!!Bh(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Bh(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function sr(t,e,n){return t[e]=n}function Wo(t,e){return t[e]}function kt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Si(t,e,n,r){const i=kt(t,e,n);return kt(t,e+1,r)||i}function An(t,e,n,r,i,s){const o=Si(t,e,n,r);return Si(t,e+2,i,s)||o}function Ms(t,e,n,r){return kt(t,ts(),n)?e+ae(n)+r:ce}function As(t,e,n,r,i,s){const a=Si(t,function Cr(){return ne.lFrame.bindingIndex}(),n,i);return Sr(2),a?e+ae(n)+r+ae(i)+s:ce}function N(t,e,n,r,i,s,o,a){const l=R(),c=we(),u=t+me,d=c.firstCreatePass?function LP(t,e,n,r,i,s,o,a,l){const c=e.consts,u=Ds(e,t,4,o||null,qr(c,a));Nh(e,n,u,qr(c,l)),ul(e,u);const d=u.tView=Ph(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,n,r,i,s,o):c.data[u];tr(d,!1);const h=tw(c,l,d,t);cl()&&Nl(c,l,h,d),It(h,l),Ql(l,l[u]=D_(h,l,h,d)),sl(d)&&Ih(c,l,d),null!=o&&kh(l,d,a)}let tw=function nw(t,e,n,r){return Kr(!0),e[le].createComment("")};function bi(t){return function Ji(t,e){return t[e]}(function MA(){return ne.lFrame.contextLView}(),me+t)}function C(t,e,n){const r=R();return kt(r,ts(),e)&&fn(we(),Ze(),r,t,e,r[le],n,!1),C}function zh(t,e,n,r,i){const o=i?"class":"style";Fh(t,n,e.inputs[o],o,r)}function y(t,e,n,r){const i=R(),s=we(),o=me+t,a=i[le],l=s.firstCreatePass?function HP(t,e,n,r,i,s){const o=e.consts,l=Ds(e,t,2,r,qr(o,i));return Nh(e,n,l,qr(o,s)),null!==l.attrs&&Xl(l,l.attrs,!1),null!==l.mergedAttrs&&Xl(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,e,n,r):s.data[o],c=rw(s,i,l,a,e,t);i[o]=c;const u=sl(l);return tr(l,!0),mv(a,c,l),32!=(32&l.flags)&&cl()&&Nl(s,i,c,l),0===function vA(){return ne.lFrame.elementDepthCount}()&&It(c,i),function _A(){ne.lFrame.elementDepthCount++}(),u&&(Ih(s,i,l),Th(s,l,i)),null!==r&&kh(i,l),y}function m(){let t=bt();yd()?function vd(){ne.lFrame.isParent=!1}():(t=t.parent,tr(t,!1));const e=t;(function CA(t){return ne.skipHydrationRootTNode===t})(e)&&function EA(){ne.skipHydrationRootTNode=null}(),function wA(){ne.lFrame.elementDepthCount--}();const n=we();return n.firstCreatePass&&(ul(n,t),ld(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function jA(t){return 0!=(8&t.flags)}(e)&&zh(n,e,R(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function HA(t){return 0!=(16&t.flags)}(e)&&zh(n,e,R(),e.stylesWithoutHost,!1),m}function L(t,e,n,r){return y(t,e,n,r),m(),L}let rw=(t,e,n,r,i,s)=>(Kr(!0),Il(r,i,function vy(){return ne.lFrame.currentNamespace}()));function ue(){return R()}function Yo(t){return!!t&&"function"==typeof t.then}function ow(t){return!!t&&"function"==typeof t.subscribe}function H(t,e,n,r){const i=R(),s=we(),o=bt();return function lw(t,e,n,r,i,s,o){const a=sl(r),c=t.firstCreatePass&&function A_(t){return t.cleanup||(t.cleanup=[])}(t),u=e[tt],d=function M_(t){return t[qi]||(t[qi]=[])}(e);let h=!0;if(3&r.type||o){const _=Zt(r,e),A=o?o(_):_,I=d.length,b=o?V=>o(Ve(V[r.index])):r.index;let F=null;if(!o&&a&&(F=function qP(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[qi],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==F)(F.__ngLastListenerFn__||F).__ngNextListenerFn__=s,F.__ngLastListenerFn__=s,h=!1;else{s=uw(r,e,u,s,!1);const V=n.listen(A,i,s);d.push(s,V),c&&c.push(i,b,I,I+1)}}else s=uw(r,e,u,s,!1);const f=r.outputs;let g;if(h&&null!==f&&(g=f[i])){const _=g.length;if(_)for(let A=0;A<_;A+=2){const Y=e[g[A]][g[A+1]].subscribe(s),fe=d.length;d.push(s,Y),c&&c.push(i,r.index,fe,-(fe+1))}}}(s,i,i[le],o,t,e,r),H}function cw(t,e,n,r){try{return er(6,e,n),!1!==n(r)}catch(i){return I_(t,i),!1}finally{er(7,e,n)}}function uw(t,e,n,r,i){return function s(o){if(o===Function)return r;Ho(t.componentOffset>-1?cn(t.index,e):e);let l=cw(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)l=cw(e,n,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&o.preventDefault(),l}}function M(t=1){return function PA(t){return(ne.lFrame.contextLView=function NA(t,e){for(;t>0;)e=e[Zi],t--;return e}(t,ne.lFrame.contextLView))[tt]}(t)}function Tr(t,e,n){return oc(t,"",e,"",n),Tr}function oc(t,e,n,r,i){const s=R(),o=Ms(s,e,n,r);return o!==ce&&fn(we(),Ze(),s,t,o,s[le],i,!1),oc}function ac(t,e){return t<<17|e<<2}function Qr(t){return t>>17&32767}function qh(t){return 2|t}function Di(t){return(131068&t)>>2}function Kh(t,e){return-131069&t|e<<2}function Zh(t){return 1|t}function _w(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Qr(s):Di(s),l=!1;for(;0!==a&&(!1===l||o);){const u=t[a+1];nN(t[a],e)&&(l=!0,t[a+1]=r?Zh(u):qh(u)),a=r?Qr(u):Di(u)}l&&(t[n+1]=r?qh(s):Zh(s))}function nN(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&cs(t,e)>=0}function Qo(t,e,n){return Vn(t,e,n,!1),Qo}function Xo(t,e){return Vn(t,e,null,!0),Xo}function Vn(t,e,n,r){const i=R(),s=we(),o=Sr(2);s.firstUpdatePass&&function Aw(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Lt()],o=function Mw(t,e){return e>=t.expandoStartIndex}(t,n);(function Pw(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function dN(t,e,n,r){const i=function wd(t){const e=ne.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Jo(n=Yh(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Yh(i,t,e,n,r),null===s){let l=function hN(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Di(r))return t[Qr(r)]}(t,e,r);void 0!==l&&Array.isArray(l)&&(l=Yh(null,t,e,l[1],r),l=Jo(l,e.attrs,r),function fN(t,e,n,r){t[Qr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,l))}else s=function pN(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Jo(r,t[s].hostAttrs,n);return Jo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function eN(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Qr(o),l=Di(o);t[r]=n;let u,c=!1;if(Array.isArray(n)?(u=n[1],(null===u||cs(n,u)>0)&&(c=!0)):u=n,i)if(0!==l){const h=Qr(t[a+1]);t[r+1]=ac(h,a),0!==h&&(t[h+1]=Kh(t[h+1],r)),t[a+1]=function XP(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=ac(a,0),0!==a&&(t[a+1]=Kh(t[a+1],r)),a=r;else t[r+1]=ac(l,0),0===a?a=r:t[l+1]=Kh(t[l+1],r),l=r;c&&(t[r+1]=qh(t[r+1])),_w(t,u,r,!0),_w(t,u,r,!1),function tN(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&cs(s,e)>=0&&(n[r+1]=Zh(n[r+1]))}(e,u,t,r,s),o=ac(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==ce&&kt(i,o,e)&&function Iw(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const l=t.data,c=l[a+1],u=function JP(t){return 1==(1&t)}(c)?kw(l,e,n,i,Di(c),o):void 0;lc(u)||(lc(s)||function QP(t){return 2==(2&t)}(c)&&(s=kw(l,null,n,i,a,o)),function XT(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Zr.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Zr.Important),t.setStyle(n,r,i,s))}}(r,o,ll(Lt(),n),i,s))}(s,s.data[Lt()],i,i[le],t,i[o+1]=function vN(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=dt(Yr(t)))),t}(e,n),r,o)}function Yh(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Jo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Jo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),un(t,o,!!n||e[++s]))}return void 0===t?null:t}function kw(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=n[i+1];h===ce&&(h=d?Ce:void 0);let f=d?Nd(h,r):u===r?h:void 0;if(c&&!lc(f)&&(f=Nd(l,r)),lc(f)&&(a=f,o))return a;const g=t[i+1];i=o?Qr(g):Di(g)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=Nd(l,r))}return a}function lc(t){return void 0!==t}function D(t,e=""){const n=R(),r=we(),i=t+me,s=r.firstCreatePass?Ds(r,i,1,e,null):r.data[i],o=Nw(r,n,s,e,t);n[i]=o,cl()&&Nl(r,n,o,s),tr(s,!1)}let Nw=(t,e,n,r,i)=>(Kr(!0),function Tl(t,e){return t.createText(e)}(e[le],r));function mt(t){return qe("",t,""),mt}function qe(t,e,n){const r=R(),i=Ms(r,t,e,n);return i!==ce&&Ar(r,Lt(),i),qe}function cc(t,e,n,r,i){const s=R(),o=As(s,t,e,n,r,i);return o!==ce&&Ar(s,Lt(),o),cc}const Fs="en-US";let Jw=Fs;function Jh(t,e,n,r,i){if(t=re(t),Array.isArray(t))for(let s=0;s<t.length;s++)Jh(t[s],e,n,r,i);else{const s=we(),o=R(),a=bt();let l=Ci(t)?t:re(t.provide);const c=Fv(t),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Ci(t)||!t.multi){const f=new So(c,i,O),g=tf(l,e,i?u:u+h,d);-1===g?(Id(pl(a,o),s,l),ef(s,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[g]=f,o[g]=f)}else{const f=tf(l,e,u+h,d),g=tf(l,e,u,u+h),A=g>=0&&n[g];if(i&&!A||!i&&!(f>=0&&n[f])){Id(pl(a,o),s,l);const I=function VR(t,e,n,r,i){const s=new So(t,n,O);return s.multi=[],s.index=e,s.componentProviders=0,DC(s,i,r&&!n),s}(i?BR:LR,n.length,i,r,c);!i&&A&&(n[g].providerFactory=I),ef(s,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(I),o.push(I)}else ef(s,t,f>-1?f:g,DC(n[i?g:f],c,!i&&r));!i&&r&&A&&n[g].componentProviders++}}}function ef(t,e,n,r){const i=Ci(e),s=function TI(t){return!!t.useClass}(e);if(i||s){const l=(s?re(e.useClass):e).prototype.ngOnDestroy;if(l){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(n);-1===u?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function DC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function tf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function LR(t,e,n,r){return nf(this.multi,[])}function BR(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=_i(n,n[$],this.providerFactory.index,r);s=a.slice(0,o),nf(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],nf(i,s);return s}function nf(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ke(t,e=[]){return n=>{n.providersResolver=(r,i)=>function FR(t,e,n){const r=we();if(r.firstCreatePass){const i=Bn(t);Jh(n,r.data,r.blueprint,i,!0),Jh(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Mi{}class EC{}class rf extends Mi{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new F_(this);const i=ln(e);this._bootstrapComponents=Mr(i.bootstrap),this._r3Injector=Zv(e,n,[{provide:Mi,useValue:this},{provide:Wl,useValue:this.componentFactoryResolver},...r],dt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class sf extends EC{constructor(e){super(),this.moduleType=e}create(e){return new rf(this.moduleType,e,[])}}class MC extends Mi{constructor(e){super(),this.componentFactoryResolver=new F_(this),this.instance=null;const n=new ms([...e.providers,{provide:Mi,useValue:this},{provide:Wl,useValue:this.componentFactoryResolver}],e.parent||Vl(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function af(t,e,n=null){return new MC({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let $R=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Nv(0,n.type),i=r.length>0?af([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=X({token:t,providedIn:"environment",factory:()=>new t(Z(Mn))})}return t})();function AC(t){t.getStandaloneInjector=e=>e.get($R).getOrCreateStandaloneInjector(t)}function Ai(t,e,n){const r=Ft()+t,i=R();return i[r]===ce?sr(i,r,n?e.call(n):e()):Wo(i,r)}function Hn(t,e,n,r){return function FC(t,e,n,r,i,s){const o=e+n;return kt(t,o,i)?sr(t,o+1,s?r.call(s,i):r(i)):oa(t,o+1)}(R(),Ft(),t,e,n,r)}function sa(t,e,n,r,i){return function LC(t,e,n,r,i,s,o){const a=e+n;return Si(t,a,i,s)?sr(t,a+2,o?r.call(o,i,s):r(i,s)):oa(t,a+2)}(R(),Ft(),t,e,n,r,i)}function xC(t,e,n,r,i,s,o){return function VC(t,e,n,r,i,s,o,a,l){const c=e+n;return An(t,c,i,s,o,a)?sr(t,c+4,l?r.call(l,i,s,o,a):r(i,s,o,a)):oa(t,c+4)}(R(),Ft(),t,e,n,r,i,s,o)}function oa(t,e){const n=t[e];return n===ce?void 0:n}function dx(t,e,n,r=!0){const i=e[$];if(function zT(t,e,n,r){const i=Ct+r,s=n.length;r>0&&(n[i-1][Ln]=e),r<s-Ct?(e[Ln]=n[i],Ry(n,Ct+r,e)):(n.push(e),e[Ln]=null),e[We]=n;const o=e[go];null!==o&&n!==o&&function GT(t,e){const n=t[Qi];e[nt]!==e[We][We][nt]&&(t[Rm]=!0),null===n?t[Qi]=[e]:n.push(e)}(o,e);const a=e[Xn];null!==a&&a.insertView(t),e[de]|=128}(i,e,t,n),r){const s=qd(n,t),o=e[le],a=Pl(o,t[Jn]);null!==a&&function HT(t,e,n,r,i,s){r[Xe]=i,r[Tt]=e,No(t,r,n,1,i,s)}(i,t[Tt],o,e,a,s)}}Symbol;let Ir=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=px}return t})();const hx=Ir,fx=class extends hx{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function ux(t,e,n,r){const i=e.tView,a=Yl(t,i,n,4096&t[de]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[go]=t[e.index];const c=t[Xn];return null!==c&&(a[Xn]=c.createEmbeddedView(i)),Lh(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new zo(i)}};function px(){return pc(bt(),R())}function pc(t,e){return 4&t.type?new fx(e,t,Cs(t,e)):null}let $n=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=wx}return t})();function wx(){return function qC(t,e){let n;const r=e[t.index];return Ot(r)?n=r:(n=D_(r,e,null,t),e[t.index]=n,Ql(e,n)),KC(n,e,t,r),new GC(n,t,e)}(bt(),R())}const Cx=$n,GC=class extends Cx{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Cs(this._hostTNode,this._hostLView)}get injector(){return new Bt(this._hostTNode,this._hostLView)}get parentInjector(){const e=gl(this._hostTNode,this._hostLView);if(Md(e)){const n=Do(e,this._hostLView),r=bo(e);return new Bt(n[$].data[r+8],n)}return new Bt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=WC(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Ct}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function Mo(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const _=n||{};a=_.index,r=_.injector,i=_.projectableNodes,s=_.environmentInjector||_.ngModuleRef}const l=o?e:new Go(_e(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const A=(o?c:this.parentInjector).get(Mn,null);A&&(s=A)}_e(l.componentType??{});const f=l.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function gA(t){return Ot(t[We])}(i)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const c=i[We],u=new GC(c,c[Tt],c[We]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return dx(a,i,o,!r),e.attachToViewContainerRef(),Ry(uf(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=WC(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=kl(this._lContainer,n);r&&(vl(uf(this._lContainer),n),Ud(r[$],r))}detach(e){const n=this._adjustIndex(e,-1),r=kl(this._lContainer,n);return r&&null!=vl(uf(this._lContainer),n)?new zo(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function WC(t){return t[8]}function uf(t){return t[8]||(t[8]=[])}let KC=function ZC(t,e,n,r){if(t[Jn])return;let i;i=8&n.type?Ve(r):function Sx(t,e){const n=t[le],r=n.createComment(""),i=Zt(e,t);return wi(n,Pl(n,i),r,function ZT(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Jn]=i};function Ti(t,e){return pc(t,e)}const Cf=new K("Application Initializer");let Sf=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=G(Cf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Yo(s))n.push(s);else if(ow(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),wS=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const kr=new K("LocaleId",{providedIn:"root",factory:()=>G(kr,ge.Optional|ge.SkipSelf)||function Xx(){return typeof $localize<"u"&&$localize.locale||Fs}()});let CS=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new wn(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class tO{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let SS=(()=>{class t{compileModuleSync(n){return new sf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Mr(ln(n).declarations).reduce((o,a)=>{const l=_e(a);return l&&o.push(new Go(l)),o},[]);return new tO(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const MS=new K(""),vc=new K("");let Af,Ef=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Af||(function bO(t){Af=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(Z(xe),Z(Mf),Z(vc))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac})}return t})(),Mf=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Af?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Xr=null;const AS=new K("AllowMultipleToken"),Tf=new K("PlatformDestroyListeners"),If=new K("appBootstrapListener");class IS{constructor(e,n){this.name=e,this.token=n}}function PS(t,e,n=[]){const r=`Platform: ${e}`,i=new K(r);return(s=[])=>{let o=kf();if(!o||o.injector.get(AS,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function MO(t){if(Xr&&!Xr.get(AS,!1))throw new P(400,!1);(function TS(){!function eA(t){Gm=t}(()=>{throw new P(600,!1)})})(),Xr=t;const e=t.get(RS);(function kS(t){t.get(Lv,null)?.forEach(n=>n())})(t)}(function NS(t=[],e){return hn.create({name:e,providers:[{provide:sh,useValue:"platform"},{provide:Tf,useValue:new Set([()=>Xr=null])},...t]})}(a,r))}return function TO(t){const e=kf();if(!e)throw new P(401,!1);return e}()}}function kf(){return Xr?.get(RS)??null}let RS=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function IO(t="zone.js",e){return"noop"===t?new uk:"zone.js"===t?new xe(e):t}(r?.ngZone,function xS(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function HR(t,e,n){return new rf(t,e,n)}(n.moduleType,this.injector,function VS(t){return[{provide:xe,useFactory:t},{provide:Fo,multi:!0,useFactory:()=>{const e=G(PO,{optional:!0});return()=>e.initialize()}},{provide:BS,useFactory:kO},{provide:e_,useFactory:t_}]}(()=>i)),o=s.injector.get(Er,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{_c(this._modules,s),a.unsubscribe()})}),function OS(t,e,n){try{const r=n();return Yo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(Sf);return a.runInitializers(),a.donePromise.then(()=>(function eC(t){Cn(t,"Expected localeId to be defined"),"string"==typeof t&&(Jw=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(kr,Fs)||Fs),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=FS({},r);return function DO(t,e,n){const r=new sf(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Ii);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new P(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new P(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Tf,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(Z(hn))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function FS(t,e){return Array.isArray(e)?e.reduce(FS,t):{...t,...e}}let Ii=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=G(BS),this.zoneIsStable=G(e_),this.componentTypes=[],this.components=[],this.isStable=G(CS).hasPendingTasks.pipe(Zn(n=>n?se(!1):this.zoneIsStable),function d1(t,e=Hr){return t=t??h1,ut((n,r)=>{let i,s=!0;n.subscribe(ot(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),cm()),this._injector=G(Mn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof Uv;if(!this._injector.get(Sf).done)throw!i&&function Wi(t){const e=_e(t)||wt(t)||xt(t);return null!==e&&e.standalone}(n),new P(405,!1);let o;o=i?n:this._injector.get(Wl).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function EO(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Mi),c=o.create(hn.NULL,[],r||o.selector,a),u=c.location.nativeElement,d=c.injector.get(MS,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),_c(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new P(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;_c(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(If,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>_c(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new P(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _c(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const BS=new K("",{providedIn:"root",factory:()=>G(Er).handleError.bind(void 0)});function kO(){const t=G(xe),e=G(Er);return n=>t.runOutsideAngular(()=>e.handleError(n))}let PO=(()=>{class t{constructor(){this.zone=G(xe),this.applicationRef=G(Ii)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let wc=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=RO}return t})();function RO(t){return function xO(t,e,n){if(mi(t)&&!n){const r=cn(t.index,e);return new zo(r,r)}return 47&t.type?new zo(e[nt],e):null}(bt(),R(),16==(16&t))}class US{constructor(){}supports(e){return tc(e)}create(e){return new jO(e)}}const VO=(t,e)=>e;class jO{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||VO}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<GS(r,i,s)?n:r,a=GS(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,g=f+h;u<=g&&g<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!tc(e))throw new P(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function _P(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new HO(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new zS),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zS),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class HO{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $O{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class zS{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new $O,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function GS(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class WS{constructor(){}supports(e){return e instanceof Map||Bh(e)}create(){return new UO}}class UO{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Bh(e)))throw new P(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new zO(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class zO{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function qS(){return new bc([new US])}let bc=(()=>{class t{static#e=this.\u0275prov=X({token:t,providedIn:"root",factory:qS});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||qS()),deps:[[t,new Cl,new wl]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new P(901,!1)}}return t})();function KS(){return new ua([new WS])}let ua=(()=>{class t{static#e=this.\u0275prov=X({token:t,providedIn:"root",factory:KS});constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||KS()),deps:[[t,new Cl,new wl]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new P(901,!1)}}return t})();const qO=PS(null,"core",[]);let KO=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(Z(Ii))};static#t=this.\u0275mod=Qn({type:t});static#n=this.\u0275inj=On({})}return t})();let Ff=null;function Jr(){return Ff}class lF{}const Jt=new K("DocumentToken");let Lf=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:function(){return G(uF)},providedIn:"platform"})}return t})();const cF=new K("Location Initialized");let uF=(()=>{class t extends Lf{constructor(){super(),this._doc=G(Jt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Jr().getBaseHref(this._doc)}onPopState(n){const r=Jr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Jr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function Bf(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function rb(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Pr(t){return t&&"?"!==t[0]?"?"+t:t}let Pi=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:function(){return G(sb)},providedIn:"root"})}return t})();const ib=new K("appBaseHref");let sb=(()=>{class t extends Pi{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??G(Jt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Bf(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Pr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Pr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Pr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(Z(Lf),Z(ib,8))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),dF=(()=>{class t extends Pi{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Bf(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Pr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Pr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(Z(Lf),Z(ib,8))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac})}return t})(),Vf=(()=>{class t{constructor(n){this._subject=new oe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function pF(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(rb(ob(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Pr(r))}normalize(n){return t.stripTrailingSlash(function fF(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,ob(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Pr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Pr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Pr;static#t=this.joinWithSlash=Bf;static#n=this.stripTrailingSlash=rb;static#r=this.\u0275fac=function(r){return new(r||t)(Z(Pi))};static#i=this.\u0275prov=X({token:t,factory:function(){return function hF(){return new Vf(Z(Pi))}()},providedIn:"root"})}return t})();function ob(t){return t.replace(/\/index.html$/,"")}const Zf=/\s+/,gb=[];let Hs=(()=>{class t{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=gb,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(Zf):gb}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(Zf):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(Zf).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||t)(O(bc),O(ua),O(dn),O(Dr))};static#t=this.\u0275dir=ie({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return t})();class e2{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $t=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new e2(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),yb(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{yb(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(O($n),O(Ir),O(bc))};static#t=this.\u0275dir=ie({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function yb(t,e){t.context.$implicit=e.item}let it=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new t2,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){vb("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){vb("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(O($n),O(Ir))};static#t=this.\u0275dir=ie({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class t2{constructor(){this.$implicit=null,this.ngIf=null}}function vb(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${dt(e)}'.`)}let $s=(()=>{class t{constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){const[i,s]=n.split("."),o=-1===i.indexOf("-")?void 0:Zr.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static#e=this.\u0275fac=function(r){return new(r||t)(O(dn),O(ua),O(Dr))};static#t=this.\u0275dir=ie({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return t})(),Cb=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Qn({type:t});static#n=this.\u0275inj=On({})}return t})();function bb(t){return"server"===t}let k2=(()=>{class t{static#e=this.\u0275prov=X({token:t,providedIn:"root",factory:()=>new P2(Z(Jt),window)})}return t})();class P2{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function N2(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class nL extends lF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class np extends nL{static makeCurrent(){!function aF(t){Ff||(Ff=t)}(new np)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function rL(){return pa=pa||document.querySelector("base"),pa?pa.getAttribute("href"):null}();return null==n?null:function iL(t){Lc=Lc||document.createElement("a"),Lc.setAttribute("href",t);const e=Lc.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){pa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function XF(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Lc,pa=null,oL=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac})}return t})();const rp=new K("EventManagerPlugins");let Tb=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new P(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(Z(rp),Z(xe))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac})}return t})();class Ib{constructor(e){this._doc=e}}const ip="ng-app-id";let kb=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=bb(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${ip}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(ip),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(ip,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(Z(Jt),Z(jl),Z(Vv,8),Z(vs))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac})}return t})();const sp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},op=/%COMP%/g,uL=new K("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Nb(t,e){return e.map(n=>n.replace(op,t))}let ap=(()=>{class t{constructor(n,r,i,s,o,a,l,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=bb(a),this.defaultRenderer=new lp(n,o,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Sn.ShadowDom&&(r={...r,encapsulation:Sn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof xb?i.applyToHost(n):i instanceof cp&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Sn.Emulated:s=new xb(l,c,r,this.appId,u,o,a,d);break;case Sn.ShadowDom:return new pL(l,c,n,r,o,a,this.nonce,d);default:s=new cp(l,c,r,u,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(Z(Tb),Z(kb),Z(jl),Z(uL),Z(Jt),Z(vs),Z(xe),Z(Vv))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac})}return t})();class lp{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(sp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Rb(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Rb(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new P(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=sp[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=sp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Zr.DashCase|Zr.Important)?e.style.setProperty(n,r,i&Zr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Zr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Jr().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function Rb(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class pL extends lp{constructor(e,n,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Nb(i.id,i.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class cp extends lp{constructor(e,n,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?Nb(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class xb extends cp{constructor(e,n,r,i,s,o,a,l){const c=i+"-"+r.id;super(e,n,r,s,o,a,l,c),this.contentAttr=function dL(t){return"_ngcontent-%COMP%".replace(op,t)}(c),this.hostAttr=function hL(t){return"_nghost-%COMP%".replace(op,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let gL=(()=>{class t extends Ib{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(Z(Jt))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac})}return t})();const Ob=["alt","control","meta","shift"],mL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yL={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let vL=(()=>{class t extends Ib{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Jr().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),Ob.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(n,r){let i=mL[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ob.forEach(o=>{o!==i&&(0,yL[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(Z(Jt))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac})}return t})();const SL=PS(qO,"browser",[{provide:vs,useValue:"browser"},{provide:Lv,useValue:function _L(){np.makeCurrent()},multi:!0},{provide:Jt,useFactory:function CL(){return function rI(t){Yd=t}(document),document},deps:[]}]),bL=new K(""),Bb=[{provide:vc,useClass:class sL{addToWindow(e){Be.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new P(5103,!1);return s},Be.getAllAngularTestabilities=()=>e.getAllTestabilities(),Be.getAllAngularRootElements=()=>e.getAllRootElements(),Be.frameworkStabilizers||(Be.frameworkStabilizers=[]),Be.frameworkStabilizers.push(r=>{const i=Be.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Jr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:MS,useClass:Ef,deps:[xe,Mf,vc]},{provide:Ef,useClass:Ef,deps:[xe,Mf,vc]}],Vb=[{provide:sh,useValue:"root"},{provide:Er,useFactory:function wL(){return new Er},deps:[]},{provide:rp,useClass:gL,multi:!0,deps:[Jt,xe,vs]},{provide:rp,useClass:vL,multi:!0,deps:[Jt]},ap,kb,Tb,{provide:Vo,useExisting:ap},{provide:class R2{},useClass:oL,deps:[]},[]];let jb=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:jl,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(Z(bL,12))};static#t=this.\u0275mod=Qn({type:t});static#n=this.\u0275inj=On({providers:[...Vb,...Bb],imports:[Cb,KO]})}return t})(),Hb=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(Z(Jt))};static#t=this.\u0275prov=X({token:t,factory:function(r){let i=null;return i=r?new r:function EL(){return new Hb(Z(Jt))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;var E=function(t){return t[t.Instant=0]="Instant",t[t.Dodge=1]="Dodge",t[t.Engineer=2]="Engineer",t[t.Repair=3]="Repair",t[t.Flying=4]="Flying",t[t.Slow=5]="Slow",t[t.Fast=6]="Fast",t[t.Pacifist=7]="Pacifist",t[t.Sentry=8]="Sentry",t[t.Siege=9]="Siege",t[t.Momentum=10]="Momentum",t[t.Sharpen=11]="Sharpen",t[t.Armorer=12]="Armorer",t[t.Rascal=13]="Rascal",t[t.Medic=14]="Medic",t[t.Regenerate=15]="Regenerate",t[t.Ensnare=16]="Ensnare",t[t.WallBound=17]="WallBound",t[t.FullForward=18]="FullForward",t}(E||{});class Gb{getTooltip(e){switch(e){case E.Instant:return"Play anytime";case E.Dodge:return"If this creature would die or take damage, instead remove a dodge token";case E.Engineer:return"Tap to repair wall";case E.Repair:return"At the start of your turn, repair wall by x amount";case E.Flying:return"Flies over enemy walls and damages their life total directly.";case E.Slow:return"Set speed = 0";case E.Fast:return"Attack the turn it comes in";case E.Pacifist:return"may not attack";case E.Sentry:return"Does not tap to attack";case E.Siege:return"Double damage to walls";case E.Momentum:return"Gains 1 speed every turn";case E.Sharpen:return"Gains 1 attack every turn";case E.Armorer:return"Gains 1 hp every turn";case E.Rascal:return"Must be blocked by 2 creatures";case E.Medic:return"Heals all of its controllers creatures at the end of the players turn";case E.Regenerate:return"Heal self at end of turn";case E.Ensnare:return"slows enemy creatures on block or blocking";case E.WallBound:return"dies if the wall dies";default:return"No tooltip found"}}getToolTipName(e){switch(e){case E.Instant:return"Instant";case E.Dodge:return"Dodge";case E.Engineer:return"Engineer";case E.Repair:return"Repair";case E.Flying:return"Flying";case E.Slow:return"Slow";case E.Fast:return"Fast";case E.Pacifist:return"Pacifist";case E.Sentry:return"Sentry";case E.Siege:return"Siege";case E.Momentum:return"Momentum";case E.Sharpen:return"Sharpen";case E.Armorer:return"Armorer";case E.Rascal:return"Rascal";case E.Medic:return"Medic";case E.Regenerate:return"Regenerate";case E.Ensnare:return"Ensnare";case E.WallBound:return"WallBound";default:return"No tooltip found"}}}var S=function(t){return t[t.Sun=0]="Sun",t[t.Earth=1]="Earth",t[t.Sky=2]="Sky",t[t.Neptune=3]="Neptune",t[t.MoonAndStars=4]="MoonAndStars",t[t.Colorless=5]="Colorless",t[t.Any=6]="Any",t}(S||{}),z=function(t){return t[t.None=0]="None",t[t.Attackers=1]="Attackers",t[t.Blockers=2]="Blockers",t[t.Main1=3]="Main1",t[t.Main2=4]="Main2",t[t.Start=5]="Start",t[t.DrawStep=6]="DrawStep",t[t.EndTurn=7]="EndTurn",t[t.DrawCard=8]="DrawCard",t[t.Attack=9]="Attack",t[t.Block=10]="Block",t[t.Unblocked=11]="Unblocked",t[t.Blocked=12]="Blocked",t[t.Enters=13]="Enters",t[t.Dies=14]="Dies",t[t.Awake=15]="Awake",t[t.Income=16]="Income",t[t.Exiled=17]="Exiled",t[t.Discarded=18]="Discarded",t[t.Mill=19]="Mill",t[t.WallRepair=20]="WallRepair",t[t.Any=21]="Any",t[t.SpellCast=22]="SpellCast",t[t.CreatureCast=23]="CreatureCast",t[t.MineCast=24]="MineCast",t[t.MineCase=25]="MineCase",t[t.FortificationCast=26]="FortificationCast",t[t.StartFight=27]="StartFight",t[t.EndFight=28]="EndFight",t}(z||{}),p=function(t){return t[t.Any=0]="Any",t[t.Opponent=1]="Opponent",t[t.Self=2]="Self",t}(p||{});class PL{static toggleController(e){return e===p.Any?p.Any:e===p.Self?p.Opponent:p.Self}}var x=function(t){return t[t.Creature=0]="Creature",t[t.Tech=1]="Tech",t[t.Mine=2]="Mine",t[t.Wall=3]="Wall",t[t.Attachment=4]="Attachment",t[t.Spell=5]="Spell",t[t.Player=6]="Player",t[t.Hoard=7]="Hoard",t[t.Permanent=8]="Permanent",t[t.Building=9]="Building",t[t.Any=10]="Any",t[t.Hero=11]="Hero",t}(x||{}),j=function(t){return t[t.Single=0]="Single",t[t.Multiple=1]="Multiple",t[t.All=2]="All",t}(j||{}),Q=function(t){return t[t.start=0]="start",t[t.main=1]="main",t[t.main2=2]="main2",t[t.attackers=3]="attackers",t[t.blockers=4]="blockers",t[t.end=5]="end",t[t.combatResults=6]="combatResults",t[t.combatCleanup=7]="combatCleanup",t}(Q||{}),v=function(t){return t[t.hand=0]="hand",t[t.play=1]="play",t[t.discard=2]="discard",t[t.exile=3]="exile",t[t.deck=4]="deck",t[t.any=5]="any",t[t.hero=6]="hero",t}(v||{}),T=function(t){return t[t.Gold=0]="Gold",t[t.Ruby=1]="Ruby",t[t.Emerald=2]="Emerald",t[t.Sapphire=3]="Sapphire",t[t.Topaz=4]="Topaz",t[t.LionEye=5]="LionEye",t[t.Any=6]="Any",t}(T||{}),Wb=function(t){return t[t.All=0]="All",t[t.PickOne=1]="PickOne",t[t.Random=2]="Random",t}(Wb||{}),Ni=function(t){return t[t.Card=0]="Card",t[t.Relic=1]="Relic",t[t.Upgrade=2]="Upgrade",t}(Ni||{}),Ie=function(t){return t[t.Life=0]="Life",t[t.Gems=1]="Gems",t[t.Asleep=2]="Asleep",t[t.Awake=3]="Awake",t[t.Discard=4]="Discard",t[t.SacCreature=5]="SacCreature",t[t.CreatureCount=6]="CreatureCount",t}(Ie||{});function Ue(t,e){return Math.floor(Math.random()*(e-t))+t}class k{constructor(e,n,r,i,s,o){this.gold=1,this.ruby=0,this.sapphire=0,this.emerald=0,this.lionsEye=0,this.topaz=0,void 0!==e&&(this.gold=e),void 0!==n&&(this.ruby=n),void 0!==r&&(this.sapphire=r),void 0!==i&&(this.emerald=i),void 0!==s&&(this.lionsEye=s),void 0!==o&&(this.topaz=o)}getTotalCost(){return this.gold+this.ruby+this.emerald+this.sapphire+this.lionsEye+this.topaz}getGemCost(){return this.getTotalCost()-this.gold}canAfford(e){return this.gold>=e.gold&&this.ruby>=e.ruby&&this.sapphire>=e.sapphire&&this.emerald>=e.emerald&&this.lionsEye>=e.lionsEye&&this.topaz>=e.topaz}subtractCost(e){this.canAfford(e)&&(this.gold-=e.gold,this.ruby-=e.ruby,this.emerald-=e.emerald,this.sapphire-=e.sapphire,this.lionsEye-=e.lionsEye,this.topaz-=e.topaz)}clear(){this.gold=0,this.emerald=0,this.ruby=0,this.sapphire=0,this.lionsEye=0,this.topaz=0}resetIncome(){this.clear(),this.gold=1}resetStarting(e){this.clear(),this.gold=e}addBag(e){this.gold+=e.gold,this.ruby+=e.ruby,this.emerald+=e.emerald,this.lionsEye+=e.lionsEye,this.sapphire+=e.sapphire,this.topaz+=e.topaz}addSingle(e,n){switch(e){case T.Gold:this.gold+=n;break;case T.Emerald:this.emerald+=n;break;case T.Ruby:this.ruby+=n;break;case T.LionEye:this.lionsEye+=n;break;case T.Sapphire:this.sapphire+=n;break;case T.Topaz:this.topaz+=n;break;default:this.gold+=n}}getValue(e){switch(e){case T.Gold:return this.gold;case T.Emerald:return this.emerald;case T.Ruby:return this.ruby;case T.LionEye:return this.lionsEye;case T.Sapphire:return this.sapphire;case T.Topaz:return this.topaz;default:return this.gold}}isEmpty(){return this.gold<=0&&this.ruby<=0&&this.sapphire<=0&&this.emerald<=0&&this.lionsEye<=0&&this.topaz<=0}getImage(e){let n="assets/";switch(e){case T.Gold:return n+"Coin.png";case T.Emerald:return n+"Emerald.png";case T.Ruby:return n+"Ruby.png";case T.LionEye:return n+"eye.png";case T.Sapphire:return n+"Saphire.png";case T.Topaz:return n+"topaz.png";default:return n+"Coin.png"}}getImageByFaction(e){let n="assets/";switch(e){case S.Colorless:return n+"Coin.png";case S.Earth:return n+"Emerald.png";case S.Sun:return n+"Ruby.png";case S.MoonAndStars:return n+"eye.png";case S.Neptune:return n+"Saphire.png";case S.Sky:return n+"topaz.png";default:return n+"Coin.png"}}getAllTypes(){return[T.Gold,T.Emerald,T.Ruby,T.LionEye,T.Sapphire,T.Topaz]}getTypes(){let e=[];return this.gold>0&&e.push(T.Gold),this.ruby>0&&e.push(T.Ruby),this.emerald>0&&e.push(T.Emerald),this.topaz>0&&e.push(T.Topaz),this.lionsEye>0&&e.push(T.LionEye),this.sapphire>0&&e.push(T.Sapphire),e}}class dp{getFaction(e){switch(e){case T.Gold:return S.Colorless;case T.Emerald:return S.Earth;case T.Ruby:return S.Sun;case T.LionEye:return S.MoonAndStars;case T.Sapphire:return S.Neptune;case T.Topaz:return S.Sky;default:return S.Colorless}}getGem(e){switch(e){case S.Colorless:return T.Gold;case S.Earth:return T.Emerald;case S.Sky:return T.Topaz;case S.MoonAndStars:return T.LionEye;case S.Neptune:return T.Sapphire;case S.Sun:return T.Ruby;default:return T.Gold}}}class Us{copyBag(e){return new k(e.gold,e.ruby,e.sapphire,e.emerald,e.lionsEye,e.topaz)}copyCreature(e){return new B(e.hp,e.hp,e.speed,e.name,this.copyBag(e.cost),e.image,e.text,e.instant,e.owner,e.zone,e.factions,e.abilities,e.keywords,e.isMinion)}copySpell(e){return new Ye(e.name,e.cost,e.image,e.text,e.abilities,e.instant,e.owner,e.zone,e.factions)}copyMine(e){let n=new Gn(e.name,e.cost,e.incomeBag,e.image,e.text,e.owner,e.zone,e.factions,e.abilities,e.rarity);return n.incomeBag=this.copyBag(e.incomeBag),n.cost=this.copyBag(e.cost),n.abilities=[...e.abilities],n}copyRelic(e){return new en(e.name,e.cost,e.image,e.description,e.cardService,e.abilities,e.cost)}copyHero(e){return new tn(e.attack,e.hp,e.speed,e.name,this.copyBag(e.cost),e.image,e.text,e.owner,e.zone,e.factions,e.instant,e.abilities,e.keywords,e.rarity)}}class Et{constructor(e,n,r,i,s,o,a,l,c){this.displayCards=!1,this.playerTargets=[],this.random=!1,this.cardService=e,this.quan=n,this.types=r,this.allowedZones=i,this.controller=s,this.targetsPlayer=o,this.targetsCards=a,void 0!==l&&(this.random=l),s===p.Opponent&&(l=!0),this.targetsWall=void 0!==c&&c}getWall(){let e=[],n=this.cardService.playerService.getPlayer(p.Any);for(let r=0;r<n.length;r++)e.push(n[r].wall);return e}getPlayer(){return this.playerTargets=[],this.playerTargets=this.cardService.playerService.getPlayer(j.Single===this.quan?this.controller:p.Any),this.playerTargets}getRandomTargetSingle(){let e=[],n=[];this.targetsPlayer&&(e=this.getPlayer()),this.targetsCards&&(n=this.cardService.getTargets(this));let r=[...e,...n];return r[Ue(0,r.length-1)]}isValidTarget(e){if(e instanceof B||e instanceof Gn){let n=e,r=this.allowedZones.includes(n.zone),i=this.types.includes(n.type);return r&&i&&(n.owner===this.controller||this.controller===p.Any)}if(e instanceof lt){if(this.types.includes(x.Player)&&(this.controller===p.Self||this.controller===p.Any))return!0}else if(e instanceof ur&&this.types.includes(x.Player)&&(this.controller===p.Opponent||this.controller===p.Any))return!0;return!1}getTarget(){let e=this.cardService.getTargets(this);if(this.random)return[e[Ue(0,e.length)]];if(this.targetsCards){switch(this.quan){case j.Single:case j.Multiple:this.displayCards=!0}this.targetsPlayer&&this.getPlayer()}return e}}class ti{constructor(e){this.cardDb=[],this.keywordMapper=new NL,this.cardService=e}generateCardByName(e){return this.cardDb.find(n=>n.name===e)}getCard(e){}copyCard(e,n){}getDeck(e){}getMinesBulk(e,n){let r=[];for(let i=0;i<n;i++)r.push(this.generateBasicMine(e));return r}generateBasicMine(e){let n,r,i;switch(e){case T.Gold:n=new k(1,0,0,0,0,0),r=S.Colorless;break;case T.Emerald:n=new k(0,0,0,1,0,0),r=S.Earth;break;case T.Ruby:n=new k(0,1,0,0,0,0),r=S.Sun;break;case T.LionEye:n=new k(0,0,0,0,1,0),r=S.MoonAndStars;break;case T.Sapphire:n=new k(0,0,1,0,0,0),r=S.Neptune;break;case T.Topaz:n=new k(0,0,0,0,0,1),r=S.Sky;break;default:n=new k(1,0,0,0,0,0),r=S.Colorless}i=`add 1 ${T[e]} to your gem bag.`;let s=new ze([new cr(e,1,this.cardService)],this.cardService);return new Gn(T[e]+" Mine",new k(0,0,0,0,0,0),n,"assets//mine.png",i,p.Self,v.deck,[r],[s])}generateMultiColorMinesBulk(e,n,r){let i=[];for(let s=0;s<r;s++)i.push(this.generateMulticolorMine(e,n));return i}generateMulticolorMine(e,n){let r=new k(0,0,0,0,0,0);r.addSingle(e,1),r.addSingle(n,1);let i=this.getFactionFromManaType(e),s=this.getFactionFromManaType(n),o=`add 1 ${T[e]} and 1 ${T[n]} to your income bag.`;return new ze([new cr(e,1,this.cardService),new cr(n,1,this.cardService)],this.cardService),new Gn(`${T[e]}-${T[n]} Mine`,new k(0,0,0,0,0,0),r,"assets//mine.png",o,p.Self,v.deck,[i,s],[])}getFactionFromManaType(e){switch(e){case T.Gold:return S.Colorless;case T.Emerald:return S.Earth;case T.Ruby:return S.Sun;case T.LionEye:return S.MoonAndStars;case T.Sapphire:return S.Neptune;case T.Topaz:return S.Sky;default:return S.Colorless}}generateRandomCreature(e,n,r,i){let s=this.rollRandomNumber(1,n+1),o=this.rollRandomNumber(0,n+2)+1,a=this.rollRandomNumber(1,n+2),l=Math.ceil(.2*n),c=this.rollRandomNumber(l,n),d=new k(n-c,0,0,0,0,0);d.addSingle(e,c);let h=new dp;return new B(o,s,a,"",d,"","",!1,r,i,[h.getFaction(e)])}genMultipleForFaction(e,n,r,i,s){let o=[];for(let a=0;a<s;a++)o.push(this.generateRandomCreatureForFaction(e,n,r,i));return o}generateRandomCreatureForFaction(e,n,r,i){let s=this.generateGemBag(n,e),a=(s.getGemCost(),e),l=1,c=e,u=1,d=e,f=this.generateKeywords(n,e,!1);switch(n){case S.Sun:u+=2,d+=2,a--;break;case S.Earth:a+=2,l+=2,d-=2;break;case S.Colorless:a+=1,d+=1,c+=1}let g=this.rollRandomNumber(u,c),_=this.rollRandomNumber(l,a),A=this.rollRandomNumber(1,d);g<=0&&(g=1),_<=0&&(_=1),A<=0&&(A=1);let I=new B(_,g,A,"Test ",s,"","",!1,r,i,[n],[],f);for(let b=0;b<f.length;b++)I.text+=E[f[b]],b<f.length-1&&(f[b]===E.Repair&&(I.repairAmount=Ue(e-1,e+1),I.text+=I.repairAmount),I.text+=", ");return f.length<=0&&(I.text="No abilities"),I}generateKeywords(e,n,r){let i=[];if(r){let s=Object.values(E),o=Ue(0,s.length-1);for(let a=0;a<o;a++){let l=Ue(0,s.length);i.includes(s[l])?a--:i.push(s[l])}}else{let s=this.keywordMapper.getKeywords(e),o=n+this.rollRandomNumber(-1,1);o<0&&(o=0);for(let a=0;a<o;a++){let c=s[this.rollRandomNumber(0,s.length-1)];i.includes(c)||i.push(c)}}return i}generateAiMinion(e,n,r){let i=this.rollRandomNumber(1,n+1),s=this.rollRandomNumber(1,n+2),o=this.rollRandomNumber(0,n+2),a=new k(0,0,0,0,0,0),l=new dp;return new B(s,i,o,"Minion",a,"","",!1,p.Opponent,r,[l.getFaction(e)],[],[],!0)}generateAiBasicMinion(e,n,r){let i=new k(0,0,0,0,0,0),s=new dp;return new B(n,n,n,"Minion",i,"","",!1,p.Opponent,r,[s.getFaction(e)],[],[],!0)}generateGemBag(e,n){let r,i=this.rollRandomNumber(1,n),s=n-i;switch(e){case S.Colorless:r=new k(i+s,0,0,0,0,0);break;case S.Earth:r=new k(i,0,0,s,0,0);break;case S.Sun:r=new k(i,s,0,0,0,0);break;case S.Sky:r=new k(i,0,0,0,s,0);break;case S.Neptune:r=new k(i,0,s,0,0,0);break;case S.MoonAndStars:r=new k(i,0,0,0,0,s);break;default:r=new k(i+n,0,0,0,0,0)}return r}rollRandomNumber(e,n){return Math.floor(Math.random()*(n-e))+e}}class hp{constructor(e,n){this.faction=e,this.keywords=n}}class NL{constructor(){this.items=[],Object.keys(E),this.items=[new hp(S.Sun,[E.Fast,E.Dodge,E.Momentum,E.Sharpen,E.Siege,E.Flying,E.Rascal]),new hp(S.Earth,[E.Armorer,E.Dodge,E.Engineer,E.Siege,E.Repair]),new hp(S.Colorless,[E.Armorer,E.Dodge,E.Engineer,E.Fast,E.Flying,E.Instant,E.Medic,E.Momentum,E.Repair,E.Siege])]}getKeywords(e){let n=[];return n=this.items.filter(i=>i.faction===e)[0].keywords,n}}class ke{constructor(e,n,r,i,s,o,a){this.repeatable=!1,this.selfTarget=null,this.speedDiff=e,this.hpDiff=n,this.attackDiff=r,this.cardService=i,void 0===a&&(a=!1),this.targeting=new Et(i,o,[x.Creature,x.Hero],[v.play],s,!1,!0,a),this.controller=s}undoEffectSingle(e){if(e instanceof B){e.attack-=this.attackDiff,e.hp-=this.hpDiff,e.speed-=this.speedDiff;let n=e.currentEffects.indexOf(this);e.currentEffects.splice(n,1)}}doEffectSingle(e){if(e instanceof B){let n=!e.currentEffects.includes(this);this.targeting.isValidTarget(e)&&(n||this.repeatable)&&(e.attack+=this.attackDiff,e.hp+=this.hpDiff,e.speed+=this.speedDiff,e.currentEffects.push(this),e.hp<=0&&this.cardService.setCardZoneByCard(e,v.discard))}}doEffect(){let e=this.targeting.getTarget();if(this.targeting.quan===j.All)for(let n=0;n<e.length;n++)void 0!==e[n]&&this.doEffectSingle(e[n]);this.doEffectSingle(this.controller===p.Opponent?e[0]:this.selfTarget)}undoEffect(){let n=this.cardService.grabAffected(this);for(let r=0;r<n.length;r++)this.undoEffectSingle(n[r])}}class qb{constructor(e,n,r,i){this.validTypes=[x.Creature,x.Hero],this.owner=n,this.cardService=e;let o=PL.toggleController(n);this.targeting=new Et(this.cardService,r,i,[v.play],o,!1,!0,!1)}undoEffectSingle(e){throw new Error("Method not implemented.")}doEffectSingle(e){(e instanceof B||e instanceof tn)&&e.zone===v.play&&(e.hp=0,e.handleDeath(),this.cardService.checkTriggers(z.Dies))}undoEffect(){throw new Error("Method not implemented.")}doEffect(){let e=this.targeting.getTarget();for(let n=0;n<e.length;n++)this.doEffectSingle(e[n]);j.All&&this.doEffectSingle(this.cardService.hero)}}class fp{constructor(e,n,r,i){this.amount=1,this.objCopier=new Us,this.controller=e,this.cardService=n,this.creatureToMake=r,void 0!==i&&(this.amount=i),this.targeting=new Et(this.cardService,j.Single,[x.Player],[v.play],e,!0,!1)}undoEffectSingle(e){throw new Error("Method not implemented.")}doEffectSingle(e){let n=this.objCopier.copyCreature(this.creatureToMake);n.zone=v.play,this.cardService.cardList.push(n)}grabUnaffected(){throw new Error("Method not implemented.")}doEffect(){for(let e=0;e<this.amount;e++)this.doEffectSingle()}undoEffect(){throw new Error("Method not implemented.")}}class RL{constructor(e,n,r,i,s){this.objCopier=new Us,this.targeting=new Et(e,j.Single,[x.Player],[v.play],i,!0,!1),this.cardService=e,this.spellToMake=n,this.destinationZone=r,this.player=i,this.amount=void 0===s?1:s}doEffect(){for(let e=0;e<this.amount;e++)this.doEffectSingle(1)}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){let n=this.objCopier.copySpell(this.spellToMake);n.zone=this.destinationZone,n.owner=this.player,this.cardService.cardList.push(n)}undoEffectSingle(e){throw new Error("Method not implemented.")}}class xL{constructor(e,n,r,i){this.objCopier=new Us,this.cardService=e,this.spells=n,this.controller=r,this.targeting=new Et(this.cardService,j.Single,[x.Player],[i],r,!0,!1)}doEffect(){let e=this.targeting.getPlayer();console.log(e);for(let n=0;n<e.length;n++)this.doEffectSingle(e[n])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){let n=Math.floor(Math.random()*this.spells.length),r=this.objCopier.copySpell(this.spells[n]);r.zone=v.hand,r.owner=this.controller,this.cardService.cardList.push(r)}undoEffectSingle(e){throw new Error("Method not implemented.")}}class cr{constructor(e,n,r,i){this.manaType=e,this.amount=n,this.cardService=r,this.targeting=new Et(this.cardService,j.Single,[x.Player],[],i,!0,!1)}undoEffectSingle(e){throw new Error("Method not implemented.")}doEffectSingle(e){e.gembag.addSingle(this.manaType,this.amount)}grabUnaffected(){throw new Error("Method not implemented.")}doEffect(){let e=this.targeting.getPlayer();e[0]instanceof lt&&e[0].gembag.addSingle(this.manaType,this.amount)}undoEffect(){throw new Error("Method not implemented.")}}class Kb{constructor(e,n){this.cardService=e,this.targeting=new Et(this.cardService,j.Single,[x.Player],[v.any],p.Self,!0,!1,!1),this.manaType=n}doEffect(){let e=new ti(this.cardService),n=this.targeting.getPlayer()[0];if(n instanceof lt){let r=e.generateBasicMine(this.manaType);this.cardService.cardList.push(r),n.incomeBag.addBag(r.incomeBag)}}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){throw new Error("Method not implemented.")}undoEffectSingle(e){throw new Error("Method not implemented.")}}class OL{constructor(e,n,r,i){this.validController=n,this.cardService=e,this.destinationZone=i,this.targeting=new Et(this.cardService,r,[x.Any],[v.play],n,!1,!0)}doEffect(){let e=this.targeting.getTarget();for(let n=0;n<e.length;n++)this.doEffectSingle(e[n])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){this.cardService.setCardZoneByCard(e,this.destinationZone)}undoEffectSingle(e){throw new Error("Method not implemented.")}}class Zb{constructor(e,n,r,i,s){this.amount=1,this.hasFlying=!1,this.hasSiege=!1,this.cardService=e,this.targeting={},this.target=r,this.amount=n,void 0!==i&&(this.hasFlying=i),void 0!==s&&(this.hasSiege=s)}doEffect(){let e=this.cardService.playerService.getPlayer(this.target);for(let n=0;n<e.length;n++)this.doEffectSingle(e[n])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){e instanceof ur&&e.takeDamage(this.amount,this.hasFlying,this.hasSiege),e instanceof lt&&(e.hp-=this.amount)}undoEffectSingle(e){throw new Error("Method not implemented.")}}class zs{constructor(e,n,r,i,s,o,a){this.amount=1,this.amount=e,this.cardService=n,void 0===s&&(s=!1),void 0===o&&(o=!1),void 0===a&&(a=!0),this.targeting=new Et(n,r,[x.Player,x.Creature],[v.play],i,o,a,s)}doEffect(){if(this.targeting.quan===j.Single){if(this.targeting.random){let e=this.targeting.getRandomTargetSingle();this.doEffectSingle(e)}else if(this.targeting.targetsPlayer&&!this.targeting.targetsCards){let e=this.targeting.getPlayer();for(let n=0;n<e.length;n++)this.doEffectSingle(e[n])}}else if(this.targeting.quan===j.All){let e=this.targeting.getTarget();for(let n=0;n<e.length;n++)this.doEffectSingle(e[n])}}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){if(e instanceof B){let n=e;n.hp-=this.amount,n.hp<=0&&this.cardService.setCardZoneByCard(n,v.discard)}if(e instanceof gp){let n=e;n.hp-=this.amount,n.hp<0&&(n.hp=0)}}undoEffectSingle(e){throw new Error("Method not implemented.")}}class kn{constructor(e,n,r,i){this.amount=1,this.cardService=e,this.targeting=new Et(this.cardService,n,[x.Player],[v.play],r,!0,!1),void 0!==i&&(this.amount=i)}doEffect(){let e=this.targeting.getPlayer();for(let n=0;n<e.length;n++)this.doEffectSingle(e[n])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){e instanceof ur?e.drawCardsFromEffect(this.amount):e instanceof lt&&e.drawCards(this.amount)}undoEffectSingle(e){throw new Error("Method not implemented.")}}class Yb{constructor(e,n,r){this.cardService=e,this.targeting=new Et(this.cardService,r,[x.Creature],[v.play],n,!1,!0)}doEffect(){let e=this.targeting.getTarget();for(let n=0;n<e.length;n++)this.doEffectSingle(e[n])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){e instanceof B&&e.heal()}undoEffectSingle(e){throw new Error("Method not implemented.")}}class FL{constructor(e,n,r){this.cardService=e,this.targeting=new Et(this.cardService,r,[x.Creature],[v.play],n,!1,!0)}doEffect(){let e=this.targeting.getTarget();for(let n=0;n<e.length;n++)this.doEffectSingle(e[n])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){e instanceof B&&(e.firstTurn=!1)}undoEffectSingle(e){e instanceof B&&(e.firstTurn=!0)}}class Ri{constructor(e,n,r,i,s){this.cardService=e,this.targeting=new Et(this.cardService,n,[x.Creature],r,i,!1,!0),this.keywords=s}doEffect(){let e=this.targeting.getTarget();for(let n=0;n<e.length;n++)this.doEffectSingle(e[n])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){if(e instanceof B){let n=e;for(let r=0;r<this.keywords.length;r++){let i=this.keywords[r];n.keywords.includes(i)||(n.keywords.push(i),i===E.Repair?e.repairAmount=2:i===E.Dodge?e.dodgeAmount=1:i===E.Ensnare&&(e.ensnareAmount=2))}}}undoEffectSingle(e){throw new Error("Method not implemented.")}}class ga{constructor(e,n,r){this.cardService=e,this.amount=n,this.targeting=new Et(this.cardService,j.Single,[x.Player],[v.play],r,!0,!1)}doEffect(){let e=this.targeting.getPlayer();for(let n=0;n<e.length;n++)this.doEffectSingle(e[n])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){e instanceof lt&&(e.hp+=this.amount)}undoEffectSingle(e){e instanceof lt&&(e.hp-=this.amount)}}class Qb{constructor(e,n){this.cardService=e,this.amount=n,this.targeting=new Et(this.cardService,j.Single,[x.Wall],[],p.Self,!0,!1,!1,!0)}doEffect(){let e=this.targeting.getPlayer();e[0]instanceof lt&&(e[0].wall.hp+=this.amount)}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){throw new Error("Method not implemented.")}undoEffectSingle(e){throw new Error("Method not implemented.")}}class LL{constructor(e,n){this.amount=1,this.cardService=e,this.amount=n,this.targeting=new Et(this.cardService,j.Single,[x.Player],[],p.Self,!0,!1)}doEffect(){let e=this.targeting.getPlayer();for(let n=0;n<e.length;n++)this.doEffectSingle(e[n])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(e){e instanceof lt&&!(e instanceof ur)&&(e.mineLimits+=this.amount)}undoEffectSingle(e){e instanceof lt&&(e.mineLimits-=this.amount)}}var pe=function(t){return t[t.Common=0]="Common",t[t.Uncommon=1]="Uncommon",t[t.Rare=2]="Rare",t[t.SuperRare=3]="SuperRare",t}(pe||{});class en{constructor(e,n,r,i,s,o,a,l){if(this.abilities=[],this.targeting={},this.cost=0,this.image="",this.description="",this.name=e,this.image=r,this.description=i,this.cardService=s,void 0!==l&&(this.targeting=l),this.rarity=n,void 0!==o&&(this.abilities=o),void 0!==a)this.cost=a;else switch(n){case pe.Common:this.cost=Ue(50,100);break;case pe.Uncommon:this.cost=Ue(75,130);break;case pe.Rare:this.cost=Ue(100,200);break;case pe.SuperRare:this.cost=Ue(150,250)}}applyInitialEffects(){let e=this.abilities.filter(n=>n instanceof ze);for(let n=0;n<e.length;n++)e[n].doEffects()}applyTriggeredEffects(e){}canBuy(e){return e>=this.cost}}class Bc{constructor(e){this.relics=[],this.cardService=e,this.cardGen=new ti(e);let n=new ke(1,1,1,e,p.Self,j.All),r=new et([n],e),i=new en("Buff",pe.Common,"test.png","All your creatures get +1/+1/+1",e,[r]);this.relics.push(i);let s=new B(1,1,1,"Spider",new k(1),"","",!1,p.Self,v.any,[S.Earth],[],[],!0),o=new fp(p.Self,e,s,1),a=new Pe([o],[z.Start],e,p.Self),l=new en("Swarm Amulet",pe.Uncommon,"amulet.png","At the start of your turn, create a 1/1/1 spider",e,[a]);this.relics.push(l);let c=new Ri(e,j.All,[v.play],p.Self,[E.Momentum]),u=new et([c],e),d=new en("Bowling Ball",pe.Rare,"bowlingBall.png","At the start of your turn, all your creatures gain 1 speed",e,[u]);this.relics.push(d);let h=new Ri(e,j.All,[v.play],p.Self,[E.Armorer,E.Pacifist,E.Regenerate]),f=new et([h],e),g=new en("Plate of Peace",pe.SuperRare,"plate.png","At the start of your turn all your creatures gain 1 more hp and then heal to max hp. Creatures you control may not attack",e,[f]);this.relics.push(g);let _=new kn(e,j.Single,p.Self,2),A=new ze([_],e),I=new Ye("Scrying Report",new k(4),"","Draw 2 Cards",[A],!1,p.Self,v.any,[S.Colorless]),b=new RL(e,I,v.hand,p.Self),F=new Pe([b],[z.Start],e,p.Self,[v.play]),V=new en("Monocle of Insight",pe.Uncommon,"monocle.png","At the start of your turn, add a 4 gold cost draw spell to your hand",e,[F]);this.relics.push(V);let Y=new Ri(e,j.All,[v.play],p.Self,[E.Sharpen,E.FullForward]),fe=new et([Y],e),ye=new en("Sword of War",pe.SuperRare,"attackSymbol.png","At the start of your turn, all creatures you control gain +1/+0/+0. Creatures you control may not block",e,[fe]);this.relics.push(ye);let $e=new ke(1,1,1,this.cardService,p.Self,j.Single,!0);$e.repeatable=!0;let Qe=new Pe([$e],[z.Dies],this.cardService,p.Any,[v.play]),vn=(new en("Blood Chalice",pe.Common,"bloodChalice.png","Whenever a creature dies, a random one of your creatures gets +1/+1/+1",this.cardService,[Qe]),new ga(this.cardService,2,p.Self)),rn=new Pe([vn],[z.Start],this.cardService,p.Self,[v.play]),zt=new en("Health Potion",pe.Common,"potion.png","At the start of your turn, gain 2 life",this.cardService,[rn]);this.relics.push(zt);let di=new Qb(this.cardService,10),hi=new Pe([di],[z.StartFight],this.cardService),U=new en("Cosmic Brick",pe.Common,"brick.png","At the start of each fight, your wall gains 10 extra Hp.",this.cardService,[hi]);this.relics.push(U);let J=new kn(this.cardService,j.Single,p.Self,1),ee=new Pe([J],[z.Start],this.cardService,p.Self),ve=new en("Crystal Ball",pe.Rare,"crystalBall.png","At the start of each turn, draw 1 card.",this.cardService,[ee]);this.relics.push(ve);let ct=new Qb(this.cardService,1),Rn=new Pe([ct],[z.Start],this.cardService,p.Self),Gt=new en("Repair Kit",pe.Common,"repairKit.png","At the end of each turn, your wall gains 1 HP.",this.cardService,[Rn]);this.relics.push(Gt);let mr=new ke(1,0,1,this.cardService,p.Self,j.All),Ge=new et([mr],this.cardService),Nu=new en("War Banner",pe.Rare,"warBanner.png","All your creatures get +1/+0/+1.",this.cardService,[Ge]);this.relics.push(Nu);let Og=new ke(0,2,0,this.cardService,p.Self,j.All),vt=new et([Og],this.cardService),jr=new en("Heart of the Forest",pe.Rare,"heartOfTheForest.png","All your creatures get +0/+2/+0.",this.cardService,[vt]);this.relics.push(jr)}getRelicByName(e){return[]}getRelicByIndex(e){return this.relics[e]}getRelicsByRarity(e){return this.relics.filter(n=>n.rarity===e)}getAllRelics(){return this.relics}getRandomRelic(e){let n;return n=void 0!==e?this.getRelicsByRarity(e):this.getAllRelics(),n[this.cardGen.rollRandomNumber(0,n.length)]}}class ma{convertToCreature(e){return e}convertToMine(e){return e}convertToSpell(e){return e}convertToTech(e){return e}}class pp{constructor(e,n,r,i,s,o,a,l,c){this.type=x.Any,this.hover=!1,this.turned=!1,this.instant=!1,this.currentEffects=[],this.targetableCard=!1,this.isFlipping=!1,this.isMoving=!1,this.keywords=[],this.name=e,this.cost=n,this.image=r,this.text=i,this.abilities=void 0!==l?l:[],this.rarity=void 0===c?pe.Common:c,this.owner=s,this.zone=o,this.factions=a}hasTargetedAbility(){return this.abilities.filter(n=>n instanceof nn).length>0}hasStaticAbility(){return this.abilities.filter(n=>n instanceof et).length>0}hasActivatedAbility(){return this.abilities.filter(n=>n instanceof yt).length>0}getStaticAbilities(){return this.abilities.filter(e=>e instanceof et)}processAbilities(e){for(let n=0;n<this.abilities.length;n++){let r=this.abilities[n];r instanceof et?e.intialApplyStaticAbilities(r):(r instanceof ze||r instanceof mp)&&r.doEffects()}}shouldDie(){return!0}}class B{constructor(e,n,r,i,s,o,a,l,c,u,d,h,f,g,_){this.hover=!1,this.type=x.Creature,this.turned=!1,this.attacking=!1,this.blocking=!1,this.blocked=!1,this.selected=!1,this.instant=!1,this.awake=!0,this.firstTurn=!0,this.currentEffects=[],this.keywords=[],this.repairAmount=0,this.isMinion=!1,this.dodgeAmount=0,this.targetableCard=!1,this.isFlipping=!1,this.isMoving=!1,this.ensnareAmount=0,this.rarity=void 0===_?pe.Common:_,this.attack=n,this.baseAttack=n,this.hp=e,this.baseHp=e,this.speed=r,this.baseSpeed=r,this.name=i,this.cost=s,this.image=o,this.text=a,this.abilities=void 0!==h?h:[],this.keywords=void 0!==f?f:[],this.keywords.includes(E.Slow)&&(this.speed=0),this.keywords.includes(E.Fast)&&(this.firstTurn=!1),this.instant=l,this.owner=c,this.zone=u,this.factions=d,void 0!==g&&(this.isMinion=g)}hasActivatedAbility(){return this.abilities.filter(n=>n instanceof yt).length>0}hasStaticAbility(){return this.abilities.filter(n=>n instanceof et).length>0}getStaticAbilities(){return this.abilities.filter(e=>e instanceof et)}handleDeath(){if(!1===this.isAlive()){this.resetStats();let e=this.getStaticAbilities();for(let n=0;n<e.length;n++)e[n].undoEffects();this.zone=v.discard}}shouldDie(){return this.hp>0}resetStats(){this.hp=this.baseHp,this.attack=this.baseAttack,this.speed=this.baseSpeed}heal(){this.hp<this.baseHp&&(this.hp=this.baseHp)}processAbilities(e){for(let n=0;n<this.abilities.length;n++){let r=this.abilities[n];r instanceof et?e.intialApplyStaticAbilities(r):r instanceof ze&&r.doEffects()}}hasTargetedAbility(){return this.abilities.filter(n=>n instanceof nn).length>0}setSlow(){this.speed=0,this.keywords.push(E.Slow)}isAlive(){return this.hp>0}resetHp(){this.hp=this.baseHp}addEffect(e){throw new Error("Method not implemented.")}removeEffect(e){throw new Error("Method not implemented.")}runEffects(){}canBlock(){return!this.keywords.includes(E.FullForward)&&!1===this.turned&&!1===this.blocking}}class Ye extends pp{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,a,l,c,s),this.type=x.Spell,this.targets=[],this.text=i,this.instant=o}shouldDie(){return!0}runEffects(e){for(let n=0;n<this.abilities.length;n++);}resolve(){}}class gp{constructor(e){this.hp=30,this.alive=!0,this.type=x.Wall,this.hp=e}isAlive(){return this.alive=this.hp>0,this.alive}takeDamage(e){this.hp-=e,this.hp<0&&(this.hp=0),this.isAlive()}}class BL extends pp{constructor(e,n,r,i,s,o,a,l){super(e,n,r,i,s,o,a,l),this.level=1,this.type=x.Building}wallIsAlive(e){return e.playerService.getPlayer(this.owner)[0].wall.hp>0}runEffects(){for(let e=0;e<this.abilities.length;e++)this.abilities[e].doEffects()}undoEffects(){for(let e=0;e<this.abilities.length;e++)this.abilities[e].undoEffects()}}class Gn{constructor(e,n,r,i,s,o,a,l,c,u){this.type=x.Mine,this.hover=!1,this.turned=!1,this.instant=!1,this.currentEffects=[],this.targetableCard=!1,this.isFlipping=!1,this.isMoving=!1,this.keywords=[],this.name=e,this.cost=n,this.incomeBag=r,this.image=i,this.text=s,this.abilities=void 0!==c?c:[],this.owner=o,this.zone=a,this.factions=l,this.incomeBag=r,this.rarity=void 0===u?pe.Common:u}hasActivatedAbility(){return this.abilities.filter(n=>n instanceof yt).length>0}hasStaticAbility(){return this.abilities.filter(n=>n instanceof et).length>0}getStaticAbilities(){return this.abilities.filter(e=>e instanceof et)}shouldDie(){return!1}processAbilities(e){throw new Error("Method not implemented.")}hasTargetedAbility(){return this.abilities.filter(n=>n instanceof nn).length>0}mine(e){e.gold+=this.incomeBag.gold,e.ruby+=this.incomeBag.ruby,e.emerald+=this.incomeBag.emerald,e.sapphire+=this.incomeBag.sapphire,e.lionsEye+=this.incomeBag.lionsEye,e.topaz+=this.incomeBag.topaz}addEffect(e){throw new Error("Method not implemented.")}removeEffect(e){throw new Error("Method not implemented.")}runEffects(){throw new Error("Method not implemented.")}}class tn extends B{constructor(e,n,r,i,s,o,a,l,c,u,d,h,f,g){super(n,e,r,i,s,o,a,d,l,c,u,h,f,!1,g),this.timesDied=0,this.type=x.Hero,this.baseCost=s,this.currentCost=s,this.zone=v.hero}handleDeath(){this.zone=v.hero,this.timesDied++,this.currentCost.gold++;for(let e=0;e<this.abilities.length;e++)this.abilities[e].undoEffects()}resetGoldCost(){this.cost=this.baseCost}}class nn{constructor(e,n,r,i,s,o,a){this.effects=[],this.allowedTargets=[x.Creature,x.Hero],this.allowedZones=[],this.targetNumber=1,this.possibleTargets=[],this.target=null,this.allEffectsToOne=!1,this.allowedTargets=e,this.targetNumber=i,this.effects=s,this.allowedZones=r,this.allowedPlayer=n,this.cardService=o,void 0!==a&&(this.allEffectsToOne=a)}undoEffects(){throw new Error("Method not implemented.")}checkTargetValid(e){return this.allowedTargets.includes(e)}setTargetByIndex(e){if(this.possibleTargets.length>0&&e<this.possibleTargets.length&&e>=0){let n=this.possibleTargets[e];this.checkTargetValid(n.type)&&(this.target=n)}}doEffects(){for(let e=0;e<this.effects.length;e++)this.effects[e].doEffect()}}class et{constructor(e,n){this.zoneAffected=v.play,this.effects=e,this.cardService=n}undoEffects(){this.undoAll()}doEffects(){for(let e=0;e<this.effects.length;e++)this.effects[e].doEffect()}undoAll(){for(let e=0;e<this.effects.length;e++)this.effects[e].undoEffect()}}class Pe{constructor(e,n,r,i,s,o){this.triggerZones=[],this.triggersPerTurn=1e4,this.effects=e,this.triggerTimes=n,this.cardService=r,this.controller=void 0===i?p.Any:i,void 0===s?this.triggerZones.push(v.play):this.triggerZones=s,void 0!==o&&(this.triggersPerTurn=o)}undoEffects(){throw new Error("Method not implemented.")}checkTriggers(e,n){void 0===n&&(n=p.Any);let r=this.controller===n||this.controller===p.Any,i=this.triggerTimes.includes(e);r&&i&&this.doEffects()}doEffects(){for(let e=0;e<this.effects.length;e++)this.effects[e].doEffect()}}class ze{constructor(e,n){this.effects=e,this.cardService=n}undoEffects(){throw new Error("Method not implemented.")}doEffects(){for(let e=0;e<this.effects.length;e++)this.effects[e].doEffect()}}class Mt{constructor(e,n,r){this.cost=e,this.amount=n,this.color=void 0!==r?r:T.Any}}class yt{constructor(e,n,r,i,s){this.costMaps=[],this.needsTarget=!1,this.costMaps=n,this.cardService=e,this.effects=r,this.user=i,void 0!==s&&(this.needsTarget=s)}doEffects(){let e=this.cardService.playerService.getPlayer(p.Self)[0];if(this.canAffordCosts(this.user,e)){this.payCosts();for(let r=0;r<this.effects.length;r++)this.effects[r].doEffect()}}undoEffects(){throw new Error("Method not implemented.")}payCosts(){let e=this.cardService.playerService.getPlayer(p.Self)[0];for(let n=0;n<this.costMaps.length;n++){let r=this.costMaps[n],s=r.amount;switch(r.cost){case Ie.Life:e.hp>s&&(e.hp-=s);break;case Ie.Gems:switch(r.color){case T.Gold:e.gembag.gold-=s;break;case T.Ruby:e.gembag.ruby-=s;break;case T.Sapphire:e.gembag.sapphire-=s;break;case T.Emerald:e.gembag.emerald-=s;break;case T.LionEye:e.gembag.lionsEye-=s;break;case T.Topaz:e.gembag.topaz-=s;break;default:e.gembag.gold-=s}break;case Ie.Discard:if(this.user instanceof lt){let l=this.user.getHand();for(let c=0;c<s;c++){let u=l.pop();u&&this.cardService.setCardZoneByCard(u,v.discard)}}break;case Ie.SacCreature:this.user instanceof lt&&e.getCreatures();break;case Ie.Asleep:let o=this.user;o.awake=!1,this.user=o}}}canCardAffordCosts(e){for(let n=0;n<this.costMaps.length;n++){let r=this.costMaps[n],i=r.cost,s=r.amount;if(void 0!==i)switch(i){case Ie.Life:if(e instanceof B&&e.hp<s)return!1;break;case Ie.Asleep:if(e instanceof B)return e.awake}}return!0}canPlayerAffordCosts(e){for(let n=0;n<this.costMaps.length;n++){let r=this.costMaps[n],s=r.amount;switch(r.cost){case Ie.Life:if(e.hp<s)return!1;break;case Ie.Gems:if(e.gembag.getValue(r.color)<s)return!1;break;case Ie.Discard:if(e.getHand().length<s)return!1;break;case Ie.SacCreature:if(e.getCreatures().length<s)return!1}}return!0}canAffordCosts(e,n){let r=!0,i=!0;return void 0!==e&&(i=this.canCardAffordCosts(e)),void 0!==n&&(r=this.canPlayerAffordCosts(n)),r&&i}}class mp{constructor(e,n,r,i,s){this.effects=e,this.cardService=n,this.targeting=new Et(n,j.Single,r,i,s,!0,!1)}doEffects(){let e=this.targeting.getTarget();if(e.length>0){let r=e[Math.floor(Math.random()*e.length)];for(let i=0;i<this.effects.length;i++)this.effects[i].doEffectSingle(r)}}undoEffects(){throw new Error("Method not implemented.")}}class lt{constructor(e){this.isAi=!1,this.name="human",this.hp=40,this.drawPerTurn=1,this.attacking=!1,this.pickingBlockers=!1,this.showFights=!1,this.defending=!1,this.targeting=!1,this.possibleTargets=[],this.wall=new gp(20),this.staticAbilities=[],this.cardConverter=new ma,this.startingGold=5,this.gembag=new k(this.startingGold,0,0,0,0,0),this.incomeBag=new k(2,0,0,0,0,0),this.currentEffects=[],this.mineLimits=1,this.minesPlayed=0,this.effectStack=[],this.pickStack=[],this.controller=p.Self,this.stopPhases=!1,this.currentPos=0,this.buildingSlots=3,this.relics=[],this.buildings=[],this.marketEnabled=!1,this.cardService=e,this.gembag.gold=this.startingGold}applyStaticAbilities(){for(let e=0;e<this.staticAbilities.length;e++)this.staticAbilities[e].doEffects();for(let e=0;e<this.relics.length;e++){let n=this.relics[e];for(let r=0;r<n.abilities.length;r++){let i=n.abilities[r];i instanceof et&&i.doEffects()}}}unapplyStaticAbilities(){for(let e=0;e<this.staticAbilities.length;e++)this.staticAbilities[e].undoEffects();for(let e=0;e<this.relics.length;e++){let n=this.relics[e];for(let r=0;r<n.abilities.length;r++){let i=n.abilities[r];i instanceof et&&i.undoEffects()}}}getAllCards(){return this.cardService.getCards(v.any,this.controller)}checkIfPlayable(e,n){if(e.owner===p.Opponent)return!0;if(e instanceof tn){let l=n.currentPhase===Q.main||n.currentPhase===Q.main2,c=n.currentTurn===this||e.instant,u=e.zone===v.hero,d=this.gembag.canAfford(e.cost);return l&&c&&u&&d}let s,r=this.cardService.getCards(v.hand,p.Self,x.Any),i=n.currentPhase===Q.main||n.currentPhase===Q.main2;return e instanceof Gn?!!(this.minesPlayed<this.mineLimits&&(i||e.instant)):(s=r.includes(e),!!this.gembag.canAfford(e.cost)&&!!(e.instant||i&&n.currentTurn===this))}hasPlayableCards(e){let n=this.cardService.getCards(v.hand,p.Self,x.Any),i=!1;for(let s=0;s<n.length;s++)if(this.checkIfPlayable(n[s],e)){i=!0;break}return i}hasRelic(e){return this.relics.filter(r=>r.name===e).length>0}playCard(e,n){if(this.checkIfPlayable(e,n)){if(this.gembag.subtractCost(e.cost),[x.Creature,x.Wall,x.Mine,x.Building,x.Tech,x.Hero].includes(e.type)){if(this.cardService.checkTriggers(z.Enters,p.Self),e instanceof tn)e.hp=e.baseHp,this.cardService.setCardZoneByCard(e,v.play);else{let i=this.cardService.getCardIndex(e);this.cardService.setCardZone(i,v.play)}if(e.type===x.Mine&&(this.incomeBag.addBag(e.incomeBag),this.minesPlayed++,this.cardService.checkTriggers(z.MineCast,this.controller)),e.type===x.Building)if(this.buildings.includes(e)){let s=this.buildings.findIndex(o=>o.name===e.name);this.buildings[s].level++}else this.buildings.push(e)}else e.type===x.Spell&&this.playSpell(e,n);this.applyExistingAbilities(e),this.applyStaticAbilities(),this.processAbilities(e)}}playSpell(e,n){this.cardService.checkTriggers(z.SpellCast),this.cardService.setCardZoneByCard(e,v.discard)}addRelic(e){this.relics.push(e),this.processAbilities(e)}processAbilities(e){for(let n=0;n<e.abilities.length;n++){let r=e.abilities[n];if(r instanceof nn){let i=r;for(let s=0;s<i.effects.length;s++){let o=i.effects[s],a=o.targeting.getTarget();if(o.targeting.random&&i.allowedPlayer===p.Opponent)o.doEffectSingle(a[0]);else{for(let l=0;l<a.length;l++)a[l].targetableCard=!0;this.effectStack.push(o)}}}else if(r instanceof yt){let i=r;if(e instanceof pp&&i.canAffordCosts(e)&&i.needsTarget)for(let s=0;s<i.effects.length;s++){let o=i.effects[s];if(o.targeting.random){let a=o.targeting.getRandomTargetSingle();o.doEffectSingle(a)}else{let a=o.targeting.getTarget();for(let l=0;l<a.length;l++)a[l].targetableCard=!0;this.effectStack.push(o)}}}else r instanceof et?this.cardService.intialApplyStaticAbilities(r):r instanceof Pe?this.cardService.triggeredEffects.push(r):r.doEffects()}}applyExistingAbilities(e){for(let n=0;this.cardService.staticEffects.length>n;n++)this.cardService.staticEffects[n].doEffects()}killCardByIndex(e){this.cardService.setCardZone(e,v.discard)}killCardBySearch(e){let n=this.cardService.getCardIndex(e);this.cardService.setCardZone(n,v.discard)}getMines(){return this.cardService.getCards(v.play,p.Self,x.Mine)}earnIncome(){this.gembag.addBag(this.incomeBag)}drawCards(e){let n=[],r=this.cardService.getCards(v.deck,p.Self,x.Any);if(r.length>=e)for(let i=0;i<e;i++){let s=r[i];s.zone=v.hand,this.cardService.checkTriggers(z.DrawCard),n.push(s)}return n}canAttack(){let e;if(e=this.cardService.getCreatures(this.isAi?p.Opponent:p.Self),this.isAi)return e.length>0;for(let r=0;r<e.length;r++){let i=e[r];if(i.awake&&!i.firstTurn)return!0}return!1}getAttackers(){let e=this.cardService.getCreatures(p.Self).filter(n=>n.attacking);for(let n=0;n<e.length;n++){let r=e[n];r.attacking&&(r.keywords.includes(E.Sentry)||(r.awake=!1))}return e}attack(){this.cardService.checkTriggers(z.Attack),this.attacking=!0}defend(){this.defending=!0}clearCombat(){this.defending=!1,this.attacking=!1;let e=this.cardService.getCreatures(p.Any),n=this.cardService.hero;n.blocking=!1,n.blocked=!1,n.attacking=!1;for(let r=0;r<e.length;r++){let i=e[r];i.attacking=!1,i.blocked=!1,i.blocking=!1}this.checkDead()}doneDefending(){this.defending=!1}doneAttacking(){this.attacking=!1}dealDamage(e){let n=this.getAttackersUnblocked();for(let s=0;s<n.length;s++){let o=n[s],a=o.keywords.includes(E.Flying),l=o.keywords.includes(E.Siege);e.takeDamage(o.attack,l,a)}}takeDamage(e,n,r){r?this.hp-=e:this.wall.isAlive()?(n&&(e*=2),this.wall.hp-=e,this.clearWallBound()):this.hp-=e}clearWallBound(){if(this.wall.hp<=0){let e=this.getCreatures().filter(i=>i.keywords.includes(E.WallBound));for(let i=0;i<e.length;i++)e[i].zone=v.discard;let r=this.cardService.getCards(v.play,p.Self,x.Building).filter(i=>i.keywords.includes(E.WallBound));for(let i=0;i<r.length;i++)r[i].zone=v.discard}}getAttackersUnblocked(){let e=[],n=this.cardService.getCreatures(p.Self),r=[];for(let i=0;i<n.length;i++)r.push(n[i]);for(let i=0;i<r.length;i++){let s=r[i];s.attacking&&!s.blocked&&e.push(s)}return e}resetMines(){this.minesPlayed=0}checkDead(){let e=this.getCreatures().filter(n=>!n.isAlive());for(let n=0;n<e.length;n++){let r=e[n];if(r instanceof tn){let i=r;this.cardService.checkTriggers(z.Dies),i.handleDeath()}else r.isAlive()||(r.zone=v.discard,this.cardService.checkTriggers(z.Dies),r.handleDeath());r.resetStats()}}isAlive(){return this.cardService.getCards(v.deck,p.Self,x.Any).length>0&&this.hp>0}getCreatures(){return this.cardService.getCards(v.play,this.controller,x.Creature)}getHand(){return this.cardService.getCards(v.hand,p.Self,x.Any)}awakeAll(){let e=this.getCreatures();for(let n=0;n<e.length;n++)e[n].turned=!1,e[n].awake=!0,e[n].firstTurn=!1}getBlockers(){return this.hasBlockers()?this.getCreatures().filter(n=>n.awake):[]}hasBlockers(){let e=this.getCreatures();return 0!==e.length&&e.filter(r=>r.awake).length>0}hasMedic(){let e=this.getCreatures();for(let n=0;n<e.length;n++)if(e[n].keywords.includes(E.Medic))return!0;return!1}}class ur extends lt{constructor(e){super(e),this.currentSpell=null,this.currentTargets=[],this.isAi=!0,this.name="Horde",this.controller=p.Opponent,this.wall=new gp(10),this.pullsPerTurn=1,this.pullsThisTurn=0}drawCardsFromEffect(e){let n=this.cardService.getCards(v.deck,p.Opponent,x.Any);for(let r=0;r<e;r++){let i=n.pop();i instanceof B?(i.firstTurn=!1,this.playCreature(i),this.processAbilities(i)):i instanceof Ye&&(this.currentSpell=i,this.stopPhases=!0)}}playCards(){let e=this.cardService.getCards(v.deck,p.Opponent,x.Any);if(e.length>0&&this.pullsThisTurn<this.pullsPerTurn){let n=e[0];if(n.type===x.Creature){let r=n;if(this.playCreature(r),r.isMinion)this.playCards();else{if(this.pullsThisTurn++,this.pullsPerTurn===this.pullsThisTurn)return void(this.pullsThisTurn=0);this.pullsThisTurn<this.pullsPerTurn&&this.playCards()}}else n.type===x.Spell&&(this.currentSpell=n,this.stopPhases=!0)}else this.pullsThisTurn=0}playCreature(e){let n=this.cardService.getCardIndex(e);this.cardService.setCardZone(n,v.play),this.processAbilities(e)}runCurrentSpell(e){this.currentSpell&&(this.playCard(this.currentSpell,e),this.cardService.setCardZoneByCard(this.currentSpell,v.discard),this.currentSpell=null,this.stopPhases=!1)}getDeck(){return this.cardService.getCards(v.deck,p.Opponent,x.Any)}millCard(e){let n=this.cardService.getCards(v.deck,p.Opponent,x.Any);e>n.length&&(e=n.length);for(let r=0;r<e;r++)n[r].zone=v.discard}attack(){let e=this.cardService.getCreatures(p.Opponent);this.attacking=!0;for(let n=0;n<e.length;n++)e[n].turned=!0,e[n].attacking=!0,e[n].awake=!1}getAttackers(){return this.cardService.getCreatures(p.Opponent)}clearWallBound(){if(this.wall.hp<=0){let e=this.getCreatures().filter(i=>i.keywords.includes(E.WallBound));for(let i=0;i<e.length;i++)e[i].zone=v.discard;let r=this.cardService.getCards(v.play,p.Self,x.Building).filter(i=>i.keywords.includes(E.WallBound));for(let i=0;i<r.length;i++)r[i].zone=v.discard}}getAttackersUnblocked(){let e=[],n=this.cardService.getCreatures(p.Opponent);for(let r=0;r<n.length;r++){let i=n[r];i.attacking&&!i.blocked&&e.push(i)}return e}takeDamage(e,n,r){r?this.millCard(e):this.wall.isAlive()?(n&&(e*=2),this.wall.hp-=e,this.clearWallBound()):this.millCard(e)}defend(){let e=this.cardService.getCreatures(p.Self).filter(i=>i.attacking),n=0;for(let i=0;i<e.length;i++)n+=e[i].attack;let r=this.cardService.getCards(v.deck,p.Opponent,x.Any);r.length>n&&(n=r.length);for(let i=0;i<n;i++)r.pop()}isAlive(){return 0===this.cardService.getCards(v.deck,p.Opponent,x.Any).length}}class VL{constructor(e,n){this.player=e,this.opponent=n}getPlayer(e){return e===p.Any?[this.player,this.opponent]:e===p.Opponent?[this.opponent]:[this.player]}}class Xb{constructor(){this.cardList=[],this.staticEffects=[],this.triggeredEffects=[],this.playerService={},this.relicsManager=new Bc(this),this.currentPos=0,this.difficultyMods="",this.selectedFactions=[S.Any],this.nodePos=0,this.difficulty=0,this.hero=new tn(0,1,1,"Hero Boy",new k,"","",p.Self,v.play,[S.Sun],!1,[],[],pe.Rare),this.shuffleDeck(this.cardList)}deleteCardsByController(e){this.cardList=this.cardList.filter(n=>void 0!==n),this.cardList=this.cardList.filter(n=>n.owner!==e)}clearDiscardPile(e){for(let n=0;n<this.cardList.length;n++){let r=this.cardList[n];r.zone===v.discard&&r.owner===e&&(r.zone=v.deck)}}makePlayerService(e,n){this.playerService=new VL(e,n)}getCount(e,n,r,i){return void 0===r&&(r=x.Any),void 0===n&&(n=p.Any),void 0===i&&(i=S.Any),void 0===e&&(e=v.any),this.getCards(e,n,r,[i]).length}countMultiple(e,n,r,i){let s=0;void 0===r&&(r=[x.Any]),void 0===n&&(n=p.Any),void 0===i&&(i=[S.Any]),void 0===e&&(e=[v.any]);for(const o of e)for(const a of i)for(const l of r)s+=this.getCount(o,n,l,a);return s}getCardsWithStatics(){return this.getCards().filter(n=>n.hasStaticAbility())}checkTriggers(e,n){void 0===n&&(n=p.Any);let r=this.getCards(v.any,n,x.Any,[S.Any],!0);for(let o=0;o<r.length;o++){let a=r[o];for(let l=0;l<a.abilities.length;l++){let c=a.abilities[l];c instanceof Pe&&c.triggerZones.includes(a.zone)&&c.checkTriggers(e,n)}}let s=this.playerService.getPlayer(p.Self)[0].relics;for(let o=0;o<s.length;o++){let a=s[o];for(let l=0;l<r.length;l++){let c=a.abilities[l];c instanceof Pe&&c.checkTriggers(e,n)}}e===z.Enters&&this.getCardsWithStatics()}intialApplyStaticAbilities(e){e.doEffects(),this.staticEffects.push(e)}staticDestroy(e){if(this.staticEffects.includes(e)){e.undoAll();let n=this.staticEffects.indexOf(e);this.staticEffects.splice(n,1)}}shuffleDeck(e){let r,n=e.length;for(;n>0;)r=Math.floor(Math.random()*n),n--,[e[n],e[r]]=[e[r],e[n]];return e}checkZoneTriggers(e,n){e===v.exile&&this.checkTriggers(z.Exiled),n===v.play&&e===v.discard&&this.checkTriggers(z.Dies),n===v.hand&&(e===v.play?this.checkTriggers(z.Enters):e===v.discard&&this.checkTriggers(z.Discarded)),n===v.deck&&e===v.discard&&this.checkTriggers(z.Mill)}setCardZoneByCard(e,n){this.checkZoneTriggers(n,e.zone);for(let r=0;r<this.staticEffects.length;r++){let i=this.staticEffects[r];e.abilities.includes(i)&&i.undoAll()}e.zone=n,e instanceof B&&(e.awake=!0)}setCardZone(e,n){let r=this.cardList[e];this.checkZoneTriggers(n,r.zone);for(let s=0;s<this.staticEffects.length;s++);this.cardList[e].zone=n,r instanceof B&&(r.awake=!0)}setCardZoneObj(e,n){let r=this.getCardIndex(e);r>=0&&r<this.cardList.length&&(this.cardList[r].zone=n)}setCardOwner(e,n){this.cardList[n].owner=e}getCardIndex(e){return this.cardList.findIndex(r=>r===e)}getCard(e){return this.cardList[e]}getCreatures(e){let n=this.getCards(v.play,e,x.Creature);return(this.hero.owner===e||this.hero.owner===p.Any&&this.hero.zone===v.play)&&n.push(this.hero),n}getBuildings(e){return this.getCards(v.play,e,x.Building)}getTechs(e){return void 0===e&&(e=p.Any),this.getCards(v.play,e,x.Tech)}filterByKeyword(e,n){return void 0===n&&(n=p.Any),this.getCreatures(n).filter(i=>i.keywords.includes(e))}getCardsWithTriggers(e,n,r,i){return void 0===r&&(r=x.Any),void 0===n&&(n=p.Any),void 0===i&&(i=S.Any),void 0===e&&(e=v.any),this.getCards(e,n,r,[i]).filter(a=>a.abilities.filter(l=>l instanceof Pe))}getCards(e,n,r,i,s){let o=[];void 0===r&&(r=x.Any),void 0===n&&(n=p.Any),void 0===i&&(i=[S.Any]),void 0===e&&(e=v.any),void 0===s&&(s=!1),s&&o.push(this.hero),this.hero.zone===e&&(r===x.Creature||r===x.Hero||x.Any)&&(n===this.hero.owner||n===p.Any)&&o.push(this.hero),this.cardList=this.cardList.filter(a=>void 0!==a);for(let a=0;a<this.cardList.length;a++){let l=this.cardList[a],c=this.getMatchingFactions(l.factions,i);(l.owner===n||n==p.Any)&&(l.zone===e||e===v.any)&&(r===l.type||r===x.Any)&&(c.length>0||i.includes(S.Any))&&o.push(l)}return o}getMatchingFactions(e,n){let r=[];for(let i=0;i<e.length;i++)n.includes(e[i])&&r.push(e[i]);return r}getDeck(e){return this.cardList.filter(n=>n.owner==e&&n.zone==v.deck)}clearList(e){this.cardList=this.cardList.filter(n=>n.owner!==e)}resetCreatures(){this.staticEffects=[];for(let e=this.cardList.length-1;e>=0;e--){let n=this.cardList[e];if(n instanceof B)if(n.zone===v.play&&(n.zone=v.deck),n.isMinion){this.cardList.splice(e,1);for(let r=0;r<n.abilities.length;r++){let i=n.abilities[r];i instanceof et&&i.undoAll()}}else n.resetStats(),this.cardList[e]=n}}reset(){this.clearList(p.Opponent),this.playerService.player.wall.hp=20,this.playerService.opponent.wall.hp=10,this.playerService.player.gembag.resetStarting(this.playerService.player.startingGold),this.playerService.player.incomeBag.resetIncome();for(let e=0;e<this.staticEffects.length;e++)this.staticEffects[e].undoAll();for(let e=0;e<this.cardList.length;e++)if(this.cardList[e].zone=v.deck,this.playerService.player.applyExistingAbilities(this.cardList[e]),this.cardList[e]instanceof B){let n=this.cardList[e];n.resetStats(),n.isMinion&&this.cardList.splice(e,1),n.firstTurn=!0,n.resetStats()}}drawInitialHand(){this.playerService.player.drawCards(6);let e=this.getCards(v.deck,p.Self,x.Mine);for(let n=0;n<e.length;n++){let r=e[n];if(r.factions.includes(S.Colorless)){r.zone=v.hand;break}}}getTargets(e){let n=e.allowedZones,r=e.controller,i=e.types,s=i.includes(x.Any),o=n.includes(v.any);s&&(i=Object.values(x)),o&&(n=Object.values(v));let a=[];for(let l=0;l<this.cardList.length;l++){let c=this.cardList[l],u=n.includes(c.zone),d=i.includes(c.type);u&&d&&(c.owner===r||r===p.Any)&&a.push(c)}return a}grabUnaffected(e,n){void 0===n&&(n=x.Any);let r=e.targeting.getTarget();return n!==x.Any&&(r=r.filter(s=>s.type===n)),r.filter(s=>!s.currentEffects.includes(e))}grabAffected(e,n){void 0===n&&(n=x.Any);let r=e.targeting.getTarget();return n!==x.Any&&(r=r.filter(s=>s.type===n)),r.filter(s=>s.currentEffects.includes(e))}}class jL{constructor(e){this.showTurnPlayer=!1,this.showTurnEnemy=!1,this.game=e}getPhaseText(){switch(this.game.currentPhase){case Q.main||Q.main2:return"You may play a mine and as many other cards as you can afford. If it is your first main phase, you gain income from your mines.";case Q.attackers:return"Pick what creatures you want to attack. For a hoard, all creature always attack.";case Q.blockers:return"Choose which creatures from the horde you want to block. The hoard will never block.";case Q.combatResults:return"See the results of each block in combat. Greyed out creatures are set to die";case Q.end:return"The end of the turn. Until end of turn effects wear off here.";case Q.start:return"The start of a battle.";default:return""}}resetPhase(){this.game.currentPhase=Q.main,this.game.phaseDisplay=Q[this.game.currentPhase],this.game.currentTurn=this.game.player}nextPhase(){this.game.currentTurn.isAi?this.handleAIPhases():this.handlePlayerPhases(),this.game.phaseDisplay=Q[this.game.currentPhase]}handlePlayerPhases(){if(0===this.game.player.effectStack.length)switch(this.game.currentPhase){case Q.start:this.game.cardService.checkTriggers(z.Start,p.Self),alert("Your Turn"),this.game.currentPhase=Q.main;break;case Q.main:this.handleMainPhase();break;case Q.attackers:this.game.combatManager.runBlocks(),this.game.combatManager.runUnblocked(),this.game.combatManager.clearCombat(),this.game.currentPhase=Q.main2;break;case Q.main2:this.endTurn(),alert("Enemy Turn")}}handleAIPhases(){switch(this.game.currentPhase){case Q.main:this.handleAIMainPhase();break;case Q.attackers:this.game.player.hasBlockers()?this.game.currentPhase=Q.blockers:(this.game.combatManager.runUnblocked(),this.game.combatManager.clearCombat(),this.game.currentPhase=Q.end,this.game.cardService.checkTriggers(z.EndTurn,p.Opponent));break;case Q.blockers:this.game.currentPhase=Q.combatResults,this.game.combatManager.runUnblocked(),this.game.combatManager.runBlocks();break;case Q.combatResults:this.game.combatManager.clearCombat(),this.game.currentPhase=Q.end,this.game.cardService.checkTriggers(z.EndTurn,p.Opponent);break;case Q.end:this.game.cardService.checkTriggers(z.Start,p.Self),this.game.cardService.checkTriggers(z.Awake,p.Opponent),this.endTurn(),alert("Your Turn")}}handleMainPhase(){this.endTurn(),alert("Enemy Turn")}handleAIMainPhase(){this.game.currentTurn.canAttack()?(this.game.currentPhase=Q.attackers,this.game.combatManager.runAttack()):this.game.currentPhase=Q.end}endTurn(){this.game.currentPhase=Q.main,this.game.cardService.checkTriggers(z.EndTurn,p.Self);let e=this.game.player.getCreatures();for(let n=0;n<e.length;n++){let r=e[n];r.keywords.includes(E.Regenerate)&&r.heal()}this.game.currentTurn===this.game.player&&[Q.main,Q.main2,Q.start,Q.end].includes(this.game.currentPhase),this.game.currentPhase=Q.main,this.game.phaseDisplay=Q[this.game.currentPhase],this.swapCurrent(),this.runUpkeep(),this.game.cardService.checkTriggers(z.Start,p.Opponent),this.game.cardService.checkTriggers(z.Awake,p.Opponent)}runUpkeep(){this.game.currentTurn.awakeAll();const e=this.game.getCurrentTurnController();this.game.currentTurn instanceof ur?this.game.processKeywords(p.Opponent,this.game.currentTurn.wall):this.game.currentTurn instanceof lt&&(this.game.player.minesPlayed=0,this.game.player.earnIncome(),this.game.processKeywords(p.Self,this.game.player.wall)),this.game.runDraw(),this.game.cardService.checkTriggers(z.Awake,e)}swapCurrent(){this.game.currentTurn=this.game.currentTurn.controller===p.Opponent?this.game.player:this.game.enemy}passTurn(){this.game.currentTurn===this.game.player&&(this.game.currentPhase===Q.main||this.game.currentPhase===Q.main2||this.game.currentPhase===Q.start)&&this.game.currentTurn===this.game.player&&(this.swapCurrent(),this.runUpkeep(),this.game.currentPhase=Q.main,this.game.phaseDisplay=Q[this.game.currentPhase],alert("Enemy Turn"))}}class HL{constructor(e,n){this.attacker={},this.blocker={},this.attacker=e,this.blocker=n}fight(){let e=this.attacker.keywords.includes(E.Dodge)&&this.attacker.dodgeAmount>0,n=this.blocker.keywords.includes(E.Dodge)&&this.blocker.dodgeAmount>0,r=this.attacker.keywords.includes(E.Ensnare)&&this.attacker.ensnareAmount>0,i=this.blocker.keywords.includes(E.Ensnare)&&this.blocker.ensnareAmount>0;r&&(this.blocker.speed-=this.attacker.ensnareAmount),i&&(this.attacker.speed-=this.blocker.ensnareAmount),this.attacker.speed>this.blocker.speed?(n?this.blocker.dodgeAmount--:this.blocker.hp-=this.attacker.attack,this.blocker.hp>0&&(e?this.attacker.dodgeAmount--:this.attacker.hp-=this.blocker.attack)):this.attacker.speed<this.blocker.speed?(e?this.attacker.dodgeAmount--:this.attacker.hp-=this.blocker.attack,this.attacker.hp>0&&(n?this.blocker.dodgeAmount--:this.blocker.hp-=this.attacker.attack)):(e?this.attacker.dodgeAmount--:this.attacker.hp-=this.blocker.attack,n?this.blocker.dodgeAmount--:this.blocker.hp-=this.attacker.attack)}}class $L{constructor(e,n){this.fights=[],this.selectedAttacker=null,this.selectedBlocker=null,this.game=e,this.animationManager=n}inCombat(e){return e===Q.attackers||e===Q.blockers||e===Q.combatCleanup}runAttack(){const e=this.game.getCurrentTurnController();this.game.cardService.checkTriggers(z.Attack,e),this.game.currentTurn.isAi?(this.game.currentTurn.attack(),this.game.player.defend()):this.game.player.attack()}runBlocks(){let e=this.game.getCurrentTurnController()===p.Self?p.Opponent:p.Self;e=e===p.Opponent?p.Self:p.Opponent,this.runFights(),this.game.cardService.checkTriggers(z.Blockers,e)}runFights(){for(let e=0;e<this.fights.length;e++)this.fights[e].fight()}runUnblocked(){this.game.currentTurn.isAi?this.game.enemy.dealDamage(this.game.player):this.game.player.dealDamage(this.game.enemy)}clearCombat(){this.game.player.clearCombat(),this.game.enemy.clearCombat(),this.clearFights()}isFighting(e){return this.fights.some(n=>n.attacker===e||n.blocker===e)}cancelFight(e){const n=this.fights.indexOf(e);n>=0&&this.fights.splice(n,1),this.selectedAttacker&&this.selectedBlocker&&(this.selectedAttacker.blocked=!1,this.selectedBlocker.blocking=!1)}setAttacker(e){this.selectedAttacker=e,this.checkFight()}setBlocker(e){this.selectedBlocker=e,this.checkFight()}unsetBlocker(e){if(this.isFighting(e)){let n=this.getFightByCreature(e);n.attacker.blocked=!1,n.blocker.blocking=!1;let r=this.fights.indexOf(n);this.fights.splice(r,1)}this.selectedBlocker=null,this.selectedAttacker=null}checkFight(){this.selectedAttacker&&this.selectedBlocker&&(this.selectedAttacker.blocked=!0,this.selectedBlocker.blocking=!0,this.createFight(this.selectedAttacker,this.selectedBlocker),this.selectedAttacker=null,this.selectedBlocker=null)}createFight(e,n){let r=new HL(e,n);this.fights.push(r),this.selectedAttacker=null,this.selectedBlocker=null}clearFights(){this.game.player.checkDead(),this.game.enemy.checkDead(),this.fights=[]}getFightByCreature(e){return this.fights.filter(r=>r.attacker===e||r.blocker===e)[0]}}class UL{constructor(e){this.cardService=e}drawCardPlayer(e,n,r){}drawCardEnemy(e,n,r){}playSpell(e,n,r){}playCreature(e,n,r){}playMine(e,n,r){}playBuilding(e,n,r){}discardFromHand(e,n,r){}discardFromPlay(e,n,r){}block(e,n,r){}}class Vc{constructor(e,n,r){this.currentTurn={},this.fights=[],this.currentPhase=Q.main,this.phaseDisplay=Q[this.currentPhase],this.selectedBlocker=null,this.selectedAttacker=null,this.selectPlayer=null,this.possibleCardTargets=[],this.spellStack=[],this.phaseManager=new jL(this),this.cardService=r,this.enemy=n,this.player=e,this.currentTurn=this.player,this.cardService.makePlayerService(this.player,this.enemy),this.animationManager=new UL(this.cardService),this.combatManager=new $L(this,this.animationManager)}pickFirst(){this.currentTurn=2*Math.random()==0?this.player:this.enemy}getCurrentTurnController(){let e=p.Any;return this.currentTurn===this.player?e=p.Self:this.currentTurn===this.enemy&&(e=p.Opponent),e}runUpkeep(){this.currentTurn.awakeAll();let e=this.getCurrentTurnController();this.runDraw(),this.cardService.checkTriggers(z.Start,e),this.cardService.checkTriggers(z.Awake,e),this.currentTurn instanceof ur?this.processKeywords(p.Opponent,this.currentTurn.wall):this.currentTurn instanceof lt&&(this.player.minesPlayed=0,this.player.earnIncome(),this.processKeywords(p.Self,this.player.wall))}processKeywords(e,n){let r=this.cardService.getCreatures(e);for(let i=0;i<r.length;i++){let s=r[i];if(s.keywords.includes(E.Momentum)&&s.speed++,s.keywords.includes(E.Sharpen)&&s.attack++,s.keywords.includes(E.Armorer)&&s.hp++,s.keywords.includes(E.Repair)&&(n.hp+=s.repairAmount,this.cardService.checkTriggers(z.WallRepair)),s.keywords.includes(E.Medic)){let o=this.currentTurn.getCreatures();for(let a=0;a<o.length;a++)o[a].heal()}}}runDraw(){let e=this.getCurrentTurnController();if(this.cardService.checkTriggers(z.DrawStep,e),this.cardService.checkTriggers(z.DrawCard,e),this.currentTurn.isAi)this.currentTurn.playCards();else{let r=this.currentTurn.drawCards(1);for(let i=0;i<r.length;i++){let s=r[i];s.isFlipping=!0,s.isMoving=!0,setTimeout(()=>{s.isFlipping=!1,s.isMoving=!1},1e3)}}}mainPhase(){let e=this.getCurrentTurnController();this.cardService.checkTriggers(z.Main1,e)}runAttack(){let e=this.getCurrentTurnController();this.cardService.checkTriggers(z.Attack,e),this.currentTurn.isAi?(this.currentTurn.attack(),this.player.defend()):this.player.attack()}}class Jb{}class zL{}const xr="*";function xi(t,e){return{type:7,name:t,definitions:e,options:{}}}function Or(t,e=null){return{type:4,styles:e,timings:t}}function eD(t,e=null){return{type:2,steps:t,options:e}}function At(t){return{type:6,styles:t,offset:null}}function jc(t,e,n){return{type:0,name:t,styles:e,options:n}}function Hc(t){return{type:5,steps:t}}function Fr(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}class ya{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class tD{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class gn{constructor(){this.animationSubject=new _n,this.animation$=this.animationSubject.asObservable()}static#e=this.drawCard=xi("drawCard",[Fr(":enter",[Or("1s ease-in-out",Hc([At({transform:"translateY(0)",opacity:0,offset:0}),At({transform:"translateY(-50px)",opacity:.5,offset:.5}),At({transform:"translateY(0)",opacity:1,offset:1})]))])]);static#t=this.moveCard=xi("moveCard",[Fr(":enter",[Or("1s ease-in-out",Hc([At({transform:"translateX(0)",opacity:0,offset:0}),At({transform:"translateX(-250px)",opacity:.5,offset:.5}),At({transform:"translateX(-500px)",opacity:1,offset:1})]))])]);static#n=this.rapidMoveRight=xi("rapidMoveRight",[Fr(":enter",[Or("1s ease-in-out",Hc([At({transform:"translateX(-50%)",opacity:.4,offset:0}),At({transform:"translateX(-25%)",opacity:.8,offset:.5}),At({transform:"translateX(0%)",opacity:1,offset:1})]))])]);static#r=this.zoomIn=xi("zoomIn",[Fr(":enter",[Or("10s ease-in-out",Hc([At({transform:"scale(0.1)",opacity:.5,offset:0}),At({transform:"scale(1)",opacity:1,offset:1})]))])]);triggerAnimation(e){this.animationSubject.next(e)}static#i=this.\u0275fac=function(n){return new(n||gn)};static#s=this.\u0275prov=X({token:gn,factory:gn.\u0275fac,providedIn:"root"})}class ni{constructor(e,n){this.cardAmount=4,this.colorCardAmount=2,this.mineAmount=4,this.goldMineAmount=3,this.cardService=e,this.cardFactory=new ti(e),this.playerService=n}addMinesToStarterDeck(e,n){this.cardFactory.getMinesBulk(n,5),this.cardFactory.getMinesBulk(T.Gold,4)}getAllMultiColorCards(e){let n=[],r=new B(5,4,3,"Veteran Dwarf",new k(1,1,1),"","",!1,e,v.deck,[S.Earth,S.Sun],[],[E.Armorer]);return n.push(r),n}getAllFireCards(e){let n=this.fireDeck(e).filter(zt=>zt.type!==x.Mine),i=(this.getPlayer(e),new B(5,5,2,"Troll Warrior",new k(0,3),"","",!1,e,v.deck,[S.Sun],[],[E.Regenerate])),s=new cr(T.Ruby,2,this.cardService),o=new Pe([s],[z.Dies],this.cardService,e),a=new B(1,3,3,"Fire Gem Miner",new k(1,1),"","When this dies, add 2 Rubies to your gembag",!1,e,v.deck,[S.Sun],[o]),l=new B(5,10,7,"T-Rex",new k(5,2),"","",!1,e,v.deck,[S.Sun],[],[E.Siege]),c=new B(3,4,4,"Sun Knight",new k(2,1),"assets//fireKnight.png","",!1,e,v.deck,[S.Sun],[],[E.Sentry,E.Sharpen]),u=new zs(7,this.cardService,j.All,e,!1,!1,!0),d=new ze([u],this.cardService),h=new Ye("Wild Inferno",new k(5,2),"","Deal 7 damage to all enemy creatures",[d],!0,e,v.deck,[S.Sun]),f=new Gn("Big Ruby Mine",new k(3),new k(0,2),"","",e,v.deck,[S.Colorless],[],pe.Uncommon),g=new zs(2,this.cardService,j.All,e,!1,!0,!1),_=new ze([g],this.cardService),A=new Ye("Fire Storm",new k(3,1),"","Deal 2 damage to all enemy creatures",[_],!0,e,v.deck,[S.Sun]);n.push(i,a,l,c,h,f,A);let I=new ke(0,1,0,this.cardService,p.Self,j.Single),b=new Pe([I],[z.CreatureCast],this.cardService,p.Self,[v.play]),F=new B(1,1,5,"Arsonist",new k(0,1),"","When you play a creature, that creature gets +1/+0/+0",!1,e,v.deck,[S.Sun],[b]);n.push(F);let V=new Zb(this.cardService,2,p.Opponent),Y=new yt(this.cardService,[new Mt(Ie.Gems,1,T.Ruby)],[V],{}),fe=new B(2,2,3,"Fire Mage",new k(1,1),"","Pay 1 Ruby: Deal 2 damage to the enemy player",!1,e,v.deck,[S.Sun],[Y]);Y.user=fe,n.push(fe);let ye=new ke(0,0,2,this.cardService,p.Self,j.Single);ye.repeatable=!0;let $e=new yt(this.cardService,[new Mt(Ie.Gems,2,T.Ruby)],[ye],{}),Qe=new B(6,6,6,"Ruby Dragon",new k(3,2),"","Pay 2 Rubies: This creature gets +2 attack",!1,e,v.deck,[S.Sun],[],[E.Flying]);$e.user=Qe,Qe.abilities.push($e);let pt=new zs(1,this.cardService,j.Single,p.Any,!1,!0,!0),vn=new yt(this.cardService,[new Mt(Ie.Asleep,0)],[pt],{},!0),rn=new B(1,1,1,"Fire Imp",new k(0,1),"","Turn: Deal 1 damage to any creature",!1,e,v.deck,[S.Sun],[vn]);return n.push(rn),n.push(Qe),n}getAllEarthCards(e){this.getPlayer(e);let r=new ke(0,5,3,this.cardService,e,j.All),i=new ze([r],this.cardService),s=new Ye("Dig In",new k(2,0,0,2),"","All your creatures gain +3/+5/+0",[i],!1,e,v.deck,[S.Earth]),o=this.earthDeck(e).filter(U=>U.type!==x.Mine),a=new B(15,15,2,"Stone Tyrant",new k(5,0,0,3),"","",!1,e,v.deck,[S.Earth],[],[E.Repair],!1,pe.Rare);a.repairAmount=5;let l=new Kb(this.cardService,T.Emerald),c=new kn(this.cardService,j.Single,e),u=new Pe([c,l],[z.Start],this.cardService,p.Self,[v.play]),d=new B(3,3,3,"Miner Major",new k(3,0,0,2),"","At the start of each turn, add a mine and draw a card",!1,e,v.deck,[S.Earth],[u],[],!1,pe.SuperRare),h=new B(20,0,0,"Sturdy Barricade",new k(2,0,0,2),"","",!1,p.Self,v.deck,[S.Earth]),f=new B(8,4,2,"Flex Tank",new k(0,0,0,4),"","",!1,p.Self,v.deck,[S.Earth],[],[E.Siege,E.Armorer,E.Engineer]);f.repairAmount=4;let g=new B(6,6,5,"Hammer Squad",new k(3,0,0,1),"","",!1,p.Self,v.deck,[S.Earth],[],[E.Siege]),_=new ke(0,2,0,this.cardService,p.Self,j.All),A=new et([_],this.cardService),I=new B(9,6,4,"Master Armorer",new k(5,0,0,2),"","All your creatures get +0/+2/+0",!1,p.Self,v.deck,[S.Earth],[A]),b=new B(3,3,3,"Dwarf Soldier",new k(1,0,0,1),"","",!1,p.Self,v.deck,[S.Earth]),F=new Gn("Big Emerald Mine",new k(2),new k(0,0,0,2),"","",e,v.deck,[S.Colorless],[],pe.Uncommon),V=new ke(1,1,1,this.cardService,e,j.Single),Y=new Pe([V],[z.Enters],this.cardService,e,[v.play]),fe=new B(3,1,1,"Mine Chief",new k(2,0,0,1),"","Gets +1/+1/+1 when you play a mine",!1,e,v.hand,[S.Earth],[Y],[],!1,pe.Rare),ye=new cr(T.Emerald,1,this.cardService),$e=new yt(this.cardService,[new Mt(Ie.Asleep,1)],[ye],{}),Qe=new B(3,1,1,"Emerald Miner",new k(0,0,0,1),"","Turn: Add an Emerald to your gembag",!1,e,v.deck,[S.Earth],[$e]);$e.user=Qe;let pt=new ke(0,0,2,this.cardService,e,j.Single),vn=new yt(this.cardService,[new Mt(Ie.Gems,1,T.Emerald)],[pt],{},!0),rn=new B(2,2,2,"Dwarf Shield",new k(1,0,0,1),"","",!1,e,v.deck,[S.Earth],[vn],[E.Armorer,E.Repair]);vn.user=rn;let zt=new ke(-3,3,3,this.cardService,e,j.Single),di=new nn([x.Creature],e,[v.play],1,[zt],this.cardService),hi=new Ye("Stone Form",new k(0,0,0,1),"","Target creature gets +3/+3/-3",[di],!0,e,v.deck,[S.Earth]);return o.push(hi),o.push(d,a,h,f,g,I,b,F,fe,s,Qe,rn),o}getAllAirCards(e){let n=[],i=(this.getPlayer(e),new Ri(this.cardService,j.All,[v.play],e,[E.Flying,E.Sentry])),s=new ke(2,0,2,this.cardService,e,j.All),o=new ze([i,s],this.cardService),a=new Ye("Divine Wind",new k(3,0,0,0,0,2),"","All your creatures gain flying, sentry, and +2/+0/+2",[o],!1,e,v.deck,[S.Sky]),l=new B(3,5,5,"Air Elemental",new k(3,0,0,0,0,1),"","",!1,e,v.deck,[S.Sky],[],[E.Flying]),c=new B(1,1,1,"Bee Swarm",new k(0,0,0,0,0,3),"","At the start of each of your turns, this gains +1/+1/+1",!1,e,v.deck,[S.Sky],[],[E.Armorer,E.Momentum,E.Sharpen,E.Flying,E.Sentry]),u=new B(2,2,2,"Chaotic Clone",new k(4,0,0,0,0,1),"","At the start of each of your turns, make a 1/1/1 copy of this creature",!1,e,v.deck,[S.Sky]),d=new fp(e,this.cardService,u),h=new Pe([d],[z.Start],this.cardService,e,[v.play]),f=new B(2,2,2,"Chaotic Clone",new k(4,0,0,0,0,1),"","At the start of each of your turns, make a 1/1/1 copy of this creature",!1,e,v.deck,[S.Sky],[h]);u.abilities.push(h);let g=new Gn("Big Topaz Mine",new k(3),new k(0,0,0,0,0,2),"","",e,v.deck,[S.Colorless],[],pe.Uncommon),_=new kn(this.cardService,j.Single,e,1),A=new ke(0,1,1,this.cardService,p.Any,j.Single),I=new Pe([A],[z.DrawCard],this.cardService,e,[v.play]),b=new yt(this.cardService,[new Mt(Ie.Asleep,1)],[_],{}),F=new B(2,2,2,"Air Scout",new k(2,0,0,0,0,1),"","Turn: Draw a card. Whenever you draw a card this creature gets +1/+0/+1",!1,e,v.deck,[S.Sky],[I,b],[E.Flying],!1,pe.Rare);b.user=F;let V=new ke(2,0,2,this.cardService,e,j.Single),Y=new Ri(this.cardService,j.Single,[v.play],e,[E.Flying]),fe=new nn([x.Creature],e,[v.play],1,[V,Y],this.cardService),ye=new Ye("Gust",new k(0,0,0,0,0,1),"","Target creature gets +2/+0/+2 and gains Flying",[fe],!0,e,v.deck,[S.Sky]);return n.push(ye),n.push(...this.airDeck(e),c,f,g,a,l,F),n}getAllWaterCards(e){let n=[];n.push(...this.waterDeck(e));let r=new B(3,1,1,"Sea Snail",new k(0,0,1),"","",!1,e,v.deck,[S.Neptune],[],[E.Ensnare]);r.ensnareAmount=2;let i=new kn(this.cardService,j.Single,p.Self,1),s=new Pe([i],[z.MineCase],this.cardService,e,[v.play]),o=new B(3,2,3,"Otter Diver",new k(3,0,1),"","Whenever you play a mine, draw a card",!1,e,v.deck,[S.Neptune],[s]),a=new Gn("Big Sapphire Mine",new k(3),new k(0,0,0,0,0,2),"","",e,v.deck,[S.Colorless],[],pe.Uncommon),l=new ke(0,0,-5,this.cardService,p.Any,j.All),c=new ze([l],this.cardService),u=new Ye("Mass Freeze",new k(3,0,1),"","All enemy creatures gets -5/-0/-0",[c],!0,e,v.deck,[S.Neptune]),d=new ke(1,1,1,this.cardService,e,j.Single),h=new Pe([d],[z.DrawCard],this.cardService,e,[v.play]),f=new B(2,2,2,"Flooding Fish",new k(1,0,1),"","Whenever you draw a card, this creature gets +1/+1/+1",!1,e,v.deck,[S.Neptune],[h]);return n.push(f),n.push(r,o,a,u),n}getAllStarCards(e){let r,n=[];r=e===p.Self?p.Opponent:p.Self;let i=new ga(this.cardService,1,e),s=new Pe([i],[z.CreatureCast,z.Start],this.cardService,e,[v.play]),o=new B(1,1,1,"Life Magician",new k(0,0,0,0,1),"","At the start of your turn, gain 1 life. Whenever you play a creature, gain 1 life",!1,e,v.deck,[S.MoonAndStars],[s]),a=new ga(this.cardService,3,e),l=new kn(this.cardService,j.Single,e,3),c=new ze([a,l],this.cardService),u=new Ye("Divine Eyes",new k(3,0,0,0,1),"","Draw 3 cards, gain 3 life",[c],!1,e,v.deck,[S.MoonAndStars]),d=new ke(1,1,1,this.cardService,p.Any,j.Single),h=new Pe([d],[z.Dies],this.cardService,p.Any,[v.play]),f=new B(2,2,2,"Walker of Voids",new k(1,0,0,0,2),"","Whenever a creature dies, this creature gets +1/+1/+1 permanently",!1,e,v.deck,[S.MoonAndStars],[h]),g=new OL(this.cardService,e,j.Single,v.hand),_=new Pe([g],[z.Dies],this.cardService,e,[v.discard]),A=new B(6,8,5,"Dead Deity",new k(3,0,0,0,3),"","If this is in your discard pile, return it to your hand whenever a creature dies",!1,e,v.deck,[S.MoonAndStars],[_],[E.Sentry]),I=new cr(T.Gold,1,this.cardService),b=new Pe([I],[z.Dies],this.cardService,p.Any,[v.play]),F=new BL("House of the Dead",new k(2,0,0,0,2),"","Whenever a creature dies gain 1 gold",e,v.hand,[S.Colorless],[b]),V=new Gn("Big LionsEye Mine",new k(3),new k(0,0,0,0,2,0),"","",e,v.deck,[S.Colorless],[],pe.Uncommon);return n.push(...this.starDeck(e),o,u,f,A,F,V),n}fireDeck(e){let n=[],i=(this.getPlayer(e),0);for(;i<this.colorCardAmount;){let s=new B(5,5,4,"Great Dragon",new k(3,2,0,0,0,0),"","",!1,p.Opponent,v.deck,[S.Sun],[],[E.Sharpen,E.Flying]),o=new Zb(this.cardService,3,p.Opponent),a=new ze([o],this.cardService),l=new B(1,3,3,"Blast Boy",new k(1,1),"","When played, deal 3 damage to the enemy player",!1,p.Self,v.deck,[S.Sun],[a]),c=new zs(3,this.cardService,j.Single,p.Opponent,!1,!0,!0),u=new nn([x.Creature],p.Any,[v.play],1,[c],this.cardService),d=new Ye("Fire Bolt",new k(0,1),"assets//fireBolt.png","3 damage to target creature",[u],!0,e,v.deck,[S.Sun]),h=new B(3,4,5,"Fire Raptor",new k(2,1),"","",!0,e,v.deck,[S.Sun]),f=new ke(2,0,2,this.cardService,e,j.Single),g=new FL(this.cardService,e,j.Single),_=new nn([x.Creature],e,[v.play],1,[f,g],this.cardService),I=(new Ye("Haste",new k(0,2),"","Target creature gets +2/+0/+2 and may attack the turn it came into play",[_],!0,e,v.deck,[S.Sun]),new ke(0,0,1,this.cardService,p.Self,j.Single)),b=new yt(this.cardService,[new Mt(Ie.Gems,1,T.Ruby)],[I],{},!0),F=new B(3,6,6,"Fire Elemental",new k(5,1),"","Pay one Ruby: gain +1/+0/+0",!1,p.Self,v.deck,[S.Sun],[b],[E.Momentum,E.Sharpen]),V=new cr(T.Ruby,1,this.cardService),Y=new Pe([V],[z.Start],this.cardService,p.Self,[v.play]),fe=new B(1,1,1,"Fire Scavenger",new k(0,1),"","Gain 1 ruby per turn",!1,e,v.deck,[S.Sun],[Y]);n.push(s,d,h,F,fe,l),i++}return n.push(...this.cardFactory.getMinesBulk(T.Ruby,this.mineAmount)),n.push(...this.cardFactory.getMinesBulk(T.Gold,this.goldMineAmount)),n}earthDeck(e){let n=0,r=[];for(;n<this.colorCardAmount;){let i=new ke(-3,-3,0,this.cardService,p.Any,j.Single),s=new nn([x.Creature],p.Any,[v.play],1,[i],this.cardService),o=new Ye("Slow",new k(1,0,0,1),"","Target creature gets -0/-3/-3",[s],!0,e,v.deck,[S.Earth]),a=new cr(T.Emerald,2,this.cardService),l=new ze([a],this.cardService),c=new B(3,4,3,"Verdant Warrior",new k(2,0,0,1),"","Adds 2 Emeralds on enter",!1,e,v.deck,[S.Earth],[l]),u=new B(2,2,1,"Dwarf Engineer",new k(0,0,0,1),"assets//engineer.png","",!1,e,v.deck,[S.Earth],[],[E.Repair]);u.repairAmount=3;let d=new B(6,6,3,"Battle Dwarf",new k(2,0,0,2,0,0),"assets//dwarf.png","",!1,e,v.deck,[S.Earth],[]),h=new B(7,8,4,"Stone Golem",new k(3,0,0,3),"","",!1,e,v.deck,[S.Earth],[],[E.Regenerate,E.Siege]),f=new LL(this.cardService,1),g=new ze([f],this.cardService),_=new B(4,2,2,"Prospector",new k(2,0,0,1),"","You may play one additional mine per turn",!1,e,v.deck,[S.Earth],[g]);r.push(o,c,u,d,h,_),n++}return r.push(...this.cardFactory.getMinesBulk(T.Emerald,this.mineAmount)),r.push(...this.cardFactory.getMinesBulk(T.Gold,this.goldMineAmount)),r}airDeck(e){let n=0,r=[];for(;n<this.colorCardAmount;){let i=new kn(this.cardService,j.Single,e,1),s=new ze([i],this.cardService),o=new B(1,2,2,"Loyal Hawk",new k(1,0,0,0,0,1),"","On Enter, Draw a card",!1,e,v.deck,[S.Sky],[s],[E.Flying]),a=new B(2,2,1,"Agile Monk",new k(0,0,0,0,0,1),"","",!1,e,v.deck,[S.Sky],[],[]);a.dodgeAmount=1;let l=new kn(this.cardService,j.Single,e,2),c=new ze([l],this.cardService),u=new Ye("Scout",new k(0,0,0,0,0,2),"","Draw 2 cards",[c],!1,e,v.deck,[S.Sky]),d=new B(5,5,4,"Great Bird Monk",new k(2,0,0,0,0,2),"","",!1,e,v.deck,[S.Sky],[],[E.Flying]),h=new B(2,3,3,"Sky Knight",new k(1,0,0,0,0,1),"","",!1,e,v.deck,[S.Sky],[],[E.Flying]),f=new B(2,4,4,"Wind Dancer",new k(2,0,0,0,0,1),"","",!1,e,v.deck,[S.Sky],[],[E.Momentum]);r.push(o,a,u,d,h,f),n++}return r.push(...this.cardFactory.getMinesBulk(T.Topaz,this.mineAmount)),r.push(...this.cardFactory.getMinesBulk(T.Gold,this.goldMineAmount)),r}waterDeck(e){let n=0,r=[];for(this.getPlayer(e);n<this.colorCardAmount;){let s=new ke(-3,0,-3,this.cardService,p.Any,j.Single),o=new nn([x.Creature],p.Any,[v.play],1,[s],this.cardService),a=new Ye("Freeze",new k(0,0,1),"","Target creature gets -3/-0/-3",[o],!0,p.Self,v.deck,[S.Neptune]),l=new kn(this.cardService,j.Single,p.Self,1),c=new Pe([l],[z.Start],this.cardService,p.Self),u=new B(15,0,3,"Ice Rune Wall",new k(2,0,1),"","Draw a card at the start of each of your turns",!1,p.Self,v.deck,[S.Neptune],[c]),d=new Yb(this.cardService,p.Self,j.All),h=new ze([d],this.cardService),f=new B(4,3,2,"Aqua Healer",new k(1,0,1),"","On enter, heal all of your creatures, fast - may be played at any time",!0,p.Self,v.deck,[S.Neptune],[h]),g=new B(6,6,6,"King Serpent",new k(4,0,2),"","",!1,p.Self,v.deck,[S.Neptune],[],[E.Regenerate]),_=new B(5,3,3,"Deep Sea Yeti",new k(1,0,2),"","",!1,p.Self,v.deck,[S.Neptune],[],[E.Siege]),A=new Kb(this.cardService,T.Sapphire),I=new ze([A],this.cardService),b=new B(3,2,2,"Fish Man",new k(1,0,1),"","On enter, add a Sapphire mine",!1,p.Self,v.deck,[S.Neptune],[I]),F=new Yb(this.cardService,e,j.Single),V=new ke(0,1,0,this.cardService,e,j.Single);V.repeatable=!0;let Y=new yt(this.cardService,[new Mt(Ie.Gems,2,T.Sapphire)],[V,F],{}),fe=new B(5,4,4,"Water Guardian",new k(2,0,2),"","Pay 2 Sapphires: Increase this creature's HP by 1 and heal it to full health",!1,e,v.deck,[S.Neptune],[Y]);Y.user=fe,r.push(fe),r.push(a,u,f,g,_,b),n++}return r.push(...this.cardFactory.getMinesBulk(T.Sapphire,this.mineAmount)),r.push(...this.cardFactory.getMinesBulk(T.Gold,this.goldMineAmount)),r}starDeck(e){let n=0,r=[];for(;n<this.colorCardAmount;){let i=new qb(this.cardService,e,j.Single,[x.Creature]),s=new nn([x.Creature],e,[v.play],1,[i],this.cardService),o=new Ye("Death Beam",new k(0,0,0,0,2,0),"","Kill Target Creature an opponent controls",[s],!1,e,v.deck,[S.MoonAndStars]),a=new qb(this.cardService,p.Any,j.All,[x.Creature]),l=new ze([a],this.cardService),c=new Ye("Wrath of the Stars",new k(3,0,0,0,2),"","Destroy all creatures",[l],!1,e,v.deck,[S.MoonAndStars]),u=new B(1,1,3,"Wolf of the Stars",new k(0,0,0,0,1),"","Gain +1/+1/+0 each turn",!1,e,v.deck,[S.MoonAndStars],[],[E.Armorer,E.Sharpen]),d=new B(4,4,0,"Moon Healer",new k(2,0,0,0,1),"","Medic - Heal all other units you control at the start of your turn.",!1,e,v.deck,[S.MoonAndStars],[],[E.Medic]),h=new B(3,2,4,"Comet Trooper",new k(0,0,0,0,2),"","",!1,e,v.deck,[S.MoonAndStars],[],[E.Flying]),f=new B(2,2,4,"Time Sprite",new k(1,0,0,0,1),"","Flying. Gain +1/+1/+1 at the start of your turn.",!1,e,v.any,[S.MoonAndStars],[],[E.Armorer,E.Sharpen,E.Momentum,E.Flying],!0),g=new fp(e,this.cardService,f,3),_=new Ri(this.cardService,j.All,[v.play],e,[E.Armorer,E.Sharpen,E.Momentum]),A=new ze([g,_],this.cardService),I=new Ye("Summon Star Squad",new k(1,0,0,0,4),"","Summon 3 2/2/4 sprites. All creatures you control gain +1/+1/+1 at the start of each of your turns.",[A],!1,e,v.deck,[S.MoonAndStars]);r.push(o,u,d,h,I,c),n++}return r.push(...this.cardFactory.getMinesBulk(T.LionEye,this.mineAmount)),r.push(...this.cardFactory.getMinesBulk(T.Gold,this.goldMineAmount)),r}getAllNeutralCards(e){let n=[],r=new ga(this.cardService,1,e),i=new Mt(Ie.Asleep,1),s=new Mt(Ie.Gems,1,T.Gold),o=new yt(this.cardService,[i,s],[r],{}),a=new B(1,3,3,"Wandering Priest",new k(2,0,0,0,0),"","Pay 1 gold and turn to gain 1 life",!1,e,v.deck,[S.Colorless],[o]);o.user=a;let l=new B(6,3,4,"Shield Mate",new k(3,0,0,0,0,0),"","",!1,e,v.deck,[S.Colorless],[],[E.Sentry,E.WallBound]),c=new ke(1,1,1,this.cardService,e,j.Single);c.repeatable=!0;let u=new Pe([c],[z.DrawCard],this.cardService,e,[v.play]);new B(2,2,2,"Flooding Fish",new k(1,0,1),"","Whenever you draw a card, this creature gets +1/+1/+1",!1,e,v.deck,[S.Neptune]).abilities.push(u);let h=new cr(T.Gold,1,this.cardService),f=new Pe([h],[z.DrawCard],this.cardService,e,[v.play]),g=new B(1,1,1,"Merchant",new k(2),"","Whenever you draw a card, gain 1 gold",!1,e,v.deck,[S.Colorless],[f]);return n.push(g),n.push(...this.neutralCards(e),l,a),n}getRandomCards(e,n){let r=[];for(let i=0;i<n;i++){let s=Ue(0,e.length);r.push(e[s])}return r}getRandomNeutralCards(e){let n=this.getAllNeutralCards(e),r=new kn(this.cardService,j.Single,e,2),i=new ze([r],this.cardService),s=new Ye("Find Loot",new k(3),"","Draw 2 cards",[i],!1,e,v.deck,[S.Colorless]),o=this.getRandomCards(n,2),a=[];return a.push(s,...o),a}neutralCards(e){let n=[],r=0;for(;r<this.cardAmount;){let i=new zs(2,this.cardService,j.Single,p.Any),s=new nn([x.Creature],p.Any,[v.play],1,[i],this.cardService),a=(new Ye("Arrow Volley",new k(0,0,0,0,0,0),"","Deal 1 damage per tower building level to target creature",[s],!1,e,v.deck,[S.Colorless]),new kn(this.cardService,j.Single,e,2)),l=new ze([a],this.cardService),c=new Ye("Find Loot",new k(3),"","Draw 2 cards",[l],!1,e,v.deck,[S.Colorless]),u=new B(3,3,2,"Pikeman",new k(2),"assets//pikeman.png","",!1,e,v.deck,[S.Colorless],[],[E.Sentry,E.Ensnare]);u.ensnareAmount=2,new B(8,3,1,"Ironclad Mercenary",new k(4),"assets//Ironclad.png","",!1,e,v.deck,[S.Colorless]);let h=new B(2,2,2,"Squire",new k(1),"","",!1,e,v.deck,[S.Colorless],[]),f=new ze([new cr(T.Gold,2,this.cardService)],this.cardService),g=new Gn("Big Mine",new k(4),new k(2),"","Gain 2 gold on enter",e,v.deck,[S.Colorless],[f],pe.Uncommon),_=new ga(this.cardService,1,e),A=new Mt(Ie.Asleep,1),I=new Mt(Ie.Gems,1,T.Gold),F=(this.playerService.getPlayer(e),new yt(this.cardService,[A,I],[_],{})),V=new B(3,1,3,"Wandering Priest",new k(2,0,0,0,0),"","Pay 1 gold and turn to gain 1 life",!1,e,v.deck,[S.Colorless],[F]);F.user=V,n.push(c,u,h,g),r++}return n}getEnemyDeck(e,n,r){void 0===r&&(r=T.Gold);let i=[];switch(void 0===n&&(n=0),r){case T.Gold:i.push(...this.neutralCards(p.Opponent));break;case T.Emerald:i.push(...this.earthDeck(p.Opponent));break;case T.Ruby:i.push(...this.fireDeck(p.Opponent));break;case T.LionEye:i.push(...this.starDeck(p.Opponent));break;case T.Sapphire:i.push(...this.waterDeck(p.Opponent));break;case T.Topaz:i.push(...this.airDeck(p.Opponent))}let s=1;for(;s<e+1;){let o=this.cardFactory.generateAiBasicMinion(r,s,v.deck),a=this.cardFactory.generateAiMinion(r,s+1,v.deck);i.push(o,a),s++}for(let o=0;o<i.length;o++)i[o].owner=p.Opponent;return i=i.filter(o=>o.type!==x.Mine),i=i.filter(o=>o.type!==x.Building),i.push(this.getCardByName("Find Loot",p.Opponent)),i}getAllCards(e){let n=[];return n.push(...this.getAllFireCards(e)),n.push(...this.getAllEarthCards(e)),n.push(...this.getAllStarCards(e)),n.push(...this.getAllWaterCards(e)),n.push(...this.getAllAirCards(e)),n.push(...this.getAllNeutralCards(e)),n}getRandomFactionCards(e){const n=[this.getAllFireCards,this.getAllEarthCards,this.getAllStarCards,this.getAllWaterCards,this.getAllAirCards];return n[Math.floor(Math.random()*n.length)].call(this,e)}getStarterDeck(e,n){let r=[];r.push(...this.getAllNeutralCards(e));for(let i=0;i<n.length;i++)switch(n[i]){case S.Any:r.push(...this.getAllCards(e));break;case S.Sun:r.push(...this.getAllFireCards(e));break;case S.Earth:r.push(...this.getAllEarthCards(e));break;case S.MoonAndStars:r.push(...this.getAllStarCards(e));break;case S.Neptune:r.push(...this.getAllWaterCards(e));break;case S.Sky:r.push(...this.getAllAirCards(e))}return r}getPlayer(e){return this.cardService.playerService.getPlayer(e)}getCardByName(e,n){let i=["Death Beam","Fire Bolt","Slow","Freeze"],o=this.getAllCards(n).find(a=>a.name.toLowerCase()===e.toLowerCase());if(void 0!==o&&n===p.Opponent&&o.type===x.Spell)for(let a=0;a<o.abilities.length;a++){let l=o.abilities[a];if(l instanceof nn){let u=new mp(l.effects,this.cardService,l.allowedTargets,l.allowedZones,p.Opponent);u.targeting.controller=i.includes(o.name)?p.Self:p.Opponent,o.abilities[a]=u}}return o}getHeroDeck(e){let n=[];switch(e.name){case"Solara the Radiant":n.push(...this.getSolaraDeck());break;case"Ser Grimith the bland":n.push(...this.getGrimithDeck());break;case"Lunara the Tidal":n.push(...this.getLunaraDeck());break;case"King Aves":n.push(...this.getAvesDeck());break;case"Terra the Grounded":n.push(...this.getTerraDeck());break;case"Buck Bumble":n.push(...this.getBuckDeck());break;case"Mystic with No Name":n.push(...this.getMysticDeck())}return n}getMysticDeck(){let e=[];for(let r=0;r<this.cardAmount;r++){let i=this.getCardByName("Fire Bolt",p.Self);e.push(i);let s=this.getCardByName("Freeze",p.Self);e.push(s);let o=this.getCardByName("Death Beam",p.Self);e.push(o);let a=this.getCardByName("Merchant",p.Self);e.push(a);let l=this.getCardByName("Find Loot",p.Self);e.push(l);let c=this.getCardByName("Ice Rune Wall",p.Self);e.push(c);let u=this.getCardByName("Divine Eyes",p.Self);e.push(u);let d=this.getCardByName("King Serpent",p.Self);e.push(d)}let n=[];return n.push(...this.cardFactory.getMinesBulk(T.Gold,2)),n.push(...this.cardFactory.getMinesBulk(T.LionEye,2)),n.push(...this.cardFactory.getMinesBulk(T.Sapphire,2)),n.push(...this.cardFactory.getMinesBulk(T.Ruby,2)),n.push(...this.cardFactory.generateMultiColorMinesBulk(T.LionEye,T.Ruby,2)),n.push(...this.cardFactory.generateMultiColorMinesBulk(T.Sapphire,T.LionEye,1)),n.push(...this.cardFactory.generateMultiColorMinesBulk(T.Sapphire,T.Ruby,2)),e.push(...n),e}getBuckDeck(){let e=[];for(let r=0;r<this.cardAmount;r++){let i=this.getCardByName("Stone Form",p.Self);e.push(i);let s=this.getCardByName("Loyal Hawk",p.Self);e.push(s);let o=this.getCardByName("Scout",p.Self);e.push(o);let a=this.getCardByName("Prospector",p.Self);e.push(a);let l=this.getCardByName("Gust",p.Self);e.push(l);let c=this.getCardByName("Battle Dwarf",p.Self);e.push(c)}let n=[];return n.push(...this.cardFactory.getMinesBulk(T.Gold,3)),n.push(...this.cardFactory.getMinesBulk(T.Emerald,3)),n.push(...this.cardFactory.getMinesBulk(T.Topaz,3)),n.push(...this.cardFactory.generateMultiColorMinesBulk(T.Topaz,T.Emerald,3)),e.push(...n),e}getTerraDeck(){let e=[];for(let r=0;r<this.cardAmount;r++){let i=this.getCardByName("Verdant Warrior",p.Self);e.push(i);let s=this.getCardByName("Dwarf Soldier",p.Self);e.push(s);let o=this.getCardByName("Battle Dwarf",p.Self);e.push(o);let a=this.getCardByName("Prospector",p.Self);e.push(a);let l=this.getCardByName("Verdant Warrior",p.Self);e.push(l);let c=this.getCardByName("Dwarf Engineer",p.Self);e.push(c);let u=this.getCardByName("Stone Form",p.Self);e.push(u)}let n=[];return n.push(...this.cardFactory.getMinesBulk(T.Gold,6)),n.push(...this.cardFactory.getMinesBulk(T.Emerald,6)),e.push(...n),e}getLunaraDeck(){let e=[];for(let r=0;r<this.cardAmount;r++){let i=this.getCardByName("Freeze",p.Self);e.push(i);let s=this.getCardByName("Ice Rune Wall",p.Self);e.push(s);let o=this.getCardByName("Death Beam",p.Self);e.push(o);let a=this.getCardByName("Find Loot",p.Self);e.push(a);let l=this.getCardByName("Merchant",p.Self);e.push(l);let c=this.getCardByName("King Serpent",p.Self);e.push(c);let u=this.getCardByName("Dead Deity",p.Self);e.push(u)}let n=[];return n.push(...this.cardFactory.getMinesBulk(T.Gold,3)),n.push(...this.cardFactory.getMinesBulk(T.Sapphire,3)),n.push(...this.cardFactory.getMinesBulk(T.LionEye,3)),n.push(...this.cardFactory.generateMultiColorMinesBulk(T.LionEye,T.Sapphire,3)),e.push(...n),e}getGrimithDeck(){let e=[];for(let r=0;r<this.cardAmount;r++){let i=this.getCardByName("Pikeman",p.Self);e.push(i);let s=this.getCardByName("Find Loot",p.Self);e.push(s);let o=this.getCardByName("Squire",p.Self);e.push(o);let a=this.getCardByName("Shield Mate",p.Self);e.push(a)}let n=[];return n.push(...this.cardFactory.getMinesBulk(T.Gold,9)),e.push(...n),e}getSolaraDeck(){let e=[];for(let r=0;r<this.cardAmount;r++){let i=this.getCardByName("Fire Bolt",p.Self);e.push(i);let s=this.getCardByName("Slow",p.Self);e.push(s);let o=this.getCardByName("Haste",p.Self);e.push(o);let a=this.getCardByName("Dwarf Soldier",p.Self);e.push(a);let l=this.getCardByName("Fire Raptor",p.Self);void 0!==l&&e.push(l)}let n=[];return n.push(...this.cardFactory.getMinesBulk(T.Gold,3)),n.push(...this.cardFactory.getMinesBulk(T.Ruby,3)),n.push(...this.cardFactory.getMinesBulk(T.Emerald,3)),n.push(...this.cardFactory.generateMultiColorMinesBulk(T.Ruby,T.Emerald,2)),e.push(...n),e}getAvesDeck(){let e=[];for(let r=0;r<this.cardAmount;r++){let i=this.getCardByName("Scout",p.Self);e.push(i);let s=this.getCardByName("Sky Knight",p.Self);e.push(s);let o=this.getCardByName("Wind Dancer",p.Self);e.push(o);let a=this.getCardByName("King Serpent",p.Self);e.push(a);let l=this.getCardByName("Deep Sea Yeti",p.Self);e.push(l);let c=this.getCardByName("Great Bird Monk",p.Self);e.push(c)}let n=[];return n.push(...this.cardFactory.getMinesBulk(T.Gold,3)),n.push(...this.cardFactory.getMinesBulk(T.Sapphire,3)),n.push(...this.cardFactory.getMinesBulk(T.Topaz,3)),n.push(...this.cardFactory.generateMultiColorMinesBulk(T.Topaz,T.Sapphire,2)),e.push(...n),e}}let nD=(()=>{class t{constructor(){}getBgColor(n){switch(n){case S.Colorless:return"#888888";case S.Earth:return"#787235";case S.Neptune:return"#1a58a3";case S.Sky:return"#02aed6";case S.Sun:return"#cc4304";case S.MoonAndStars:return"#373737";default:return"white"}}getFgColor(n){switch(n){case S.Colorless:return"#DDDDDD";case S.Earth:return"#77c589";case S.Neptune:return"#6ea9f0";case S.Sky:return"#c3dde3";case S.Sun:return"#e8736b";case S.MoonAndStars:return"#e0ce7e";default:return"white"}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function GL(t,e){if(1&t&&L(0,"img",7),2&t){const n=M(2).$implicit,r=M();Qo("width",r.imgWidth,"px"),Tr("src",r.bag.getImage(n),rr)}}const vp=function(){return[]};function WL(t,e){if(1&t&&(y(0,"span"),N(1,GL,1,3,"img",6),m()),2&t){const n=M().$implicit,r=M();w(1),C("ngForOf",Ai(1,vp).constructor(r.bag.getValue(n)))}}function qL(t,e){if(1&t&&(y(0,"p",8),D(1),L(2,"img",7),m()),2&t){const n=M().$implicit,r=M();w(1),qe("",Ai(4,vp).constructor(r.bag.getValue(n)).length,"X "),w(1),Qo("width",r.imgWidth,"px"),Tr("src",r.bag.getImage(n),rr)}}function KL(t,e){if(1&t&&(y(0,"span",3),N(1,WL,2,2,"span",4),N(2,qL,3,5,"ng-template",null,5,Ti),m()),2&t){const n=e.$implicit,r=bi(3),i=M();w(1),C("ngIf",Ai(2,vp).constructor(i.bag.getValue(n)).length<5)("ngIfElse",r)}}function ZL(t,e){1&t&&L(0,"span",3)}let va=(()=>{class t{constructor(){this.bag=new k,this.imgWidth=16,this.manaTypes=[]}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ae({type:t,selectors:[["app-gembag"]],inputs:{bag:"bag",imgWidth:"imgWidth"},decls:3,vars:2,consts:[[1,""],["style","margin-left: 3px;",4,"ngFor","ngForOf"],["style","margin-left: 3px;",4,"ngIf"],[2,"margin-left","3px"],[4,"ngIf","ngIfElse"],["tooMany",""],["class","gemDimensions",3,"src","width",4,"ngFor","ngForOf"],[1,"gemDimensions",3,"src"],[1,"whiteFont",2,"font-size","0.7rem"]],template:function(r,i){1&r&&(y(0,"div",0),N(1,KL,4,3,"span",1),m(),N(2,ZL,1,0,"span",2)),2&r&&(w(1),C("ngForOf",i.bag.getTypes()),w(1),C("ngIf",i.bag.isEmpty()))},dependencies:[$t,it]})}return t})(),rD=(()=>{class t{constructor(){this.title="",this.text="",this.popupVisible=!1,this.popupX=100,this.popupY=100}showPopup(n){this.popupVisible=!0,this.updatePopupPosition(n)}movePopup(n){this.updatePopupPosition(n)}hidePopup(){this.popupVisible=!1}updatePopupPosition(n){this.popupX=n.clientX+10,this.popupY=n.clientY+10}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ae({type:t,selectors:[["app-tool-tip"]],inputs:{title:"title",text:"text"},decls:5,vars:2,consts:[[1,"toolTipMargin"],[1,"toolTipHeader"]],template:function(r,i){1&r&&(y(0,"div",0)(1,"h2",1),D(2),m(),y(3,"p"),D(4),m()()),2&r&&(w(2),mt(i.title),w(2),mt(i.text))},styles:[".toolTipHeader[_ngcontent-%COMP%]{color:#f3e712;font-size:16px}.toolTipMargin[_ngcontent-%COMP%]{margin:10px}"]})}return t})();function YL(t,e){if(1&t&&(y(0,"div"),L(1,"app-tool-tip",16),m()),2&t){const n=e.$implicit,r=M(3);w(1),C("title",r.kTip.getToolTipName(n))("text",r.kTip.getTooltip(n))}}const QL=function(){return{"top.px":0,"left.px":125}};function XL(t,e){if(1&t&&(y(0,"div",15),N(1,YL,2,2,"div",14),m()),2&t){const n=M(2);C("ngStyle",Ai(2,QL)),w(1),C("ngForOf",n.card.keywords)}}const $c=function(t){return{backgroundColor:t}};function JL(t,e){if(1&t&&(y(0,"div",3),L(1,"app-gembag",17),m()),2&t){const n=M(2);C("ngStyle",Hn(2,$c,n.fgColor)),w(1),C("bag",n.card.cost)}}function eB(t,e){1&t&&L(0,"img",18),2&t&&Tr("src",M(2).card.image,rr)}function tB(t,e){1&t&&L(0,"div",19)}function nB(t,e){if(1&t&&(y(0,"div")(1,"p",20)(2,"span",21),D(3),m(),D(4," |"),y(5,"span",21),D(6),m(),D(7," |"),y(8,"span",21),D(9),m()()()),2&t){const n=M(2);w(2),C("ngStyle",n.getStatStyle(n.card,"atk")),w(1),qe("ATK:",n.creature.attack," "),w(2),C("ngStyle",n.getStatStyle(n.card,"hp")),w(1),qe("HP: ",n.creature.hp," "),w(2),C("ngStyle",n.getStatStyle(n.card,"spd")),w(1),qe(" SPD:",n.creature.speed,"")}}function rB(t,e){if(1&t&&(y(0,"span")(1,"p",20),D(2,"INCOME: "),L(3,"app-gembag",17),m()()),2&t){const n=M(2);w(3),C("bag",n.converter.convertToMine(n.card).incomeBag)}}function iB(t,e){if(1&t&&(y(0,"span")(1,"p",22),D(2),m()()),2&t){const n=M(2);w(2),cc("Turns left: ",n.converter.convertToTech(n.card).researchLevel,"/",n.converter.convertToTech(n.card).researchTime,"")}}function sB(t,e){1&t&&(y(0,"p"),D(1,"Fast - You may play this card at any time"),m())}function oB(t,e){if(1&t&&(y(0,"p"),D(1),m()),2&t){const n=M(3);w(1),qe("Dodge: ",n.creature.dodgeAmount,"")}}function aB(t,e){if(1&t&&(y(0,"p"),D(1),m()),2&t){const n=M(3);w(1),qe("Ensnare: ",n.creature.ensnareAmount,"")}}function lB(t,e){if(1&t&&(y(0,"p"),D(1),m()),2&t){const n=M(3);w(1),qe("Repair: ",n.creature.repairAmount,"")}}function cB(t,e){if(1&t&&(y(0,"div"),N(1,oB,2,1,"p",12),N(2,aB,2,1,"p",12),N(3,lB,2,1,"p",12),m()),2&t){const n=M(2);w(1),C("ngIf",n.creature.dodgeAmount>0),w(1),C("ngIf",n.creature.ensnareAmount>0),w(1),C("ngIf",n.creature.repairAmount>0)}}function uB(t,e){if(1&t&&(y(0,"p"),D(1),m()),2&t){const n=M().$implicit,r=M(2);w(1),mt(r.kTip.getToolTipName(n))}}function dB(t,e){if(1&t&&(y(0,"div"),N(1,uB,2,1,"p",12),m()),2&t){const n=e.$implicit;w(1),C("ngIf",16!==n&&1!==n&&3!==n)}}const hB=function(t,e,n,r){return{playable:t,notPlayable:e,awake:n,asleep:r}},fB=function(){return{backgroundColor:"black"}};function pB(t,e){if(1&t){const n=ue();y(0,"div",1),H("mouseover",function(i){return W(n),q(M().showPopup(i))})("mousemove",function(i){return W(n),q(M().movePopup(i))})("mouseout",function(){return W(n),q(M().hidePopup())}),N(1,XL,2,3,"div",2),y(2,"div",3)(3,"p",4),D(4),m()(),N(5,JL,2,4,"div",5),y(6,"div",6),N(7,eB,1,1,"img",7),N(8,tB,1,0,"ng-template",null,8,Ti),m(),y(10,"div",9)(11,"p",10),D(12),m()(),y(13,"div",11),N(14,nB,10,6,"div",12),N(15,rB,4,1,"span",12),N(16,iB,3,2,"span",12),N(17,sB,2,0,"p",12),y(18,"p",13),D(19),m(),N(20,cB,4,3,"div",12),N(21,dB,2,1,"div",14),m()()}if(2&t){const n=bi(9),r=M();C("@rapidMoveRight",void 0)("@.disabled",!r.animateEnter)("ngClass",xC(20,hB,r.playable&&(0===r.card.zone||6===r.card.zone),!r.playable&&(0===r.card.zone||6===r.card.zone),0===r.card.type&&!0===r.creature.awake,!1===r.creature.awake))("ngStyle",Hn(25,$c,r.bgColor)),w(1),C("ngIf",r.popupVisible&&void 0!==r.card.keywords&&r.card.keywords.length>0),w(1),C("ngStyle",Ai(27,fB)),w(2),qe("",r.card.name," "),w(1),C("ngIf",2===r.card.owner),w(1),C("ngStyle",Hn(28,$c,r.fgColor)),w(1),C("ngIf",""!==r.card.image&&void 0!==r.card.image)("ngIfElse",n),w(5),mt(r.getTypeString(r.card.type)),w(1),C("ngStyle",Hn(30,$c,r.fgColor)),w(1),C("ngIf",0===r.card.type||11===r.card.type),w(1),C("ngIf",2===r.card.type),w(1),C("ngIf",1===r.card.type&&1===r.card.zone),w(1),C("ngIf",r.card.instant),w(2),qe(" ",r.card.text,""),w(1),C("ngIf",0===r.card.type||11===r.card.type),w(1),C("ngForOf",r.card.keywords)}}let dr=(()=>{class t{constructor(n,r){this.fcs=n,this.animationService=r,this.card={},this.playable=void 0,this.cardEmitter=new oe,this.flipped=!0,this.animateEnter=!1,this.bgColor="grey",this.fgColor="#cccccc",this.gradientColor="radialGradient(bgColor, gradientColor)",this.type=x[this.card.type],this.selected=!1,this.converter=new ma,this.kTip=new Gb,this.popupVisible=!1,this.popupX=0,this.popupY=0,this.creature={}}ngOnInit(){(this.card instanceof B||this.card instanceof tn)&&(this.creature=this.converter.convertToCreature(this.card)),void 0!==this.card&&void 0!==this.card.factions&&this.card.factions.length>0&&(this.bgColor=this.fcs.getBgColor(this.card.factions[0]),this.fgColor=this.fcs.getFgColor(this.card.factions[0]),this.gradientColor=`radialGradient(${this.bgColor}, ${this.fgColor})`)}clickCard(){this.cardEmitter.emit(this.card)}getTypeString(n){return x[n]}getStatStyle(n,r){const i=this.converter.convertToCreature(n);let s=0,o=0;switch(r){case"hp":s=i.baseHp,o=i.hp;break;case"atk":s=i.baseAttack,o=i.attack;break;case"spd":s=i.baseSpeed,o=i.speed}return o>s?{color:"rgb(98, 219, 98);"}:o<s?{color:"red"}:{color:"white"}}showPopup(n){this.popupVisible=!0,this.updatePopupPosition(n)}movePopup(n){this.updatePopupPosition(n)}hidePopup(){this.popupVisible=!1}updatePopupPosition(n){this.popupX=n.clientX,this.popupY=n.clientY}static#e=this.\u0275fac=function(r){return new(r||t)(O(nD),O(gn))};static#t=this.\u0275cmp=Ae({type:t,selectors:[["app-card"]],inputs:{card:"card",playable:"playable",flipped:"flipped",animateEnter:"animateEnter"},outputs:{cardEmitter:"cardEmitter"},decls:1,vars:1,consts:[["id","BlackFont","class","cardBorder hoverZoom cardDimensions",3,"ngClass","ngStyle","mouseover","mousemove","mouseout",4,"ngIf"],["id","BlackFont",1,"cardBorder","hoverZoom","cardDimensions",3,"ngClass","ngStyle","mouseover","mousemove","mouseout"],["class","popup toolTip",3,"ngStyle",4,"ngIf"],[1,"mainFont","titleBoxWidth","cardOutline",3,"ngStyle"],[1,"titleText"],["class","mainFont titleBoxWidth cardOutline",3,"ngStyle",4,"ngIf"],["id","PlaceHolder",1,"cardOutline",3,"ngStyle"],["class","centerElement cardImage ",3,"src",4,"ngIf","ngIfElse"],["fake",""],[1,"typeBox","cardOutline"],[1,"typeText"],[1,"textBox","cardOutline","mainFont","cardText",3,"ngStyle"],[4,"ngIf"],[1,"mainFont"],[4,"ngFor","ngForOf"],[1,"popup","toolTip",3,"ngStyle"],[3,"title","text"],[3,"bag"],[1,"centerElement","cardImage",3,"src"],[1,"centerElement","cardImage"],[1,"statDisplay"],[3,"ngStyle"],[1,"whiteFont","statDisplay"]],template:function(r,i){1&r&&N(0,pB,22,32,"div",0),2&r&&C("ngIf",void 0!==i.card)},dependencies:[Hs,$t,it,$s,va,rD],styles:['.cardOutline[_ngcontent-%COMP%]{border:solid 1px black;border-radius:5%;margin:1px}#PlaceHolder[_ngcontent-%COMP%]{min-height:40px}.titleText[_ngcontent-%COMP%]{font-family:Tahoma,sans-serif;font-weight:700;font-size:60%;text-align:center;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.titleBoxWidth[_ngcontent-%COMP%]{width:93%;margin-left:auto;margin-right:auto}.flexBox[_ngcontent-%COMP%]{display:flex}.flexSpace[_ngcontent-%COMP%]{justify-content:space-between}.foregroundColor[_ngcontent-%COMP%]{opacity:.9}.typeText[_ngcontent-%COMP%]{color:#fff;text-align:center}.typeBox[_ngcontent-%COMP%]{height:17px;margin-top:2px;margin-bottom:2px;font-size:13px;font-family:Arial,Helvetica,sans-serif;background:rgba(30,30,30,.5);opacity:1}.typeBoxBg[_ngcontent-%COMP%]{background-color:"#373737"}.textBox[_ngcontent-%COMP%]{min-height:4rem;text-align:center;font-family:Arial,Helvetica,sans-serif}.cardText[_ngcontent-%COMP%]{font-size:45%}.statDisplay[_ngcontent-%COMP%]{border-bottom:ridge 2px #737373;margin-bottom:2px;background-color:#000;color:#fff}.playable[_ngcontent-%COMP%]{border-radius:5%;box-shadow:0 0 25px #f7f7f7e6}.notPlayable[_ngcontent-%COMP%]{border:1px solid red;border-radius:5%}.playable[_ngcontent-%COMP%], .notPlayable[_ngcontent-%COMP%]{margin:-2px}.hoverZoom[_ngcontent-%COMP%]:hover{z-index:9999;transform:scale(1.2);transition:transform .3s ease-in-out;animation-delay:1ms;position:relative}.hoverZoom[_ngcontent-%COMP%]{transform:scale(1);margin-bottom:0;transition:transform .4s ease-in-out;animation-delay:2ms;cursor:pointer}#BlackFont[_ngcontent-%COMP%]{color:#000}.toolTip[_ngcontent-%COMP%]{position:absolute;z-index:1000}.blackBg[_ngcontent-%COMP%]{background-color:#000}'],data:{animation:[gn.rapidMoveRight,gn.zoomIn]}})}return t})();function gB(t,e){1&t&&L(0,"app-card",2),2&t&&C("card",e.$implicit)}let iD=(()=>{class t{constructor(){this.deck=[],this.display=!1}sortDeck(){return this.deck.sort((r,i)=>r.name.localeCompare(i.name))}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ae({type:t,selectors:[["app-deck-viewer"]],inputs:{deck:"deck",display:"display"},decls:2,vars:1,consts:[[1,"cardRow","scrollBar"],["class","card",3,"card",4,"ngFor","ngForOf"],[1,"card",3,"card"]],template:function(r,i){1&r&&(y(0,"div",0),N(1,gB,1,1,"app-card",1),m()),2&r&&(w(1),C("ngForOf",i.sortDeck()))},dependencies:[$t,dr],styles:[".cardRow[_ngcontent-%COMP%]{flex-wrap:wrap}.card[_ngcontent-%COMP%]{margin:10px 5px;flex:0 0 10%;border-radius:5%;width:94%}.scrollBar[_ngcontent-%COMP%]{min-height:500px;max-width:90%;overflow-y:scroll}"]})}return t})();function mB(t,e){if(1&t){const n=ue();y(0,"button",4),H("click",function(){return W(n),q(M().nextStep())}),D(1," Next Slide"),m()}}function yB(t,e){if(1&t){const n=ue();y(0,"button",4),H("click",function(){return W(n),q(M().prevStep())}),D(1,"Previous Slide"),m()}}function vB(t,e){1&t&&(y(0,"div")(1,"h3"),D(2,"Super Gembag Wars"),m(),L(3,"br"),y(4,"p"),D(5,"This is a game about surviving a horde of enemies knocking at your wall. Your goal is to destroy the enemy deck while keeping your life above 0. "),m(),L(6,"br"),y(7,"p"),D(8,"To protect your life, you have a wall that will absorb attacks until it reach 0. Each square of wall represents 5 wall hp rounded up. "),m(),L(9,"br"),y(10,"p"),D(11,"When you attack the hoard, for each 1 damage you deal, the hoard discards a card from their deck."),m(),L(12,"img",5),m())}function _B(t,e){if(1&t&&(y(0,"div")(1,"h3"),D(2,"Understanding a Card"),m(),L(3,"app-card",6),y(4,"p"),D(5,"Every non-mine card has a cost consisting of Gems and gold."),m(),y(6,"p"),D(7,"You gain resources by playing mines"),m(),y(8,"p"),D(9,"This card costs 1 ruby and 1 gold"),m(),L(10,"app-card",6),y(11,"p"),D(12,"This is a basic mine. It will give you one gem right away and 1 gem at the start of each of your turns"),m(),y(13,"p"),D(14,"Basic mines are free to play, BUT you may only play one mine per turn"),m(),y(15,"p"),D(16,"You start the game with 4 gold and 1 basic gold mine"),m(),L(17,"img",7),y(18,"h3"),D(19,"Controls"),m(),y(20,"p"),D(21,"To play a card from your hand, double click on it. If a card is currently playable (it is the right time and you can afford it), then it will be highlighted in green. "),m(),y(22,"p"),D(23,"If a card is not playable, it will be highlighted in red."),m()()),2&t){const n=M();w(3),C("card",n.spell),w(7),C("card",n.mine)}}function wB(t,e){if(1&t&&(y(0,"div")(1,"p"),D(2,"Factions"),m(),L(3,"app-gembag",8),y(4,"p"),D(5,"In this game there are 5 factions each with their own gem. The 6th resource, gold, is used by all factions "),m(),y(6,"p"),D(7,"These icons are used to represent costs, current resources and income for the player"),m(),y(8,"p"),D(9,"For now, all cards will have a single faction."),m(),y(10,"p"),D(11,"Here's a little bit about the strengths and weaknesses of each faction:"),m(),L(12,"br")(13,"img",9),y(14,"p"),D(15,"Sun "),m(),y(16,"p"),D(17,"Strengths: Good attack and speed on creatures. Lots of damage."),m(),y(18,"p"),D(19,"Weaknesses: low HP creatures, good at destroying other's walls, bad at maintaining theirs"),m(),L(20,"br")(21,"img",10),y(22,"p"),D(23,"Ocean"),m(),y(24,"p"),D(25,"Strengths: Good healing and card draw, high HP creatures"),m(),y(26,"p"),D(27,"Weaknesses: Poor offensive creatures, lack of removal"),m(),L(28,"br")(29,"img",11),y(30,"p"),D(31,"Sky"),m(),y(32,"p"),D(33,"Strengths: Lots of flying, speedy, and dodging, good card draw"),m(),y(34,"p"),D(35,"Weaknesses: Low Hp creatures, low attack/hp creatures"),m(),L(36,"br")(37,"img",12),y(38,"p"),D(39,"Earth"),m(),y(40,"p"),D(41,"Strengths: High HP and Attack Creatures, good at getting gems"),m(),y(42,"p"),D(43,"Weaknesses: Low speed Creatures, no card draw"),m(),L(44,"br")(45,"img",13),y(46,"p"),D(47,"Moon and Stars"),m(),y(48,"p"),D(49,"Strengths: Kill enemy creatures, revive your own. Speedy creatures, Healing -however, not as good as Ocean "),m(),y(50,"p"),D(51,"Weaknesses: Creatures that start with low stats and buff up over time, no card draw "),m()()),2&t){const n=M();w(3),C("bag",n.gembag)("imgWidth",48)}}function CB(t,e){if(1&t&&(y(0,"div")(1,"p"),D(2,"Creature Stats"),m(),L(3,"app-card",6),y(4,"p"),D(5,"Each Creature has 3 stats:"),m(),L(6,"img",14),y(7,"p"),D(8," Attack - this determines how much damage the creature deals"),m(),L(9,"br")(10,"img",15),y(11,"p"),D(12,"HP - this determines how much damage a creature can take before dying"),m(),L(13,"br")(14,"img",16),y(15,"p"),D(16,"Speed - when fighting another creature this determines who goes first. In case of a tie, creaute deal damage simultaneously"),m(),L(17,"br"),y(18,"p"),D(19,"Any changes to stats are permanent, whether through spells or combat. Certain abilities can heal creatures, however."),m()()),2&t){const n=M();w(3),C("card",n.creature)}}function SB(t,e){if(1&t&&(y(0,"div")(1,"h2"),D(2,"Card Types"),m(),y(3,"div",17),L(4,"app-card",6)(5,"app-card",6)(6,"app-card",6),m(),y(7,"p"),D(8,"In this demo there are 3 card types: "),m(),y(9,"ul")(10,"li"),D(11,"Creatures - attacks, blocks, and has various abilities"),m(),y(12,"li"),D(13,"Spells - does a one use effect"),m(),y(14,"li"),D(15,"Mines - produces resources"),m()(),y(16,"p"),D(17,"More types are planned as the game is built out!"),m()()),2&t){const n=M();w(4),C("card",n.creature),w(1),C("card",n.spell),w(1),C("card",n.mine)}}function bB(t,e){1&t&&(y(0,"div")(1,"h2"),D(2,"Horde Phases"),m(),y(3,"p"),D(4,"Each Turn consists of several phases."),m(),y(5,"p"),D(6,"These phases different between the horde and the player. The horde's turns are automatic. Let's look at the horde first:"),m(),L(7,"br"),y(8,"p"),D(9,"Main - the horde draws and plays cards. The horde deck has 2 types of cards: Regular ones and minions"),m(),L(10,"img",18),y(11,"p"),D(12,"When drawing, the horde draws and plays minion cards until it draws and plays a regular card"),m(),L(13,"br"),y(14,"p"),D(15,"Combat - The horde will attack with all of its creatures. All horde creatures may attack right away. Attacking is signifier in 2 ways the card is rotated 90 degrees and the red sword appears over the card. "),m(),L(16,"img",19),y(17,"p"),D(18,"If the player chooses to block an attacker, the blocking creature will have a shield appear over them."),m(),L(19,"img",20),y(20,"p"),D(21,"The player may block horde creatures to prevent damage to themselves."),m(),y(22,"p"),D(23,"Blockers - the player may decide to block the horde's creatures. A blocked creature will not damage a player's wall or HP"),m(),L(24,"br"),y(25,"p"),D(26,"Combat Results - displays how much damage creatures have taken. If a creature becomes faded, it has taken enough damage to die."),m(),L(27,"img",21)(28,"br"),y(29,"p"),D(30,"End - any until end of turn effects wear off here. Some cards will activate here as well."),m(),y(31,"p"),D(32,"Should the horde play a card that requires any kind of decision making, it will choose targets randomly. "),m()())}function DB(t,e){1&t&&(y(0,"div")(1,"h2"),D(2,"Player Phases"),m(),y(3,"p"),D(4,"Now let's get into the player's phases:"),m(),y(5,"p"),D(6,"Main 1 - At the start of this phase you gain your income from your mines and all of your creatures turn upright, ready to attack again. You may play any cards you can afford during this phase. Anything you can play will be highlighted with a green border. Anything you cannot play will be highlighted in red."),m(),L(7,"br"),y(8,"p"),D(9,"Combat - This is more straight forward than the the horde. Pick what creatures you want to attack and they will damage the enemy's wall, and then once that's destroyed, their deck. However, any rotated creature may NOT block, so measure the risk/reward carefully. "),m(),L(10,"br"),y(11,"p"),D(12,"Main 2 - This occurs only when you attacked. No income, but you may play cards following the same rules as the previous main phase. When you are done with this phase, it swaps to the enemy's turn"),m()())}let sD=(()=>{class t{constructor(){this.step=0,this.cardService={},this.gembag=new k(1,1,1,1,1,1),this.tutorialDone=new oe,this.cardFa=new ti(this.cardService),this.dmgEffect=new zs(4,this.cardService,j.Single,p.Opponent,!1,!0),this.targeted=new nn([x.Creature,x.Player],p.Opponent,[v.play],1,[this.dmgEffect],this.cardService),this.spell=new Ye("Fire Blast",new k(1,1),"","Deal 4 damage to any opponent or opponent's creature",[this.targeted],!0,p.Self,v.any,[S.Sun]),this.mine=this.cardFa.generateBasicMine(T.LionEye),this.creature=new B(2,2,2,"Goblin",new k(1,1),"","",!1,p.Self,v.any,[S.Sun])}nextStep(){this.step++}prevStep(){this.step--,this.step<0&&(this.step=0)}done(){this.tutorialDone.emit()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ae({type:t,selectors:[["app-tutorial"]],inputs:{cardService:"cardService"},outputs:{tutorialDone:"tutorialDone"},decls:14,vars:9,consts:[[1,"mapColors","centerElement","mainMargins","tutorialHeight","blackFont"],[2,"float","right","margin","15px",3,"click"],[3,"click",4,"ngIf"],[4,"ngIf"],[3,"click"],["src","assets/LifeTotals.png"],[3,"card"],["src","assets/Income.png"],[3,"bag","imgWidth"],["width","64px","src","assets/Ruby.png"],["width","64px","src","assets/Saphire.png"],["width","64px","src","assets/topaz.png"],["width","64px","src","assets/Emerald.png"],["width","64px","src","assets/eye.png"],["height","64px","src","assets/attackSymbol.png"],["height","64px","src","assets/HP Symbol.png"],["height","64px","src","assets/Speed Symbol.png"],[1,"cardRow"],["src","assets/Minions.png"],["src","assets/Attacking.png"],["src","assets/Blocking.png"],["src","assets/Result.png"]],template:function(r,i){1&r&&(y(0,"div",0)(1,"button",1),H("click",function(){return i.done()}),D(2,"X"),m(),y(3,"h2"),D(4,"Glossary"),m(),N(5,mB,2,0,"button",2),N(6,yB,2,0,"button",2),N(7,vB,13,0,"div",3),N(8,_B,24,2,"div",3),N(9,wB,52,2,"div",3),N(10,CB,20,1,"div",3),N(11,SB,18,3,"div",3),N(12,bB,33,0,"div",3),N(13,DB,13,0,"div",3),m()),2&r&&(w(5),C("ngIf",i.step<6),w(1),C("ngIf",i.step>0),w(1),C("ngIf",0===i.step),w(1),C("ngIf",1===i.step),w(1),C("ngIf",2===i.step),w(1),C("ngIf",3===i.step),w(1),C("ngIf",4===i.step),w(1),C("ngIf",5===i.step),w(1),C("ngIf",6===i.step))},dependencies:[it,dr,va],styles:[".centerText[_ngcontent-%COMP%]{text-align:center}.alignCard[_ngcontent-%COMP%]{margin-left:50%}.windowDimensions[_ngcontent-%COMP%]{width:80%;height:90%;padding:10px}p[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], .margin[_ngcontent-%COMP%]{margin-left:15px}"]})}return t})();const EB=function(t,e){return{"top.px":t,"left.px":e}};function MB(t,e){if(1&t&&(y(0,"div",2)(1,"p",3),D(2),m(),y(3,"p"),D(4),m()()),2&t){const n=M();C("ngStyle",sa(3,EB,n.popupY,n.popupX)),w(2),mt(n.relic.name),w(2),mt(n.relic.description)}}let oD=(()=>{class t{constructor(){this.relic={},this.prefix="assets",this.popupVisible=!1,this.popupX=100,this.popupY=100}getImageSrc(){return"assets/"+this.relic.image}showPopup(n){this.popupVisible=!0,this.updatePopupPosition(n)}movePopup(n){this.updatePopupPosition(n)}hidePopup(){this.popupVisible=!1}updatePopupPosition(n){this.popupX=n.clientX+10,this.popupY=n.clientY+10}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ae({type:t,selectors:[["app-relic"]],inputs:{relic:"relic"},decls:2,vars:2,consts:[["width","64px","height","64px","alt","Your Image",1,"relic",3,"src","mouseover","mousemove","mouseout"],["class","popUp","class","popup",3,"ngStyle",4,"ngIf"],[1,"popup",3,"ngStyle"],[1,"relicHeader"]],template:function(r,i){1&r&&(y(0,"img",0),H("mouseover",function(o){return i.showPopup(o)})("mousemove",function(o){return i.movePopup(o)})("mouseout",function(){return i.hidePopup()}),m(),N(1,MB,5,6,"div",1)),2&r&&(Tr("src",i.getImageSrc(),rr),w(1),C("ngIf",i.popupVisible))},dependencies:[it,$s],styles:[".relicHeader[_ngcontent-%COMP%]{color:#f3e712}"]})}return t})();function AB(t,e){1&t&&L(0,"app-relic",8),2&t&&C("relic",M().$implicit)}function TB(t,e){if(1&t&&(y(0,"div"),N(1,AB,1,1,"app-relic",7),m()),2&t){const n=e.$implicit;w(1),C("ngIf",void 0!==n)}}function IB(t,e){if(1&t&&(y(0,"div")(1,"p",9),D(2),m()()),2&t){const n=M();w(2),mt(n.cardService.difficultyMods)}}function kB(t,e){if(1&t){const n=ue();y(0,"div",10)(1,"button",11),H("click",function(){return W(n),q(M().toggleShowDeck())}),D(2,"X"),m(),L(3,"app-deck-viewer",12),m()}if(2&t){const n=M();w(3),C("deck",n.deck)}}function PB(t,e){if(1&t){const n=ue();y(0,"div",10)(1,"button",11),H("click",function(){return W(n),q(M().toggleDisplayHelp())}),D(2,"X"),m(),L(3,"app-tutorial"),m()}}let NB=(()=>{class t{constructor(){this.showDeck=!1,this.displayHelp=!1,this.deck=[],this.relics=[],this.cardService={}}toggleShowDeck(){this.showDeck=!this.showDeck,this.displayHelp=!1}toggleDisplayHelp(){this.displayHelp=!this.displayHelp,this.showDeck=!1}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ae({type:t,selectors:[["app-header"]],inputs:{deck:"deck",relics:"relics",cardService:"cardService"},decls:13,vars:4,consts:[[1,"wrapper"],["id","MenuButtons"],[3,"click"],["id","Header"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","paneBg whiteFont popUp scrollBar",4,"ngIf"],[3,"relic",4,"ngIf"],[3,"relic"],[1,"whiteFont"],[1,"paneBg","whiteFont","popUp","scrollBar"],[1,"xButton",3,"click"],[1,"popUp",3,"deck"]],template:function(r,i){1&r&&(y(0,"div",0)(1,"div",1)(2,"button",2),H("click",function(){return i.toggleShowDeck()}),y(3,"p"),D(4,"Show your Deck"),m()(),y(5,"button",2),H("click",function(){return i.toggleDisplayHelp()}),y(6,"p"),D(7,"Glossary"),m()()(),y(8,"div",3),N(9,TB,2,1,"div",4),m(),N(10,IB,3,1,"div",5),N(11,kB,4,1,"div",6),N(12,PB,4,0,"div",6),m()),2&r&&(w(9),C("ngForOf",i.relics),w(1),C("ngIf",""!==i.cardService.difficultyMods),w(1),C("ngIf",i.showDeck),w(1),C("ngIf",i.displayHelp))},dependencies:[$t,it,iD,sD,oD],styles:["#HowToPlay[_ngcontent-%COMP%]{position:fixed;left:auto;right:auto;width:80%;top:50px}.popUp[_ngcontent-%COMP%]{position:absolute;top:50px;z-index:999;scroll-behavior:auto;left:12%;right:12%;height:90%;width:80%}h3[_ngcontent-%COMP%]{margin-top:15px;font-size:30px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.scrollBar[_ngcontent-%COMP%]{overflow-y:auto}.xButton[_ngcontent-%COMP%]{position:absolute;z-index:1000;top:5px;right:5px}#Header[_ngcontent-%COMP%]{display:flex;min-height:64px}#MenuButtons[_ngcontent-%COMP%]{float:right}.wrapper[_ngcontent-%COMP%]{background-color:#0c0303;box-shadow:0 4px 2px -2px #7e7d7d}"]})}return t})();class aD{constructor(e){this.cardService=e,this.deckStorage=new ni(e,this.cardService.playerService)}getHeroes(){let e=[],n=new ke(1,1,1,this.cardService,p.Self,j.All),r=new et([n],this.cardService),i=new tn(2,2,2,"Ser Grimith the bland",new k(2),"","All your creatures get +1/+1/+1",p.Self,v.hero,[S.Colorless],!1,[r],[E.Repair],pe.Common);i.repairAmount=2,e.push(i);let s=new ke(0,2,2,this.cardService,p.Self,j.All),o=new et([s],this.cardService),a=new tn(5,3,5,"Solara the Radiant",new k(2,2,0,2),"Sun, Earth","All your creatures get +2/+2/+0",p.Self,v.hero,[S.Sun,S.Earth],!1,[o],[],pe.Rare);e.push(a);let l=new ke(1,1,1,this.cardService,p.Self,j.All),u=(new Pe([l],[z.DrawCard],this.cardService,p.Self,[v.play]),new ke(-1,-1,-1,this.cardService,p.Opponent,j.All));u.repeatable=!0;let d=new Mt(Ie.Gems,1,T.Sapphire),h=new Mt(Ie.Gems,1,T.LionEye),f=new yt(this.cardService,[d,h],[u],{}),g=new tn(4,3,4,"Lunara the Tidal",new k(2,0,1,0,1),"","Pay 1 Sapphire and 1 Lion's Eye Diamond: All enemy creatures get -1/-1/-1",p.Self,v.hero,[S.Neptune,S.MoonAndStars],!1,[f],[],pe.SuperRare);e.push(g),f.user=g;let _=new Mt(Ie.Gems,2,T.Gold),A=new kn(this.cardService,j.Single,p.Self),I=new yt(this.cardService,[_],[A],{}),b=new tn(3,2,2,"King Aves",new k(1,0,1,0,0,1),"","Pay 2 Gold: Draw a card",p.Self,v.hero,[S.Sky,S.Neptune],!1,[I],[E.Flying],pe.SuperRare);e.push(b);let F=new ke(0,3,0,this.cardService,p.Self,j.All),V=new Ri(this.cardService,j.All,[v.play],p.Self,[E.Repair]),Y=new et([F,V],this.cardService),fe=new tn(5,6,4,"Terra the Grounded",new k(2,0,0,3),"","All your creatures get +3 HP and gain Repair 1",p.Self,v.hero,[S.Earth],!1,[Y],[],pe.Rare);i.repairAmount=2,e.push(fe),new ke(0,0,0,this.cardService,p.Self,j.All),new Mt(Ie.Gems,5,T.Sapphire),new Mt(Ie.Gems,5,T.Emerald);let pt=new tn(1,1,1,"Buck Bumble",new k(0,0,0,2,0,2),"Sky, Earth","",p.Self,v.hero,[S.Sky,S.Earth],!1,[],[E.Flying,E.Armorer,E.Sharpen,E.Momentum,E.Ensnare,E.Sentry],pe.Rare);pt.ensnareAmount=3,e.push(pt);let vn=this.deckStorage.getCardByName("fire bolt",p.Self),rn=this.deckStorage.getCardByName("freeze",p.Self),zt=this.deckStorage.getCardByName("divine eyes",p.Self),di=new xL(this.cardService,[vn,rn,zt],p.Self,v.hand),hi=new Pe([di],[z.Start],this.cardService,p.Self,[v.play]),U=new tn(5,4,8,"Mystic with No Name",new k(1,1,1,0,1),"Moon, Fire, Water","At the start of your turn, add a random spell to your hand",p.Self,v.hero,[S.MoonAndStars,S.Sun,S.Neptune],!1,[hi],[],pe.Rare);return e.push(U),e}getHeroDecks(e){return[]}getHeroByIndex(e){return this.getHeroes()[e]}getHeroByName(e){return this.getHeroes().find(n=>n.name===e)}}class RB{constructor(e,n){this.hero=e,this.deck=n}}function xB(t,e){if(1&t&&L(0,"img",8),2&t){const n=e.$implicit;Tr("src",M(2).gemBag.getImageByFaction(n),rr)}}function OB(t,e){if(1&t){const n=ue();y(0,"button",6),H("click",function(){const s=W(n).$implicit;return q(M().swapHeroView(s))}),N(1,xB,1,1,"img",7),y(2,"p"),D(3),m()()}if(2&t){const n=e.$implicit;w(1),C("ngForOf",n.hero.factions),w(2),mt(n.hero.name)}}function FB(t,e){1&t&&L(0,"app-card",9),2&t&&C("card",M().selectedHero)}let lD=(()=>{class t{constructor(){this.cardService={},this.player={},this.enemy={},this.decks={},this.heroStorage={},this.selectedDeck=[],this.selectedHero={},this.heroDecks=[],this.selectDeckEvent=new oe,this.showEarth=!1,this.showFire=!1,this.showAir=!1,this.showMoon=!1,this.showWater=!1,this.blurb="",this.gemBag=new k}ngOnInit(){this.heroStorage=new aD(this.cardService),this.decks=new ni(this.cardService,this.cardService.playerService);let n=this.heroStorage.getHeroes();for(let r=0;r<n.length;r++){let i=n[r],s=this.decks.getHeroDeck(i),o=new RB(i,s);this.heroDecks.push(o)}}swapHeroView(n){this.blurb=this.getBlurb(n.hero.factions)+" ",this.selectedDeck=n.deck,console.log(n.hero),this.selectedHero=n.hero,this.cardService.selectedFactions=n.hero.factions,console.log("remember to remove this once the hero images are added"),n.hero.image="",this.cardService.hero=n.hero}getBlurb(n){let r="";for(let i=0;i<n.length;i++)switch(n[i]){case S.Sky:r+="Air is the faction of wisdom, flexibility, and flight. Air values freedom.";break;case S.Neptune:r+="Water is the faction of logic, knowledge, and change. Water values truth.";break;case S.Sun:r+="Fire is the faction of offense, impulse, and emotion. Fire values passion.";break;case S.MoonAndStars:r+="Moon and Stars is the faction of life, death, and the cosmos. They value mystery and paradox.";break;case S.Earth:r+="Earth is the faction of loyalty, hardiness, and mining. Earth values order.";break;default:r+="Colorless is neutral and mercenary. They pretty much only care about gold."}return r}swapView(n){switch(this.showAir=!1,this.showEarth=!1,this.showFire=!1,this.showWater=!1,this.showMoon=!1,n){case"air":this.showAir=!0,this.cardService.selectedFactions=[S.Sky],this.selectedDeck=this.decks.airDeck(p.Self),this.blurb="Air is the faction of wisdom, flexibility, and flight. Air values freedom.";break;case"water":this.showWater=!0,this.cardService.selectedFactions=[S.Neptune],this.selectedDeck=this.decks.waterDeck(p.Self),this.blurb="Water is the faction of logic, knowledge, and change. Water values truth.";break;case"fire":this.showFire=!0,this.cardService.selectedFactions=[S.Sun],this.selectedDeck=this.decks.fireDeck(p.Self),this.blurb="Fire is the faction of offense, impulse, and emotion. Fire values passion.";break;case"moon":this.showMoon=!0,this.cardService.selectedFactions=[S.MoonAndStars],this.selectedDeck=this.decks.starDeck(p.Self),this.blurb="Moon and Stars is the faction of life, death, and the cosmos. They value mystery and paradox.";break;case"earth":this.showEarth=!0,this.cardService.selectedFactions=[S.Earth],this.selectedDeck=this.decks.earthDeck(p.Self),this.blurb="Earth is the faction of loyalty, hardiness, and mining. Earth values order."}this.selectedDeck.push(...this.decks.getRandomNeutralCards(p.Self))}showDeck(){return this.showFire||this.showAir||this.showEarth||this.showMoon||this.showWater}deckChoosen(){this.selectDeckEvent.emit(this.selectedDeck)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ae({type:t,selectors:[["app-deck-picker"]],inputs:{cardService:"cardService",player:"player",enemy:"enemy"},outputs:{selectDeckEvent:"selectDeckEvent"},decls:11,vars:4,consts:[[1,"centerText"],[1,"iconRow","centerElement"],[3,"click",4,"ngFor","ngForOf"],[1,"centerElement",3,"click"],["class","centerElement","id","HeroDisplay",3,"card",4,"ngIf"],[3,"deck"],[3,"click"],["class","iconDimensions",3,"src",4,"ngFor","ngForOf"],[1,"iconDimensions",3,"src"],["id","HeroDisplay",1,"centerElement",3,"card"]],template:function(r,i){1&r&&(y(0,"h2",0),D(1,"Select which deck you want to play"),m(),y(2,"div",1),N(3,OB,4,2,"button",2),m(),y(4,"div")(5,"button",3),H("click",function(){return i.deckChoosen()}),D(6,"Select this deck"),m(),N(7,FB,1,1,"app-card",4),m(),y(8,"p",0),D(9),m(),L(10,"app-deck-viewer",5)),2&r&&(w(3),C("ngForOf",i.heroDecks),w(4),C("ngIf",i.selectedHero),w(2),mt(i.blurb),w(1),C("deck",i.selectedDeck))},dependencies:[$t,it,dr,iD],styles:[".popUp[_ngcontent-%COMP%]{position:fixed;top:50px;z-index:999999;scroll-behavior:auto;left:7%;right:15%}button[_ngcontent-%COMP%]{margin-bottom:10px}.iconDimensions[_ngcontent-%COMP%]{width:2rem}.iconRow[_ngcontent-%COMP%]{display:flex;justify-content:center}#HeroDisplay[_ngcontent-%COMP%]{width:150px;font-size:medium}"]})}return t})();class _p{constructor(e){this.enemyDeck=[],this.difficulty=0,this.description="",this.cardService=e}applyDifficultyNormalBoosters(e,n){for(let r=0;r<e;r++){let i=Ue(2,6);switch(this.moreMinions(5*i,n),i){case 2:this.moreSpeed(1),this.description+="All enemy creatures get +1 speed. ";break;case 3:this.moreAttack(1),this.description+="All enemy creatures get +1 attack. ";break;case 4:this.moreHp(1),this.description+="All enemy creatures get +1 HP. ";break;case 5:this.moreMinions(2*this.difficulty,n),this.description+="The enemy deck has more minions. ";break;case 6:this.addBoss(this.difficulty,n),this.description+="The enemy deck has several elite creatures. "}}this.cardService.difficultyMods=this.description}applyDifficultyBossBoosters(e,n){for(let r=0;r<e;r++)switch(Ue(1,7)){case 1:this.extraPull(),this.description+="Every turn, the enemy flips over cards a second time. ";break;case 2:this.moreSpeed(2),this.description+="All enemy creatures get +2 speed. ";break;case 3:this.moreAttack(2),this.description+="All enemy creatures get +2 attack. ";break;case 4:this.moreHp(2),this.description+="All enemy creatures get +2 HP. ";break;case 5:this.moreMinions(5,n),this.description+="The enemy deck has 10 more minions. ";break;case 6:this.addBoss(4,n),this.description+="The enemy deck has 4 extra elite creatures. ";break;case 7:this.addRandomKeyword(),this.description+="Enemy creatures all have a random extra keyword. "}this.cardService.difficultyMods=this.description}extraPull(){this.cardService.playerService.opponent.pullsPerTurn++}moreSpeed(e){let n=this.cardService.getCards(v.any,p.Opponent,x.Creature);for(let r=0;r<n.length;r++)n[r].speed+=e}moreAttack(e){let n=this.cardService.getCards(v.any,p.Opponent,x.Creature);for(let r=0;r<n.length;r++)n[r].attack+=e}moreHp(e){let n=this.cardService.getCards(v.any,p.Opponent,x.Creature);for(let r=0;r<n.length;r++){let i=n[r];i.baseHp+=e,i.hp=i.baseHp}}addBoss(e,n){let r=new ti(this.cardService);for(let i=0;i<e;i++){let s=Ue(5,8),o=r.generateAiMinion(n,s,v.deck);o.isMinion=!1,o.name="Elite",o.owner=p.Opponent,this.cardService.cardList.push(o)}}moreMinions(e,n){let r=new ti(this.cardService);for(let i=0;i<e;i++){let s=Ue(1,5+this.difficulty),o=r.generateAiBasicMinion(n,s,v.deck);o.owner=p.Opponent,this.cardService.cardList.push(o),s=Ue(1,5)+this.difficulty;let a=r.generateAiMinion(n,s,v.deck);a.owner=p.Opponent,this.cardService.cardList.push(a)}}addRandomKeyword(){let e=this.cardService.getCards(v.any,p.Opponent,x.Creature);for(let n=0;n<e.length;n++){let r=Ue(0,15),i=e[n];i.keywords.includes(r)||i.keywords.push(r)}}}var De=function(t){return t[t.Random=0]="Random",t[t.Event=1]="Event",t[t.Battle=2]="Battle",t[t.Relic=3]="Relic",t[t.Pack=4]="Pack",t[t.Boss=5]="Boss",t}(De||{});class BB{constructor(e,n){this.nodes=[],this.columnPos=e,this.nodes=n}}class Pt{constructor(e,n,r,i,s){this.nextNodes=[],this.rewards=[],this.image="",this.description="",this.nodeType=e,this.difficulty=n,this.nodePos=i,void 0!==s&&(this.rewards=s),this.image=this.getImage(),this.cardService=r,this.decks=new ni(this.cardService,this.cardService.playerService),this.setDescription()}setDescription(){switch(this.nodeType){case De.Random:this.description="Random - Anything can happen";break;case De.Battle:this.description="Battle - Fight a horde, get a reward";break;case De.Relic:this.description="Relic Chest - Gain a permanent passive buff";break;case De.Boss:this.description="Boss Battle - A harder fight, bosses gain randomized boosts";break;case De.Event:this.description="Event - Anything can happen";break;case De.Pack:this.description="Pack - Choose 1 of 6 cards"}}getImage(){let e="assets/";switch(this.nodeType){case De.Random||De.Event:return e+"random.png";case De.Battle:return e+"battle.png";case De.Relic:return e+"chest.png";case De.Boss:return e+"boss.png";case De.Pack:return e+"pack.png";default:return""}}makeEnemyDeck(){let e=this.cardService.difficulty,n=Math.floor(6*Math.random());this.decks.cardAmount=2;let r=this.decks.getEnemyDeck(e,1,n);this.decks.cardAmount=4;let i=new _p(this.cardService);this.cardService.cardList.push(...r),i.applyDifficultyNormalBoosters(this.difficulty,n)}makeBossDeck(){let e=this.cardService.difficulty,n=new _p(this.cardService),r=Math.floor(6*Math.random()),i=this.decks.getEnemyDeck(e,1,r);this.cardService.cardList.push(...i),n.applyDifficultyBossBoosters(3,r)}Visit(e){switch(this.nodeType){case De.Random:break;case De.Battle:this.makeEnemyDeck();break;case De.Relic:break;case De.Boss:this.makeBossDeck()}}}function VB(t,e){if(1&t&&(y(0,"div",15),D(1),m()),2&t){const n=M().$implicit;w(1),qe(" ",n.description," ")}}const jB=function(t,e){return{nodeImage:t,prevNode:e}};function HB(t,e){if(1&t){const n=ue();y(0,"div",12),H("click",function(){const s=W(n).$implicit,o=M().$implicit,a=M(2);return q(o.columnPos===a.cardService.currentPos?a.selectNode(s):null)})("mouseenter",function(){const s=W(n).$implicit;return q(M(3).showDescription=s.description)})("mouseleave",function(){return W(n),q(M(3).showDescription="")}),L(1,"img",13),N(2,VB,2,1,"div",14),m()}if(2&t){const n=e.$implicit,r=M().$implicit,i=M(2);C("ngClass",sa(3,jB,r.columnPos===i.cardService.currentPos,r.columnPos<i.cardService.currentPos)),w(1),C("src",n.image,rr),w(1),C("ngIf",i.showDescription===n.description)}}function $B(t,e){if(1&t&&(y(0,"div"),N(1,HB,3,6,"div",11),m()),2&t){const n=e.$implicit;w(1),C("ngForOf",n.nodes)}}function UB(t,e){if(1&t&&(y(0,"div",9),N(1,$B,2,1,"div",10),m()),2&t){const n=M();w(1),C("ngForOf",n.displayNodes)}}function zB(t,e){1&t&&(y(0,"div",16)(1,"h2",6),D(2,"You Win the game! Thanks for playing!"),m()())}let GB=(()=>{class t{constructor(){this.player={},this.cardService={},this.enemyDeckEvent=new oe,this.packSelectEvent=new oe,this.relicSelectEvent=new oe,this.enemyDeck=[],this.currentPos=0,this.nodes=[],this.displayNodes=[],this.showDescription=""}ngOnInit(){this.player.cardService=this.cardService,this.nodes=[new Pt(De.Relic,1,this.cardService,0),new Pt(De.Pack,1,this.cardService,0),new Pt(De.Battle,1,this.cardService,1),new Pt(De.Pack,1,this.cardService,2),new Pt(De.Battle,1,this.cardService,3),new Pt(Ue(2,4),1,this.cardService,4),new Pt(Ue(2,4),1,this.cardService,4),new Pt(Ue(2,4),1,this.cardService,5),new Pt(Ue(2,4),1,this.cardService,5),new Pt(Ue(2,4),1,this.cardService,6),new Pt(Ue(2,4),1,this.cardService,6),new Pt(Ue(2,4),1,this.cardService,6),new Pt(De.Battle,1,this.cardService,7),new Pt(De.Relic,1,this.cardService,8),new Pt(Ue(1,5),1,this.cardService,9),new Pt(De.Boss,1,this.cardService,10)],this.getDisplayNodes()}getDisplayNodes(){let n=Math.max(...this.nodes.map(r=>r.nodePos),0);for(let r=0;r<=n;r++){let i=this.nodes.filter(s=>s.nodePos===r);this.displayNodes.push(new BB(r,i))}}selectNode(n){n.nodePos===this.cardService.currentPos&&(n.Visit(this.player),this.cardService.currentPos++,n.nodeType===De.Battle?this.enemyDeckEvent.emit():n.nodeType===De.Relic?this.relicSelectEvent.emit():n.nodeType===De.Boss?this.enemyDeckEvent.emit():n.nodeType===De.Pack&&this.packSelectEvent.emit())}getFutureNodes(){return this.nodes.filter(r=>r.nodePos>this.player.currentPos)}getCurrentNodes(){return this.nodes.filter(r=>r.nodePos===this.player.currentPos)}getPreviousNodes(){return this.nodes.filter(r=>r.nodePos<this.player.currentPos)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ae({type:t,selectors:[["app-map"]],inputs:{player:"player",cardService:"cardService",currentPos:"currentPos"},outputs:{enemyDeckEvent:"enemyDeckEvent",packSelectEvent:"packSelectEvent",relicSelectEvent:"relicSelectEvent"},decls:28,vars:2,consts:[[1,"mapColors","legend"],["src","assets/battle.png",1,"centerElement"],["src","assets/random.png",1,"centerElement"],["src","assets/chest.png",1,"centerElement"],["src","assets/pack.png",1,"centerElement"],["src","assets/boss.png",1,"centerElement"],[1,"whiteFont","centerText"],["class","mapColors cardRow","style","margin-left: auto; margin-right: auto; width: 70%;",4,"ngIf","ngIfElse"],["youWin",""],[1,"mapColors","cardRow",2,"margin-left","auto","margin-right","auto","width","70%"],[4,"ngFor","ngForOf"],["class","node-container",3,"ngClass","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],[1,"node-container",3,"ngClass","click","mouseenter","mouseleave"],[3,"src"],["class","node-popup",4,"ngIf"],[1,"node-popup"],[1,"mapColors"]],template:function(r,i){if(1&r&&(y(0,"div",0)(1,"h2"),D(2,"Legend"),m(),L(3,"br"),y(4,"p"),D(5,"Battle"),m(),L(6,"img",1)(7,"br"),y(8,"p"),D(9,"Random Event"),m(),L(10,"img",2)(11,"br"),y(12,"p"),D(13,"Relics"),m(),L(14,"img",3)(15,"br"),y(16,"p"),D(17,"Card Pack"),m(),L(18,"img",4)(19,"br"),y(20,"p"),D(21,"Boss Battle"),m(),L(22,"img",5),m(),y(23,"h2",6),D(24,"Select where you want to go on the map"),m(),N(25,UB,2,1,"div",7),N(26,zB,3,0,"ng-template",null,8,Ti)),2&r){const s=bi(27);w(25),C("ngIf",i.currentPos<11)("ngIfElse",s)}},dependencies:[Hs,$t,it],styles:[".prevNode[_ngcontent-%COMP%]{opacity:.3}.legend[_ngcontent-%COMP%]{border:solid 5px black;padding:10px;float:right;width:10rem;text-align:center}.nodeImage[_ngcontent-%COMP%]{cursor:pointer;animation:_ngcontent-%COMP%_shrinkGrow 1.5s infinite ease-in-out;transition:transform .3s ease}@keyframes _ngcontent-%COMP%_shrinkGrow{0%{transform:scale(1.4)}50%{transform:scale(1)}to{transform:scale(1.4)}}.column[_ngcontent-%COMP%]{flex-direction:column}.node-container[_ngcontent-%COMP%]{position:relative}.node-popup[_ngcontent-%COMP%]{position:absolute;top:50px;left:50%;transform:translate(-50%);background-color:#fff;border:1px solid #ccc;z-index:10;width:200px;box-shadow:0 4px 8px #0003;font-size:14px;display:none;font-size:.7rem;width:10rem;height:auto;border:white solid 2px;background-image:linear-gradient(to bottom left,rgb(0,0,0),rgb(87,87,87));color:#fff;padding:5px 10px;border-radius:5px;font-family:Verdana,Geneva,Tahoma,sans-serif}.node-container[_ngcontent-%COMP%]:hover   .node-popup[_ngcontent-%COMP%]{display:block}"]})}return t})(),WB=(()=>{class t{constructor(){this.tutorialEvent=new oe,this.newGameEvent=new oe,this.debugEvent=new oe,this.glossaryEvent=new oe,this.survivalEvent=new oe,this.gemBag=new k(0,1,1,1,1,1)}tutorial(){this.tutorialEvent.emit()}newGame(){this.newGameEvent.emit()}debug(){this.debugEvent.emit()}glossary(){this.glossaryEvent.emit()}survival(){this.survivalEvent.emit()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ae({type:t,selectors:[["app-main-menu"]],outputs:{tutorialEvent:"tutorialEvent",newGameEvent:"newGameEvent",debugEvent:"debugEvent",glossaryEvent:"glossaryEvent",survivalEvent:"survivalEvent"},decls:15,vars:2,consts:[[1,"mapColors","centerElement","mainMenuWidth"],[1,"cardRow",2,"justify-content","center"],[3,"bag","imgWidth"],["id","mainTitle",1,"centerText"],[1,"centerElement","buttonWidth",3,"click"]],template:function(r,i){1&r&&(y(0,"div",0)(1,"div",1),L(2,"app-gembag",2),m(),y(3,"h1",3),D(4,"Super Gem Bag Wars"),m(),L(5,"br"),y(6,"button",4),H("click",function(){return i.survival()}),D(7,"New Game"),m(),L(8,"br"),y(9,"button",4),H("click",function(){return i.glossary()}),D(10,"Glossary"),m(),L(11,"br"),y(12,"button",4),H("click",function(){return i.tutorial()}),D(13,"Tutorial"),m(),L(14,"br"),m()),2&r&&(w(2),C("bag",i.gemBag)("imgWidth",96))},dependencies:[va],styles:[".mainMenuWidth[_ngcontent-%COMP%]{width:80%;padding:10% 10px}.buttonWidth[_ngcontent-%COMP%]{width:10%}#mainTitle[_ngcontent-%COMP%]{font-size:200%;font-weight:700;text-shadow:6px 2px 1px #52470a66}"]})}return t})();function qB(t,e){if(1&t){const n=ue();y(0,"app-relic",5),H("click",function(){const s=W(n).$implicit;return q(M(2).selectRelic(s))}),m()}2&t&&C("relic",e.$implicit)}function KB(t,e){if(1&t&&(y(0,"div"),N(1,qB,1,1,"app-relic",4),m()),2&t){const n=M();w(1),C("ngForOf",n.relics)}}let ZB=(()=>{class t{constructor(){this.cardService={},this.factions=[],this.mode=Wb.Random,this.rewardTypes=[],this.selectedRelic=new oe,this.proceed=new oe,this.relicManager={},this.cardFactory=new ti(this.cardService),this.rewards=[],this.showRelics=!1,this.relics=[]}ngOnInit(){this.relicManager=new Bc(this.cardService),this.getRelics()}getRelics(){this.relics=[];for(let n=0;n<3;n++){let r=this.relicManager.getRandomRelic();this.relics.includes(r)?n--:this.relics.push(r)}}selectRelic(n){this.getRelics(),this.selectedRelic.emit(n)}done(){this.relics=[],this.getRelics(),this.proceed.emit()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ae({type:t,selectors:[["app-chest"]],inputs:{cardService:"cardService",factions:"factions",mode:"mode",rewardTypes:"rewardTypes",showRelics:"showRelics"},outputs:{selectedRelic:"selectedRelic",proceed:"proceed"},decls:5,vars:1,consts:[[1,"mainMargins","mapColors","centerElement"],[1,"centerElement","relicBar"],[1,"centerText"],[4,"ngIf"],["class","relic",3,"relic","click",4,"ngFor","ngForOf"],[1,"relic",3,"relic","click"]],template:function(r,i){1&r&&(y(0,"div",0)(1,"div",1)(2,"h2",2),D(3,"Select a new Relic"),m(),N(4,KB,2,1,"div",3),m()()),2&r&&(w(4),C("ngIf",!0===i.showRelics))},dependencies:[$t,it,oD],styles:[".relic[_ngcontent-%COMP%]{cursor:pointer;margin-left:15px;margin-right:15px}.relicBar[_ngcontent-%COMP%]{width:26%}"]})}return t})();function YB(t,e){if(1&t){const n=ue();y(0,"app-card",5),H("click",function(){const s=W(n).$implicit;return q(M(2).selectCard(s))}),m()}2&t&&C("card",e.$implicit)}function QB(t,e){if(1&t&&(y(0,"div")(1,"h2",2),D(2,"Select a new card for your deck"),m(),y(3,"div",3),N(4,YB,1,1,"app-card",4),m()()),2&t){const n=M();w(4),C("ngForOf",n.displayCards)}}let XB=(()=>{class t{constructor(){this.cardservice={},this.cardAmount=6,this.faction=S.Any,this.showCards=!0,this.cardSelectedEvent=new oe,this.proceed=new oe,this.deckStorage={},this.displayCards=[]}ngOnInit(){this.deckStorage=new ni(this.cardservice,this.cardservice.playerService),this.getCards(),this.showCards=!0}getCards(){this.displayCards=[];let n=this.deckStorage.getStarterDeck(p.Self,this.cardservice.selectedFactions);for(let r=0;r<this.cardAmount;r++){let i=Ue(0,n.length),s=n[i];this.displayCards.includes(s)||(this.displayCards.push(s),n.slice(i,1))}}selectCard(n){this.cardservice.cardList.push(n),this.getCards(),this.cardSelectedEvent.emit(n),this.done()}done(){this.proceed.emit()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ae({type:t,selectors:[["app-pack"]],inputs:{cardservice:"cardservice",cardAmount:"cardAmount",faction:"faction",showCards:"showCards"},outputs:{cardSelectedEvent:"cardSelectedEvent",proceed:"proceed"},decls:2,vars:1,consts:[[1,"mapColors"],[4,"ngIf"],[1,"centerText"],["id","PackCenter",1,"selectCard","cardRow"],[3,"card","click",4,"ngFor","ngForOf"],[3,"card","click"]],template:function(r,i){1&r&&(y(0,"div",0),N(1,QB,5,1,"div",1),m()),2&r&&(w(1),C("ngIf",i.showCards))},dependencies:[$t,it,dr],styles:[".selectCard[_ngcontent-%COMP%]:hover{cursor:pointer}.packHeight[_ngcontent-%COMP%]{min-height:80%}#PackCenter[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:80%}"]})}return t})(),JB=(()=>{class t{constructor(){this.cardService={}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ae({type:t,selectors:[["app-upgrade"]],inputs:{cardService:"cardService"},decls:2,vars:0,template:function(r,i){1&r&&(y(0,"p"),D(1,"upgrade works!"),m())}})}return t})();function eV(t,e){if(1&t){const n=ue();y(0,"div")(1,"app-chest",3),H("selectedRelic",function(i){return W(n),q(M(2).outputRelic(i))}),m()()}if(2&t){const n=M(2);w(1),C("showRelics",1===n.currentReward)("factions",n.factions)("cardService",n.cardService)}}function tV(t,e){if(1&t){const n=ue();y(0,"div")(1,"app-pack",4),H("cardSelectedEvent",function(i){return W(n),q(M(2).outputCard(i))}),m()()}if(2&t){const n=M(2);w(1),C("showCards",0===n.currentReward)("cardservice",n.cardService)}}function nV(t,e){if(1&t&&(y(0,"div"),L(1,"app-upgrade",5),m()),2&t){const n=M(2);w(1),C("cardService",n.cardService)}}function rV(t,e){if(1&t&&(y(0,"div")(1,"p",2),D(2),m(),y(3,"p",2),D(4),m(),N(5,eV,2,3,"div",0),N(6,tV,2,2,"div",0),N(7,nV,2,1,"div",0),m()),2&t){const n=M();w(2),cc("Reward Number: ",n.rewardsReceived+1,"/",n.rewardMax,""),w(2),qe("Reward Roll: ",n.currentReward,""),w(1),C("ngIf",1===n.currentReward),w(1),C("ngIf",0===n.currentReward),w(1),C("ngIf",2===n.currentReward)}}let cD=(()=>{class t{constructor(){this.cardService={},this.rewardMax=3,this.rewardsReceived=0,this.factions=[],this.currentReward=Ni.Card,this.proceed=new oe,this.relicSelected=new oe,this.cardSelected=new oe}selectRandomReward(){Math.floor(2*Math.random()),this.currentReward=1}reset(){this.rewardsReceived=0}outputRelic(n){this.relicSelected.emit(n),this.done()}outputCard(n){this.cardSelected.emit(n),this.done()}done(){this.rewardsReceived<this.rewardMax?(this.rewardsReceived++,this.selectRandomReward(),this.rewardsReceived>=this.rewardMax&&this.proceed.emit()):this.proceed.emit()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ae({type:t,selectors:[["app-reward"]],inputs:{cardService:"cardService",rewardMax:"rewardMax",factions:"factions",currentReward:"currentReward"},outputs:{proceed:"proceed",relicSelected:"relicSelected",cardSelected:"cardSelected"},decls:3,vars:1,consts:[[4,"ngIf"],[1,"centerElement",3,"click"],[1,"whiteFont",2,"text-align","center"],[3,"showRelics","factions","cardService","selectedRelic"],[3,"showCards","cardservice","cardSelectedEvent"],[3,"cardService"]],template:function(r,i){1&r&&(N(0,rV,8,6,"div",0),y(1,"button",1),H("click",function(){return i.done()}),D(2,"Skip"),m()),2&r&&C("ngIf",i.rewardsReceived<i.rewardMax)},dependencies:[it,ZB,XB,JB]})}return t})(),iV=(()=>{class t{constructor(){this.step=0,this.cardService=new Xb,this.player=new lt(this.cardService),this.enemy=new ur(this.cardService),this.game=new Vc(this.player,this.enemy,this.cardService),this.tutorialDone=new oe,this.cardFactory=new ti(this.cardService),this.cardService.makePlayerService(new lt(this.cardService),new ur(this.cardService)),this.decks=new ni(this.cardService,this.cardService.playerService),this.displayCard=this.decks.getCardByName("Battle Dwarf",p.Self),this.displayMine=this.cardFactory.generateBasicMine(T.Ruby);let n=this.decks.getCardByName("Squire",p.Self);n.zone=v.hand;let r=this.decks.getCardByName("Squire",p.Self);r.zone=v.play,r.owner=p.Opponent;let i=this.decks.getCardByName("Squire",p.Self);i.zone=v.play,i.owner=p.Self;let s=this.decks.getCardByName("fire bolt",p.Self);s.zone=v.hand;let o=this.decks.getCardByName("dwarf soldier",p.Opponent);o.zone=v.deck,this.cardService.cardList.push(n,r,i,s,o);let a=this.cardFactory.generateBasicMine(T.Ruby);a.zone=v.hand,a.owner=p.Self,this.cardService.cardList.push(a)}nextStep(){this.step++}prevStep(){this.step--,this.step<0&&(this.step=0)}openPopup(n){document.getElementById("popup-image"),document.getElementById("")}done(){this.tutorialDone.emit()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ae({type:t,selectors:[["app-interactive-tutorial"]],outputs:{tutorialDone:"tutorialDone"},decls:3,vars:0,consts:[["width","560","height","315","src","https://www.youtube.com/embed/W2PkelDGUYA?si=Cu-r95SValCXUe5r","title","YouTube video player","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","referrerpolicy","strict-origin-when-cross-origin","allowfullscreen","",1,"centerElement",2,"margin-top","10%"],[1,"centerElement",3,"click"]],template:function(r,i){1&r&&(L(0,"iframe",0),y(1,"button",1),H("click",function(){return i.done()}),D(2,"Back to Main Menu"),m())},styles:[".popup[_ngcontent-%COMP%]{display:none;position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:#0006}.popup-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:15% auto;padding:20px;border:1px solid #888;width:80%;max-width:600px;text-align:center}.close-btn[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700}.close-btn[_ngcontent-%COMP%]:hover, .close-btn[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}#popup-image[_ngcontent-%COMP%]{max-width:100%;height:auto}"]})}return t})();function sV(t,e){if(1&t&&(y(0,"div"),L(1,"app-card",2),m()),2&t){const n=M();w(1),C("card",n.discardedCards[n.discardedCards.length-1])}}let uD=(()=>{class t{constructor(){this.showDiscard=!1,this.discardedCards=[]}toggleShowDiscard(){this.showDiscard=!this.showDiscard}getGraveyard(){return this.discardedCards}getTopCard(){return this.discardedCards.length>0?this.discardedCards[this.discardedCards.length-1]:{}}isEmpty(){return 0===this.discardedCards.length}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ae({type:t,selectors:[["app-discard-pile"]],inputs:{discardedCards:"discardedCards"},decls:2,vars:1,consts:[[1,"cardDimensions","discardPile"],[4,"ngIf"],[3,"card"]],template:function(r,i){1&r&&(y(0,"div",0),N(1,sV,2,1,"div",1),m()),2&r&&(w(1),C("ngIf",i.discardedCards.length>0))},dependencies:[it,dr],styles:[".pileDimensions[_ngcontent-%COMP%]{min-height:230px;width:auto;min-width:165px;max-width:auto;z-index:1001;border-radius:3%}.emptyWidth[_ngcontent-%COMP%]{width:165px}.cardMargin[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}.cardRow[_ngcontent-%COMP%]{flex-wrap:wrap}"]})}return t})();function oV(t,e){1&t&&L(0,"img",3)}const aV=function(t){return{width:t}};function lV(t,e){if(1&t&&(y(0,"div",1),N(1,oV,1,0,"img",2),m()),2&t){const n=M();C("ngStyle",Hn(2,aV,n.getWallLength())),w(1),C("ngForOf",n.calcDisplay())}}let dD=(()=>{class t{constructor(){this.wall={}}calcDisplay(){let n=this.wall.hp/5;return n=Math.ceil(n),n<0&&(n=0),Array(n).fill(0)}getWallLength(){return 24*Math.ceil(this.wall.hp/5)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ae({type:t,selectors:[["app-wall"]],inputs:{wall:"wall"},decls:4,vars:2,consts:[["class","cardRow wallSpacing",3,"ngStyle",4,"ngIf"],[1,"cardRow","wallSpacing",3,"ngStyle"],["class","","width","24px","height","24px","src","assets/wall.png",4,"ngFor","ngForOf"],["width","24px","height","24px","src","assets/wall.png",1,""]],template:function(r,i){1&r&&(y(0,"div")(1,"p"),D(2),m(),N(3,lV,2,4,"div",0),m()),2&r&&(w(2),qe("Wall HP: ",i.wall.hp,""),w(1),C("ngIf",i.calcDisplay().length>0))},dependencies:[$t,it,$s],styles:[".wallSpacing[_ngcontent-%COMP%]{justify-content:center}"]})}return t})();function cV(t,e){if(1&t&&(y(0,"div"),L(1,"app-tool-tip",15),m()),2&t){const n=e.$implicit,r=M(2);w(1),C("title",r.kToolTip.getToolTipName(n))("text",r.kToolTip.getTooltip(n))}}const uV=function(t,e){return{"top.px":t,"left.px":e}};function dV(t,e){if(1&t&&(y(0,"div",14),N(1,cV,2,2,"div",13),m()),2&t){const n=M();C("ngStyle",sa(2,uV,n.popupY1,n.popupX1)),w(1),C("ngForOf",n.card.keywords)}}function hV(t,e){1&t&&L(0,"img",16),2&t&&Tr("src",M().card.image,rr)}function fV(t,e){if(1&t&&(y(0,"span",17),L(1,"img",18),D(2,": "),y(3,"span",19),D(4),m(),L(5,"img",20),D(6,": "),y(7,"span",19),D(8),m(),L(9,"img",21),D(10,": "),y(11,"span",19),D(12),m()()),2&t){const n=M();w(3),C("ngStyle",n.getStatStyle(n.card,"atk")),w(1),mt(n.converter.convertToCreature(n.card).attack),w(3),C("ngStyle",n.getStatStyle(n.card,"hp")),w(1),mt(n.converter.convertToCreature(n.card).hp),w(3),C("ngStyle",n.getStatStyle(n.card,"spd")),w(1),qe(" ",n.converter.convertToCreature(n.card).speed,"")}}function pV(t,e){if(1&t&&(y(0,"span")(1,"p",17),D(2,"INCOME: "),L(3,"app-gembag",22),m()()),2&t){const n=M();w(3),C("bag",n.converter.convertToMine(n.card).incomeBag)}}function gV(t,e){1&t&&L(0,"img",23)}function mV(t,e){1&t&&L(0,"img",24)}function yV(t,e){if(1&t){const n=ue();y(0,"button",25),H("click",function(){return W(n),q(M().select())}),D(1),m()}if(2&t){const n=M();w(1),qe("Target ",n.card.name,"")}}function vV(t,e){if(1&t){const n=ue();y(0,"button",28),H("click",function(){return W(n),q(M().$implicit.doEffects())}),D(1,"Ability"),m()}}function _V(t,e){1&t&&(y(0,"button",30),D(1,"Ability"),m())}function wV(t,e){1&t&&N(0,_V,2,0,"button",29),2&t&&C("ngIf",1!==M(2).card.owner)}function CV(t,e){if(1&t&&(y(0,"div"),N(1,vV,2,0,"button",26),N(2,wV,1,1,"ng-template",null,27,Ti),m()),2&t){const n=e.$implicit,r=bi(3),i=M();w(1),C("ngIf",i.card.hasActivatedAbility()&&n.canAffordCosts(i.card)&&2===i.card.owner)("ngIfElse",r)}}const hD=function(t){return{backgroundColor:t}},SV=function(t,e,n,r,i){return{awake:t,asleep:e,dead:n,blocked:r,blocking:i}},bV=function(){return{backgroundColor:"black"}};let fD=(()=>{class t{constructor(n){this.fcs=n,this.card={},this.cardEmitter=new oe,this.bgColor="grey",this.fgColor="#cccccc",this.gradientColor="radialGradient(bgColor, gradientColor)",this.type=x[this.card.type],this.selected=!1,this.kToolTip=new Gb,this.converter=new ma,this.popupVisible=!1,this.popupX1=100,this.popupY1=100}ngOnInit(){this.bgColor=this.fcs.getBgColor(this.card.factions[0]),this.fgColor=this.fcs.getFgColor(this.card.factions[0]),this.gradientColor=`radialGradient(${this.bgColor}, ${this.fgColor})`}select(){this.cardEmitter.emit(this.card)}getTypeString(n){return x[n]}getStatStyle(n,r){const i=this.converter.convertToCreature(n);let s=0,o=0;switch(r){case"hp":s=i.baseHp,o=i.hp;break;case"atk":s=i.baseAttack,o=i.attack;break;case"spd":s=i.baseSpeed,o=i.speed}return o>s?{color:"#44e36e"}:o<s?{color:"red"}:{color:"white"}}getActivatedAbilities(){return this.card.abilities.filter(r=>r instanceof yt),this.card.abilities.filter(r=>r instanceof yt)}showPopup(n){this.popupVisible=!0,this.updatePopupPosition(n)}movePopup(n){this.updatePopupPosition(n)}hidePopup(){this.popupVisible=!1}updatePopupPosition(n){this.popupX1=n.clientX,this.popupY1=n.clientY}static#e=this.\u0275fac=function(r){return new(r||t)(O(nD))};static#t=this.\u0275cmp=Ae({type:t,selectors:[["app-card-small"]],inputs:{card:"card"},outputs:{cardEmitter:"cardEmitter"},decls:15,vars:25,consts:[["class","popup toolTip",3,"ngStyle",4,"ngIf"],[1,"smallCardContainer"],[1,"largeCard",3,"card"],[1,"cardBorder","hoverZoom",3,"ngStyle","ngClass","mouseover","mousemove","mouseout"],[1,"mainFont","titleBoxWidth",3,"ngStyle"],[1,"titleText"],[1,"cardOutline","cardImageSmall",2,"margin","3px",3,"ngStyle"],["class","centerElement","height","auto","width","103px",3,"src",4,"ngIf"],["class","statDisplay blackBg",4,"ngIf"],[4,"ngIf"],["class","attackingIcon","src","assets/attackSymbol.png","height","auto","width","50%",4,"ngIf"],["class","blockingIcon","src","assets/HP Symbol.png","height","auto","width","50%",4,"ngIf"],[3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"popup","toolTip",3,"ngStyle"],[3,"title","text"],["height","auto","width","103px",1,"centerElement",3,"src"],[1,"statDisplay","blackBg"],["src","assets/attackSymbol.png","width","16px","height","auto",1,"statIcon"],[3,"ngStyle"],["src","assets/HP Symbol.png","width","16px","height","auto",1,"statIcon"],["src","assets/Speed Symbol.png","width","16px","height","auto",1,"statIcon"],[3,"bag"],["src","assets/attackSymbol.png","height","auto","width","50%",1,"attackingIcon"],["src","assets/HP Symbol.png","height","auto","width","50%",1,"blockingIcon"],[3,"click"],["class","centerElement",3,"click",4,"ngIf","ngIfElse"],["greyButton",""],[1,"centerElement",3,"click"],["style","opacity: 50%;","class","centerElement","disabled","",4,"ngIf"],["disabled","",1,"centerElement",2,"opacity","50%"]],template:function(r,i){1&r&&(N(0,dV,2,5,"div",0),y(1,"div",1),L(2,"app-card",2),y(3,"div",3),H("mouseover",function(o){return i.showPopup(o)})("mousemove",function(o){return i.movePopup(o)})("mouseout",function(){return i.hidePopup()}),y(4,"div",4)(5,"p",5),D(6),m()(),y(7,"div",6),N(8,hV,1,1,"img",7),N(9,fV,13,6,"span",8),N(10,pV,4,1,"span",9),m(),N(11,gV,1,0,"img",10),N(12,mV,1,0,"img",11),m()(),N(13,yV,2,1,"button",12),N(14,CV,4,2,"div",13)),2&r&&(C("ngIf",i.popupVisible&&i.card.keywords.length>0),w(2),C("card",i.card),w(1),C("ngStyle",Hn(14,hD,i.bgColor))("ngClass",function OC(t,e,n,r,i,s,o,a){const l=Ft()+t,c=R(),u=An(c,l,n,r,i,s);return kt(c,l+4,o)||u?sr(c,l+5,a?e.call(a,n,r,i,s,o):e(n,r,i,s,o)):Wo(c,l+5)}(16,SV,0===i.card.type&&!0===i.converter.convertToCreature(i.card).awake,!1===i.converter.convertToCreature(i.card).awake,i.converter.convertToCreature(i.card).hp<=0,i.converter.convertToCreature(i.card).blocked,i.converter.convertToCreature(i.card).blocking)),w(1),C("ngStyle",Ai(22,bV)),w(2),qe("",i.card.name," "),w(1),C("ngStyle",Hn(23,hD,i.fgColor)),w(1),C("ngIf",""!==i.card.image&&void 0!==i.card.image),w(1),C("ngIf",0===i.card.type||11===i.card.type),w(1),C("ngIf",2===i.card.type),w(1),C("ngIf",0===i.card.type&&i.converter.convertToCreature(i.card).attacking),w(1),C("ngIf",0===i.card.type&&i.converter.convertToCreature(i.card).blocking),w(1),C("ngIf",i.card.targetableCard),w(1),C("ngForOf",i.getActivatedAbilities()))},dependencies:[Hs,$t,it,$s,dr,va,rD],styles:['p[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;font-weight:700}.cardBorder[_ngcontent-%COMP%]{border:solid 2px black;border-radius:4%;width:6rem;padding:3px;margin-right:auto}.cardOutline[_ngcontent-%COMP%]{border:solid 1px black;border-radius:5%;margin:1px}.titleText[_ngcontent-%COMP%]{font-family:Verdana,Tahoma,sans-serif;font-weight:700;font-size:63%;text-align:center;color:#fff}.titleBoxWidth[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;min-height:20px}.flexBox[_ngcontent-%COMP%]{display:flex}.flexSpace[_ngcontent-%COMP%]{justify-content:space-between}.cardImage[_ngcontent-%COMP%]{min-height:100px;height:75%}.blackBg[_ngcontent-%COMP%]{background-color:#000}.foregroundColor[_ngcontent-%COMP%]{opacity:.9}.typeText[_ngcontent-%COMP%]{color:#fff;text-align:center}.typeBox[_ngcontent-%COMP%]{height:17px;margin-top:2px;margin-bottom:2px;font-size:13px;font-family:Arial,Helvetica,sans-serif;background:rgba(30,30,30,.5);opacity:1}.typeBoxBg[_ngcontent-%COMP%]{background-color:"#373737"}.textBox[_ngcontent-%COMP%]{height:100px;text-align:center;font-family:Arial,Helvetica,sans-serif}.centerElement[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.cardText[_ngcontent-%COMP%]{font-size:12px}.statDisplay[_ngcontent-%COMP%]{border:ridge 2px #737373;border-radius:10%;margin-bottom:2px;font-size:.6em;font-weight:700;font-family:Arial,Helvetica,sans-serif;text-align:center;color:#fff;position:absolute;bottom:1px;left:5px;right:5px;overflow:hidden;white-space:nowrap}.whiteFont[_ngcontent-%COMP%]{color:#fff}.asleep[_ngcontent-%COMP%]{transform:rotate(90deg);margin-bottom:18px}.largeCard[_ngcontent-%COMP%]{visibility:hidden;position:fixed;z-index:1;opacity:0;left:0;top:36%;transition:visibility .2s linear .2s;-webkit-user-select:none;user-select:none;transform:scale(1)}.toolTip[_ngcontent-%COMP%]{position:fixed}.smallCardContainer[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;transition-delay:.1s;position:relative}@media screen and (max-width: 1250px){.smallCardContainer[_ngcontent-%COMP%]{bottom:80%}}#Hand[_ngcontent-%COMP%]:hover   .largeCard[_ngcontent-%COMP%]{visibility:visible;opacity:1;transform:scale(1.1);transition:transform .5s ease-in-out;transition:opacity .3s ease-in-out;transform:translate(0);transition-delay:2s;z-index:99999}.smallCardContainer[_ngcontent-%COMP%]:hover   .largeCard[_ngcontent-%COMP%]{visibility:visible;opacity:1;transition:opacity .3s ease-in-out;transform:translateY(20px);transition-delay:.1s}.smallCardContainer[_ngcontent-%COMP%]:hover{border:2px solid #281cae;border-radius:4%;margin-bottom:0}.smallCardContainer[_ngcontent-%COMP%]:hover, .attackingIcon[_ngcontent-%COMP%]:hover, .blockingIcon[_ngcontent-%COMP%]:hover{opacity:1}.statIcon[_ngcontent-%COMP%]{margin:0 2px;width:16%}.asleep[_ngcontent-%COMP%], .awake[_ngcontent-%COMP%]{transition:width 2s,height 2s,transform .3s}.asleep[_ngcontent-%COMP%]{transform:rotate(90deg)}.awake[_ngcontent-%COMP%]{transform:rotate(0)}.dead[_ngcontent-%COMP%]{opacity:.5}.combatIcon[_ngcontent-%COMP%]{display:none}.blocking[_ngcontent-%COMP%]:hover   .combatIcon[_ngcontent-%COMP%]{display:block;position:relative;top:-100px}.attackingIcon[_ngcontent-%COMP%], .blockingIcon[_ngcontent-%COMP%]{position:absolute;bottom:1rem;left:2rem;opacity:.7}.canCast[_ngcontent-%COMP%]{border:1px solid green}.cantCast[_ngcontent-%COMP%]{border:1px solid red}']})}return t})();function DV(t,e){if(1&t){const n=ue();y(0,"button",0),H("click",function(){W(n);const i=M(2).$implicit;return q(M(2).buyGem(i))}),D(1,"Buy for 2 gold"),m()}}function EV(t,e){1&t&&(y(0,"button",10),D(1,"Buy for 2 gold"),m())}function MV(t,e){if(1&t){const n=ue();y(0,"button",0),H("click",function(){W(n);const i=M(2).$implicit;return q(M(2).sellGem(i))}),D(1,"Sell for 1 gold"),m()}}function AV(t,e){1&t&&(y(0,"button",10),D(1,"Sell for 1 gold"),m())}function TV(t,e){if(1&t&&(y(0,"span"),N(1,DV,2,0,"button",7),N(2,EV,2,0,"ng-template",null,8,Ti),N(4,MV,2,0,"button",7),N(5,AV,2,0,"ng-template",null,9,Ti),m()),2&t){const n=bi(3),r=bi(6),i=M().$implicit,s=M(2);w(1),C("ngIf",s.gembag.gold>=2)("ngIfElse",n),w(3),C("ngIf",s.gembag.getValue(i)>=1)("ngIfElse",r)}}function IV(t,e){if(1&t&&(y(0,"span",4)(1,"span")(2,"p"),D(3),L(4,"img",5),m(),N(5,TV,7,4,"span",6),m()()),2&t){const n=e.$implicit,r=M(2);w(3),qe("",r.gembag.getValue(n)," "),w(1),Qo("width",16,"px"),Tr("src",r.gembag.getImage(n),rr),w(1),C("ngIf",0!==n)}}function kV(t,e){if(1&t){const n=ue();y(0,"div",2)(1,"button",0),H("click",function(){return W(n),q(M().toggleShowMarket())}),D(2,"X"),m(),N(3,IV,6,5,"span",3),m()}if(2&t){const n=M();w(3),C("ngForOf",n.gembag.getAllTypes())}}let PV=(()=>{class t{constructor(){this.gembag={},this.showMarket=!1,this.gemCost=2,this.getSellCost=1}toggleShowMarket(){this.showMarket=!this.showMarket}buyGem(n){if(this.gembag.gold>=this.gemCost)switch(this.gembag.gold-=this.gemCost,n){case T.Ruby:this.gembag.ruby+=1;break;case T.Sapphire:this.gembag.sapphire+=1;break;case T.Emerald:this.gembag.emerald+=1;break;case T.LionEye:this.gembag.lionsEye+=1;break;case T.Topaz:this.gembag.topaz+=1}}sellGem(n){this.gembag.getValue(n)>0&&(this.gembag.gold+=this.getSellCost,this.gembag.addSingle(n,-1))}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ae({type:t,selectors:[["app-market"]],inputs:{gembag:"gembag"},decls:3,vars:1,consts:[[3,"click"],["id","Market","class","paneBg whiteFont popUp scrollBar",4,"ngIf"],["id","Market",1,"paneBg","whiteFont","popUp","scrollBar"],["class","marketCard",4,"ngFor","ngForOf"],[1,"marketCard"],[1,"gemDimensions",3,"src"],[4,"ngIf"],[3,"click",4,"ngIf","ngIfElse"],["noGold",""],["noGems",""],["disabled","",1,"disabledButton"]],template:function(r,i){1&r&&(y(0,"button",0),H("click",function(){return i.toggleShowMarket()}),D(1,"Show Market"),m(),N(2,kV,4,1,"div",1)),2&r&&(w(2),C("ngIf",i.showMarket))},dependencies:[$t,it],styles:["#Market[_ngcontent-%COMP%]{position:absolute;top:-100%;left:-100%;transform:translate(-100%,-100%);z-index:1;padding:15px;display:flex;flex-direction:row;width:450%}.marketCard[_ngcontent-%COMP%]{padding:10px}.disabledButton[_ngcontent-%COMP%]{opacity:.5}"],data:{animation:[xi("toggleShowMarket",[jc("true",At({transform:"translateX(0)"})),jc("false",At({transform:"translateX(-100%)"})),Fr("false => true",[Or("300ms ease-in")]),Fr("true => false",[Or("300ms ease-out")])])]}})}return t})();function NV(t,e){if(1&t){const n=ue();y(0,"app-card",1),H("dblclick",function(){return W(n),q(M().playHero())}),m()}if(2&t){const n=M();C("card",n.hero)("playable",n.player.checkIfPlayable(n.hero,n.game))}}let RV=(()=>{class t{constructor(){this.hero={},this.cardService={},this.player={},this.game={}}ngOnInit(){}playHero(){this.player.playCard(this.hero,this.game)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ae({type:t,selectors:[["app-hero"]],inputs:{hero:"hero",cardService:"cardService",player:"player",game:"game"},decls:1,vars:1,consts:[["class","heroPane",3,"card","playable","dblclick",4,"ngIf"],[1,"heroPane",3,"card","playable","dblclick"]],template:function(r,i){1&r&&N(0,NV,1,2,"app-card",0),2&r&&C("ngIf",6===i.hero.zone)},dependencies:[it,dr],styles:[".heroPane[_ngcontent-%COMP%]{position:absolute;bottom:0;right:12%}"]})}return t})();function xV(t,e){if(1&t&&L(0,"app-hero",16),2&t){const n=M();C("player",n.Player)("game",n.game)("hero",n.Player.cardService.hero)("player",n.Player)("cardService",n.Player.cardService)}}function OV(t,e){if(1&t){const n=ue();y(0,"button",21),H("click",function(){W(n);const i=M(2).index;return q(M().toggleAttack(i))}),D(1,"Attack"),m()}}function FV(t,e){if(1&t&&(y(0,"div"),N(1,OV,2,0,"button",20),m()),2&t){const n=M().$implicit,r=M();w(1),C("ngIf",!n.attacking&&!n.keywords.includes(7)&&r.game.currentTurn===r.Player&&2!==r.game.currentPhase)}}function LV(t,e){if(1&t){const n=ue();y(0,"button",21),H("click",function(){W(n);const i=M().index;return q(M().toggleAttack(i))}),D(1,"X Cancel Attack"),m()}}function BV(t,e){if(1&t){const n=ue();y(0,"button",21),H("click",function(){W(n);const i=M(2).$implicit;return q(M().game.combatManager.setBlocker(i))}),D(1,"Block"),m()}}function VV(t,e){if(1&t){const n=ue();y(0,"button",23),H("click",function(){W(n);const i=M(2).$implicit;return q(M().game.combatManager.unsetBlocker(i))}),D(1,"Cancel Block"),m()}}function jV(t,e){if(1&t&&(y(0,"div"),N(1,BV,2,0,"button",20),N(2,VV,2,0,"button",22),m()),2&t){const n=M().$implicit,r=M();w(1),C("ngIf",r.cardConverter.convertToCreature(n).canBlock()),w(1),C("ngIf",r.cardConverter.convertToCreature(n).blocking)}}function HV(t,e){if(1&t){const n=ue();y(0,"div",null,17)(2,"app-card-small",18),H("cardEmitter",function(i){return W(n),q(M().targetSelected(i))}),m(),N(3,FV,2,1,"div",19),N(4,LV,2,0,"button",20),N(5,jV,3,2,"div",19),m()}if(2&t){const n=e.$implicit,r=e.index,i=M();w(2),Xo("attacker",i.game.combatManager.isFighting(n)&&i.game.currentTurn===i.Player)("blocker",i.game.combatManager.isFighting(n)&&i.game.currentTurn!==i.Player),oc("id","player",r,""),C("card",n),w(1),C("ngIf",n.awake&&!n.firstTurn),w(1),C("ngIf",n.attacking),w(1),C("ngIf",i.Player.defending&&!0===i.cardConverter.convertToCreature(n).awake&&!1===i.cardConverter.convertToCreature(n).attacking)}}function $V(t,e){if(1&t&&(y(0,"div"),L(1,"app-card-small",24),m()),2&t){const n=e.$implicit;w(1),C("card",n)}}function UV(t,e){1&t&&L(0,"img",25)}function zV(t,e){if(1&t){const n=ue();y(0,"div",26)(1,"app-card",27),H("dblclick",function(){const s=W(n).$implicit,o=M();return q(o.Player.playCard(s,o.game))}),m()()}if(2&t){const n=e.$implicit,r=M();w(1),C("card",n)("playable",r.Player.checkIfPlayable(n,r.game))("animateEnter",!0)}}let GV=(()=>{class t{handleKeyboardA(n){let r=this.Player.getCreatures();if(this.Player.canAttack()&&this.game.currentTurn===this.Player&&this.game.currentPhase===Q.main)for(let i=0;i<r.length;i++){let s=r[i];!s.firstTurn&&!s.keywords.includes(7)&&this.toggleAttack(i)}}constructor(n){this.animationService=n,this.Player={},this.game={},this.rotStart=355,this.rotEnd=365,this.targetingMode=!1,this.selected={},this.possibleTargets=[],this.drawnCards=[],this.cardConverter=new ma,this.showMarket=!1,this.popupVisible=!1,this.popupX=100,this.popupY=100}ngOnInit(){}toggleMarket(){this.showMarket=!this.showMarket}selectTarget(n){this.selected=this.possibleTargets[n]}toggleAttack(n){let r=this.Player.getCreatures()[n];r.attacking=!r.attacking,r.awake=!!r.keywords.includes(E.Sentry)||!r.awake,r.blocking=!1,this.Player.attacking=this.Player.getAttackers().length>0,this.game.currentPhase=this.Player.attacking?Q.attackers:Q.main,this.game.phaseDisplay=Q[this.game.currentPhase]}targetSelected(n){this.Player.effectStack.length>0&&(this.Player.effectStack[0].doEffectSingle(n),this.Player.effectStack.splice(0,1),this.turnOffTargetting(this.Player.getCreatures()))}playSelected(n){this.Player.playCard(n,this.game),this.Player.effectStack=[]}turnOnTargetting(n){for(let r=0;r<n.length;r++)n[r].targetableCard=!0}turnOffTargetting(n){for(let r=0;r<n.length;r++)n[r].targetableCard=!1}getRotAmount(n){return(this.rotEnd-this.rotStart)/this.Player.getHand().length*n}showPopup(n){this.popupVisible=!0,this.updatePopupPosition(n)}movePopup(n){this.updatePopupPosition(n)}hidePopup(){this.popupVisible=!1}updatePopupPosition(n){this.popupX=n.clientX+10,this.popupY=n.clientY+10}static#e=this.\u0275fac=function(r){return new(r||t)(O(gn))};static#t=this.\u0275cmp=Ae({type:t,selectors:[["app-player"]],hostBindings:function(r,i){1&r&&H("keyup.a",function(o){return i.handleKeyboardA(o)},0,ql)},inputs:{Player:"Player",game:"game"},decls:22,vars:13,consts:[[1,"gemBagDisplay","uiPanel","paneBg"],[3,"gembag"],[1,"centerElement","whiteFont",3,"wall"],[1,"whiteFont",2,"margin-bottom",".5rem"],[1,"whiteFont"],[3,"bag"],[3,"player","game","hero","cardService",4,"ngIf"],[1,"cardRow","creatureDisplay","uiPanel"],[4,"ngFor","ngForOf"],[1,"cardRow"],["id","",1,"flexCenter"],[2,"float","left"],[3,"discardedCards"],["id","CardBack","class","cardDimensions","src","assets/back2.webp",4,"ngIf"],["id","Hand",1,"cardRow"],["class","handMargin",4,"ngFor","ngForOf"],[3,"player","game","hero","cardService"],["cardElement",""],[1,"creature",3,"id","card","cardEmitter"],[4,"ngIf"],["class","centerElement combatButton",3,"click",4,"ngIf"],[1,"centerElement","combatButton",3,"click"],["class","centerElement",3,"click",4,"ngIf"],[1,"centerElement",3,"click"],[3,"card"],["id","CardBack","src","assets/back2.webp",1,"cardDimensions"],[1,"handMargin"],[1,"card",3,"card","playable","animateEnter","dblclick"]],template:function(r,i){1&r&&(y(0,"div",0),L(1,"app-market",1)(2,"app-wall",2),y(3,"p",3),D(4),m(),y(5,"h3",4),D(6,"Resources:"),m(),L(7,"app-gembag",5),y(8,"h3",4),D(9,"Income:"),m(),L(10,"app-gembag",5),m(),N(11,xV,1,5,"app-hero",6),y(12,"div",7),N(13,HV,6,9,"div",8),m(),y(14,"div",9),N(15,$V,2,1,"div",8),m(),y(16,"div",10)(17,"div",11),L(18,"app-discard-pile",12),N(19,UV,1,0,"img",13),m(),y(20,"div",14),N(21,zV,2,3,"div",15),m()()),2&r&&(w(1),C("gembag",i.Player.gembag)("@show",void 0)("@show2",void 0),w(1),C("wall",i.Player.wall),w(2),qe("Your Life: ",i.Player.hp,""),w(3),C("bag",i.Player.gembag),w(3),C("bag",i.Player.incomeBag),w(1),C("ngIf",6===i.Player.cardService.hero.zone),w(2),C("ngForOf",i.Player.getCreatures()),w(2),C("ngForOf",i.Player.cardService.getBuildings(1)),w(3),C("discardedCards",i.Player.cardService.getCards(2,2)),w(1),C("ngIf",i.Player.cardService.getDeck(2).length>0),w(2),C("ngForOf",i.Player.getHand()))},dependencies:[$t,it,dr,va,uD,dD,fD,PV,RV],styles:["#Hand[_ngcontent-%COMP%]{display:flex;margin-left:auto;margin-right:auto;position:fixed;justify-content:center;left:20%;right:20%;bottom:-15%}#CardBack[_ngcontent-%COMP%]{margin-bottom:0}.playButton[_ngcontent-%COMP%]{max-width:120px}.creatureArea[_ngcontent-%COMP%]{height:150px}.creatureDisplay[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;margin-bottom:0;min-height:10%;flex-wrap:wrap}.gemBagDisplay[_ngcontent-%COMP%]{position:fixed;right:0;bottom:0;border-radius:5%;padding:5px;font-size:.7rem}@media screen and (max-width: 1050px){.gemBagDisplay[_ngcontent-%COMP%]{padding:2px}}.creature[_ngcontent-%COMP%]{max-width:100%;flex:1 1 auto;box-sizing:border-box;overflow:hidden}.discardDisplay[_ngcontent-%COMP%]{border-radius:3%}.wallDisplay[_ngcontent-%COMP%]{margin-left:auto;width:25%;margin-bottom:10px;padding:6px}.handMargin[_ngcontent-%COMP%]{margin:0px -1rem}.card[_ngcontent-%COMP%]{transform-origin:bottom center;transition:transform .1s ease-in-out}.card[_ngcontent-%COMP%]:hover{transform:rotate(0);transition:transform .1s ease-in-out;z-index:1000;margin-bottom:30%}.attacker[_ngcontent-%COMP%], .blocker[_ngcontent-%COMP%]{display:inline-block;transition:transform .3s ease-in-out}.attacker[_ngcontent-%COMP%]{border-color:#f75d5d}.blocker[_ngcontent-%COMP%]{border-color:#4ecdf8}.fighting[_ngcontent-%COMP%]{transform:translateY(50px)}.flexCenter[_ngcontent-%COMP%]{justify-content:center;position:fixed;bottom:0}.player-cards[_ngcontent-%COMP%]{position:relative}canvas[_ngcontent-%COMP%]{position:absolute;top:0;left:0;pointer-events:none}"],data:{animation:[gn.drawCard,gn.moveCard,gn.rapidMoveRight,xi("show",[jc("void",At({opacity:0})),Fr(":enter,:leave",[Or("500ms ease-in-out")])]),xi("show2",[jc("void",At({opacity:1})),Fr("hidden => visible",[Or("500ms ease-in-out")]),Fr("visible => hidden",[Or("500ms ease-in-out")])])]}})}return t})();function WV(t,e){1&t&&L(0,"img",8)}function qV(t,e){if(1&t){const n=ue();y(0,"button",11),H("click",function(){W(n);const i=M().$implicit;return q(M().game.combatManager.setAttacker(i))}),D(1," Block this Attacker"),m()}}function KV(t,e){if(1&t){const n=ue();y(0,"div")(1,"app-card-small",9),H("cardEmitter",function(i){return W(n),q(M().targetSelected(i))}),m(),N(2,qV,2,0,"button",10),m()}if(2&t){const n=e.$implicit,r=M();w(1),C("card",n),w(1),C("ngIf",r.hoard.attacking&&!1===r.creatureConverter.convertToCreature(n).blocked&&r.opponentHasBlockers())}}function ZV(t,e){if(1&t){const n=ue();y(0,"div")(1,"button",14),H("click",function(){W(n);const i=M(2);return q(i.hoard.runCurrentSpell(i.game))}),D(2,"Run Spell"),m()()}}function YV(t,e){if(1&t&&(y(0,"div",12),L(1,"app-card",13),N(2,ZV,3,0,"div",4),m()),2&t){const n=M();w(1),C("card",n.hoard.currentSpell),w(1),C("ngForOf",n.hoard.currentSpell.abilities)}}let QV=(()=>{class t{constructor(){this.hoard={},this.game={},this.blockedCreature=new oe,this.creatureConverter=new ma}block(n){this.hoard.cardService.getCreatures(1)}opponentHasBlockers(){return this.hoard.cardService.getCards(v.play,p.Self,x.Creature).filter(i=>i.awake&&!i.blocking).length>0}targetSelected(n){let r=this.game.cardService.playerService.getPlayer(p.Self)[0];r.effectStack[0].doEffectSingle(n),r.effectStack.splice(0,1);let i=this.game.cardService.playerService.getPlayer(p.Opponent)[0];this.turnOffTargetting(r.getCreatures()),this.turnOffTargetting(i.getCreatures())}turnOnTargetting(n){for(let r=0;r<n.length;r++)n[r].targetableCard=!0}turnOffTargetting(n){for(let r=0;r<n.length;r++)n[r].targetableCard=!1}showDiscardArea(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ae({type:t,selectors:[["app-ai"]],inputs:{hoard:"hoard",game:"game"},outputs:{blockedCreature:"blockedCreature"},decls:10,vars:6,consts:[[1,"cardRow","uiPanel"],[3,"discardedCards"],["id","CardBack","class","cardDimensions","src","assets/back2.webp",4,"ngIf"],["id","CreaturePane",1,"cardRow"],[4,"ngFor","ngForOf"],["id","HpPane",1,"paneBg","whiteFont","uiPanel","centerText","lifePanel"],[3,"wall"],["id","RunSpellPane",4,"ngIf"],["id","CardBack","src","assets/back2.webp",1,"cardDimensions"],[3,"card","cardEmitter"],["class","centerElement combatButton",3,"click",4,"ngIf"],[1,"centerElement","combatButton",3,"click"],["id","RunSpellPane"],[3,"card"],[3,"click"]],template:function(r,i){1&r&&(y(0,"div",0),L(1,"app-discard-pile",1),N(2,WV,1,0,"img",2),y(3,"div",3),N(4,KV,3,2,"div",4),m()(),y(5,"div",5),L(6,"app-wall",6),y(7,"p"),D(8),m()(),N(9,YV,3,2,"div",7)),2&r&&(w(1),C("discardedCards",i.hoard.cardService.getCards(2,1)),w(1),C("ngIf",i.hoard.cardService.getDeck(2).length>0),w(2),C("ngForOf",i.hoard.cardService.getCreatures(1)),w(2),C("wall",i.hoard.wall),w(2),qe("Horde Deck: ",i.hoard.cardService.getDeck(1).length,""),w(1),C("ngIf",null!==i.hoard.currentSpell))},dependencies:[$t,it,dr,uD,dD,fD],styles:[".cardRow[_ngcontent-%COMP%]{display:flex;flex-flow:row;justify-content:center}#Enemies[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap}.lifePanel[_ngcontent-%COMP%]{width:25%;padding:5px}.discardPos[_ngcontent-%COMP%]{position:absolute;top:0;left:0}#HpPane[_ngcontent-%COMP%]{position:fixed;top:4.5rem;right:0}#CreaturePane[_ngcontent-%COMP%]{min-height:150px;left:35%;right:35%}#RunSpellPane[_ngcontent-%COMP%]{position:fixed;right:0;top:35%}"]})}return t})();const{isArray:XV}=Array,{getPrototypeOf:JV,prototype:e3,keys:t3}=Object;function pD(t){if(1===t.length){const e=t[0];if(XV(e))return{args:e,keys:null};if(function n3(t){return t&&"object"==typeof t&&JV(t)===e3}(e)){const n=t3(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:r3}=Array;function gD(t){return Oe(e=>function i3(t,e){return r3(e)?t(...e):t(e)}(t,e))}function mD(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let yD=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(O(Dr),O(dn))};static#t=this.\u0275dir=ie({type:t})}return t})(),Oi=(()=>{class t extends yD{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Dt(t)))(i||t)}}();static#t=this.\u0275dir=ie({type:t,features:[Te]})}return t})();const hr=new K("NgValueAccessor"),a3={provide:hr,useExisting:Le(()=>wp),multi:!0},c3=new K("CompositionEventMode");let wp=(()=>{class t extends yD{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function l3(){const t=Jr()?Jr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(O(Dr),O(dn),O(c3,8))};static#t=this.\u0275dir=ie({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&H("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Ke([a3]),Te]})}return t})();const Nt=new K("NgValidators"),ii=new K("NgAsyncValidators");function TD(t){return null!=t}function ID(t){return Yo(t)?gt(t):t}function kD(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function PD(t,e){return e.map(n=>n(t))}function ND(t){return t.map(e=>function d3(t){return!t.validate}(e)?e:n=>e.validate(n))}function Cp(t){return null!=t?function RD(t){if(!t)return null;const e=t.filter(TD);return 0==e.length?null:function(n){return kD(PD(n,e))}}(ND(t)):null}function Sp(t){return null!=t?function xD(t){if(!t)return null;const e=t.filter(TD);return 0==e.length?null:function(n){return function s3(...t){const e=sm(t),{args:n,keys:r}=pD(t),i=new st(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;on(n[u]).subscribe(ot(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?mD(r,a):a),s.complete())}))}});return e?i.pipe(gD(e)):i}(PD(n,e).map(ID)).pipe(Oe(kD))}}(ND(t)):null}function OD(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function bp(t){return t?Array.isArray(t)?t:[t]:[]}function zc(t,e){return Array.isArray(t)?t.includes(e):t===e}function BD(t,e){const n=bp(e);return bp(t).forEach(i=>{zc(n,i)||n.push(i)}),n}function VD(t,e){return bp(e).filter(n=>!zc(t,n))}class jD{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Cp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Sp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Ut extends jD{get formDirective(){return null}get path(){return null}}class si extends jD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class HD{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let $D=(()=>{class t extends HD{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(O(si,2))};static#t=this.\u0275dir=ie({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Xo("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Te]})}return t})();const _a="VALID",Wc="INVALID",Gs="PENDING",wa="DISABLED";function qc(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class WD{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===_a}get invalid(){return this.status===Wc}get pending(){return this.status==Gs}get disabled(){return this.status===wa}get enabled(){return this.status!==wa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(BD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(BD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(VD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(VD(e,this._rawAsyncValidators))}hasValidator(e){return zc(this._rawValidators,e)}hasAsyncValidator(e){return zc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Gs,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=wa,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=_a,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_a||this.status===Gs)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wa:_a}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Gs,this._hasOwnPendingAsyncValidator=!0;const n=ID(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new oe,this.statusChanges=new oe}_calculateStatus(){return this._allControlsDisabled()?wa:this.errors?Wc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gs)?Gs:this._anyControlsHaveStatus(Wc)?Wc:_a}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){qc(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function m3(t){return Array.isArray(t)?Cp(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function y3(t){return Array.isArray(t)?Sp(t):t||null}(this._rawAsyncValidators)}}const Ws=new K("CallSetDisabledState",{providedIn:"root",factory:()=>Kc}),Kc="always";function Ca(t,e,n=Kc){(function Ip(t,e){const n=function FD(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(OD(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function LD(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(OD(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Qc(e._rawValidators,i),Qc(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function w3(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&qD(t,e)})}(t,e),function S3(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function C3(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&qD(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function _3(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Qc(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function qD(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function YD(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function QD(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const XD=class extends WD{constructor(e=null,n,r){super(function Mp(t){return(qc(t)?t.validators:t)||null}(n),function Ap(t,e){return(qc(e)?e.asyncValidators:t)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qc(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=QD(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){YD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){YD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){QD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},k3={provide:si,useExisting:Le(()=>xp)},t0=(()=>Promise.resolve())();let xp=(()=>{class t extends si{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new XD,this._registered=!1,this.name="",this.update=new oe,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Np(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===wp?n=s:function E3(t){return Object.getPrototypeOf(t.constructor)===Oi}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function Pp(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ca(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){t0.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&function Vs(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(r);t0.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function Zc(t,e){return[...e.path,t]}(n,this._parent):[n]}static#e=this.\u0275fac=function(r){return new(r||t)(O(Ut,9),O(Nt,10),O(ii,10),O(hr,10),O(wc,8),O(Ws,8))};static#t=this.\u0275dir=ie({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ke([k3]),Te,Dn]})}return t})(),r0=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Qn({type:t});static#n=this.\u0275inj=On({})}return t})();const H3={provide:hr,useExisting:Le(()=>Jc),multi:!0};function d0(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Jc=(()=>{class t extends Oi{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=d0(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function $3(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Dt(t)))(i||t)}}();static#t=this.\u0275dir=ie({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&H("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ke([H3]),Te]})}return t})(),h0=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(d0(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(O(dn),O(Dr),O(Jc,9))};static#t=this.\u0275dir=ie({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})();const U3={provide:hr,useExisting:Le(()=>Bp),multi:!0};function f0(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Bp=(()=>{class t extends Oi{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function z3(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Dt(t)))(i||t)}}();static#t=this.\u0275dir=ie({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&H("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ke([U3]),Te]})}return t})(),p0=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(f0(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(f0(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(O(dn),O(Dr),O(Bp,9))};static#t=this.\u0275dir=ie({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})(),J3=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Qn({type:t});static#n=this.\u0275inj=On({imports:[r0]})}return t})(),tj=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Ws,useValue:n.callSetDisabledState??Kc}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Qn({type:t});static#n=this.\u0275inj=On({imports:[J3]})}return t})();function nj(t,e){if(1&t&&(y(0,"option",3),D(1),m()),2&t){const n=e.$implicit;C("value",e.index),w(1),mt(n.name)}}function rj(t,e){if(1&t&&(y(0,"option",3),D(1),m()),2&t){const n=e.$implicit;C("value",e.index),w(1),mt(n.name)}}function ij(t,e){if(1&t&&(y(0,"option",3),D(1),m()),2&t){const n=e.$implicit;C("value",e.index),w(1),mt(n.name)}}let sj=(()=>{class t{constructor(){this.cardService={},this.deckStorage={},this.relicStorage={},this.heroStorage={},this.filterText="",this.selectedCard={},this.selectedRelic={},this.selectedHero={},this.selectedIndex=0,this.selectedRelicIndex=0,this.selectedHeroIndex=0,this.allCards=[],this.allRelics=[],this.allHeroes=[]}ngOnInit(){this.deckStorage=new ni(this.cardService,this.cardService.playerService),this.relicStorage=new Bc(this.cardService),this.heroStorage=new aD(this.cardService),this.allCards=this.deckStorage.getAllCards(p.Any),this.allRelics=this.relicStorage.getAllRelics(),this.allHeroes=this.heroStorage.getHeroes()}addHero(){this.selectedHero=this.allHeroes[this.selectedHeroIndex];let n={};this.selectedHero&&(n=(new Us).copyHero(this.selectedHero),n.cost=new k(0,0,0,0,0,0),n.zone=v.hero,n.owner=p.Self,this.cardService.hero=n)}addCard(){this.selectedCard=this.allCards[this.selectedIndex];let n={};if(this.selectedCard){let r=new Us;switch(this.selectedCard.type){case x.Creature:n=r.copyCreature(this.selectedCard);break;case x.Spell:n=r.copySpell(this.selectedCard);break;case x.Mine:n=r.copyMine(this.selectedCard)}n.cost=new k(0,0,0,0,0,0),n.zone=v.hand,n.owner=p.Self,this.cardService.cardList.push(n)}}addRelic(){let n=this.allRelics[this.selectedRelicIndex],r=this.cardService.playerService.player,i=new Us;r.addRelic(i.copyRelic(n))}filterCards(n){return""==n?this.allCards:this.allCards.filter(r=>r.name.toLowerCase().includes(n.toLowerCase()))}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ae({type:t,selectors:[["app-debug"]],inputs:{cardService:"cardService"},decls:13,vars:6,consts:[[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"click"],[3,"value"]],template:function(r,i){1&r&&(y(0,"select",0),H("ngModelChange",function(o){return i.selectedRelicIndex=o}),N(1,nj,2,2,"option",1),m(),y(2,"button",2),H("click",function(){return i.addRelic()}),D(3,"Add Relic"),m(),L(4,"br"),y(5,"select",0),H("ngModelChange",function(o){return i.selectedIndex=o}),N(6,rj,2,2,"option",1),m(),y(7,"button",2),H("click",function(){return i.addCard()}),D(8,"Add Card"),m(),y(9,"select",0),H("ngModelChange",function(o){return i.selectedHeroIndex=o}),N(10,ij,2,2,"option",1),m(),y(11,"button",2),H("click",function(){return i.addHero()}),D(12,"Add Hero"),m()),2&r&&(C("ngModel",i.selectedRelicIndex),w(1),C("ngForOf",i.allRelics),w(4),C("ngModel",i.selectedIndex),w(1),C("ngForOf",i.allCards),w(3),C("ngModel",i.selectedHeroIndex),w(1),C("ngForOf",i.allHeroes))},dependencies:[$t,h0,p0,Jc,$D,xp]})}return t})();function oj(t,e){if(1&t&&(y(0,"div"),L(1,"app-debug",10),m()),2&t){const n=M();w(1),C("cardService",n.cardService)}}const aj=function(t){return{glow:t}};function lj(t,e){if(1&t){const n=ue();y(0,"button",16),H("click",function(){return W(n),q(M(3).game.phaseManager.nextPhase())}),D(1,"Next Phase"),m()}if(2&t){const n=M(3);C("ngClass",Hn(1,aj,!n.player.hasPlayableCards(n.game)&&n.game.currentTurn===n.player))}}function cj(t,e){if(1&t){const n=ue();y(0,"button",17),H("click",function(){W(n);const i=M(3);return i.game.phaseManager.passTurn(),q(i.hidePopup())}),D(1,"Pass Turn"),m()}}function uj(t,e){if(1&t){const n=ue();y(0,"button",0),H("click",function(){W(n);const i=M(3);return i.game.phaseManager.nextPhase(),q(i.hidePopup())}),D(1," Run Attack "),m()}}function dj(t,e){if(1&t){const n=ue();y(0,"div",12),H("mouseover",function(i){return W(n),q(M(2).showPopup(i))})("mousemove",function(i){return W(n),q(M(2).movePopup(i))})("mouseout",function(){return W(n),q(M(2).hidePopup())}),y(1,"h3"),D(2),m(),y(3,"h3"),D(4),m(),N(5,lj,2,3,"button",13),N(6,cj,2,0,"button",14),N(7,uj,2,0,"button",15),m()}if(2&t){const n=M(2);w(2),qe("Current Turn: ",n.game.currentTurn.name,""),w(2),qe("Current Phase: ",n.game.phaseDisplay,""),w(1),C("ngIf",n.game.currentTurn===n.game.enemy),w(1),C("ngIf",n.isPassableTime()&&!n.player.attacking),w(1),C("ngIf",n.player.attacking)}}function hj(t,e){if(1&t&&(y(0,"div",3),N(1,dj,8,5,"div",11),m()),2&t){const n=M();w(1),C("ngIf",n.player.hp>0&&n.player.cardService.getCards(4,1).length>0)}}function fj(t,e){if(1&t){const n=ue();y(0,"div",18)(1,"h3"),D(2,"You lose!"),m(),y(3,"button",0),H("click",function(){return W(n),q(M().battleDone())}),D(4,"Back to Main Menu"),m()()}}function pj(t,e){if(1&t){const n=ue();y(0,"div",19)(1,"h3"),D(2,"You Win!"),m(),y(3,"button",0),H("click",function(){return W(n),q(M().battleDone())}),D(4,"Get Rewards"),m()()}}let D0=(()=>{class t{constructor(){this.showBattle=!1,this.cardService={},this.player={},this.enemy={},this.game={},this.showDebug=!1,this.doneEvent=new oe,this.skipToReward=new oe,this.popupVisible=!1,this.popupX=100,this.popupY=100}battleDone(){this.showBattle=!1,this.player.hp<=0?this.doneEvent.emit(!0):0===this.enemy.getDeck().length&&this.doneEvent.emit(!1)}isPassableTime(){return(1===this.game.currentPhase||2===this.game.currentPhase||3===this.game.currentPhase||4===this.game.currentPhase||5===this.game.currentPhase)&&this.game.currentTurn===this.game.player}showPopup(n){this.popupVisible=!0,this.updatePopupPosition(n)}movePopup(n){this.updatePopupPosition(n)}hidePopup(){this.popupVisible=!1}fakeWin(){this.cardService.deleteCardsByController(p.Opponent),this.battleDone()}updatePopupPosition(n){this.popupX=n.clientX+10,this.popupY=n.clientY+10}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ae({type:t,selectors:[["app-battle"]],inputs:{cardService:"cardService",player:"player",enemy:"enemy",game:"game"},outputs:{doneEvent:"doneEvent",skipToReward:"skipToReward"},decls:12,vars:8,consts:[[3,"click"],[4,"ngIf"],["id","PhasePanel",4,"ngIf"],["id","PhasePanel"],["class","uiPanel paneBg turnDisplay whiteFont noMargin",4,"ngIf"],["style","padding: 4px;","class","uiPanel paneBg turnDisplay whiteFont noMargin",4,"ngIf"],[1,"fireColors"],[1,"playerArea"],[1,"noMargin",3,"hoard","game"],[1,"noMargin",3,"Player","game"],[3,"cardService"],["class","uiPanel paneBg turnDisplay whiteFont noMargin",3,"mouseover","mousemove","mouseout",4,"ngIf"],[1,"uiPanel","paneBg","turnDisplay","whiteFont","noMargin",3,"mouseover","mousemove","mouseout"],[3,"ngClass","click",4,"ngIf"],["style","margin-left: 2%;",3,"click",4,"ngIf"],[3,"click",4,"ngIf"],[3,"ngClass","click"],[2,"margin-left","2%",3,"click"],[1,"uiPanel","paneBg","turnDisplay","whiteFont","noMargin"],[1,"uiPanel","paneBg","turnDisplay","whiteFont","noMargin",2,"padding","4px"]],template:function(r,i){1&r&&(y(0,"button",0),H("click",function(){return i.showDebug=!i.showDebug}),D(1,"Debug"),m(),N(2,oj,2,1,"div",1),N(3,hj,2,1,"div",2),y(4,"div",3),N(5,fj,5,0,"div",4),N(6,pj,5,0,"div",5),m(),y(7,"div",6)(8,"div",7),L(9,"app-ai",8),m(),y(10,"div",7),L(11,"app-player",9),m()()),2&r&&(w(2),C("ngIf",i.showDebug),w(1),C("ngIf",!i.player.stopPhases&&!i.enemy.stopPhases),w(2),C("ngIf",i.player.hp<=0),w(1),C("ngIf",i.player.cardService.getCards(4,1).length<=0),w(3),C("hoard",i.enemy)("game",i.game),w(2),C("Player",i.player)("game",i.game))},dependencies:[Hs,it,GV,QV,sj],styles:["#PhasePanel[_ngcontent-%COMP%]{padding:5px;position:absolute;bottom:35%;right:0}"]})}return t})();function gj(t,e){if(1&t&&(y(0,"h1",5),D(1),m()),2&t){const n=M();w(1),qe("Wave ",n.waveCount,"")}}function mj(t,e){if(1&t){const n=ue();y(0,"app-deck-picker",6),H("selectDeckEvent",function(i){return W(n),q(M().setPlayerDeck(i))}),m()}if(2&t){const n=M();C("cardService",n.cardService)("enemy",n.enemy)("player",n.player)}}function yj(t,e){if(1&t){const n=ue();y(0,"app-battle",7),H("doneEvent",function(i){return W(n),q(M().battleDoneEvent(i))})("skipToReward",function(){W(n);const i=M();return i.showBattle=!1,i.showReward=!0,q(i.setEnemyDeck())})("enemyReadyEvent",function(){return W(n),q(M().enemyReady())}),m()}if(2&t){const n=M();C("player",n.player)("enemy",n.enemy)("game",n.game)("cardService",n.cardService)}}function vj(t,e){if(1&t){const n=ue();y(0,"app-reward",8),H("proceed",function(){return W(n),q(M().rewardDoneEvent())})("cardSelected",function(i){return W(n),q(M().addCard(i))})("relicSelected",function(i){return W(n),q(M().addRelic(i))}),m()}2&t&&C("cardService",M().cardService)}let _j=(()=>{class t{constructor(){this.cardService={},this.player={},this.enemy={},this.game={},this.showDebug=!1,this.decks={},this.doneEvent=new oe,this.showPicker=!0,this.showBattle=!1,this.showReward=!1,this.difficulty=1,this.increasePull=1,this.extraPulls=0,this.waveCount=1,this.diffMod={}}ngOnInit(){this.cardService&&(this.cardService.makePlayerService(this.player,this.enemy),this.decks=new ni(this.cardService,this.cardService.playerService),this.diffMod=new _p(this.cardService))}setPlayerDeck(n){this.cardService.cardList.push(...n),this.setEnemyDeck(),this.cardService.shuffleDeck(this.cardService.cardList),this.showPicker=!1,this.showBattle=!0,this.player.drawCards(7)}clearEnemyDeck(){this.cardService.deleteCardsByController(p.Opponent),this.cardService.difficultyMods="",this.enemy.wall.hp=20}setEnemyDeck(){this.clearEnemyDeck();let n=this.decks.getEnemyDeck(this.difficulty);this.cardService.cardList.push(...n),this.diffMod.moreAttack(this.difficulty),this.diffMod.moreMinions(5*this.difficulty,T.Gold),this.difficulty%this.increasePull==0&&this.extraPulls++;for(let r=0;r<this.extraPulls;r++)this.diffMod.extraPull();this.cardService.shuffleDeck(this.cardService.cardList)}resetPlayerDiscard(){this.cardService.clearDiscardPile(p.Self)}backToMenu(){this.player=new lt(this.cardService),this.cardService.hero.resetGoldCost(),this.cardService.cardList=[],this.player.relics=[],this.cardService.playerService.player.relics=[],this.player.resetMines(),this.cardService.makePlayerService(this.player,this.enemy),this.cardService.nodePos=0,this.showBattle=!1,this.showPicker=!0,this.cardService.cardList=[],this.player.hp=40,this.player.wall.hp=20,this.game.currentTurn=this.player,this.cardService.currentPos=0,this.cardService.difficultyMods="",this.difficulty=0,this.waveCount=1,this.player.minesPlayed=0,this.player.mineLimits=1}battleDoneEvent(n){if(this.game.phaseManager.resetPhase(),this.player.hp<=0)this.difficulty=0,this.cardService.cardList=[],window.location.reload();else if(0===this.enemy.getDeck().length){this.showBattle=!1,this.showReward=!0,this.player.drawCards(3),this.difficulty++,this.waveCount++,this.enemy.drawPerTurn++;let r=this.player.getCreatures(),i=this.player.relics.filter(s=>"Cosmic Brick"===s.name).length;this.player.wall.hp=20+10*i;for(let s=0;s<r.length;s++){let o=r[s];o.heal(),o.firstTurn=!0,o.awake=!0,o.turned=!1}}}rewardDoneEvent(){this.showReward=!1,this.setEnemyDeck(),this.resetPlayerDiscard(),this.showBattle=!0}addRelic(n){this.player.addRelic(n)}addCard(n){this.cardService.cardList.push(n)}enemyReady(){this.cardService.shuffleDeck(this.cardService.cardList);let n=this.player.relics;this.cardService.checkTriggers(z.StartFight),this.cardService.checkTriggers(z.Start);for(let r=0;r<n.length;r++)this.player.processAbilities(n[r]);this.showPicker=!1,this.showBattle=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ae({type:t,selectors:[["app-survival-mode"]],inputs:{cardService:"cardService",player:"player",enemy:"enemy",game:"game"},outputs:{doneEvent:"doneEvent"},decls:5,vars:4,consts:[["class","centerText whiteFont",4,"ngIf"],[1,"whiteFont"],[3,"cardService","enemy","player","selectDeckEvent",4,"ngIf"],[3,"player","enemy","game","cardService","doneEvent","skipToReward","enemyReadyEvent",4,"ngIf"],[3,"cardService","proceed","cardSelected","relicSelected",4,"ngIf"],[1,"centerText","whiteFont"],[3,"cardService","enemy","player","selectDeckEvent"],[3,"player","enemy","game","cardService","doneEvent","skipToReward","enemyReadyEvent"],[3,"cardService","proceed","cardSelected","relicSelected"]],template:function(r,i){1&r&&(N(0,gj,2,1,"h1",0),y(1,"div",1),N(2,mj,1,3,"app-deck-picker",2),m(),N(3,yj,1,4,"app-battle",3),N(4,vj,1,1,"app-reward",4)),2&r&&(C("ngIf",i.showBattle||i.showReward),w(2),C("ngIf",i.showPicker),w(1),C("ngIf",i.showBattle),w(1),C("ngIf",i.showReward))},dependencies:[it,lD,cD,D0]})}return t})();const E0=function(t){return{fadeIn:t}};function wj(t,e){if(1&t&&(y(0,"div",7)(1,"p"),D(2,"Your Turn"),m()()),2&t){const n=M();C("ngClass",Hn(1,E0,n.game.phaseManager.showTurnPlayer))}}function Cj(t,e){if(1&t&&(y(0,"div",8)(1,"p"),D(2,"Enemy Turn"),m()()),2&t){const n=M();C("ngClass",Hn(1,E0,n.game.phaseManager.showTurnEnemy))}}function Sj(t,e){if(1&t){const n=ue();y(0,"app-tutorial",12),H("tutorialDone",function(){return W(n),q(M(2).tutorialDone())}),m()}}function bj(t,e){if(1&t){const n=ue();y(0,"div",13)(1,"app-deck-picker",14),H("selectDeckEvent",function(i){return W(n),q(M(2).setPlayerDeck(i))}),m(),L(2,"br"),m()}if(2&t){const n=M(2);w(1),C("cardService",n.cardService)("enemy",n.enemy)("player",n.player)}}function Dj(t,e){if(1&t&&(y(0,"div",9)(1,"div",9),N(2,Sj,1,0,"app-tutorial",10),m(),N(3,bj,3,3,"div",11),m()),2&t){const n=M();w(2),C("ngIf",n.showGlossary&&!n.showBattle),w(1),C("ngIf",!(n.showBattle||n.showTutorial||n.showGlossary||n.showReward||n.showMenu||n.showSurvival))}}function Ej(t,e){if(1&t){const n=ue();y(0,"div")(1,"app-interactive-tutorial",12),H("tutorialDone",function(){return W(n),q(M().tutorialDone())}),m()()}}function Mj(t,e){if(1&t){const n=ue();y(0,"div")(1,"app-battle",15),H("doneEvent",function(i){return W(n),q(M().battleDoneEvent(i))})("enemyReadyEvent",function(){return W(n),q(M().enemyReady())}),m()()}if(2&t){const n=M();w(1),C("player",n.player)("enemy",n.enemy)("game",n.game)}}function Aj(t,e){if(1&t){const n=ue();y(0,"div")(1,"app-survival-mode",16),H("doneEvent",function(i){return W(n),q(M().battleDoneEvent(i))})("enemyReadyEvent",function(){return W(n),q(M().enemyReady())}),m()()}if(2&t){const n=M();w(1),C("player",n.player)("enemy",n.enemy)("game",n.game)("cardService",n.cardService)}}function Tj(t,e){if(1&t){const n=ue();y(0,"div")(1,"app-map",17),H("enemyDeckEvent",function(){return W(n),q(M().enemyReady())})("packSelectEvent",function(){return W(n),q(M().packEvent())})("relicSelectEvent",function(){return W(n),q(M().relicEvent())}),m()()}if(2&t){const n=M();w(1),C("player",n.player)("cardService",n.cardService)}}function Ij(t,e){if(1&t){const n=ue();y(0,"app-reward",18),H("proceed",function(){return W(n),q(M().backToMap())})("cardSelected",function(i){return W(n),q(M().addCard(i))})("relicSelected",function(i){return W(n),q(M().addRelic(i))}),m()}if(2&t){const n=M();C("cardService",n.cardService)("factions",n.cardService.selectedFactions)("currentReward",n.currentReward)("rewardMax",n.rewardMax)}}function kj(t,e){if(1&t){const n=ue();y(0,"div")(1,"app-main-menu",19),H("newGameEvent",function(){return W(n),q(M().showMenu=!1)})("glossaryEvent",function(){W(n);const i=M();return i.showGlossary=!0,q(i.showMenu=!1)})("tutorialEvent",function(){W(n);const i=M();return i.showTutorial=!0,q(i.showMenu=!1)})("survivalEvent",function(){W(n);const i=M();return i.showSurvival=!0,q(i.showMenu=!1)})("debugEvent",function(){return W(n),q(M().debugGame())}),m()()}}const Pj=function(t,e){return{"top.px":t,"left.px":e}};function Nj(t,e){if(1&t&&(y(0,"div",20)(1,"p"),D(2),m(),y(3,"p"),D(4),m()()),2&t){const n=M();C("ngStyle",sa(3,Pj,n.popupY,n.popupX)),w(2),mt(n.game.phaseDisplay),w(2),mt(n.game.phaseManager.getPhaseText())}}let M0=(()=>{class t{ngOnInit(){this.player=new lt(this.cardService),this.enemy=new ur(this.cardService),this.cardService.makePlayerService(this.player,this.enemy),this.game=new Vc(this.player,this.enemy,this.cardService),this.cardService.cardList.push(...this.playerDeck),this.player.cardService=this.cardService,this.enemy.cardService=this.cardService,new Bc(this.cardService),this.player.applyStaticAbilities()}constructor(n){this.animationService=n,this.winner=!1,this.spellNeedsTargets=!1,this.showBattle=!1,this.showTutorial=!1,this.showMap=!1,this.showReward=!1,this.showMenu=!0,this.showDebug=!1,this.showGlossary=!1,this.showSurvival=!1,this.rewardMax=1,this.rewardsReceived=0,this.cardService=new Xb,this.player={},this.enemy=new ur(this.cardService),this.game={},this.playerDeck=[],this.drawnCards=[],this.currentReward=Ni.Relic,this.popupVisible=!1,this.popupX=100,this.popupY=100}handleKeyboardE(n){this.canProgressTurn()&&this.game.phaseManager.nextPhase()}handleKeyboardSpace(n){this.canProgressTurn()&&this.game.phaseManager.nextPhase()}canProgressTurn(){return!this.player.stopPhases&&!this.enemy.stopPhases&&this.player.hp>0&&this.enemy.getAllCards().length>0}isPassableTime(){return(1===this.game.currentPhase||2===this.game.currentPhase||3===this.game.currentPhase||4===this.game.currentPhase||5===this.game.currentPhase)&&this.game.currentTurn===this.game.player}setPlayerDeck(n){this.cardService.cardList.push(...n),this.cardService.shuffleDeck(this.cardService.cardList),this.showMap=!0,this.player.drawCards(6);let r=this.cardService.getCards(v.deck,p.Self,x.Mine);for(let i=0;i<r.length;i++){let s=r[i];if(s.factions.includes(S.Colorless)){s.zone=v.hand;break}}}enemyReady(){this.cardService.shuffleDeck(this.cardService.cardList);let n=this.player.relics;this.cardService.checkTriggers(z.StartFight),this.cardService.checkTriggers(z.Start);for(let r=0;r<n.length;r++)this.player.processAbilities(n[r]);this.showMap=!1,this.showBattle=!0}survivalReady(){this.cardService.shuffleDeck(this.cardService.cardList);let n=this.player.relics;this.cardService.checkTriggers(z.StartFight),this.cardService.checkTriggers(z.Start);for(let r=0;r<n.length;r++)this.player.processAbilities(n[r]);this.showSurvival=!0}rewardReady(){this.showReward=!0}rewardEvent(){}packEvent(){this.rewardMax=1,this.currentReward=Ni.Card,this.showReward=!0,this.showMap=!1}relicEvent(){this.rewardMax=1,this.currentReward=Ni.Relic,this.showReward=!0,this.showMap=!1}battleDoneEvent(n){this.cardService.resetCreatures(),this.rewardsReceived=0,this.rewardMax=2;const r=[Ni.Relic,Ni.Card];this.currentReward=r[Math.floor(Math.random()*r.length)],this.showReward=!0,this.showBattle=!1,this.showMap=!1,n?this.randomReward():window.location.reload()}debugGame(){let n=new ni(this.cardService,this.cardService.playerService),r=n.getRandomFactionCards(p.Self);this.setPlayerDeck(r);let i=[];i.push(n.getCardByName("gust",p.Opponent)),i.push(n.getCardByName("haste",p.Opponent));let s=n.getCardByName("squire",p.Opponent);s.zone=v.play,i.push(s),this.cardService.cardList.push(...i),this.enemyReady(),this.game.currentPhase=Q.main,this.showDebug=!0,this.showBattle=!0,this.showMenu=!1,this.showGlossary=!1}randomReward(){this.rewardsReceived<this.rewardMax?(this.showBattle=!1,this.hidePopup(),this.cardService.resetCreatures(),this.showReward=!0):this.backToMap()}backToMap(){this.showMap=!0,this.showBattle=!1,this.showReward=!1,this.popupVisible=!1,this.cardService.difficulty++,this.cardService.reset(),this.cardService.hero.resetGoldCost(),this.cardService.shuffleDeck(this.cardService.cardList),this.cardService.drawInitialHand(),this.game.phaseManager.resetPhase(),this.cardService.resetCreatures(),this.cardService.difficultyMods="",this.player.currentPos++,this.player.minesPlayed=0,this.player.mineLimits=1,this.player.applyStaticAbilities(),this.hidePopup()}backToMenu(){this.player=new lt(this.cardService),this.cardService.hero.resetGoldCost(),this.cardService.cardList=[],this.player.resetMines(),this.cardService.makePlayerService(this.player,this.enemy),this.cardService.nodePos=0,this.showBattle=!1,this.showMap=!1,this.cardService.cardList=[],this.player.hp=40,this.player.wall.hp=20,this.game.currentTurn=this.player,this.game.phaseManager.resetPhase(),this.cardService.currentPos=0,this.cardService.difficultyMods="",this.cardService.difficulty=0,this.popupVisible=!1,this.player.minesPlayed=0,this.player.mineLimits=1,this.hidePopup()}addRelic(n){this.player.addRelic(n)}addCard(n){this.cardService.cardList.push(n)}tutorialDone(){this.showTutorial=!1,this.showGlossary=!1,this.showMenu=!0}showPopup(n){this.popupVisible=!0,this.updatePopupPosition(n)}movePopup(n){this.updatePopupPosition(n)}hidePopup(){this.popupVisible=!1}updatePopupPosition(n){this.popupX=n.clientX+10,this.popupY=n.clientY+10}animateDrawnCards(n){this.drawnCards=n,setTimeout(()=>{this.drawnCards=[]},1e3)}static#e=this.\u0275fac=function(r){return new(r||t)(O(gn))};static#t=this.\u0275cmp=Ae({type:t,selectors:[["app-game"]],hostBindings:function(r,i){1&r&&H("keyup.e",function(o){return i.handleKeyboardE(o)},0,ql)("keyup.space",function(o){return i.handleKeyboardSpace(o)},!1,ql)},inputs:{playerDeck:"playerDeck"},decls:11,vars:13,consts:[[3,"relics","deck","cardService"],["class","turnPopUp whiteFont fadeIn",3,"ngClass",4,"ngIf"],["class","turnPopUp whiteFont",3,"ngClass",4,"ngIf"],["class","",4,"ngIf"],[4,"ngIf"],[3,"cardService","factions","currentReward","rewardMax","proceed","cardSelected","relicSelected",4,"ngIf"],["class","popUp","class","popup",3,"ngStyle",4,"ngIf"],[1,"turnPopUp","whiteFont","fadeIn",3,"ngClass"],[1,"turnPopUp","whiteFont",3,"ngClass"],[1,""],[3,"tutorialDone",4,"ngIf"],["class","centerElement mapColors mainMargins",4,"ngIf"],[3,"tutorialDone"],[1,"centerElement","mapColors","mainMargins"],[3,"cardService","enemy","player","selectDeckEvent"],[3,"player","enemy","game","doneEvent","enemyReadyEvent"],[3,"player","enemy","game","cardService","doneEvent","enemyReadyEvent"],[3,"player","cardService","enemyDeckEvent","packSelectEvent","relicSelectEvent"],[3,"cardService","factions","currentReward","rewardMax","proceed","cardSelected","relicSelected"],[3,"newGameEvent","glossaryEvent","tutorialEvent","survivalEvent","debugEvent"],[1,"popup",3,"ngStyle"]],template:function(r,i){1&r&&(L(0,"app-header",0),N(1,wj,3,3,"div",1),N(2,Cj,3,3,"div",2),N(3,Dj,4,2,"div",3),N(4,Ej,2,0,"div",4),N(5,Mj,2,3,"div",4),N(6,Aj,2,4,"div",4),N(7,Tj,2,2,"div",4),N(8,Ij,1,4,"app-reward",5),N(9,kj,2,0,"div",4),N(10,Nj,5,6,"div",6)),2&r&&(C("relics",i.player.relics)("deck",i.player.getAllCards())("cardService",i.cardService),w(1),C("ngIf",i.game.phaseManager.showTurnPlayer),w(1),C("ngIf",i.game.phaseManager.showTurnEnemy),w(1),C("ngIf",!i.showBattle&&!i.showMap&&!i.showReward),w(1),C("ngIf",i.showTutorial),w(1),C("ngIf",i.showBattle),w(1),C("ngIf",i.showSurvival),w(1),C("ngIf",i.showMap),w(1),C("ngIf",i.showReward),w(1),C("ngIf",i.showMenu),w(1),C("ngIf",i.popupVisible))},dependencies:[Hs,it,$s,NB,lD,sD,GB,WB,cD,iV,D0,_j],styles:[".displayRow[_ngcontent-%COMP%]{display:flex;flex-flow:row;justify-content:space-between}.turnDisplay[_ngcontent-%COMP%]{position:fixed;padding:10px;bottom:25%;right:0;top:50%}.glow[_ngcontent-%COMP%]{box-shadow:0 0 25px 8px #baa237e6}@media screen and (min-width: 1300px){.turnDisplay[_ngcontent-%COMP%]{position:fixed;padding:10px;bottom:auto;right:0;top:50%}}@media screen and (max-width: 1100px){.turnDisplay[_ngcontent-%COMP%]{position:fixed;bottom:auto;top:40%}}.turnPopUp[_ngcontent-%COMP%]{position:absolute;border:2px solid white;background-color:#000;width:95%;left:2.5%;right:2.5%;text-align:center;top:50%;padding:3px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}.fighting[_ngcontent-%COMP%]{transform:translateY(50px)}.attacker[_ngcontent-%COMP%], .blocker[_ngcontent-%COMP%]{display:inline-block;transition:transform .3s ease-in-out}.attacker[_ngcontent-%COMP%]{border-color:#f6a5a5}.blocker[_ngcontent-%COMP%]{border-color:#6b81ff}.battleBg[_ngcontent-%COMP%]{background-color:#90ff7991}.fireGradient[_ngcontent-%COMP%]{background-image:linear-gradient(rgb(8,8,8),rgb(141,79,42));background-size:100% 200%;animation:_ngcontent-%COMP%_fireFlare 30s infinite ease-in-out}@keyframes _ngcontent-%COMP%_fireFlare{0%{background-position:0% 0%;background-image:linear-gradient(rgb(8,8,8),rgb(141,79,42))}25%{background-position:0% 100%;background-image:linear-gradient(rgb(8,8,8),rgb(192,88,52))}50%{background-position:0% 0%;background-image:linear-gradient(rgb(8,8,8),rgb(171,69,32))}75%{background-position:0% 100%;background-image:linear-gradient(rgb(8,8,8),rgb(141,79,42))}to{background-position:0% 0%;background-image:linear-gradient(rgb(8,8,8),rgb(192,88,52))}}@keyframes _ngcontent-%COMP%_flip{0%{transform:perspective(600px) rotateY(0)}50%{transform:perspective(600px) rotateY(180deg)}to{transform:perspective(600px) rotateY(360deg)}}@keyframes _ngcontent-%COMP%_moveToPlayArea{0%{transform:translate(0)}to{transform:translate(300px,200px)}}.card[_ngcontent-%COMP%]{transition:transform 1s;transform-style:preserve-3d}.flip[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_flip 1s forwards}.move[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_moveToPlayArea 1s forwards}"],data:{animation:[gn.drawCard]}})}return t})(),Rj=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ae({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&L(0,"app-game")},dependencies:[M0]})}return t})();function jp(...t){const e=ao(t),n=sm(t),{args:r,keys:i}=pD(t);if(0===r.length)return gt([],e);const s=new st(function Oj(t,e,n=Hr){return r=>{A0(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)A0(e,()=>{const c=gt(t[l],e);let u=!1;c.subscribe(ot(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>mD(i,o):Hr));return n?s.pipe(gD(n)):s}function A0(t,e,n){t?yr(n,t,e):e()}const eu=io(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Hp(...t){return function Fj(){return zi(1)}()(gt(t,ao(t)))}function T0(t){return new st(e=>{on(t()).subscribe(e)})}function ba(t,e){const n=Re(t)?t:()=>t,r=i=>i.error(n());return new st(e?i=>e.schedule(r,0,i):r)}function $p(){return ut((t,e)=>{let n=null;t._refCount++;const r=ot(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class I0 extends st{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,zg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new sn;const n=this.getSubject();e.add(this.source.subscribe(ot(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=sn.EMPTY)}return e}refCount(){return $p()(this)}}function qs(t){return t<=0?()=>Kn:ut((e,n)=>{let r=0;e.subscribe(ot(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function oi(t,e){return ut((n,r)=>{let i=0;n.subscribe(ot(r,s=>t.call(e,s,i++)&&r.next(s)))})}function tu(t){return ut((e,n)=>{let r=!1;e.subscribe(ot(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function k0(t=Bj){return ut((e,n)=>{let r=!1;e.subscribe(ot(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Bj(){return new eu}function Li(t,e){const n=arguments.length>=2;return r=>r.pipe(t?oi((i,s)=>t(i,s,r)):Hr,qs(1),n?tu(e):k0(()=>new eu))}function Da(t,e){return Re(e)?_t(t,e,1):_t(t,1)}function Rt(t,e,n){const r=Re(t)||e||n?{next:t,error:e,complete:n}:t;return r?ut((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ot(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Hr}function Bi(t){return ut((e,n)=>{let s,r=null,i=!1;r=e.subscribe(ot(n,void 0,void 0,o=>{s=on(t(o,Bi(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Up(t){return t<=0?()=>Kn:ut((e,n)=>{let r=[];e.subscribe(ot(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function zp(t){return ut((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const he="primary",Ea=Symbol("RouteTitle");class zj{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ks(t){return new zj(t)}function Gj(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function fr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!P0(t[i],e[i]))return!1;return!0}function P0(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function N0(t){return t.length>0?t[t.length-1]:null}function ai(t){return function xj(t){return!!t&&(t instanceof st||Re(t.lift)&&Re(t.subscribe))}(t)?t:Yo(t)?gt(Promise.resolve(t)):se(t)}const qj={exact:function O0(t,e,n){if(!Vi(t.segments,e.segments)||!nu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!O0(t.children[r],e.children[r],n))return!1;return!0},subset:F0},R0={exact:function Kj(t,e){return fr(t,e)},subset:function Zj(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>P0(t[n],e[n]))},ignored:()=>!0};function x0(t,e,n){return qj[n.paths](t.root,e.root,n.matrixParams)&&R0[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function F0(t,e,n){return L0(t,e,e.segments,n)}function L0(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Vi(i,n)||e.hasChildren()||!nu(i,n,r))}if(t.segments.length===n.length){if(!Vi(t.segments,n)||!nu(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!F0(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Vi(t.segments,i)&&nu(t.segments,i,r)&&t.children[he])&&L0(t.children[he],e,s,r)}}function nu(t,e,n){return e.every((r,i)=>R0[n](t[i].parameters,r.parameters))}class Zs{constructor(e=new Ne([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ks(this.queryParams)),this._queryParamMap}toString(){return Xj.serialize(this)}}class Ne{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ru(this)}}class Ma{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ks(this.parameters)),this._parameterMap}toString(){return j0(this)}}function Vi(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Aa=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:function(){return new Gp},providedIn:"root"})}return t})();class Gp{parse(e){const n=new cH(e);return new Zs(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Ta(e.root,!0)}`,r=function tH(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${iu(n)}=${iu(i)}`).join("&"):`${iu(n)}=${iu(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function Jj(t){return encodeURI(t)}(e.fragment)}`:""}`}}const Xj=new Gp;function ru(t){return t.segments.map(e=>j0(e)).join("/")}function Ta(t,e){if(!t.hasChildren())return ru(t);if(e){const n=t.children[he]?Ta(t.children[he],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==he&&r.push(`${i}:${Ta(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Qj(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===he&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==he&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===he?[Ta(t.children[he],!1)]:[`${i}:${Ta(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[he]?`${ru(t)}/${n[0]}`:`${ru(t)}/(${n.join("//")})`}}function B0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function iu(t){return B0(t).replace(/%3B/gi,";")}function Wp(t){return B0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function su(t){return decodeURIComponent(t)}function V0(t){return su(t.replace(/\+/g,"%20"))}function j0(t){return`${Wp(t.path)}${function eH(t){return Object.keys(t).map(e=>`;${Wp(e)}=${Wp(t[e])}`).join("")}(t.parameters)}`}const nH=/^[^\/()?;#]+/;function qp(t){const e=t.match(nH);return e?e[0]:""}const rH=/^[^\/()?;=#]+/,sH=/^[^=?&#]+/,aH=/^[^&#]+/;class cH{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ne([],{}):new Ne([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[he]=new Ne(e,n)),r}parseSegment(){const e=qp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(e),new Ma(su(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function iH(t){const e=t.match(rH);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=qp(this.remaining);i&&(r=i,this.capture(r))}e[su(n)]=su(r)}parseQueryParam(e){const n=function oH(t){const e=t.match(sH);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function lH(t){const e=t.match(aH);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=V0(n),s=V0(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=qp(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new P(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=he);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[he]:new Ne([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new P(4011,!1)}}function H0(t){return t.segments.length>0?new Ne([],{[he]:t}):t}function $0(t){const e={};for(const r of Object.keys(t.children)){const s=$0(t.children[r]);if(r===he&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function uH(t){if(1===t.numberOfChildren&&t.children[he]){const e=t.children[he];return new Ne(t.segments.concat(e.segments),e.children)}return t}(new Ne(t.segments,e))}function ji(t){return t instanceof Zs}function U0(t){let e;const i=H0(function n(s){const o={};for(const l of s.children){const c=n(l);o[l.outlet]=c}const a=new Ne(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function z0(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return Kp(i,i,i,n,r);const s=function hH(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new W0(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new W0(n,e,r)}(e);if(s.toRoot())return Kp(i,i,new Ne([],{}),n,r);const o=function fH(t,e,n){if(t.isAbsolute)return new au(e,!0,0);if(!n)return new au(e,!1,NaN);if(null===n.parent)return new au(n,!0,0);const r=ou(t.commands[0])?0:1;return function pH(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new P(4005,!1);i=r.segments.length}return new au(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?ka(o.segmentGroup,o.index,s.commands):q0(o.segmentGroup,o.index,s.commands);return Kp(i,o.segmentGroup,a,n,r)}function ou(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ia(t){return"object"==typeof t&&null!=t&&t.outlets}function Kp(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),o=t===e?n:G0(t,e,n);const a=H0($0(o));return new Zs(a,s,i)}function G0(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:G0(s,e,n)}),new Ne(t.segments,r)}class W0{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ou(r[0]))throw new P(4003,!1);const i=r.find(Ia);if(i&&i!==N0(r))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class au{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function q0(t,e,n){if(t||(t=new Ne([],{})),0===t.segments.length&&t.hasChildren())return ka(t,e,n);const r=function mH(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Ia(a))break;const l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!Z0(l,c,o))return s;r+=2}else{if(!Z0(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Ne(t.segments.slice(0,r.pathIndex),{});return s.children[he]=new Ne(t.segments.slice(r.pathIndex),t.children),ka(s,0,i)}return r.match&&0===i.length?new Ne(t.segments,{}):r.match&&!t.hasChildren()?Zp(t,e,n):r.match?ka(t,0,i):Zp(t,e,n)}function ka(t,e,n){if(0===n.length)return new Ne(t.segments,{});{const r=function gH(t){return Ia(t[0])?t[0].outlets:{[he]:t}}(n),i={};if(Object.keys(r).some(s=>s!==he)&&t.children[he]&&1===t.numberOfChildren&&0===t.children[he].segments.length){const s=ka(t.children[he],e,n);return new Ne(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=q0(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Ne(t.segments,i)}}function Zp(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Ia(s)){const l=yH(s.outlets);return new Ne(r,l)}if(0===i&&ou(n[0])){r.push(new Ma(t.segments[e].path,K0(n[0]))),i++;continue}const o=Ia(s)?s.outlets[he]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&ou(a)?(r.push(new Ma(o,K0(a))),i+=2):(r.push(new Ma(o,{})),i++)}return new Ne(r,{})}function yH(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=Zp(new Ne([],{}),0,r))}),e}function K0(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Z0(t,e,n){return t==n.path&&fr(e,n.parameters)}const Pa="imperative";class pr{constructor(e,n){this.id=e,this.url=n}}class lu extends pr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class li extends pr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Na extends pr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ys extends pr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class cu extends pr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Y0 extends pr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vH extends pr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _H extends pr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wH extends pr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CH extends pr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SH{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bH{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class DH{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EH{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MH{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AH{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Q0{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Yp{}class Qp{constructor(e){this.url=e}}class TH{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ra,this.attachRef=null}}let Ra=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new TH,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class X0{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Xp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Xp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Jp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Jp(e,this._root).map(n=>n.value)}}function Xp(t,e){if(t===e.value)return e;for(const n of e.children){const r=Xp(t,n);if(r)return r}return null}function Jp(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Jp(t,n);if(r.length)return r.unshift(e),r}return[]}class Lr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Qs(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class J0 extends X0{constructor(e,n){super(e),this.snapshot=n,eg(this,e)}toString(){return this.snapshot.toString()}}function eE(t,e){const n=function IH(t,e){const o=new uu([],{},{},"",{},he,e,null,{});return new nE("",new Lr(o,[]))}(0,e),r=new wn([new Ma("",{})]),i=new wn({}),s=new wn({}),o=new wn({}),a=new wn(""),l=new Xs(r,i,o,a,s,he,e,n.root);return l.snapshot=n.root,new J0(new Lr(l,[]),n)}class Xs{constructor(e,n,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Oe(c=>c[Ea]))??se(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Oe(e=>Ks(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Oe(e=>Ks(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function tE(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function kH(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class uu{get title(){return this.data?.[Ea]}constructor(e,n,r,i,s,o,a,l,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ks(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ks(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class nE extends X0{constructor(e,n){super(n),this.url=e,eg(this,n)}toString(){return rE(this._root)}}function eg(t,e){e.value._routerState=t,e.children.forEach(n=>eg(t,n))}function rE(t){const e=t.children.length>0?` { ${t.children.map(rE).join(", ")} } `:"";return`${t.value}${e}`}function tg(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,fr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),fr(e.params,n.params)||t.paramsSubject.next(n.params),function Wj(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!fr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),fr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ng(t,e){const n=fr(t.params,e.params)&&function Yj(t,e){return Vi(t,e)&&t.every((n,r)=>fr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||ng(t.parent,e.parent))}let iE=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=he,this.activateEvents=new oe,this.deactivateEvents=new oe,this.attachEvents=new oe,this.detachEvents=new oe,this.parentContexts=G(Ra),this.location=G($n),this.changeDetector=G(wc),this.environmentInjector=G(Mn),this.inputBinder=G(du,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new P(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new PH(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=ie({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Dn]})}return t})();class PH{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Xs?this.route:e===Ra?this.childContexts:this.parent.get(e,n)}}const du=new K("");let sE=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=jp([r.queryParams,r.params,r.data]).pipe(Zn(([s,o,a],l)=>(a={...s,...o,...a},0===l?se(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function oF(t){const e=_e(t);if(!e)return null;const n=new Go(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac})}return t})();function xa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function RH(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return xa(t,r,i);return xa(t,r)})}(t,e,n);return new Lr(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>xa(t,a)),o}}const r=function xH(t){return new Xs(new wn(t.url),new wn(t.params),new wn(t.queryParams),new wn(t.fragment),new wn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>xa(t,s));return new Lr(r,i)}}const rg="ngNavigationCancelingError";function oE(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=ji(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=aE(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function aE(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[rg]=!0,r.cancellationCode=e,n&&(r.url=n),r}function lE(t){return t&&t[rg]}let cE=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ae({type:t,selectors:[["ng-component"]],standalone:!0,features:[AC],decls:1,vars:0,template:function(r,i){1&r&&L(0,"router-outlet")},dependencies:[iE],encapsulation:2})}return t})();function ig(t){const e=t.children&&t.children.map(ig),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==he&&(n.component=cE),n}function Wn(t){return t.outlet||he}function Oa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class $H{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),tg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Qs(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Qs(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Qs(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Qs(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new AH(s.value.snapshot))}),e.children.length&&this.forwardEvent(new EH(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(tg(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),tg(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Oa(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class uE{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class hu{constructor(e,n){this.component=e,this.route=n}}function UH(t,e,n){const r=t._root;return Fa(r,e?e._root:null,n,[r.value])}function Js(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function _1(t){return null!==Ya(t)}(t)?e.get(t):t:r}function Fa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Qs(e);return t.children.forEach(o=>{(function GH(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function WH(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Vi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Vi(t.url,e.url)||!fr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ng(t,e)||!fr(t.queryParams,e.queryParams);default:return!ng(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new uE(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Fa(t,e,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new hu(a.outlet.component,o))}else o&&La(e,a,i),i.canActivateChecks.push(new uE(r)),Fa(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>La(a,n.getContext(o),i)),i}function La(t,e,n){const r=Qs(t),i=t.value;Object.entries(r).forEach(([s,o])=>{La(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new hu(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ba(t){return"function"==typeof t}function dE(t){return t instanceof eu||"EmptyError"===t?.name}const fu=Symbol("INITIAL_VALUE");function eo(){return Zn(t=>jp(t.map(e=>e.pipe(qs(1),function Lj(...t){const e=ao(t);return ut((n,r)=>{(e?Hp(t,n,e):Hp(t,n)).subscribe(r)})}(fu)))).pipe(Oe(e=>{for(const n of e)if(!0!==n){if(n===fu)return fu;if(!1===n||n instanceof Zs)return n}return!0}),oi(e=>e!==fu),qs(1)))}function hE(t){return function CM(...t){return Hg(t)}(Rt(e=>{if(ji(e))throw oE(0,e)}),Oe(e=>!0===e))}class pu{constructor(e){this.segmentGroup=e||null}}class fE{constructor(e){this.urlTree=e}}function to(t){return ba(new pu(t))}function pE(t){return ba(new fE(t))}class h${constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new P(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return se(r);if(i.numberOfChildren>1||!i.children[he])return ba(new P(4e3,!1));i=i.children[he]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Zs(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new Ne(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new P(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const sg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function f$(t,e,n,r,i){const s=og(t,e,n);return s.matched?(r=function FH(t,e){return t.providers&&!t._injector&&(t._injector=af(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function c$(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?se(i.map(o=>{const a=Js(o,t);return ai(function XH(t){return t&&Ba(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(eo(),hE()):se(!0)}(r,e,n).pipe(Oe(o=>!0===o?s:{...sg}))):se(s)}function og(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...sg}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Gj)(n,t,e);if(!i)return{...sg};const s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function gE(t,e,n,r){return n.length>0&&function m$(t,e,n){return n.some(r=>gu(t,e,r)&&Wn(r)!==he)}(t,n,r)?{segmentGroup:new Ne(e,g$(r,new Ne(n,t.children))),slicedSegments:[]}:0===n.length&&function y$(t,e,n){return n.some(r=>gu(t,e,r))}(t,n,r)?{segmentGroup:new Ne(t.segments,p$(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ne(t.segments,t.children),slicedSegments:n}}function p$(t,e,n,r,i){const s={};for(const o of r)if(gu(t,n,o)&&!i[Wn(o)]){const a=new Ne([],{});s[Wn(o)]=a}return{...i,...s}}function g$(t,e){const n={};n[he]=e;for(const r of t)if(""===r.path&&Wn(r)!==he){const i=new Ne([],{});n[Wn(r)]=i}return n}function gu(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class C${constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new h$(this.urlSerializer,this.urlTree)}noMatchError(e){return new P(4002,!1)}recognize(){const e=gE(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,he).pipe(Bi(n=>{if(n instanceof fE)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof pu?this.noMatchError(n):n}),Oe(n=>{const r=new uu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},he,this.rootComponentType,null,{}),i=new Lr(r,n),s=new nE("",i),o=function dH(t,e,n=null,r=null){return z0(U0(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,he).pipe(Bi(r=>{throw r instanceof pu?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=tE(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return gt(i).pipe(Da(s=>{const o=r.children[s],a=function jH(t,e){const n=t.filter(r=>Wn(r)===e);return n.push(...t.filter(r=>Wn(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function jj(t,e){return ut(function Vj(t,e,n,r,i){return(s,o)=>{let a=n,l=e,c=0;s.subscribe(ot(o,u=>{const d=c++;l=a?t(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),tu(null),function Hj(t,e){const n=arguments.length>=2;return r=>r.pipe(t?oi((i,s)=>t(i,s,r)):Hr,Up(1),n?tu(e):k0(()=>new eu))}(),_t(s=>{if(null===s)return to(r);const o=mE(s);return function S$(t){t.sort((e,n)=>e.value.outlet===he?-1:n.value.outlet===he?1:e.value.outlet.localeCompare(n.value.outlet))}(o),se(o)}))}processSegment(e,n,r,i,s,o){return gt(n).pipe(Da(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Bi(l=>{if(l instanceof pu)return se(null);throw l}))),Li(a=>!!a),Bi(a=>{if(dE(a))return function _$(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?se([]):to(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function v$(t,e,n,r){return!!(Wn(t)===r||r!==he&&gu(e,n,t))&&("**"===t.path||og(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):to(i):to(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?pE(s):this.applyRedirects.lineralizeSegments(r,s).pipe(_t(o=>{const a=new Ne(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=og(n,i,s);if(!a)return to(n);const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?pE(d):this.applyRedirects.lineralizeSegments(i,d).pipe(_t(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const l=i.length>0?N0(i).parameters:{};a=se({snapshot:new uu(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yE(r),Wn(r),r.component??r._loadedComponent??null,r,vE(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=f$(n,r,i,e).pipe(Oe(({matched:l,consumedSegments:c,remainingSegments:u,parameters:d})=>l?{snapshot:new uu(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yE(r),Wn(r),r.component??r._loadedComponent??null,r,vE(r)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(Zn(l=>null===l?to(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Zn(({routes:c})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=l,{segmentGroup:g,slicedSegments:_}=gE(n,h,f,c);if(0===_.length&&g.hasChildren())return this.processChildren(u,c,g).pipe(Oe(I=>null===I?null:[new Lr(d,I)]));if(0===c.length&&0===_.length)return se([new Lr(d,[])]);const A=Wn(r)===s;return this.processSegment(u,c,g,_,A?he:s,!0).pipe(Oe(I=>[new Lr(d,I)]))}))))}getChildConfig(e,n,r){return n.children?se({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?se({routes:n._loadedRoutes,injector:n._loadedInjector}):function l$(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?se(!0):se(i.map(o=>{const a=Js(o,t);return ai(function KH(t){return t&&Ba(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(eo(),hE())}(e,n,r).pipe(_t(i=>i?this.configLoader.loadChildren(e,n).pipe(Rt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function d$(t){return ba(aE(!1,3))}())):se({routes:[],injector:e})}}function b$(t){const e=t.value.routeConfig;return e&&""===e.path}function mE(t){const e=[],n=new Set;for(const r of t){if(!b$(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=mE(r.children);e.push(new Lr(r.value,i))}return e.filter(r=>!n.has(r))}function yE(t){return t.data||{}}function vE(t){return t.resolve||{}}function _E(t){return"string"==typeof t.title||null===t.title}function ag(t){return Zn(e=>{const n=t(e);return n?gt(n).pipe(Oe(()=>e)):se(e)})}const no=new K("ROUTES");let lg=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=G(SS)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return se(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=ai(n.loadComponent()).pipe(Oe(wE),Rt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),zp(()=>{this.componentLoaders.delete(n)})),i=new I0(r,()=>new _n).pipe($p());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return se({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function k$(t,e,n,r){return ai(t.loadChildren()).pipe(Oe(wE),_t(i=>i instanceof EC||Array.isArray(i)?se(i):gt(e.compileModuleAsync(i))),Oe(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(no,[],{optional:!0,self:!0}).flat()),{routes:o.map(ig),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(zp(()=>{this.childrenLoaders.delete(r)})),o=new I0(s,()=>new _n).pipe($p());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function wE(t){return function P$(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let mu=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new _n,this.transitionAbortSubject=new _n,this.configLoader=G(lg),this.environmentInjector=G(Mn),this.urlSerializer=G(Aa),this.rootContexts=G(Ra),this.inputBindingEnabled=null!==G(du,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>se(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new bH(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new SH(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new wn({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Pa,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(oi(s=>0!==s.id),Oe(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),Zn(s=>{this.currentTransition=s;let o=!1,a=!1;return se(s).pipe(Rt(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Zn(l=>{const c=l.currentBrowserUrl.toString(),u=!n.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new Ys(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),Kn}if(n.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return se(l).pipe(Zn(h=>{const f=this.transitions?.getValue();return this.events.next(new lu(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Kn:Promise.resolve(h)}),function D$(t,e,n,r,i,s){return _t(o=>function w$(t,e,n,r,i,s,o="emptyOnly"){return new C$(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Oe(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Rt(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new Y0(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:f,source:g,restoredState:_,extras:A}=l,I=new lu(h,this.urlSerializer.serialize(f),g,_);this.events.next(I);const b=eE(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:b,urlAfterRedirects:f,extras:{...A,skipLocationChange:!1,replaceUrl:!1}},se(s)}{const h="";return this.events.next(new Ys(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),Kn}}),Rt(l=>{const c=new vH(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Oe(l=>(this.currentTransition=s={...l,guards:UH(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function e$(t,e){return _t(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?se({...n,guardsResult:!0}):function t$(t,e,n,r){return gt(t).pipe(_t(i=>function a$(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?se(s.map(a=>{const l=Oa(e)??i,c=Js(a,l);return ai(function QH(t){return t&&Ba(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):l.runInContext(()=>c(t,e,n,r))).pipe(Li())})).pipe(eo()):se(!0)}(i.component,i.route,n,e,r)),Li(i=>!0!==i,!0))}(o,r,i,t).pipe(_t(a=>a&&function qH(t){return"boolean"==typeof t}(a)?function n$(t,e,n,r){return gt(e).pipe(Da(i=>Hp(function i$(t,e){return null!==t&&e&&e(new DH(t)),se(!0)}(i.route.parent,r),function r$(t,e){return null!==t&&e&&e(new MH(t)),se(!0)}(i.route,r),function o$(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function zH(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>T0(()=>se(o.guards.map(l=>{const c=Oa(o.node)??n,u=Js(l,c);return ai(function YH(t){return t&&Ba(t.canActivateChild)}(u)?u.canActivateChild(r,t):c.runInContext(()=>u(r,t))).pipe(Li())})).pipe(eo())));return se(s).pipe(eo())}(t,i.path,n),function s$(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return se(!0);const i=r.map(s=>T0(()=>{const o=Oa(e)??n,a=Js(s,o);return ai(function ZH(t){return t&&Ba(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Li())}));return se(i).pipe(eo())}(t,i.route,n))),Li(i=>!0!==i,!0))}(r,s,t,e):se(a)),Oe(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Rt(l=>{if(s.guardsResult=l.guardsResult,ji(l.guardsResult))throw oE(0,l.guardsResult);const c=new _H(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),oi(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),ag(l=>{if(l.guards.canActivateChecks.length)return se(l).pipe(Rt(c=>{const u=new wH(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Zn(c=>{let u=!1;return se(c).pipe(function E$(t,e){return _t(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return se(n);let s=0;return gt(i).pipe(Da(o=>function M$(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!_E(i)&&(s[Ea]=i.title),function A$(t,e,n,r){const i=function T$(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return se({});const s={};return gt(i).pipe(_t(o=>function I$(t,e,n,r){const i=Oa(e)??r,s=Js(t,i);return ai(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Li(),Rt(a=>{s[o]=a}))),Up(1),function $j(t){return Oe(()=>t)}(s),Bi(o=>dE(o)?Kn:ba(o)))}(s,t,e,r).pipe(Oe(o=>(t._resolvedData=o,t.data=tE(t,n).resolve,i&&_E(i)&&(t.data[Ea]=i.title),null)))}(o.route,r,t,e)),Rt(()=>s++),Up(1),_t(o=>s===i.length?se(n):Kn))})}(n.paramsInheritanceStrategy,this.environmentInjector),Rt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",2)}}))}),Rt(c=>{const u=new CH(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),ag(l=>{const c=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Rt(h=>{u.component=h}),Oe(()=>{})));for(const h of u.children)d.push(...c(h));return d};return jp(c(l.targetSnapshot.root)).pipe(tu(),qs(1))}),ag(()=>this.afterPreactivation()),Oe(l=>{const c=function NH(t,e,n){const r=xa(t,e._root,n?n._root:void 0);return new J0(r,e)}(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},s}),Rt(()=>{this.events.next(new Yp)}),((t,e,n,r)=>Oe(i=>(new $H(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),qs(1),Rt({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new li(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),n.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),function Uj(t){return ut((e,n)=>{on(t).subscribe(ot(n,()=>n.complete(),xu)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Rt(l=>{throw l}))),zp(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Bi(l=>{if(a=!0,lE(l))this.events.next(new Na(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function OH(t){return lE(t)&&ji(t.url)}(l)?this.events.next(new Qp(l.url)):s.resolve(!1);else{this.events.next(new cu(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(l))}catch(c){s.reject(c)}}return Kn}))}))}cancelNavigationTransition(n,r,i){const s=new Na(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function CE(t){return t!==Pa}let SE=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===he);return r}getResolvedTitleForRoute(n){return n.data[Ea]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:function(){return G(N$)},providedIn:"root"})}return t})(),N$=(()=>{class t extends SE{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(Z(Hb))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),R$=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:function(){return G(O$)},providedIn:"root"})}return t})();class x${shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let O$=(()=>{class t extends x${static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Dt(t)))(i||t)}}();static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const yu=new K("",{providedIn:"root",factory:()=>({})});let F$=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:function(){return G(L$)},providedIn:"root"})}return t})(),L$=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Va=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Va||{});function bE(t,e){t.events.pipe(oi(n=>n instanceof li||n instanceof Na||n instanceof cu||n instanceof Ys),Oe(n=>n instanceof li||n instanceof Ys?Va.COMPLETE:n instanceof Na&&(0===n.code||1===n.code)?Va.REDIRECTING:Va.FAILED),oi(n=>n!==Va.REDIRECTING),qs(1)).subscribe(()=>{e()})}function B$(t){throw t}function V$(t,e,n){return e.parse("/")}const j$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},H$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Pn=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=G(wS),this.isNgZoneEnabled=!1,this._events=new _n,this.options=G(yu,{optional:!0})||{},this.pendingTasks=G(CS),this.errorHandler=this.options.errorHandler||B$,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||V$,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=G(F$),this.routeReuseStrategy=G(R$),this.titleStrategy=G(SE),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=G(no,{optional:!0})?.flat()??[],this.navigationTransitions=G(mu),this.urlSerializer=G(Aa),this.location=G(Vf),this.componentInputBindingEnabled=!!G(du,{optional:!0}),this.eventsSubscription=new sn,this.isNgZoneEnabled=G(xe)instanceof xe&&xe.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Zs,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=eE(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(DE(r)&&this._events.next(r));if(r instanceof lu)CE(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Ys)this.rawUrlTree=i.rawUrl;else if(r instanceof Y0){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof Yp)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Na)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof Qp){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||CE(i.source)};this.scheduleNavigation(s,Pa,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof cu&&this.restoreHistory(i,!0),r instanceof li&&(this.navigated=!0),DE(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Pa,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(ig),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:o;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{d=U0(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return z0(d,n,u,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ji(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Pa,null,r)}navigate(n,r={skipLocationChange:!1}){return function $$(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new P(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...j$}:!1===r?{...H$}:r,ji(n))return x0(this.currentUrlTree,n,i);const s=this.parseUrl(n);return x0(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,l=h});const u=this.pendingTasks.add();return bE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function DE(t){return!(t instanceof Yp||t instanceof Qp)}class EE{}let G$=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(oi(n=>n instanceof li),Da(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=af(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return gt(i).pipe(zi())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):se(null);const s=i.pipe(_t(o=>null===o?se(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?gt([s,this.loader.loadComponent(r)]).pipe(zi()):s})}static#e=this.\u0275fac=function(r){return new(r||t)(Z(Pn),Z(SS),Z(Mn),Z(EE),Z(lg))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const ug=new K("");let ME=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof lu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof li?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Ys&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Q0&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Q0(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function g_(){throw new Error("invalid")}()};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac})}return t})();function Br(t,e){return{\u0275kind:t,\u0275providers:e}}function TE(){const t=G(hn);return e=>{const n=t.get(Ii);if(e!==n.components[0])return;const r=t.get(Pn),i=t.get(IE);1===t.get(dg)&&r.initialNavigation(),t.get(kE,null,ge.Optional)?.setUpPreloading(),t.get(ug,null,ge.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const IE=new K("",{factory:()=>new _n}),dg=new K("",{providedIn:"root",factory:()=>1}),kE=new K("");function Z$(t){return Br(0,[{provide:kE,useExisting:G$},{provide:EE,useExisting:t}])}const PE=new K("ROUTER_FORROOT_GUARD"),Q$=[Vf,{provide:Aa,useClass:Gp},Pn,Ra,{provide:Xs,useFactory:function AE(t){return t.routerState.root},deps:[Pn]},lg,[]];function X$(){return new IS("Router",Pn)}let NE=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[Q$,[],{provide:no,multi:!0,useValue:n},{provide:PE,useFactory:nU,deps:[[Pn,new wl,new Cl]]},{provide:yu,useValue:r||{}},r?.useHash?{provide:Pi,useClass:dF}:{provide:Pi,useClass:sb},{provide:ug,useFactory:()=>{const t=G(k2),e=G(xe),n=G(yu),r=G(mu),i=G(Aa);return n.scrollOffset&&t.setOffset(n.scrollOffset),new ME(i,r,t,e,n)}},r?.preloadingStrategy?Z$(r.preloadingStrategy).\u0275providers:[],{provide:IS,multi:!0,useFactory:X$},r?.initialNavigation?rU(r):[],r?.bindToComponentInputs?Br(8,[sE,{provide:du,useExisting:sE}]).\u0275providers:[],[{provide:RE,useFactory:TE},{provide:If,multi:!0,useExisting:RE}]]}}static forChild(n){return{ngModule:t,providers:[{provide:no,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(Z(PE,8))};static#t=this.\u0275mod=Qn({type:t});static#n=this.\u0275inj=On({})}return t})();function nU(t){return"guarded"}function rU(t){return["disabled"===t.initialNavigation?Br(3,[{provide:Cf,multi:!0,useFactory:()=>{const e=G(Pn);return()=>{e.setUpLocationChangeListener()}}},{provide:dg,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Br(2,[{provide:dg,useValue:0},{provide:Cf,multi:!0,deps:[hn],useFactory:e=>{const n=e.get(cF,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Pn),s=e.get(IE);bE(i,()=>{r(!0)}),e.get(mu).afterPreactivation=()=>(r(!0),s.closed?se(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const RE=new K("");function xE(t){return new P(3e3,!1)}function ci(t){switch(t.length){case 0:return new ya;case 1:return t[0];default:return new tD(t)}}function OE(t,e,n=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(l=>{const c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((h,f)=>{let g=f,_=h;if("offset"!==f)switch(g=t.normalizePropertyName(g,i),_){case"!":_=n.get(f);break;case xr:_=r.get(f);break;default:_=t.normalizeStyleValue(f,g,_,i)}d.set(g,_)}),u||s.push(d),a=d,o=c}),i.length)throw function AU(t){return new P(3502,!1)}();return s}function hg(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&fg(n,"start",t)));break;case"done":t.onDone(()=>r(n&&fg(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&fg(n,"destroy",t)))}}function fg(t,e,n){const s=pg(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,n.totalTime??t.totalTime,!!n.disabled),o=t._data;return null!=o&&(s._data=o),s}function pg(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function mn(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function FE(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}const VU=(()=>typeof document>"u"?null:document.documentElement)();function gg(t){const e=t.parentNode||t.host||null;return e===VU?null:e}let Hi=null,LE=!1;function BE(t,e){for(;e;){if(e===t)return!0;e=gg(e)}return!1}function VE(t,e,n){if(n)return Array.from(t.querySelectorAll(e));const r=t.querySelector(e);return r?[r]:[]}let jE=(()=>{class t{validateStyleProperty(n){return function HU(t){Hi||(Hi=function $U(){return typeof document<"u"?document.body:null}()||{},LE=!!Hi.style&&"WebkitAppearance"in Hi.style);let e=!0;return Hi.style&&!function jU(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Hi.style,!e&&LE&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Hi.style)),e}(n)}matchesElement(n,r){return!1}containsElement(n,r){return BE(n,r)}getParentElement(n){return gg(n)}query(n,r,i){return VE(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,s,o,a=[],l){return new ya(i,s)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac})}return t})(),mg=(()=>{class t{static#e=this.NOOP=new jE}return t})();const UU=1e3,yg="ng-enter",vu="ng-leave",_u="ng-trigger",wu=".ng-trigger",$E="ng-animating",vg=".ng-animating";function Vr(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:_g(parseFloat(e[1]),e[2])}function _g(t,e){return"s"===e?t*UU:t}function Cu(t,e,n){return t.hasOwnProperty("duration")?t:function GU(t,e,n){let i,s=0,o="";if("string"==typeof t){const a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(xE()),{duration:0,delay:0,easing:""};i=_g(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=_g(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=t;if(!n){let a=!1,l=e.length;i<0&&(e.push(function sU(){return new P(3100,!1)}()),a=!0),s<0&&(e.push(function oU(){return new P(3101,!1)}()),a=!0),a&&e.splice(l,0,xE())}return{duration:i,delay:s,easing:o}}(t,e,n)}function ja(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function UE(t){const e=new Map;return Object.keys(t).forEach(n=>{e.set(n,t[n])}),e}function ui(t,e=new Map,n){if(n)for(let[r,i]of n)e.set(r,i);for(let[r,i]of t)e.set(r,i);return e}function gr(t,e,n){e.forEach((r,i)=>{const s=Cg(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function $i(t,e){e.forEach((n,r)=>{const i=Cg(r);t.style[i]=""})}function Ha(t){return Array.isArray(t)?1==t.length?t[0]:eD(t):t}const wg=new RegExp("{{\\s*(.+?)\\s*}}","g");function GE(t){let e=[];if("string"==typeof t){let n;for(;n=wg.exec(t);)e.push(n[1]);wg.lastIndex=0}return e}function $a(t,e,n){const r=t.toString(),i=r.replace(wg,(s,o)=>{let a=e[o];return null==a&&(n.push(function lU(t){return new P(3003,!1)}()),a=""),a.toString()});return i==r?t:i}function Su(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const KU=/-+([a-z0-9])/g;function Cg(t){return t.replace(KU,(...e)=>e[1].toUpperCase())}function yn(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw function cU(t){return new P(3004,!1)}()}}function WE(t,e){return window.getComputedStyle(t)[e]}const bu="*";function QU(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function XU(t,e,n){if(":"==t[0]){const l=function JU(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(function bU(t){return new P(3016,!1)}()),"* => *"}}(t,n);if("function"==typeof l)return void e.push(l);t=l}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function SU(t){return new P(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(qE(i,o));"<"==s[0]&&!(i==bu&&o==bu)&&e.push(qE(o,i))}(r,n,e)):n.push(t),n}const Du=new Set(["true","1"]),Eu=new Set(["false","0"]);function qE(t,e){const n=Du.has(t)||Eu.has(t),r=Du.has(e)||Eu.has(e);return(i,s)=>{let o=t==bu||t==i,a=e==bu||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?Du.has(t):Eu.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?Du.has(e):Eu.has(e)),o&&a}}const e4=new RegExp("s*:selfs*,?","g");function Sg(t,e,n,r){return new t4(t).build(e,n,r)}class t4{constructor(e){this._driver=e}build(e,n,r){const i=new i4(n);return this._resetContextStyleTimingState(i),yn(this,Ha(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&n.errors.push(function dU(){return new P(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,n))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,n);r+=l.queryCount,i+=l.depCount,o.push(l)}else n.errors.push(function hU(){return new P(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){const r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{GE(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(Su(s.values()),n.errors.push(function fU(t,e){return new P(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const r=yn(this,Ha(e.animation),n);return{type:1,matchers:QU(e.expr,n.errors),animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Ui(e.options)}}visitSequence(e,n){return{type:2,steps:e.steps.map(r=>yn(this,r,n)),options:Ui(e.options)}}visitGroup(e,n){const r=n.currentTime;let i=0;const s=e.steps.map(o=>{n.currentTime=r;const a=yn(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:3,steps:s,options:Ui(e.options)}}visitAnimate(e,n){const r=function o4(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return bg(Cu(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=bg(0,0,"");return s.dynamic=!0,s.strValue=n,s}const i=Cu(n,e);return bg(i.duration,i.delay,i.easing)}(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:At({});if(5==s.type)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=At(c)}n.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,n);l.isEmptyStep=a,i=l}return n.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,n){const r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===xr?r.push(a):n.errors.push(new P(3002,!1)):r.push(UE(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){const r=n.currentAnimateTimings;let i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=n.collectedStyles.get(n.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(n.errors.push(function gU(t,e,n,r,i){return new P(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:i}),n.options&&function qU(t,e,n){const r=e.params||{},i=GE(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(function aU(t){return new P(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(e,n){const r={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function mU(){return new P(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(I=>{const b=this._makeStyleAst(I,n);let F=null!=b.offset?b.offset:function s4(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}(b.styles),V=0;return null!=F&&(s++,V=b.offset=F),l=l||V<0||V>1,a=a||V<c,c=V,o.push(V),b});l&&n.errors.push(function yU(){return new P(3012,!1)}()),a&&n.errors.push(function vU(){return new P(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?n.errors.push(function _U(){return new P(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,g=n.currentTime,_=n.currentAnimateTimings,A=_.duration;return u.forEach((I,b)=>{const F=h>0?b==f?1:h*b:o[b],V=F*A;n.currentTime=g+_.delay+V,_.duration=V,this._validateStyleAst(I,n),I.offset=F,r.styles.push(I)}),r}visitReference(e,n){return{type:8,animation:yn(this,Ha(e.animation),n),options:Ui(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:9,options:Ui(e.options)}}visitAnimateRef(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:Ui(e.options)}}visitQuery(e,n){const r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;const[s,o]=function n4(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(e4,"")),t=t.replace(/@\*/g,wu).replace(/@\w+/g,n=>wu+"-"+n.slice(1)).replace(/:animating/g,vg),[t,e]}(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,mn(n.collectedStyles,n.currentQuerySelector,new Map);const a=yn(this,Ha(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Ui(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function wU(){return new P(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Cu(e.timings,n.errors,!0);return{type:12,animation:yn(this,Ha(e.animation),n),timings:r,options:null}}}class i4{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ui(t){return t?(t=ja(t)).params&&(t.params=function r4(t){return t?ja(t):null}(t.params)):t={},t}function bg(t,e,n){return{duration:t,delay:e,easing:n}}function Dg(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Mu{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const c4=new RegExp(":enter","g"),d4=new RegExp(":leave","g");function Eg(t,e,n,r,i,s=new Map,o=new Map,a,l,c=[]){return(new h4).buildKeyframes(t,e,n,r,i,s,o,a,l,c)}class h4{buildKeyframes(e,n,r,i,s,o,a,l,c,u=[]){c=c||new Mu;const d=new Mg(e,n,c,i,s,u,[]);d.options=l;const h=l.delay?Vr(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),yn(this,r,d);const f=d.timelines.filter(g=>g.containsAnimation());if(f.length&&a.size){let g;for(let _=f.length-1;_>=0;_--){const A=f[_];if(A.element===n){g=A;break}}g&&!g.allowOnlyTimelineStyles()&&g.setStyles([a],null,d.errors,l)}return f.length?f.map(g=>g.buildKeyframes()):[Dg(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){const r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:Vr($a(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime;const o=null!=r.duration?Vr(r.duration):null,a=null!=r.delay?Vr(r.delay):null;return 0!==o&&e.forEach(l=>{const c=n.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),yn(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const r=n.subContextCount;let i=n;const s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Au);const o=Vr(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>yn(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const r=[];let i=n.currentTimeline.currentTime;const s=e.options&&e.options.delay?Vr(e.options.delay):0;e.steps.forEach(o=>{const a=n.createSubContext(e.options);s&&a.delayNextStep(s),yn(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const r=e.strValue;return Cu(n.params?$a(r,n.params,n.errors):r,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){const r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?Vr(i.delay):0;s&&(6===n.previousNode.type||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Au);let o=r;const a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{n.currentQueryIndex=u;const d=n.createSubContext(e.options,c);s&&d.delayNextStep(s),c===n.element&&(l=d.currentTimeline),yn(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1);let l=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=n.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;yn(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const Au={};class Mg{constructor(e,n,r,i,s,o,a,l){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Au,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Tu(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Vr(r.duration)),null!=r.delay&&(i.delay=Vr(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=$a(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){const i=n||this.element,s=new Mg(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Au,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){const i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new f4(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(c4,"."+this._enterClassName)).replace(d4,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function CU(t){return new P(3014,!1)}()),a}}class Tu{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new Tu(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||xr),this._currentKeyframe.set(n,xr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);const s=i&&i.params||{},o=function p4(t,e){const n=new Map;let r;return t.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)n.set(s,xr)}else ui(i,n)}),n}(e,this._globalTimelineStyles);for(let[a,l]of o){const c=$a(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??xr),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{const i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=ui(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?e.add(d):u===xr&&n.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});const s=e.size?Su(e.values()):[],o=n.size?Su(n.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return Dg(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class f4 extends Tu{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const s=[],o=r+n,a=n/o,l=ui(e[0]);l.set("offset",0),s.push(l);const c=ui(e[0]);c.set("offset",YE(a)),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=ui(e[d]);const f=h.get("offset");h.set("offset",YE((n+f*r)/o)),s.push(h)}r=o,n=0,i="",e=s}return Dg(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function YE(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Ag{}const g4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class m4 extends Ag{normalizePropertyName(e,n){return Cg(e)}normalizeStyleValue(e,n,r,i){let s="";const o=r.toString().trim();if(g4.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function uU(t,e){return new P(3005,!1)}())}return o+s}}function QE(t,e,n,r,i,s,o,a,l,c,u,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const Tg={};class XE{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return function y4(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||Tg,g=this.buildStyles(r,a&&a.params||Tg,d),_=l&&l.params||Tg,A=this.buildStyles(i,_,d),I=new Set,b=new Map,F=new Map,V="void"===i,Y={params:v4(_,h),delay:this.ast.options?.delay},fe=u?[]:Eg(e,n,this.ast.animation,s,o,g,A,Y,c,d);let ye=0;if(fe.forEach(Qe=>{ye=Math.max(Qe.duration+Qe.delay,ye)}),d.length)return QE(n,this._triggerName,r,i,V,g,A,[],[],b,F,ye,d);fe.forEach(Qe=>{const pt=Qe.element,vn=mn(b,pt,new Set);Qe.preStyleProps.forEach(zt=>vn.add(zt));const rn=mn(F,pt,new Set);Qe.postStyleProps.forEach(zt=>rn.add(zt)),pt!==n&&I.add(pt)});const $e=Su(I.values());return QE(n,this._triggerName,r,i,V,g,A,fe,$e,b,F,ye)}}function v4(t,e){const n=ja(e);for(const r in t)t.hasOwnProperty(r)&&null!=t[r]&&(n[r]=t[r]);return n}class _4{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){const r=new Map,i=ja(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=$a(o,i,n));const l=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,l,o,n),r.set(a,o)})}),r}}class C4{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{this.states.set(i.name,new _4(i.style,i.options&&i.options.params||{},r))}),JE(this.states,"true","1"),JE(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new XE(e,i,this.states))}),this.fallbackTransition=function S4(t,e,n){return new XE(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}}function JE(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}const b4=new Mu;class D4{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const r=[],s=Sg(this._driver,n,r,[]);if(r.length)throw function TU(t){return new P(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,n,r){const i=e.element,s=OE(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=Eg(this._driver,n,s,yg,vu,new Map,new Map,r,b4,i),o.forEach(u=>{const d=mn(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function IU(){return new P(3300,!1)}()),o=[]),i.length)throw function kU(t){return new P(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,xr))})});const c=ci(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function PU(t){return new P(3301,!1)}();return n}listen(e,n,r,i){const s=pg(n,"","","");return hg(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,n,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const eM="ng-animate-queued",Ig="ng-animate-disabled",I4=[],tM={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},k4={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},qn="__ng_removed";class kg{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;const r=e&&e.hasOwnProperty("value");if(this.value=function x4(t){return t??null}(r?e.value:e),r){const s=ja(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const n=e.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const Ua="void",Pg=new kg(Ua);class P4{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Nn(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw function NU(t,e){return new P(3302,!1)}();if(null==r||0==r.length)throw function RU(t){return new P(3303,!1)}();if(!function O4(t){return"start"==t||"done"==t}(r))throw function xU(t,e){return new P(3400,!1)}();const s=mn(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);const a=mn(this._engine.statesByElement,e,new Map);return a.has(n)||(Nn(e,_u),Nn(e,_u+"-"+n),a.set(n,Pg)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function OU(t){return new P(3401,!1)}();return n}trigger(e,n,r,i=!0){const s=this._getTrigger(n),o=new Ng(this.id,n,e);let a=this._engine.statesByElement.get(e);a||(Nn(e,_u),Nn(e,_u+"-"+n),this._engine.statesByElement.set(e,a=new Map));let l=a.get(n);const c=new kg(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(n,c),l||(l=Pg),c.value!==Ua&&l.value===c.value){if(!function B4(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}(l.params,c.params)){const _=[],A=s.matchStyles(l.value,l.params,_),I=s.matchStyles(c.value,c.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{$i(e,A),gr(e,I)})}return}const h=mn(this._engine.playersByElement,e,[]);h.forEach(_=>{_.namespaceId==this.id&&_.triggerName==n&&_.queued&&_.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),g=!1;if(!f){if(!i)return;f=s.fallbackTransition,g=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:g}),g||(Nn(e,eM),o.onStart(()=>{ro(e,eM)})),o.onDone(()=>{let _=this.players.indexOf(o);_>=0&&this.players.splice(_,1);const A=this._engine.playersByElement.get(e);if(A){let I=A.indexOf(o);I>=0&&A.splice(I,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const r=this._engine.driver.query(e,wu,!0);r.forEach(i=>{if(i[qn])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,Ua,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&ci(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){const i=new Set;n.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,c=r.get(o)||Pg,u=new kg(Ua),d=new Ng(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,n){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{const s=e[qn];(!s||s===tM)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Nn(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=pg(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,hg(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class N4{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){const r=new P4(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}return n}trigger(e,n,r,i){if(Iu(n)){const s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!Iu(n))return;const s=n[qn];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Nn(e,Ig)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ro(e,Ig))}removeNode(e,n,r){if(Iu(n)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);const s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[qn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return Iu(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,wu,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,vg,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ci(this.players).onDone(()=>e());e()})}processLeaveNode(e){const n=e[qn];if(n&&n.setForRemoval){if(e[qn]=tM,n.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(Ig)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Nn(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?ci(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function FU(t){return new P(3402,!1)}()}_flushAnimations(e,n){const r=new Mu,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(U=>{u.add(U);const J=this.driver.query(U,".ng-animate-queued",!0);for(let ee=0;ee<J.length;ee++)u.add(J[ee])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=iM(h,this.collectedEnterElements),g=new Map;let _=0;f.forEach((U,J)=>{const ee=yg+_++;g.set(J,ee),U.forEach(ve=>Nn(ve,ee))});const A=[],I=new Set,b=new Set;for(let U=0;U<this.collectedLeaveElements.length;U++){const J=this.collectedLeaveElements[U],ee=J[qn];ee&&ee.setForRemoval&&(A.push(J),I.add(J),ee.hasAnimation?this.driver.query(J,".ng-star-inserted",!0).forEach(ve=>I.add(ve)):b.add(J))}const F=new Map,V=iM(h,Array.from(I));V.forEach((U,J)=>{const ee=vu+_++;F.set(J,ee),U.forEach(ve=>Nn(ve,ee))}),e.push(()=>{f.forEach((U,J)=>{const ee=g.get(J);U.forEach(ve=>ro(ve,ee))}),V.forEach((U,J)=>{const ee=F.get(J);U.forEach(ve=>ro(ve,ee))}),A.forEach(U=>{this.processLeaveNode(U)})});const Y=[],fe=[];for(let U=this._namespaceList.length-1;U>=0;U--)this._namespaceList[U].drainQueuedTransitions(n).forEach(ee=>{const ve=ee.player,ct=ee.element;if(Y.push(ve),this.collectedEnterElements.length){const vt=ct[qn];if(vt&&vt.setForMove){if(vt.previousTriggersValues&&vt.previousTriggersValues.has(ee.triggerName)){const jr=vt.previousTriggersValues.get(ee.triggerName),xn=this.statesByElement.get(ee.element);if(xn&&xn.has(ee.triggerName)){const Ru=xn.get(ee.triggerName);Ru.value=jr,xn.set(ee.triggerName,Ru)}}return void ve.destroy()}}const Rn=!d||!this.driver.containsElement(d,ct),Gt=F.get(ct),mr=g.get(ct),Ge=this._buildInstruction(ee,r,mr,Gt,Rn);if(Ge.errors&&Ge.errors.length)return void fe.push(Ge);if(Rn)return ve.onStart(()=>$i(ct,Ge.fromStyles)),ve.onDestroy(()=>gr(ct,Ge.toStyles)),void i.push(ve);if(ee.isFallbackTransition)return ve.onStart(()=>$i(ct,Ge.fromStyles)),ve.onDestroy(()=>gr(ct,Ge.toStyles)),void i.push(ve);const Nu=[];Ge.timelines.forEach(vt=>{vt.stretchStartingKeyframe=!0,this.disabledNodes.has(vt.element)||Nu.push(vt)}),Ge.timelines=Nu,r.append(ct,Ge.timelines),o.push({instruction:Ge,player:ve,element:ct}),Ge.queriedElements.forEach(vt=>mn(a,vt,[]).push(ve)),Ge.preStyleProps.forEach((vt,jr)=>{if(vt.size){let xn=l.get(jr);xn||l.set(jr,xn=new Set),vt.forEach((Ru,Fg)=>xn.add(Fg))}}),Ge.postStyleProps.forEach((vt,jr)=>{let xn=c.get(jr);xn||c.set(jr,xn=new Set),vt.forEach((Ru,Fg)=>xn.add(Fg))})});if(fe.length){const U=[];fe.forEach(J=>{U.push(function LU(t,e){return new P(3505,!1)}())}),Y.forEach(J=>J.destroy()),this.reportError(U)}const ye=new Map,$e=new Map;o.forEach(U=>{const J=U.element;r.has(J)&&($e.set(J,J),this._beforeAnimationBuild(U.player.namespaceId,U.instruction,ye))}),i.forEach(U=>{const J=U.element;this._getPreviousPlayers(J,!1,U.namespaceId,U.triggerName,null).forEach(ve=>{mn(ye,J,[]).push(ve),ve.destroy()})});const Qe=A.filter(U=>oM(U,l,c)),pt=new Map;rM(pt,this.driver,b,c,xr).forEach(U=>{oM(U,l,c)&&Qe.push(U)});const rn=new Map;f.forEach((U,J)=>{rM(rn,this.driver,new Set(U),l,"!")}),Qe.forEach(U=>{const J=pt.get(U),ee=rn.get(U);pt.set(U,new Map([...J?.entries()??[],...ee?.entries()??[]]))});const zt=[],di=[],hi={};o.forEach(U=>{const{element:J,player:ee,instruction:ve}=U;if(r.has(J)){if(u.has(J))return ee.onDestroy(()=>gr(J,ve.toStyles)),ee.disabled=!0,ee.overrideTotalTime(ve.totalTime),void i.push(ee);let ct=hi;if($e.size>1){let Gt=J;const mr=[];for(;Gt=Gt.parentNode;){const Ge=$e.get(Gt);if(Ge){ct=Ge;break}mr.push(Gt)}mr.forEach(Ge=>$e.set(Ge,ct))}const Rn=this._buildAnimation(ee.namespaceId,ve,ye,s,rn,pt);if(ee.setRealPlayer(Rn),ct===hi)zt.push(ee);else{const Gt=this.playersByElement.get(ct);Gt&&Gt.length&&(ee.parentPlayer=ci(Gt)),i.push(ee)}}else $i(J,ve.fromStyles),ee.onDestroy(()=>gr(J,ve.toStyles)),di.push(ee),u.has(J)&&i.push(ee)}),di.forEach(U=>{const J=s.get(U.element);if(J&&J.length){const ee=ci(J);U.setRealPlayer(ee)}}),i.forEach(U=>{U.parentPlayer?U.syncPlayerEvents(U.parentPlayer):U.destroy()});for(let U=0;U<A.length;U++){const J=A[U],ee=J[qn];if(ro(J,vu),ee&&ee.hasAnimation)continue;let ve=[];if(a.size){let Rn=a.get(J);Rn&&Rn.length&&ve.push(...Rn);let Gt=this.driver.query(J,vg,!0);for(let mr=0;mr<Gt.length;mr++){let Ge=a.get(Gt[mr]);Ge&&Ge.length&&ve.push(...Ge)}}const ct=ve.filter(Rn=>!Rn.destroyed);ct.length?F4(this,J,ct):this.processLeaveNode(J)}return A.length=0,zt.forEach(U=>{this.players.push(U),U.onDone(()=>{U.destroy();const J=this.players.indexOf(U);this.players.splice(J,1)}),U.play()}),zt}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==Ua;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){const s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:n.triggerName;for(const l of n.timelines){const c=l.element,u=c!==s,d=mn(r,c,[]);this._getPreviousPlayers(c,u,o,a,n.toState).forEach(f=>{const g=f.getRealPlayer();g.beforeDestroy&&g.beforeDestroy(),f.destroy(),d.push(f)})}$i(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){const a=n.triggerName,l=n.element,c=[],u=new Set,d=new Set,h=n.timelines.map(g=>{const _=g.element;u.add(_);const A=_[qn];if(A&&A.removedBeforeQueried)return new ya(g.duration,g.delay);const I=_!==l,b=function L4(t){const e=[];return sM(t,e),e}((r.get(_)||I4).map(ye=>ye.getRealPlayer())).filter(ye=>!!ye.element&&ye.element===_),F=s.get(_),V=o.get(_),Y=OE(this._normalizer,g.keyframes,F,V),fe=this._buildPlayer(g,Y,b);if(g.subTimeline&&i&&d.add(_),I){const ye=new Ng(e,a,_);ye.setRealPlayer(fe),c.push(ye)}return fe});c.forEach(g=>{mn(this.playersByQueriedElement,g.element,[]).push(g),g.onDone(()=>function R4(t,e,n){let r=t.get(e);if(r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}return r}(this.playersByQueriedElement,g.element,g))}),u.forEach(g=>Nn(g,$E));const f=ci(h);return f.onDestroy(()=>{u.forEach(g=>ro(g,$E)),gr(l,n.toStyles)}),d.forEach(g=>{mn(i,g,[]).push(f)}),f}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new ya(e.duration,e.delay)}}class Ng{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new ya,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>hg(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){mn(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function Iu(t){return t&&1===t.nodeType}function nM(t,e){const n=t.style.display;return t.style.display=e??"none",n}function rM(t,e,n,r,i){const s=[];n.forEach(l=>s.push(nM(l)));const o=[];r.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=e.computeStyle(c,d,i);u.set(d,h),(!h||0==h.length)&&(c[qn]=k4,o.push(c))}),t.set(c,u)});let a=0;return n.forEach(l=>nM(l,s[a++])),o}function iM(t,e){const n=new Map;if(t.forEach(a=>n.set(a,[])),0==e.length)return n;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=n.has(c)?c:i.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&n.get(l).push(a)}),n}function Nn(t,e){t.classList?.add(e)}function ro(t,e){t.classList?.remove(e)}function F4(t,e,n){ci(n).onDone(()=>t.processLeaveNode(e))}function sM(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof tD?sM(r.players,e):e.push(r)}}function oM(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}class ku{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new N4(e,n,r),this._timelineEngine=new D4(e,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,n,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],u=Sg(this._driver,s,l,[]);if(l.length)throw function MU(t,e){return new P(3404,!1)}();a=function w4(t,e,n){return new C4(t,e,n)}(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if("@"==r.charAt(0)){const[s,o]=FE(r);this._timelineEngine.command(s,n,o,i)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if("@"==r.charAt(0)){const[o,a]=FE(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let j4=(()=>{class t{static#e=this.initialStylesByElement=new WeakMap;constructor(n,r,i){this._element=n,this._startStyles=r,this._endStyles=i,this._state=0;let s=t.initialStylesByElement.get(n);s||t.initialStylesByElement.set(n,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&gr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(gr(this._element,this._initialStyles),this._endStyles&&(gr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&($i(this._element,this._startStyles),this._endStyles=null),this._endStyles&&($i(this._element,this._endStyles),this._endStyles=null),gr(this._element,this._initialStyles),this._state=3)}}return t})();function Rg(t){let e=null;return t.forEach((n,r)=>{(function H4(t){return"display"===t||"position"===t})(r)&&(e=e||new Map,e.set(r,n))}),e}class aM{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:WE(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class $4{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return BE(e,n)}getParentElement(e){return gg(e)}query(e,n,r){return VE(e,n,r)}computeStyle(e,n,r){return window.getComputedStyle(e)[n]}animate(e,n,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(f=>f instanceof aM);(function ZU(t,e){return 0===t||0===e})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((g,_)=>c.set(_,g))});let d=function WU(t){return t.length?t[0]instanceof Map?t:t.map(e=>UE(e)):[]}(n).map(f=>ui(f));d=function YU(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,WE(t,a)))}}return e}(e,d,c);const h=function V4(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Rg(e[0]),e.length>1&&(r=Rg(e[e.length-1]))):e instanceof Map&&(n=Rg(e)),n||r?new j4(t,n,r):null}(e,d);return new aM(e,d,l,h)}}let U4=(()=>{class t extends Jb{constructor(n,r){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(r.body,{id:"0",encapsulation:Sn.None,styles:[],data:{animation:[]}})}build(n){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(n)?eD(n):n;return lM(this._renderer,null,r,"register",[i]),new z4(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||t)(Z(Vo),Z(Jt))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac})}return t})();class z4 extends zL{constructor(e,n){super(),this._id=e,this._renderer=n}create(e,n){return new G4(this._id,e,n||{},this._renderer)}}class G4{constructor(e,n,r,i){this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,n){return this._renderer.listen(this.element,`@@${this.id}:${e}`,n)}_command(e,...n){return lM(this._renderer,this.element,this.id,e,n)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function lM(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const cM="@.disabled";let W4=(()=>{class t{constructor(n,r,i){this.delegate=n,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(n,r){const s=this.delegate.createRenderer(n,r);if(!(n&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(s);return u||(u=new uM("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,u)),u}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,n);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,n,u.name,u)};return r.data.animation.forEach(l),new q4(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,r,i){n>=0&&n<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||t)(Z(Vo),Z(ku),Z(xe))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac})}return t})();class uM{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){"@"==n.charAt(0)&&n==cM?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class q4 extends uM{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==cM?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if("@"==n.charAt(0)){const i=function K4(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let s=n.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Z4(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,n,r)}}const dM=[{provide:Jb,useClass:U4},{provide:Ag,useFactory:function Q4(){return new m4}},{provide:ku,useClass:(()=>{class t extends ku{constructor(n,r,i,s){super(n.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||t)(Z(Jt),Z(mg),Z(Ag),Z(Ii))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac})}return t})()},{provide:Vo,useFactory:function X4(t,e,n){return new W4(t,e,n)},deps:[ap,ku,xe]}],xg=[{provide:mg,useFactory:()=>new $4},{provide:Bv,useValue:"BrowserAnimations"},...dM],hM=[{provide:mg,useClass:jE},{provide:Bv,useValue:"NoopAnimations"},...dM];let J4=(()=>{class t{static withConfig(n){return{ngModule:t,providers:n.disableAnimations?hM:xg}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Qn({type:t});static#n=this.\u0275inj=On({providers:xg,imports:[jb]})}return t})();const e5=[{path:"game",component:M0},{path:"card",component:dr},{path:"",pathMatch:"full",redirectTo:"game"}];let t5=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Qn({type:t,bootstrap:[Rj]});static#n=this.\u0275inj=On({imports:[jb,tj,Cb,J4,[NE.forRoot(e5,{initialNavigation:"enabledBlocking",useHash:!0})],NE]})}return t})();SL().bootstrapModule(t5).catch(t=>console.error(t))}},Re=>{Re(Re.s=200)}]);