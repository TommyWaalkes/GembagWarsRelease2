"use strict";(self.webpackChunkCardApp=self.webpackChunkCardApp||[]).push([[179],{407:()=>{function De(e){return"function"==typeof e}function po(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const qs=po(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function go(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Nt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(De(r))try{r()}catch(o){t=o instanceof qs?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{rp(o)}catch(s){t=t??[],s instanceof qs?t=[...t,...s.errors]:t.push(s)}}if(t)throw new qs(t)}}add(t){var n;if(t&&t!==this)if(this.closed)rp(t);else{if(t instanceof Nt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&go(n,t)}remove(t){const{_finalizers:n}=this;n&&go(n,t),t instanceof Nt&&t._removeParent(this)}}Nt.EMPTY=(()=>{const e=new Nt;return e.closed=!0,e})();const tp=Nt.EMPTY;function np(e){return e instanceof Nt||e&&"closed"in e&&De(e.remove)&&De(e.add)&&De(e.unsubscribe)}function rp(e){De(e)?e():e.unsubscribe()}const Tr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Zs={setTimeout(e,t,...n){const{delegate:r}=Zs;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=Zs;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ip(e){Zs.setTimeout(()=>{const{onUnhandledError:t}=Tr;if(!t)throw e;t(e)})}function gl(){}const VS=ml("C",void 0,void 0);function ml(e,t,n){return{kind:e,value:t,error:n}}let kr=null;function Ys(e){if(Tr.useDeprecatedSynchronousErrorHandling){const t=!kr;if(t&&(kr={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=kr;if(kr=null,n)throw r}}else e()}class yl extends Nt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,np(t)&&t.add(this)):this.destination=zS}static create(t,n,r){return new mo(t,n,r)}next(t){this.isStopped?_l(function jS(e){return ml("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?_l(function BS(e){return ml("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?_l(VS,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $S=Function.prototype.bind;function vl(e,t){return $S.call(e,t)}class US{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Qs(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Qs(r)}else Qs(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Qs(n)}}}class mo extends yl{constructor(t,n,r){let i;if(super(),De(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Tr.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&vl(t.next,o),error:t.error&&vl(t.error,o),complete:t.complete&&vl(t.complete,o)}):i=t}this.destination=new US(i)}}function Qs(e){Tr.useDeprecatedSynchronousErrorHandling?function HS(e){Tr.useDeprecatedSynchronousErrorHandling&&kr&&(kr.errorThrown=!0,kr.error=e)}(e):ip(e)}function _l(e,t){const{onStoppedNotification:n}=Tr;n&&Zs.setTimeout(()=>n(e,t))}const zS={closed:!0,next:gl,error:function GS(e){throw e},complete:gl},Cl="function"==typeof Symbol&&Symbol.observable||"@@observable";function cr(e){return e}function op(e){return 0===e.length?cr:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let ze=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function ZS(e){return e&&e instanceof yl||function qS(e){return e&&De(e.next)&&De(e.error)&&De(e.complete)}(e)&&np(e)}(n)?n:new mo(n,r,i);return Ys(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=sp(r))((i,o)=>{const s=new mo({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Cl](){return this}pipe(...n){return op(n)(this)}toPromise(n){return new(n=sp(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function sp(e){var t;return null!==(t=e??Tr.Promise)&&void 0!==t?t:Promise}const YS=po(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let on=(()=>{class e extends ze{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new ap(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new YS}next(n){Ys(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Ys(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ys(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?tp:(this.currentObservers=null,o.push(n),new Nt(()=>{this.currentObservers=null,go(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new ze;return n.source=this,n}}return e.create=(t,n)=>new ap(t,n),e})();class ap extends on{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:tp}}function cp(e){return De(e?.lift)}function Ye(e){return t=>{if(cp(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function We(e,t,n,r,i){return new QS(e,t,n,r,i)}class QS extends yl{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function be(e,t){return Ye((n,r)=>{let i=0;n.subscribe(We(r,o=>{r.next(e.call(t,o,i++))}))})}function lr(e){return this instanceof lr?(this.v=e,this):new lr(e)}function fp(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Sl(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=e[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const hp=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function pp(e){return De(e?.then)}function gp(e){return De(e[Cl])}function mp(e){return Symbol.asyncIterator&&De(e?.[Symbol.asyncIterator])}function yp(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const vp=function vE(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function _p(e){return De(e?.[vp])}function Cp(e){return function dp(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(h){return new Promise(function(m,_){o.push([f,h,m,_])>1||a(f,h)})})}function a(f,h){try{!function c(f){f.value instanceof lr?Promise.resolve(f.value.v).then(l,u):d(o[0][2],f)}(r[f](h))}catch(m){d(o[0][3],m)}}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield lr(n.read());if(i)return yield lr(void 0);yield yield lr(r)}}finally{n.releaseLock()}})}function wp(e){return De(e?.getReader)}function Rt(e){if(e instanceof ze)return e;if(null!=e){if(gp(e))return function _E(e){return new ze(t=>{const n=e[Cl]();if(De(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(hp(e))return function CE(e){return new ze(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(pp(e))return function wE(e){return new ze(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,ip)})}(e);if(mp(e))return Dp(e);if(_p(e))return function DE(e){return new ze(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(wp(e))return function bE(e){return Dp(Cp(e))}(e)}throw yp(e)}function Dp(e){return new ze(t=>{(function SE(e,t){var n,r,i,o;return function lp(e,t,n,r){return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=fp(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function jn(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function rt(e,t,n=1/0){return De(t)?rt((r,i)=>be((o,s)=>t(r,o,i,s))(Rt(e(r,i))),n):("number"==typeof t&&(n=t),Ye((r,i)=>function EE(e,t,n,r,i,o,s,a){const c=[];let l=0,u=0,d=!1;const f=()=>{d&&!c.length&&!l&&t.complete()},h=_=>l<r?m(_):c.push(_),m=_=>{o&&t.next(_),l++;let E=!1;Rt(n(_,u++)).subscribe(We(t,M=>{i?.(M),o?h(M):t.next(M)},()=>{E=!0},void 0,()=>{if(E)try{for(l--;c.length&&l<r;){const M=c.shift();s?jn(t,s,()=>m(M)):m(M)}f()}catch(M){t.error(M)}}))};return e.subscribe(We(t,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,e,n)))}function Jr(e=1/0){return rt(cr,e)}const Dn=new ze(e=>e.complete());function El(e){return e[e.length-1]}function yo(e){return function IE(e){return e&&De(e.schedule)}(El(e))?e.pop():void 0}function Sp(e,t=0){return Ye((n,r)=>{n.subscribe(We(r,i=>jn(r,e,()=>r.next(i),t),()=>jn(r,e,()=>r.complete(),t),i=>jn(r,e,()=>r.error(i),t)))})}function Ep(e,t=0){return Ye((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Mp(e,t){if(!e)throw new Error("Iterable cannot be null");return new ze(n=>{jn(n,t,()=>{const r=e[Symbol.asyncIterator]();jn(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function et(e,t){return t?function NE(e,t){if(null!=e){if(gp(e))return function TE(e,t){return Rt(e).pipe(Ep(t),Sp(t))}(e,t);if(hp(e))return function xE(e,t){return new ze(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(pp(e))return function kE(e,t){return Rt(e).pipe(Ep(t),Sp(t))}(e,t);if(mp(e))return Mp(e,t);if(_p(e))return function PE(e,t){return new ze(n=>{let r;return jn(n,t,()=>{r=e[vp](),jn(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>De(r?.return)&&r.return()})}(e,t);if(wp(e))return function OE(e,t){return Mp(Cp(e),t)}(e,t)}throw yp(e)}(e,t):Rt(e)}class Wt extends on{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function J(...e){return et(e,yo(e))}function Ip(e={}){const{connector:t=(()=>new on),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,c,l=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=c=void 0,u=d=!1},m=()=>{const _=s;h(),_?.unsubscribe()};return Ye((_,E)=>{l++,!d&&!u&&f();const M=c=c??t();E.add(()=>{l--,0===l&&!d&&!u&&(a=Ml(m,i))}),M.subscribe(E),!s&&l>0&&(s=new mo({next:D=>M.next(D),error:D=>{d=!0,f(),a=Ml(h,n,D),M.error(D)},complete:()=>{u=!0,f(),a=Ml(h,r),M.complete()}}),Rt(_).subscribe(s))})(o)}}function Ml(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new mo({next:()=>{r.unsubscribe(),e()}});return Rt(t(...n)).subscribe(r)}function bn(e,t){return Ye((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(We(r,c=>{i?.unsubscribe();let l=0;const u=o++;Rt(e(c,u)).subscribe(i=We(r,d=>r.next(t?t(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function LE(e,t){return e===t}function _e(e){for(let t in e)if(e[t]===_e)return t;throw Error("Could not find renamed property on target object.")}function Qe(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Qe).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Il(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const VE=_e({__forward_ref__:_e});function Me(e){return e.__forward_ref__=Me,e.toString=function(){return Qe(this())},e}function K(e){return Al(e)?e():e}function Al(e){return"function"==typeof e&&e.hasOwnProperty(VE)&&e.__forward_ref__===Me}function Tl(e){return e&&!!e.\u0275providers}const Ap="https://g.co/ng/security#xss";class T extends Error{constructor(t,n){super(function Xs(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function ee(e){return"string"==typeof e?e:null==e?"":String(e)}function kl(e,t){throw new T(-201,!1)}function qt(e,t){null==e&&function Y(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function W(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Sn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Js(e){return Tp(e,ta)||Tp(e,kp)}function Tp(e,t){return e.hasOwnProperty(t)?e[t]:null}function ea(e){return e&&(e.hasOwnProperty(xl)||e.hasOwnProperty(WE))?e[xl]:null}const ta=_e({\u0275prov:_e}),xl=_e({\u0275inj:_e}),kp=_e({ngInjectableDef:_e}),WE=_e({ngInjectorDef:_e});var ce=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(ce||{});let Pl;function Et(e){const t=Pl;return Pl=e,t}function Pp(e,t,n){const r=Js(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ce.Optional?null:void 0!==t?t:void kl(Qe(e))}const Ie=globalThis;class H{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=W({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const vo={},Ll="__NG_DI_FLAG__",na="ngTempTokenPath",YE=/\n/gm,Np="__source";let ei;function ur(e){const t=ei;return ei=e,t}function XE(e,t=ce.Default){if(void 0===ei)throw new T(-203,!1);return null===ei?Pp(e,void 0,t):ei.get(e,t&ce.Optional?null:void 0,t)}function q(e,t=ce.Default){return(function xp(){return Pl}()||XE)(K(e),t)}function j(e,t=ce.Default){return q(e,ra(t))}function ra(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Vl(e){const t=[];for(let n=0;n<e.length;n++){const r=K(e[n]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let i,o=ce.Default;for(let s=0;s<r.length;s++){const a=r[s],c=JE(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}t.push(q(i,o))}else t.push(q(r))}return t}function _o(e,t){return e[Ll]=t,e.prototype[Ll]=t,e}function JE(e){return e[Ll]}function Hn(e){return{toString:e}.toString()}var ia=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ia||{}),sn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(sn||{});const En={},he=[],oa=_e({\u0275cmp:_e}),Bl=_e({\u0275dir:_e}),jl=_e({\u0275pipe:_e}),Fp=_e({\u0275mod:_e}),$n=_e({\u0275fac:_e}),Co=_e({__NG_ELEMENT_ID__:_e}),Lp=_e({__NG_ENV_ID__:_e});function Vp(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function Hl(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{const o=i,s=n[++r];jp(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function Bp(e){return 3===e||4===e||6===e}function jp(e){return 64===e.charCodeAt(0)}function wo(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||Hp(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function Hp(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const $p="ng-template";function n0(e,t,n){let r=0,i=!0;for(;r<e.length;){let o=e[r++];if("string"==typeof o&&i){const s=e[r++];if(n&&"class"===o&&-1!==Vp(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function Up(e){return 4===e.type&&e.value!==$p}function r0(e,t,n){return t===(4!==e.type||n?e.value:$p)}function o0(e,t,n){let r=4;const i=e.attrs||[],o=function c0(e){for(let t=0;t<e.length;t++)if(Bp(e[t]))return t;return e.length}(i);let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!r0(e,c,n)||""===c&&1===t.length){if(an(r))return!1;s=!0}}else{const l=8&r?c:t[++a];if(8&r&&null!==e.attrs){if(!n0(e.attrs,l,n)){if(an(r))return!1;s=!0}continue}const d=s0(8&r?"class":c,i,Up(e),n);if(-1===d){if(an(r))return!1;s=!0;continue}if(""!==l){let f;f=d>o?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==Vp(h,l,0)||2&r&&l!==f){if(an(r))return!1;s=!0}}}}else{if(!s&&!an(r)&&!an(c))return!1;if(s&&an(c))continue;s=!1,r=c|1&r}}return an(r)||s}function an(e){return 0==(1&e)}function s0(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function l0(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Gp(e,t,n=!1){for(let r=0;r<t.length;r++)if(o0(e,t[r],n))return!0;return!1}function zp(e,t){return e?":not("+t.trim()+")":t}function d0(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!an(s)&&(t+=zp(o,i),i=""),r=s,o=o||!an(r);n++}return""!==i&&(t+=zp(o,i)),t}function qe(e){return Hn(()=>{const t=qp(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ia.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||sn.Emulated,styles:e.styles||he,_:null,schemas:e.schemas||null,tView:null,id:""};Zp(n);const r=e.dependencies;return n.directiveDefs=sa(r,!1),n.pipeDefs=sa(r,!0),n.id=function _0(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function g0(e){return de(e)||it(e)}function m0(e){return null!==e}function Un(e){return Hn(()=>({type:e.type,bootstrap:e.bootstrap||he,declarations:e.declarations||he,imports:e.imports||he,exports:e.exports||he,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Wp(e,t){if(null==e)return En;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}function X(e){return Hn(()=>{const t=qp(e);return Zp(t),t})}function de(e){return e[oa]||null}function it(e){return e[Bl]||null}function gt(e){return e[jl]||null}function Lt(e,t){const n=e[Fp]||null;if(!n&&!0===t)throw new Error(`Type ${Qe(e)} does not have '\u0275mod' property.`);return n}function qp(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||En,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||he,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Wp(e.inputs,t),outputs:Wp(e.outputs)}}function Zp(e){e.features?.forEach(t=>t(e))}function sa(e,t){if(!e)return null;const n=t?gt:g0;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(m0)}const Le=0,V=1,re=2,Oe=3,cn=4,Do=5,lt=6,ni=7,He=8,dr=9,ri=10,te=11,bo=12,Yp=13,ii=14,$e=15,So=16,oi=17,Mn=18,Eo=19,Qp=20,fr=21,Gn=22,Mo=23,Io=24,le=25,$l=1,Kp=2,In=7,si=9,ot=11;function It(e){return Array.isArray(e)&&"object"==typeof e[$l]}function mt(e){return Array.isArray(e)&&!0===e[$l]}function Ul(e){return 0!=(4&e.flags)}function Pr(e){return e.componentOffset>-1}function ca(e){return 1==(1&e.flags)}function ln(e){return!!e.template}function Gl(e){return 0!=(512&e[re])}function Or(e,t){return e.hasOwnProperty($n)?e[$n]:null}let st=null,la=!1;function Zt(e){const t=st;return st=e,t}const eg={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ng(e){if(!To(e)||e.dirty){if(!e.producerMustRecompute(e)&&!og(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function ig(e){e.dirty=!0,function rg(e){if(void 0===e.liveConsumerNode)return;const t=la;la=!0;try{for(const n of e.liveConsumerNode)n.dirty||ig(n)}finally{la=t}}(e),e.consumerMarkedDirty?.(e)}function Wl(e){return e&&(e.nextProducerIndex=0),Zt(e)}function ql(e,t){if(Zt(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(To(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)ua(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function og(e){ai(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(ng(n),r!==n.version))return!0}return!1}function sg(e){if(ai(e),To(e))for(let t=0;t<e.producerNode.length;t++)ua(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function ua(e,t){if(function cg(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),ai(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)ua(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];ai(i),i.producerIndexOfThis[r]=t}}function To(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function ai(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let lg=null;const hg=()=>{},P0=(()=>({...eg,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:hg}))();class O0{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Yt(){return pg}function pg(e){return e.type.prototype.ngOnChanges&&(e.setInput=R0),N0}function N0(){const e=mg(this),t=e?.current;if(t){const n=e.previous;if(n===En)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function R0(e,t,n,r){const i=this.declaredInputs[n],o=mg(e)||function F0(e,t){return e[gg]=t}(e,{previous:En,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new O0(c&&c.currentValue,t,a===En),e[r]=t}Yt.ngInherit=!0;const gg="__ngSimpleChanges__";function mg(e){return e[gg]||null}const An=function(e,t,n){};function Ae(e){for(;Array.isArray(e);)e=e[Le];return e}function da(e,t){return Ae(t[e])}function At(e,t){return Ae(t[e.index])}function _g(e,t){return e.data[t]}function Vt(e,t){const n=t[e];return It(n)?n:n[Le]}function pr(e,t){return null==t?null:e[t]}function Cg(e){e[oi]=0}function $0(e){1024&e[re]||(e[re]|=1024,Dg(e,1))}function wg(e){1024&e[re]&&(e[re]&=-1025,Dg(e,-1))}function Dg(e,t){let n=e[Oe];if(null===n)return;n[Do]+=t;let r=n;for(n=n[Oe];null!==n&&(1===t&&1===r[Do]||-1===t&&0===r[Do]);)n[Do]+=t,r=n,n=n[Oe]}const Q={lFrame:Og(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Eg(){return Q.bindingsEnabled}function A(){return Q.lFrame.lView}function fe(){return Q.lFrame.tView}function se(e){return Q.lFrame.contextLView=e,e[He]}function ae(e){return Q.lFrame.contextLView=null,e}function at(){let e=Mg();for(;null!==e&&64===e.type;)e=e.parent;return e}function Mg(){return Q.lFrame.currentTNode}function Tn(e,t){const n=Q.lFrame;n.currentTNode=e,n.isParent=t}function Xl(){return Q.lFrame.isParent}function yt(){const e=Q.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ui(){return Q.lFrame.bindingIndex++}function Wn(e){const t=Q.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function eM(e,t){const n=Q.lFrame;n.bindingIndex=n.bindingRootIndex=e,eu(t)}function eu(e){Q.lFrame.currentDirectiveIndex=e}function kg(){return Q.lFrame.currentQueryIndex}function nu(e){Q.lFrame.currentQueryIndex=e}function nM(e){const t=e[V];return 2===t.type?t.declTNode:1===t.type?e[lt]:null}function xg(e,t,n){if(n&ce.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&ce.Host||(i=nM(o),null===i||(o=o[ii],10&i.type))););if(null===i)return!1;t=i,e=o}const r=Q.lFrame=Pg();return r.currentTNode=t,r.lView=e,!0}function ru(e){const t=Pg(),n=e[V];Q.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Pg(){const e=Q.lFrame,t=null===e?null:e.child;return null===t?Og(e):t}function Og(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Ng(){const e=Q.lFrame;return Q.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Rg=Ng;function iu(){const e=Ng();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function vt(){return Q.lFrame.selectedIndex}function Nr(e){Q.lFrame.selectedIndex=e}function Fe(){const e=Q.lFrame;return _g(e.tView,e.selectedIndex)}let Lg=!0;function fa(){return Lg}function gr(e){Lg=e}function ha(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),null!=u&&(e.destroyHooks??=[]).push(n,u)}}function pa(e,t,n){Vg(e,t,3,n)}function ga(e,t,n,r){(3&e[re])===n&&Vg(e,t,n,r)}function ou(e,t){let n=e[re];(3&n)===t&&(n&=8191,n+=1,e[re]=n)}function Vg(e,t,n,r){const o=r??-1,s=t.length-1;let a=0;for(let c=void 0!==r?65535&e[oi]:0;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=r&&a>=r)break}else t[c]<0&&(e[oi]+=65536),(a<o||-1==o)&&(uM(e,n,t,c),e[oi]=(4294901760&e[oi])+c+2),c++}function Bg(e,t){An(4,e,t);const n=Zt(null);try{t.call(e)}finally{Zt(n),An(5,e,t)}}function uM(e,t,n,r){const i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[re]>>13<e[oi]>>16&&(3&e[re])===t&&(e[re]+=8192,Bg(a,o)):Bg(a,o)}const di=-1;class xo{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function au(e){return e!==di}function Po(e){return 32767&e}function Oo(e,t){let n=function pM(e){return e>>16}(e),r=t;for(;n>0;)r=r[ii],n--;return r}let cu=!0;function ma(e){const t=cu;return cu=e,t}const jg=255,Hg=5;let gM=0;const kn={};function ya(e,t){const n=$g(e,t);if(-1!==n)return n;const r=t[V];r.firstCreatePass&&(e.injectorIndex=t.length,lu(r.data,e),lu(t,null),lu(r.blueprint,null));const i=va(e,t),o=e.injectorIndex;if(au(i)){const s=Po(i),a=Oo(i,t),c=a[V].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=i,o}function lu(e,t){e.push(0,0,0,0,0,0,0,0,t)}function $g(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function va(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=Yg(i),null===r)return di;if(n++,i=i[ii],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return di}function uu(e,t,n){!function mM(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Co)&&(r=n[Co]),null==r&&(r=n[Co]=gM++);const i=r&jg;t.data[e+(i>>Hg)]|=1<<i}(e,t,n)}function Ug(e,t,n){if(n&ce.Optional||void 0!==e)return e;kl()}function Gg(e,t,n,r){if(n&ce.Optional&&void 0===r&&(r=null),!(n&(ce.Self|ce.Host))){const i=e[dr],o=Et(void 0);try{return i?i.get(t,r,n&ce.Optional):Pp(t,r,n&ce.Optional)}finally{Et(o)}}return Ug(r,0,n)}function zg(e,t,n,r=ce.Default,i){if(null!==e){if(2048&t[re]&&!(r&ce.Self)){const s=function DM(e,t,n,r,i){let o=e,s=t;for(;null!==o&&null!==s&&2048&s[re]&&!(512&s[re]);){const a=Wg(o,s,n,r|ce.Self,kn);if(a!==kn)return a;let c=o.parent;if(!c){const l=s[Qp];if(l){const u=l.get(n,kn,r);if(u!==kn)return u}c=Yg(s),s=s[ii]}o=c}return i}(e,t,n,r,kn);if(s!==kn)return s}const o=Wg(e,t,n,r,kn);if(o!==kn)return o}return Gg(t,n,r,i)}function Wg(e,t,n,r,i){const o=function _M(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Co)?e[Co]:void 0;return"number"==typeof t?t>=0?t&jg:wM:t}(n);if("function"==typeof o){if(!xg(t,e,r))return r&ce.Host?Ug(i,0,r):Gg(t,n,r,i);try{let s;if(s=o(r),null!=s||r&ce.Optional)return s;kl()}finally{Rg()}}else if("number"==typeof o){let s=null,a=$g(e,t),c=di,l=r&ce.Host?t[$e][lt]:null;for((-1===a||r&ce.SkipSelf)&&(c=-1===a?va(e,t):t[a+8],c!==di&&Zg(r,!1)?(s=t[V],a=Po(c),t=Oo(c,t)):a=-1);-1!==a;){const u=t[V];if(qg(o,a,u.data)){const d=vM(a,t,n,s,r,l);if(d!==kn)return d}c=t[a+8],c!==di&&Zg(r,t[V].data[a+8]===l)&&qg(o,a,t)?(s=u,a=Po(c),t=Oo(c,t)):a=-1}}return i}function vM(e,t,n,r,i,o){const s=t[V],a=s.data[e+8],u=_a(a,s,n,null==r?Pr(a)&&cu:r!=s&&0!=(3&a.type),i&ce.Host&&o===a);return null!==u?Rr(t,s,u,a):kn}function _a(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,c=e.directiveStart,u=o>>20,f=i?a+u:e.directiveEnd;for(let h=r?a:a+u;h<f;h++){const m=s[h];if(h<c&&n===m||h>=c&&m.type===n)return h}if(i){const h=s[c];if(h&&ln(h)&&h.type===n)return c}return null}function Rr(e,t,n,r){let i=e[n];const o=t.data;if(function dM(e){return e instanceof xo}(i)){const s=i;s.resolving&&function BE(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new T(-200,`Circular dependency in DI detected for ${e}${n}`)}(function me(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ee(e)}(o[n]));const a=ma(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Et(s.injectImpl):null;xg(e,r,ce.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function lM(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=pg(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}(n,o[n],t)}finally{null!==l&&Et(l),ma(a),s.resolving=!1,Rg()}}return i}function qg(e,t,n){return!!(n[t+(e>>Hg)]&1<<e)}function Zg(e,t){return!(e&ce.Self||e&ce.Host&&t)}class _t{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return zg(this._tNode,this._lView,t,ra(r),n)}}function wM(){return new _t(at(),A())}function du(e){return Al(e)?()=>{const t=du(K(e));return t&&t()}:Or(e)}function Yg(e){const t=e[V],n=t.type;return 2===n?t.declTNode:1===n?e[lt]:null}const hi="__parameters__";function gi(e,t,n){return Hn(()=>{const r=function fu(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,l,u){const d=c.hasOwnProperty(hi)?c[hi]:Object.defineProperty(c,hi,{value:[]})[hi];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function yi(e,t){e.forEach(n=>Array.isArray(n)?yi(n,t):t(n))}function Kg(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function wa(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Bt(e,t,n){let r=vi(e,t);return r>=0?e[1|r]=n:(r=~r,function TM(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function hu(e,t){const n=vi(e,t);if(n>=0)return e[1|n]}function vi(e,t){return function Xg(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}(e,t,1)}const ba=_o(gi("Optional"),8),Sa=_o(gi("SkipSelf"),4);function Ta(e){return 128==(128&e.flags)}var mr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(mr||{});const vu=new Map;let JM=0;const Cu="__ngContext__";function ut(e,t){It(t)?(e[Cu]=t[Eo],function t1(e){vu.set(e[Eo],e)}(t)):e[Cu]=t}let wu;function Du(e,t){return wu(e,t)}function Bo(e){const t=e[Oe];return mt(t)?t[Oe]:t}function vm(e){return Cm(e[bo])}function _m(e){return Cm(e[cn])}function Cm(e){for(;null!==e&&!mt(e);)e=e[cn];return e}function wi(e,t,n,r,i){if(null!=r){let o,s=!1;mt(r)?o=r:It(r)&&(s=!0,r=r[Le]);const a=Ae(r);0===e&&null!==n?null==i?Sm(t,n,a):Fr(t,n,a,i||null,!0):1===e&&null!==n?Fr(t,n,a,i||null,!0):2===e?function Fa(e,t,n){const r=Na(e,t);r&&function C1(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function b1(e,t,n,r,i){const o=n[In];o!==Ae(n)&&wi(t,e,r,o,i);for(let a=ot;a<n.length;a++){const c=n[a];Ho(c[V],c,e,t,r,o)}}(t,e,o,n,i)}}function Pa(e,t,n){return e.createElement(t,n)}function Dm(e,t){const n=e[si],r=n.indexOf(t);wg(t),n.splice(r,1)}function Oa(e,t){if(e.length<=ot)return;const n=ot+t,r=e[n];if(r){const i=r[So];null!==i&&i!==e&&Dm(i,r),t>0&&(e[n-1][cn]=r[cn]);const o=wa(e,ot+t);!function f1(e,t){Ho(e,t,t[te],2,null,null),t[Le]=null,t[lt]=null}(r[V],r);const s=o[Mn];null!==s&&s.detachView(o[V]),r[Oe]=null,r[cn]=null,r[re]&=-129}return r}function Su(e,t){if(!(256&t[re])){const n=t[te];t[Mo]&&sg(t[Mo]),t[Io]&&sg(t[Io]),n.destroyNode&&Ho(e,t,n,3,null,null),function g1(e){let t=e[bo];if(!t)return Eu(e[V],e);for(;t;){let n=null;if(It(t))n=t[bo];else{const r=t[ot];r&&(n=r)}if(!n){for(;t&&!t[cn]&&t!==e;)It(t)&&Eu(t[V],t),t=t[Oe];null===t&&(t=e),It(t)&&Eu(t[V],t),n=t&&t[cn]}t=n}}(t)}}function Eu(e,t){if(!(256&t[re])){t[re]&=-129,t[re]|=256,function _1(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof xo)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];An(4,a,c);try{c.call(a)}finally{An(5,a,c)}}else{An(4,i,o);try{o.call(i)}finally{An(5,i,o)}}}}}(e,t),function v1(e,t){const n=e.cleanup,r=t[ni];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(t[ni]=null);const i=t[fr];if(null!==i){t[fr]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,t),1===t[V].type&&t[te].destroy();const n=t[So];if(null!==n&&mt(t[Oe])){n!==t[Oe]&&Dm(n,t);const r=t[Mn];null!==r&&r.detachView(e)}!function n1(e){vu.delete(e[Eo])}(t)}}function Mu(e,t,n){return function bm(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[Le];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===sn.None||o===sn.Emulated)return null}return At(r,n)}}(e,t.parent,n)}function Fr(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Sm(e,t,n){e.appendChild(t,n)}function Em(e,t,n,r,i){null!==r?Fr(e,t,n,r,i):Sm(e,t,n)}function Na(e,t){return e.parentNode(t)}let Iu,xu,Am=function Im(e,t,n){return 40&e.type?At(e,n):null};function Ra(e,t,n,r){const i=Mu(e,r,t),o=t[te],a=function Mm(e,t,n){return Am(e,t,n)}(r.parent||t[lt],r,t);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)Em(o,i,n[c],a,!1);else Em(o,i,n,a,!1);void 0!==Iu&&Iu(o,r,t,n,i)}function jo(e,t){if(null!==t){const n=t.type;if(3&n)return At(t,e);if(4&n)return Au(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return jo(e,r);{const i=e[t.index];return mt(i)?Au(-1,i):Ae(i)}}if(32&n)return Du(t,e)()||Ae(e[t.index]);{const r=km(e,t);return null!==r?Array.isArray(r)?r[0]:jo(Bo(e[$e]),r):jo(e,t.next)}}return null}function km(e,t){return null!==t?e[$e][lt].projection[t.projection]:null}function Au(e,t){const n=ot+e+1;if(n<t.length){const r=t[n],i=r[V].firstChild;if(null!==i)return jo(r,i)}return t[In]}function Tu(e,t,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===t&&(a&&ut(Ae(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)Tu(e,t,n.child,r,i,o,!1),wi(t,e,i,a,o);else if(32&c){const l=Du(n,r);let u;for(;u=l();)wi(t,e,i,u,o);wi(t,e,i,a,o)}else 16&c?Pm(e,t,r,n,i,o):wi(t,e,i,a,o);n=s?n.projectionNext:n.next}}function Ho(e,t,n,r,i,o){Tu(n,r,e.firstChild,t,i,o,!1)}function Pm(e,t,n,r,i,o){const s=n[$e],c=s[lt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)wi(t,e,i,c[l],o);else{let l=c;const u=s[Oe];Ta(r)&&(l.flags|=128),Tu(e,t,l,u,i,o,!0)}}function Om(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Nm(e,t,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Hl(e,t,r),null!==i&&Om(e,t,i),null!==o&&function E1(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}class Vm{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ap})`}}function yr(e){return e instanceof Vm?e.changingThisBreaksApplicationSecurity:e}const B1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Si=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Si||{});function Kt(e){const t=function Go(){const e=A();return e&&e[ri].sanitizer}();return t?t.sanitize(Si.URL,e)||"":function $o(e,t){const n=function R1(e){return e instanceof Vm&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Ap})`)}return n===t}(e,"URL")?yr(e):function Ou(e){return(e=String(e)).match(B1)?e:"unsafe:"+e}(ee(e))}const zo=new H("ENVIRONMENT_INITIALIZER"),qm=new H("INJECTOR",-1),Zm=new H("INJECTOR_DEF_TYPES");class Lu{get(t,n=vo){if(n===vo){const r=new Error(`NullInjectorError: No provider for ${Qe(t)}!`);throw r.name="NullInjectorError",r}return n}}function X1(...e){return{\u0275providers:Qm(0,e),\u0275fromNgModule:!0}}function Qm(e,...t){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return yi(t,s=>{const a=s;ja(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&Km(i,o),n}function Km(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];Vu(i,o=>{t(o,r)})}}function ja(e,t,n,r){if(!(e=K(e)))return!1;let i=null,o=ea(e);const s=!o&&de(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const c=e.ngModule;if(o=ea(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)ja(l,t,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{yi(o.imports,u=>{ja(u,t,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&Km(l,t)}if(!a){const l=Or(i)||(()=>new i);t({provide:i,useFactory:l,deps:he},i),t({provide:Zm,useValue:i,multi:!0},i),t({provide:zo,useValue:()=>q(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const l=e;Vu(c,u=>{t(u,l)})}}}return i!==e&&void 0!==e.providers}function Vu(e,t){for(let n of e)Tl(n)&&(n=n.\u0275providers),Array.isArray(n)?Vu(n,t):t(n)}const J1=_e({provide:String,useValue:_e});function Bu(e){return null!==e&&"object"==typeof e&&J1 in e}function Lr(e){return"function"==typeof e}const ju=new H("Set Injector scope."),Ha={},tI={};let Hu;function $a(){return void 0===Hu&&(Hu=new Lu),Hu}class Xt{}class Ei extends Xt{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Uu(t,s=>this.processProvider(s)),this.records.set(qm,Mi(void 0,this)),i.has("environment")&&this.records.set(Xt,Mi(void 0,this));const o=this.records.get(ju);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Zm.multi,he,ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=ur(this),r=Et(void 0);try{return t()}finally{ur(n),Et(r)}}get(t,n=vo,r=ce.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Lp))return t[Lp](this);r=ra(r);const o=ur(this),s=Et(void 0);try{if(!(r&ce.SkipSelf)){let c=this.records.get(t);if(void 0===c){const l=function sI(e){return"function"==typeof e||"object"==typeof e&&e instanceof H}(t)&&Js(t);c=l&&this.injectableDefInScope(l)?Mi($u(t),Ha):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(r&ce.Self?$a():this.parent).get(t,n=r&ce.Optional&&n===vo?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[na]=a[na]||[]).unshift(Qe(t)),o)throw a;return function e0(e,t,n,r){const i=e[na];throw t[Np]&&i.unshift(t[Np]),e.message=function t0(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=Qe(t);if(Array.isArray(t))i=t.map(Qe).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Qe(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(YE,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[na]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{Et(s),ur(o)}}resolveInjectorInitializers(){const t=ur(this),n=Et(void 0);try{const i=this.get(zo.multi,he,ce.Self);for(const o of i)o()}finally{ur(t),Et(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Qe(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(t){let n=Lr(t=K(t))?t:K(t&&t.provide);const r=function rI(e){return Bu(e)?Mi(void 0,e.useValue):Mi(function ey(e,t,n){let r;if(Lr(e)){const i=K(e);return Or(i)||$u(i)}if(Bu(e))r=()=>K(e.useValue);else if(function Jm(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Vl(e.deps||[]));else if(function Xm(e){return!(!e||!e.useExisting)}(e))r=()=>q(K(e.useExisting));else{const i=K(e&&(e.useClass||e.provide));if(!function iI(e){return!!e.deps}(e))return Or(i)||$u(i);r=()=>new i(...Vl(e.deps))}return r}(e),Ha)}(t);if(Lr(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Mi(void 0,Ha,!0),i.factory=()=>Vl(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Ha&&(n.value=tI,n.value=n.factory()),"object"==typeof n.value&&n.value&&function oI(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=K(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function $u(e){const t=Js(e),n=null!==t?t.factory:Or(e);if(null!==n)return n;if(e instanceof H)throw new T(204,!1);if(e instanceof Function)return function nI(e){const t=e.length;if(t>0)throw function Fo(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new T(204,!1);const n=function zE(e){return e&&(e[ta]||e[kp])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new T(204,!1)}function Mi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Uu(e,t){for(const n of e)Array.isArray(n)?Uu(n,t):n&&Tl(n)?Uu(n.\u0275providers,t):t(n)}const Ua=new H("AppId",{providedIn:"root",factory:()=>aI}),aI="ng",ty=new H("Platform Initializer"),Ii=new H("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ny=new H("CSP nonce",{providedIn:"root",factory:()=>function bi(){if(void 0!==xu)return xu;if(typeof document<"u")return document;throw new T(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ry=(e,t,n)=>null;function Ku(e,t,n=!1){return ry(e,t,n)}class yI{}class sy{}class _I{resolveComponentFactory(t){throw function vI(e){const t=Error(`No component factory found for ${Qe(e)}.`);return t.ngComponent=e,t}(t)}}let Ya=(()=>{class e{static#e=this.NULL=new _I}return e})();function CI(){return ki(at(),A())}function ki(e,t){return new jt(At(e,t))}let jt=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=CI}return e})();function wI(e){return e instanceof jt?e.nativeElement:e}class cy{}let Zn=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function DI(){const e=A(),n=Vt(at().index,e);return(It(n)?n:e)[te]}()}return e})(),bI=(()=>{class e{static#e=this.\u0275prov=W({token:e,providedIn:"root",factory:()=>null})}return e})();class Zo{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const SI=new Zo("16.2.12"),ed={};function fy(e,t=null,n=null,r){const i=hy(e,t,n,r);return i.resolveInjectorInitializers(),i}function hy(e,t=null,n=null,r,i=new Set){const o=[n||he,X1(e)];return r=r||("object"==typeof e?void 0:Qe(e)),new Ei(o,t||$a(),r||null,i)}let Ht=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=vo;static#t=this.NULL=new Lu;static create(n,r){if(Array.isArray(n))return fy({name:""},r,n,"");{const i=n.name??"";return fy({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=W({token:e,providedIn:"any",factory:()=>q(qm)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function nd(e){return e.ngOriginalError}class Yn{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&nd(t);for(;n&&nd(n);)n=nd(n);return n||null}}function id(e){return t=>{setTimeout(e,void 0,t)}}const ue=class xI extends on{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&"object"==typeof t){const c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=id(o),i&&(i=id(i)),s&&(s=id(s)));const a=super.subscribe({next:i,error:o,complete:s});return t instanceof Nt&&t.add(a),a}};function gy(...e){}class Te{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ue(!1),this.onMicrotaskEmpty=new ue(!1),this.onStable=new ue(!1),this.onError=new ue(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function PI(){const e="function"==typeof Ie.requestAnimationFrame;let t=Ie[e?"requestAnimationFrame":"setTimeout"],n=Ie[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function RI(e){const t=()=>{!function NI(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ie,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,sd(e),e.isCheckStableRunning=!0,od(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),sd(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function LI(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return my(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),yy(e)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return my(e),n.invoke(i,o,s,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),yy(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,sd(e),od(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Te.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(Te.isInAngularZone())throw new T(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,OI,gy,gy);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const OI={};function od(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function sd(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function my(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function yy(e){e._nesting--,od(e)}class FI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ue,this.onMicrotaskEmpty=new ue,this.onStable=new ue,this.onError=new ue}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const vy=new H("",{providedIn:"root",factory:_y});function _y(){const e=j(Te);let t=!0;return function RE(...e){const t=yo(e),n=function AE(e,t){return"number"==typeof El(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?Rt(r[0]):Jr(n)(et(r,t)):Dn}(new ze(i=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(t),i.complete()})}),new ze(i=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});const s=e.onUnstable.subscribe(()=>{Te.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Ip()))}function ad(e){return e.ownerDocument}function Qn(e){return e instanceof Function?e():e}let cd=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=W({token:e,providedIn:"root",factory:()=>new e})}return e})();function Yo(e){for(;e;){e[re]|=64;const t=Bo(e);if(Gl(e)&&!t)return e;e=t}return null}const Sy=new H("",{providedIn:"root",factory:()=>!1});let Ka=null;function Ay(e,t){return e[t]??xy()}function Ty(e,t){const n=xy();n.producerNode?.length&&(e[t]=Ka,n.lView=e,Ka=ky())}const WI={...eg,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Yo(e.lView)},lView:null};function ky(){return Object.create(WI)}function xy(){return Ka??=ky(),Ka}const ne={};function C(e){Py(fe(),A(),vt()+e,!1)}function Py(e,t,n,r){if(!r)if(3==(3&t[re])){const o=e.preOrderCheckHooks;null!==o&&pa(t,o,n)}else{const o=e.preOrderHooks;null!==o&&ga(t,o,0,n)}Nr(n)}function k(e,t=ce.Default){const n=A();return null===n?q(e,t):zg(at(),n,K(e),t)}function Xa(e,t,n,r,i,o,s,a,c,l,u){const d=t.blueprint.slice();return d[Le]=i,d[re]=140|r,(null!==l||e&&2048&e[re])&&(d[re]|=2048),Cg(d),d[Oe]=d[ii]=e,d[He]=n,d[ri]=s||e&&e[ri],d[te]=a||e&&e[te],d[dr]=c||e&&e[dr]||null,d[lt]=o,d[Eo]=function e1(){return JM++}(),d[Gn]=u,d[Qp]=l,d[$e]=2==t.type?e[$e]:d,d}function Oi(e,t,n,r,i){let o=e.data[t];if(null===o)o=function ld(e,t,n,r,i){const o=Mg(),s=Xl(),c=e.data[t]=function eA(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return function li(){return null!==Q.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(e,t,n,r,i),function J0(){return Q.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function ko(){const e=Q.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Tn(o,!0),o}function Qo(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Ny(e,t,n,r,i){const o=Ay(t,Mo),s=vt(),a=2&r;try{Nr(-1),a&&t.length>le&&Py(e,t,le,!1),An(a?2:0,i);const l=a?o:null,u=Wl(l);try{null!==l&&(l.dirty=!1),n(r,i)}finally{ql(l,u)}}finally{a&&null===t[Mo]&&Ty(t,Mo),Nr(s),An(a?3:1,i)}}function ud(e,t,n){if(Ul(t)){const r=Zt(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{Zt(r)}}}function dd(e,t,n){Eg()&&(function aA(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;Pr(n)&&function pA(e,t,n){const r=At(t,e),i=Ry(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=Ja(e,Xa(e,i,null,s,r,t,null,e[ri].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||ya(n,t),ut(r,t);const s=n.initialInputs;for(let a=i;a<o;a++){const c=e.data[a],l=Rr(t,e,a,n);ut(l,t),null!==s&&gA(0,a-i,l,c,0,s),ln(c)&&(Vt(n.index,t)[He]=Rr(t,e,a,n))}}(e,t,n,At(n,t)),64==(64&n.flags)&&jy(e,t,n))}function fd(e,t,n=At){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}function Ry(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=hd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function hd(e,t,n,r,i,o,s,a,c,l,u){const d=le+r,f=d+i,h=function ZI(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:ne);return n}(d,f),m="function"==typeof l?l():l;return h[V]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:u}}let Fy=e=>null;function Ly(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const o=e[i];null===r?Vy(n,t,i,o):r.hasOwnProperty(i)&&Vy(n,t,r[i],o)}return n}function Vy(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function $t(e,t,n,r,i,o,s,a){const c=At(t,n);let u,l=t.inputs;!a&&null!=l&&(u=l[r])?(vd(e,n,u,r,i),Pr(t)&&function rA(e,t){const n=Vt(t,e);16&n[re]||(n[re]|=64)}(n,t.index)):3&t.type&&(r=function nA(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,t.value||"",r):i,o.setProperty(c,r,i))}function pd(e,t,n,r){if(Eg()){const i=null===r?null:{"":-1},o=function lA(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(Gp(t,s.selectors,!1))if(r||(r=[]),ln(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),gd(e,t,a.length)}else r.unshift(s),gd(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&By(e,t,n,s,i,a),i&&function uA(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new T(-301,!1);r.push(t[i],o)}}}(n,r,i)}n.mergedAttrs=wo(n.mergedAttrs,n.attrs)}function By(e,t,n,r,i,o){for(let l=0;l<r.length;l++)uu(ya(n,t),e,r[l].type);!function fA(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=Qo(e,t,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=wo(n.mergedAttrs,u.hostAttrs),hA(e,n,t,c,u),dA(c,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function tA(e,t,n){const i=t.directiveEnd,o=e.data,s=t.attrs,a=[];let c=null,l=null;for(let u=t.directiveStart;u<i;u++){const d=o[u],f=n?n.get(d):null,m=f?f.outputs:null;c=Ly(d.inputs,u,c,f?f.inputs:null),l=Ly(d.outputs,u,l,m);const _=null===c||null===s||Up(t)?null:mA(c,u,s);a.push(_)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}(e,n,o)}function jy(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function tM(){return Q.lFrame.currentDirectiveIndex}();try{Nr(o);for(let a=r;a<i;a++){const c=e.data[a],l=t[a];eu(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&cA(c,l)}}finally{Nr(-1),eu(s)}}function cA(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function gd(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function dA(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;ln(t)&&(n[""]=e)}}function hA(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=Or(i.type)),s=new xo(o,ln(i),k);e.blueprint[r]=s,n[r]=s,function oA(e,t,n,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function sA(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(e,t,r,Qo(e,n,i.hostVars,ne),i)}function gA(e,t,n,r,i,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)Hy(r,n,s[a++],s[a++],s[a++])}function Hy(e,t,n,r,i){const o=Zt(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(t,i)),null!==e.setInput?e.setInput(t,i,n,r):t[r]=i}finally{Zt(o)}}function mA(e,t,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function $y(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function Uy(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=e.data[o];nu(n[r]),s.contentQueries(2,t[o],o)}}}function Ja(e,t){return e[bo]?e[Yp][cn]=t:e[bo]=t,e[Yp]=t,t}function yd(e,t,n){nu(0);const r=Zt(null);try{t(e,n)}finally{Zt(r)}}function Gy(e){return e[ni]||(e[ni]=[])}function zy(e){return e.cleanup||(e.cleanup=[])}function qy(e,t){const n=e[dr],r=n?n.get(Yn,null):null;r&&r.handleError(t)}function vd(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];Hy(e.data[s],t[s],r,a,i)}}function Kn(e,t,n){const r=da(t,e);!function wm(e,t,n){e.setValue(t,n)}(e[te],r,n)}function yA(e,t){const n=Vt(t,e),r=n[V];!function vA(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[Le];null!==i&&null===n[Gn]&&(n[Gn]=Ku(i,n[dr])),_d(r,n,n[He])}function _d(e,t,n){ru(t);try{const r=e.viewQuery;null!==r&&yd(1,r,n);const i=e.template;null!==i&&Ny(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Uy(e,t),e.staticViewQueries&&yd(2,e.viewQuery,n);const o=e.components;null!==o&&function _A(e,t){for(let n=0;n<t.length;n++)yA(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[re]&=-5,iu()}}let Zy=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function x0(e,t,n){const r=Object.create(P0);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>ig(r),run:()=>{if(r.dirty=!1,r.hasRun&&!og(r))return;r.hasRun=!0;const s=Wl(r);try{r.cleanupFn(),r.cleanupFn=hg,r.fn(i)}finally{ql(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(n,l=>{this.all.has(l)&&this.queue.set(l,o)},i);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=W({token:e,providedIn:"root",factory:()=>new e})}return e})();function ec(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=Il(i,a):2==o&&(r=Il(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function Ko(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];null!==o&&r.push(Ae(o)),mt(o)&&Yy(o,r);const s=n.type;if(8&s)Ko(e,t,n.child,r);else if(32&s){const a=Du(n,t);let c;for(;c=a();)r.push(c)}else if(16&s){const a=km(t,n);if(Array.isArray(a))r.push(...a);else{const c=Bo(t[$e]);Ko(c[V],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Yy(e,t){for(let n=ot;n<e.length;n++){const r=e[n],i=r[V].firstChild;null!==i&&Ko(r[V],r,i,t)}e[In]!==e[Le]&&t.push(e[In])}function tc(e,t,n,r=!0){const i=t[ri],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{Qy(e,t,e.template,n)}catch(c){throw r&&qy(t,c),c}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function Qy(e,t,n,r){const i=t[re];if(256!=(256&i)){t[ri].effectManager?.flush(),ru(t);try{Cg(t),function Ag(e){return Q.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Ny(e,t,n,2,r);const s=3==(3&i);if(s){const l=e.preOrderCheckHooks;null!==l&&pa(t,l,null)}else{const l=e.preOrderHooks;null!==l&&ga(t,l,0,null),ou(t,0)}if(function DA(e){for(let t=vm(e);null!==t;t=_m(t)){if(!t[Kp])continue;const n=t[si];for(let r=0;r<n.length;r++){$0(n[r])}}}(t),Ky(t,2),null!==e.contentQueries&&Uy(e,t),s){const l=e.contentCheckHooks;null!==l&&pa(t,l)}else{const l=e.contentHooks;null!==l&&ga(t,l,1),ou(t,1)}!function qI(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=Ay(t,Io);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)Nr(~o);else{const s=o,a=n[++i],c=n[++i];eM(a,s),r.dirty=!1;const l=Wl(r);try{c(2,t[s])}finally{ql(r,l)}}}}finally{null===t[Io]&&Ty(t,Io),Nr(-1)}}(e,t);const a=e.components;null!==a&&Jy(t,a,0);const c=e.viewQuery;if(null!==c&&yd(2,c,r),s){const l=e.viewCheckHooks;null!==l&&pa(t,l)}else{const l=e.viewHooks;null!==l&&ga(t,l,2),ou(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[re]&=-73,wg(t)}finally{iu()}}}function Ky(e,t){for(let n=vm(e);null!==n;n=_m(n))for(let r=ot;r<n.length;r++)Xy(n[r],t)}function bA(e,t,n){Xy(Vt(t,e),n)}function Xy(e,t){if(!function j0(e){return 128==(128&e[re])}(e))return;const n=e[V],r=e[re];if(80&r&&0===t||1024&r||2===t)Qy(n,e,n.template,e[He]);else if(e[Do]>0){Ky(e,1);const i=n.components;null!==i&&Jy(e,i,1)}}function Jy(e,t,n){for(let r=0;r<t.length;r++)bA(e,t[r],n)}class Xo{get rootNodes(){const t=this._lView,n=t[V];return Ko(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[He]}set context(t){this._lView[He]=t}get destroyed(){return 256==(256&this._lView[re])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Oe];if(mt(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Oa(t,r),wa(n,r))}this._attachedToViewContainer=!1}Su(this._lView[V],this._lView)}onDestroy(t){!function bg(e,t){if(256==(256&e[re]))throw new T(911,!1);null===e[fr]&&(e[fr]=[]),e[fr].push(t)}(this._lView,t)}markForCheck(){Yo(this._cdRefInjectingView||this._lView)}detach(){this._lView[re]&=-129}reattach(){this._lView[re]|=128}detectChanges(){tc(this._lView[V],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function p1(e,t){Ho(e,t,t[te],2,null,null)}(this._lView[V],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=t}}class SA extends Xo{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;tc(t[V],t,t[He],!1)}checkNoChanges(){}get context(){return null}}class ev extends Ya{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=de(t);return new Jo(n,this.ngModule)}}function tv(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class MA{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=ra(r);const i=this.injector.get(t,ed,r);return i!==ed||n===ed?i:this.parentInjector.get(t,n,r)}}class Jo extends sy{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=tv(t.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return tv(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function f0(e){return e.map(d0).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=(i=i||this.ngModule)instanceof Xt?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new MA(t,o):t,a=s.get(cy,null);if(null===a)throw new T(407,!1);const d={rendererFactory:a,sanitizer:s.get(bI,null),effectManager:s.get(Zy,null),afterRenderEventManager:s.get(cd,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",m=r?function YI(e,t,n,r){const o=r.get(Sy,!1)||n===sn.ShadowDom,s=e.selectRootElement(t,o);return function QI(e){Fy(e)}(s),s}(f,r,this.componentDef.encapsulation,s):Pa(f,h,function EA(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(h)),M=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let D=null;null!==m&&(D=Ku(m,s,!0));const B=hd(0,null,null,1,0,null,null,null,null,null,null),U=Xa(null,B,null,M,null,null,d,f,s,null,D);let ie,Ge;ru(U);try{const zt=this.componentDef;let Bn,Xr=null;zt.findHostDirectiveDefs?(Bn=[],Xr=new Map,zt.findHostDirectiveDefs(zt,Bn,Xr),Bn.push(zt)):Bn=[zt];const Jh=function AA(e,t){const n=e[V],r=le;return e[r]=t,Oi(n,r,2,"#host",null)}(U,m),ep=function TA(e,t,n,r,i,o,s){const a=i[V];!function kA(e,t,n,r){for(const i of e)t.mergedAttrs=wo(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(ec(t,t.mergedAttrs,!0),null!==n&&Nm(r,n,t))}(r,e,t,s);let c=null;null!==t&&(c=Ku(t,i[dr]));const l=o.rendererFactory.createRenderer(t,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=Xa(i,Ry(n),null,u,i[e.index],e,o,l,null,null,c);return a.firstCreatePass&&gd(a,e,r.length-1),Ja(i,d),i[e.index]=d}(Jh,m,zt,Bn,U,d,f);Ge=_g(B,le),m&&function PA(e,t,n,r){if(r)Hl(e,n,["ng-version",SI.full]);else{const{attrs:i,classes:o}=function h0(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!an(i))break;i=o}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&Hl(e,n,i),o&&o.length>0&&Om(e,n,o.join(" "))}}(f,zt,m,r),void 0!==n&&function OA(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(Ge,this.ngContentSelectors,n),ie=function xA(e,t,n,r,i,o){const s=at(),a=i[V],c=At(s,i);By(a,i,s,n,null,r);for(let u=0;u<n.length;u++)ut(Rr(i,a,s.directiveStart+u,s),i);jy(a,i,s),c&&ut(c,i);const l=Rr(i,a,s.directiveStart+s.componentOffset,s);if(e[He]=i[He]=l,null!==o)for(const u of o)u(l,t);return ud(a,s,e),l}(ep,zt,Bn,Xr,U,[NA]),_d(B,U,null)}finally{iu()}return new IA(this.componentType,ie,ki(Ge,U),U,Ge)}}class IA extends yI{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new SA(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const o=this._rootLView;vd(o[V],o,i,t,n),this.previousInputValues.set(t,n),Yo(Vt(this._tNode.index,o))}}get injector(){return new _t(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function NA(){const e=at();ha(A()[V],e)}function rc(e){return!!Cd(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Cd(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Pn(e,t,n){return e[t]=n}function es(e,t){return e[t]}function dt(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Vr(e,t,n,r){const i=dt(e,t,n);return dt(e,t+1,r)||i}function Jt(e,t,n,r,i,o){const s=Vr(e,t,n,r);return Vr(e,t+2,i,o)||s}function Ri(e,t,n,r){return dt(e,ui(),n)?t+ee(n)+r:ne}function Fi(e,t,n,r,i,o){const a=Vr(e,function zn(){return Q.lFrame.bindingIndex}(),n,i);return Wn(2),a?t+ee(n)+r+ee(i)+o:ne}function F(e,t,n,r,i,o,s,a){const c=A(),l=fe(),u=e+le,d=l.firstCreatePass?function lT(e,t,n,r,i,o,s,a,c){const l=t.consts,u=Oi(t,e,4,s||null,pr(l,a));pd(t,n,u,pr(l,c)),ha(t,u);const d=u.tView=hd(2,u,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,l,c,t,n,r,i,o,s):l.data[u];Tn(d,!1);const f=_v(l,c,d,e);fa()&&Ra(l,c,f,d),ut(f,c),Ja(c,c[u]=$y(f,c,f,d)),ca(d)&&dd(l,c,d),null!=s&&fd(c,d,a)}let _v=function Cv(e,t,n,r){return gr(!0),t[te].createComment("")};function Md(e){return function ci(e,t){return e[t]}(function X0(){return Q.lFrame.contextLView}(),le+e)}function S(e,t,n){const r=A();return dt(r,ui(),t)&&$t(fe(),Fe(),r,e,t,r[te],n,!1),S}function Id(e,t,n,r,i){const s=i?"class":"style";vd(e,n,t.inputs[s],s,r)}function g(e,t,n,r){const i=A(),o=fe(),s=le+e,a=i[te],c=o.firstCreatePass?function hT(e,t,n,r,i,o){const s=t.consts,c=Oi(t,e,2,r,pr(s,i));return pd(t,n,c,pr(s,o)),null!==c.attrs&&ec(c,c.attrs,!1),null!==c.mergedAttrs&&ec(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,i,t,n,r):o.data[s],l=wv(o,i,c,a,t,e);i[s]=l;const u=ca(c);return Tn(c,!0),Nm(a,l,c),32!=(32&c.flags)&&fa()&&Ra(o,i,l,c),0===function G0(){return Q.lFrame.elementDepthCount}()&&ut(l,i),function z0(){Q.lFrame.elementDepthCount++}(),u&&(dd(o,i,c),ud(o,c,i)),null!==r&&fd(i,c),g}function p(){let e=at();Xl()?function Jl(){Q.lFrame.isParent=!1}():(e=e.parent,Tn(e,!1));const t=e;(function q0(e){return Q.skipHydrationRootTNode===e})(t)&&function K0(){Q.skipHydrationRootTNode=null}(),function W0(){Q.lFrame.elementDepthCount--}();const n=fe();return n.firstCreatePass&&(ha(n,e),Ul(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function fM(e){return 0!=(8&e.flags)}(t)&&Id(n,t,A(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function hM(e){return 0!=(16&e.flags)}(t)&&Id(n,t,A(),t.stylesWithoutHost,!1),p}function N(e,t,n,r){return g(e,t,n,r),p(),N}let wv=(e,t,n,r,i,o)=>(gr(!0),Pa(r,i,function Fg(){return Q.lFrame.currentNamespace}()));function ye(){return A()}function is(e){return!!e&&"function"==typeof e.then}function Sv(e){return!!e&&"function"==typeof e.subscribe}function $(e,t,n,r){const i=A(),o=fe(),s=at();return function Mv(e,t,n,r,i,o,s){const a=ca(r),l=e.firstCreatePass&&zy(e),u=t[He],d=Gy(t);let f=!0;if(3&r.type||s){const _=At(r,t),E=s?s(_):_,M=d.length,D=s?U=>s(Ae(U[r.index])):r.index;let B=null;if(!s&&a&&(B=function _T(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=t[ni],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==B)(B.__ngLastListenerFn__||B).__ngNextListenerFn__=o,B.__ngLastListenerFn__=o,f=!1;else{o=Av(r,t,u,o,!1);const U=n.listen(E,i,o);d.push(o,U),l&&l.push(i,D,M,M+1)}}else o=Av(r,t,u,o,!1);const h=r.outputs;let m;if(f&&null!==h&&(m=h[i])){const _=m.length;if(_)for(let E=0;E<_;E+=2){const ie=t[m[E]][m[E+1]].subscribe(o),Ge=d.length;d.push(o,ie),l&&l.push(i,r.index,Ge,-(Ge+1))}}}(o,i,i[te],s,e,t,r),$}function Iv(e,t,n,r){try{return An(6,t,n),!1!==n(r)}catch(i){return qy(e,i),!1}finally{An(7,t,n)}}function Av(e,t,n,r,i){return function o(s){if(s===Function)return r;Yo(e.componentOffset>-1?Vt(e.index,t):t);let c=Iv(t,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=Iv(t,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function x(e=1){return function rM(e){return(Q.lFrame.contextLView=function iM(e,t){for(;e>0;)t=t[ii],e--;return t}(e,Q.lFrame.contextLView))[He]}(e)}function un(e,t,n){return kd(e,"",t,"",n),un}function kd(e,t,n,r,i){const o=A(),s=Ri(o,t,n,r);return s!==ne&&$t(fe(),Fe(),o,e,s,o[te],i,!1),kd}function cc(e,t){return e<<17|t<<2}function vr(e){return e>>17&32767}function xd(e){return 2|e}function Br(e){return(131068&e)>>2}function Pd(e,t){return-131069&e|t<<2}function Od(e){return 1|e}function Lv(e,t,n,r,i){const o=e[n+1],s=null===t;let a=r?vr(o):Br(o),c=!1;for(;0!==a&&(!1===c||s);){const u=e[a+1];AT(e[a],t)&&(c=!0,e[a+1]=r?Od(u):xd(u)),a=r?vr(u):Br(u)}c&&(e[n+1]=r?xd(o):Od(o))}function AT(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&vi(e,t)>=0}function Nd(e,t,n){return dn(e,t,n,!1),Nd}function os(e,t){return dn(e,t,null,!0),os}function dn(e,t,n,r){const i=A(),o=fe(),s=Wn(2);o.firstUpdatePass&&function zv(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[vt()],s=function Gv(e,t){return t>=e.expandoStartIndex}(e,n);(function Yv(e,t){return 0!=(e.flags&(t?8:16))})(o,r)&&null===t&&!s&&(t=!1),t=function LT(e,t,n,r){const i=function tu(e){const t=Q.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=ss(n=Rd(null,e,t,n,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=Rd(i,e,t,n,r),null===o){let c=function VT(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Br(r))return e[vr(r)]}(e,t,r);void 0!==c&&Array.isArray(c)&&(c=Rd(null,e,t,c[1],r),c=ss(c,t.attrs,r),function BT(e,t,n,r){e[vr(n?t.classBindings:t.styleBindings)]=r}(e,t,r,c))}else o=function jT(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=ss(r,e[o].hostAttrs,n);return ss(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function MT(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=vr(s),c=Br(s);e[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||vi(n,u)>0)&&(l=!0)):u=n,i)if(0!==c){const f=vr(e[a+1]);e[r+1]=cc(f,a),0!==f&&(e[f+1]=Pd(e[f+1],r)),e[a+1]=function ST(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=cc(a,0),0!==a&&(e[a+1]=Pd(e[a+1],r)),a=r;else e[r+1]=cc(c,0),0===a?a=r:e[c+1]=Pd(e[c+1],r),c=r;l&&(e[r+1]=xd(e[r+1])),Lv(e,u,r,!0),Lv(e,u,r,!1),function IT(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&vi(o,t)>=0&&(n[r+1]=Od(n[r+1]))}(t,u,e,r,o),s=cc(a,c),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}(o,e,s,r),t!==ne&&dt(i,s,t)&&function qv(e,t,n,r,i,o,s,a){if(!(3&t.type))return;const c=e.data,l=c[a+1],u=function ET(e){return 1==(1&e)}(l)?Zv(c,t,n,i,Br(l),s):void 0;lc(u)||(lc(o)||function bT(e){return 2==(2&e)}(l)&&(o=Zv(c,null,n,i,a,s)),function S1(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:mr.DashCase;null==i?e.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=mr.Important),e.setStyle(n,r,i,o))}}(r,s,da(vt(),n),i,o))}(o,o.data[vt()],i,i[te],e,i[s+1]=function GT(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Qe(yr(e)))),e}(t,n),r,s)}function Rd(e,t,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],r=ss(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function ss(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Bt(e,s,!!n||t[++o]))}return void 0===e?null:e}function Zv(e,t,n,r,i,o){const s=null===t;let a;for(;i>0;){const c=e[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let f=n[i+1];f===ne&&(f=d?he:void 0);let h=d?hu(f,r):u===r?f:void 0;if(l&&!lc(h)&&(h=hu(c,r)),lc(h)&&(a=h,s))return a;const m=e[i+1];i=s?vr(m):Br(m)}if(null!==t){let c=o?t.residualClasses:t.residualStyles;null!=c&&(a=hu(c,r))}return a}function lc(e){return void 0!==e}function b(e,t=""){const n=A(),r=fe(),i=e+le,o=r.firstCreatePass?Oi(r,i,1,t,null):r.data[i],s=Qv(r,n,o,t,e);n[i]=s,fa()&&Ra(r,n,s,o),Tn(o,!1)}let Qv=(e,t,n,r,i)=>(gr(!0),function xa(e,t){return e.createText(t)}(t[te],r));function hn(e){return tt("",e,""),hn}function tt(e,t,n){const r=A(),i=Ri(r,e,t,n);return i!==ne&&Kn(r,vt(),i),tt}function Fd(e,t,n,r,i){const o=A(),s=Fi(o,e,t,n,r,i);return s!==ne&&Kn(o,vt(),s),Fd}const zi="en-US";let y_=zi;class Hr{}class U_{}class Ud extends Hr{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ev(this);const i=Lt(t);this._bootstrapComponents=Qn(i.bootstrap),this._r3Injector=hy(t,n,[{provide:Hr,useValue:this},{provide:Ya,useValue:this.componentFactoryResolver},...r],Qe(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Gd extends U_{constructor(t){super(),this.moduleType=t}create(t){return new Ud(this.moduleType,t,[])}}class G_ extends Hr{constructor(t){super(),this.componentFactoryResolver=new ev(this),this.instance=null;const n=new Ei([...t.providers,{provide:Hr,useValue:this},{provide:Ya,useValue:this.componentFactoryResolver}],t.parent||$a(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function zd(e,t,n=null){return new G_({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let px=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Qm(0,n.type),i=r.length>0?zd([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=W({token:e,providedIn:"environment",factory:()=>new e(q(Xt))})}return e})();function z_(e){e.getStandaloneInjector=t=>t.get(px).getOrCreateStandaloneInjector(e)}function pc(e,t,n){const r=yt()+e,i=A();return i[r]===ne?Pn(i,r,n?t.call(n):t()):es(i,r)}function pn(e,t,n,r){return function eC(e,t,n,r,i,o){const s=t+n;return dt(e,s,i)?Pn(e,s+1,o?r.call(o,i):r(i)):fs(e,s+1)}(A(),yt(),e,t,n,r)}function gc(e,t,n,r,i){return function tC(e,t,n,r,i,o,s){const a=t+n;return Vr(e,a,i,o)?Pn(e,a+2,s?r.call(s,i,o):r(i,o)):fs(e,a+2)}(A(),yt(),e,t,n,r,i)}function X_(e,t,n,r,i,o,s){return function rC(e,t,n,r,i,o,s,a,c){const l=t+n;return Jt(e,l,i,o,s,a)?Pn(e,l+4,c?r.call(c,i,o,s,a):r(i,o,s,a)):fs(e,l+4)}(A(),yt(),e,t,n,r,i,o,s)}function fs(e,t){const n=e[t];return n===ne?void 0:n}function Rx(){return this._results[Symbol.iterator]()}class qd{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new ue)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=qd.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Rx)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const i=function Qt(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function IM(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Lx(e,t,n,r=!0){const i=t[V];if(function m1(e,t,n,r){const i=ot+r,o=n.length;r>0&&(n[i-1][cn]=t),r<o-ot?(t[cn]=n[i],Kg(n,ot+r,t)):(n.push(t),t[cn]=null),t[Oe]=n;const s=t[So];null!==s&&n!==s&&function y1(e,t){const n=e[si];t[$e]!==t[Oe][Oe][$e]&&(e[Kp]=!0),null===n?e[si]=[t]:n.push(t)}(s,t);const a=t[Mn];null!==a&&a.insertView(e),t[re]|=128}(i,t,e,n),r){const o=Au(n,e),s=t[te],a=Na(s,e[In]);null!==a&&function h1(e,t,n,r,i,o){r[Le]=i,r[lt]=t,Ho(e,r,n,1,i,o)}(i,e[lt],s,t,a,o)}}let Xn=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=jx}return e})();const Vx=Xn,Bx=class extends Vx{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const i=function Fx(e,t,n,r){const i=t.tView,a=Xa(e,i,n,4096&e[re]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[So]=e[t.index];const l=e[Mn];return null!==l&&(a[Mn]=l.createEmbeddedView(i)),_d(i,a,n),a}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:r});return new Xo(i)}};function jx(){return mc(at(),A())}function mc(e,t){return 4&e.type?new Bx(t,e,ki(e,t)):null}let gn=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Wx}return e})();function Wx(){return dC(at(),A())}const qx=gn,lC=class extends qx{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return ki(this._hostTNode,this._hostLView)}get injector(){return new _t(this._hostTNode,this._hostLView)}get parentInjector(){const t=va(this._hostTNode,this._hostLView);if(au(t)){const n=Oo(t,this._hostLView),r=Po(t);return new _t(n[V].data[r+8],n)}return new _t(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=uC(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-ot}createEmbeddedView(t,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=t.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(t,n,r,i,o){const s=t&&!function Ro(e){return"function"==typeof e}(t);let a;if(s)a=n;else{const _=n||{};a=_.index,r=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}const c=s?t:new Jo(de(t)),l=r||this.parentInjector;if(!o&&null==c.ngModule){const E=(s?l:this.parentInjector).get(Xt,null);E&&(o=E)}de(c.componentType??{});const h=c.create(l,i,null,o);return this.insertImpl(h.hostView,a,false),h}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const i=t._lView;if(function H0(e){return mt(e[Oe])}(i)){const c=this.indexOf(t);if(-1!==c)this.detach(c);else{const l=i[Oe],u=new lC(l,l[lt],l[Oe]);u.detach(u.indexOf(t))}}const s=this._adjustIndex(n),a=this._lContainer;return Lx(a,i,s,!r),t.attachToViewContainerRef(),Kg(Zd(a),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=uC(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Oa(this._lContainer,n);r&&(wa(Zd(this._lContainer),n),Su(r[V],r))}detach(t){const n=this._adjustIndex(t,-1),r=Oa(this._lContainer,n);return r&&null!=wa(Zd(this._lContainer),n)?new Xo(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function uC(e){return e[8]}function Zd(e){return e[8]||(e[8]=[])}function dC(e,t){let n;const r=t[e.index];return mt(r)?n=r:(n=$y(r,t,null,e),t[e.index]=n,Ja(t,n)),fC(n,t,e,r),new lC(n,e,t)}let fC=function hC(e,t,n,r){if(e[In])return;let i;i=8&n.type?Ae(r):function Zx(e,t){const n=e[te],r=n.createComment(""),i=At(t,e);return Fr(n,Na(n,i),r,function w1(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[In]=i};class Yd{constructor(t){this.queryList=t,this.matches=null}clone(){return new Yd(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qd{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Qd(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==CC(t,n).matches&&this.queries[n].setDirty()}}class pC{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Kd{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new Kd(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Xd{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Xd(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,n,Kx(n,o)),this.matchTNodeWithReadOption(t,n,_a(n,t,o,!1,!1))}else r===Xn?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,_a(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===jt||i===gn||i===Xn&&4&n.type)this.addMatch(n.index,-2);else{const o=_a(n,t,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function Kx(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Jx(e,t,n,r){return-1===n?function Xx(e,t){return 11&e.type?ki(e,t):4&e.type?mc(e,t):null}(t,e):-2===n?function eP(e,t,n){return n===jt?ki(t,e):n===Xn?mc(t,e):n===gn?dC(t,e):void 0}(e,t,r):Rr(e,e[V],n,t)}function gC(e,t,n,r){const i=t[Mn].queries[r];if(null===i.matches){const o=e.data,s=n.matches,a=[];for(let c=0;c<s.length;c+=2){const l=s[c];a.push(l<0?null:Jx(t,o[l],s[c+1],n.metadata.read))}i.matches=a}return i.matches}function Jd(e,t,n,r){const i=e.queries.getByIndex(n),o=i.matches;if(null!==o){const s=gC(e,t,i,n);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const l=o[a+1],u=t[-c];for(let d=ot;d<u.length;d++){const f=u[d];f[So]===f[Oe]&&Jd(f[V],f,l,r)}if(null!==u[si]){const d=u[si];for(let f=0;f<d.length;f++){const h=d[f];Jd(h[V],h,l,r)}}}}}return r}function ef(e){const t=A(),n=fe(),r=kg();nu(r+1);const i=CC(n,r);if(e.dirty&&function B0(e){return 4==(4&e[re])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?Jd(n,t,r,[]):gC(n,t,i,r);e.reset(o,wI),e.notifyOnChanges()}return!0}return!1}function mC(e,t,n){const r=fe();r.firstCreatePass&&(function _C(e,t,n){null===e.queries&&(e.queries=new Kd),e.queries.track(new Xd(t,n))}(r,new pC(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function vC(e,t,n){const r=new qd(4==(4&n));(function JI(e,t,n,r){const i=Gy(t);i.push(n),e.firstCreatePass&&zy(e).push(r,i.length-1)})(e,t,r,r.destroy),null===t[Mn]&&(t[Mn]=new Qd),t[Mn].queries.push(new Yd(r))}(r,A(),t)}function CC(e,t){return e.queries.getByIndex(t)}function nf(e,t){return mc(e,t)}const uf=new H("Application Initializer");let df=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=j(uf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(is(o))n.push(o);else if(Sv(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),LC=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Jn=new H("LocaleId",{providedIn:"root",factory:()=>j(Jn,ce.Optional|ce.SkipSelf)||function bP(){return typeof $localize<"u"&&$localize.locale||zi}()});let VC=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Wt(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class MP{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let BC=(()=>{class e{compileModuleSync(n){return new Gd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=Qn(Lt(n).declarations).reduce((s,a)=>{const c=de(a);return c&&s.push(new Jo(c)),s},[]);return new MP(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const UC=new H(""),Cc=new H("");let mf,pf=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,mf||(function ZP(e){mf=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(q(Te),q(gf),q(Cc))};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac})}return e})(),gf=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return mf?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),_r=null;const GC=new H("AllowMultipleToken"),yf=new H("PlatformDestroyListeners"),vf=new H("appBootstrapListener");class WC{constructor(t,n){this.name=t,this.token=n}}function ZC(e,t,n=[]){const r=`Platform: ${t}`,i=new H(r);return(o=[])=>{let s=_f();if(!s||s.injector.get(GC,!1)){const a=[...n,...o,{provide:i,useValue:!0}];e?e(a):function KP(e){if(_r&&!_r.get(GC,!1))throw new T(400,!1);(function zC(){!function M0(e){lg=e}(()=>{throw new T(600,!1)})})(),_r=e;const t=e.get(QC);(function qC(e){e.get(ty,null)?.forEach(n=>n())})(e)}(function YC(e=[],t){return Ht.create({name:t,providers:[{provide:ju,useValue:"platform"},{provide:yf,useValue:new Set([()=>_r=null])},...e]})}(a,r))}return function JP(e){const t=_f();if(!t)throw new T(401,!1);return t}()}}function _f(){return _r?.get(QC)??null}let QC=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function eO(e="zone.js",t){return"noop"===e?new FI:"zone.js"===e?new Te(t):e}(r?.ngZone,function KC(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function hx(e,t,n){return new Ud(e,t,n)}(n.moduleType,this.injector,function nw(e){return[{provide:Te,useFactory:e},{provide:zo,multi:!0,useFactory:()=>{const t=j(nO,{optional:!0});return()=>t.initialize()}},{provide:tw,useFactory:tO},{provide:vy,useFactory:_y}]}(()=>i)),s=o.injector.get(Yn,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{wc(this._modules,o),a.unsubscribe()})}),function XC(e,t,n){try{const r=n();return is(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(df);return a.runInitializers(),a.donePromise.then(()=>(function v_(e){qt(e,"Expected localeId to be defined"),"string"==typeof e&&(y_=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Jn,zi)||zi),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=JC({},r);return function YP(e,t,n){const r=new Gd(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(Zi);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new T(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(yf,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||e)(q(Ht))};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function JC(e,t){return Array.isArray(t)?t.reduce(JC,e):{...e,...t}}let Zi=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=j(tw),this.zoneIsStable=j(vy),this.componentTypes=[],this.components=[],this.isStable=j(VC).hasPendingTasks.pipe(bn(n=>n?J(!1):this.zoneIsStable),function FE(e,t=cr){return e=e??LE,Ye((n,r)=>{let i,o=!0;n.subscribe(We(r,s=>{const a=t(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}(),Ip()),this._injector=j(Xt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof sy;if(!this._injector.get(df).done)throw!i&&function ti(e){const t=de(e)||it(e)||gt(e);return null!==t&&t.standalone}(n),new T(405,!1);let s;s=i?n:this._injector.get(Ya).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function QP(e){return e.isBoundToModule}(s)?void 0:this._injector.get(Hr),l=s.create(Ht.NULL,[],r||s.selector,a),u=l.location.nativeElement,d=l.injector.get(UC,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),wc(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;wc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(vf,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>wc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new T(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function wc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const tw=new H("",{providedIn:"root",factory:()=>j(Yn).handleError.bind(void 0)});function tO(){const e=j(Te),t=j(Yn);return n=>e.runOutsideAngular(()=>t.handleError(n))}let nO=(()=>{class e{constructor(){this.zone=j(Te),this.applicationRef=j(Zi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let Dc=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=iO}return e})();function iO(e){return function oO(e,t,n){if(Pr(e)&&!n){const r=Vt(e.index,t);return new Xo(r,r)}return 47&e.type?new Xo(t[$e],t):null}(at(),A(),16==(16&e))}class sw{constructor(){}supports(t){return rc(t)}create(t){return new dO(t)}}const uO=(e,t)=>t;class dO{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||uO}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<cw(r,i,o)?n:r,a=cw(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){const h=f<o.length?o[f]:o[f]=0,m=h+f;u<=m&&m<l&&(o[f]=h+1)}o[s.previousIndex]=u-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!rc(t))throw new T(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function zA(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new fO(n,r),o,i),t}_verifyReinsertion(t,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new aw),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new aw),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class fO{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class hO{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class aw{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new hO,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cw(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class lw{constructor(){}supports(t){return t instanceof Map||Cd(t)}create(){return new pO}}class pO{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Cd(t)))throw new T(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new gO(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class gO{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function uw(){return new Ec([new sw])}let Ec=(()=>{class e{static#e=this.\u0275prov=W({token:e,providedIn:"root",factory:uw});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||uw()),deps:[[e,new Sa,new ba]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new T(901,!1)}}return e})();function dw(){return new ms([new lw])}let ms=(()=>{class e{static#e=this.\u0275prov=W({token:e,providedIn:"root",factory:dw});constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||dw()),deps:[[e,new Sa,new ba]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new T(901,!1)}}return e})();const vO=ZC(null,"core",[]);let _O=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||e)(q(Zi))};static#t=this.\u0275mod=Un({type:e});static#n=this.\u0275inj=Sn({})}return e})(),Ef=null;function Cr(){return Ef}class OO{}const en=new H("DocumentToken");let Mf=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=W({token:e,factory:function(){return j(RO)},providedIn:"platform"})}return e})();const NO=new H("Location Initialized");let RO=(()=>{class e extends Mf{constructor(){super(),this._doc=j(en),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Cr().getBaseHref(this._doc)}onPopState(n){const r=Cr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Cr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=W({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function If(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function Cw(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function er(e){return e&&"?"!==e[0]?"?"+e:e}let Ur=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=W({token:e,factory:function(){return j(Dw)},providedIn:"root"})}return e})();const ww=new H("appBaseHref");let Dw=(()=>{class e extends Ur{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??j(en).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return If(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+er(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+er(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+er(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(q(Mf),q(ww,8))};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),FO=(()=>{class e extends Ur{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=If(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+er(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+er(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(q(Mf),q(ww,8))};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac})}return e})(),Af=(()=>{class e{constructor(n){this._subject=new ue,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function BO(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(Cw(bw(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+er(r))}normalize(n){return e.stripTrailingSlash(function VO(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,bw(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+er(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+er(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=er;static#t=this.joinWithSlash=If;static#n=this.stripTrailingSlash=Cw;static#r=this.\u0275fac=function(r){return new(r||e)(q(Ur))};static#i=this.\u0275prov=W({token:e,factory:function(){return function LO(){return new Af(q(Ur))}()},providedIn:"root"})}return e})();function bw(e){return e.replace(/\/index.html$/,"")}const Vf=/\s+/,Pw=[];let _s=(()=>{class e{constructor(n,r,i,o){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=Pw,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(Vf):Pw}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(Vf):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(Vf).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||e)(k(Ec),k(ms),k(jt),k(Zn))};static#t=this.\u0275dir=X({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return e})();class EN{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let yn=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new EN(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),Nw(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{Nw(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(k(gn),k(Xn),k(Ec))};static#t=this.\u0275dir=X({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function Nw(e,t){e.context.$implicit=t.item}let ft=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new MN,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Rw("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Rw("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(k(gn),k(Xn))};static#t=this.\u0275dir=X({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class MN{constructor(){this.$implicit=null,this.ngIf=null}}function Rw(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Qe(t)}'.`)}let Gr=(()=>{class e{constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){const[i,o]=n.split("."),s=-1===i.indexOf("-")?void 0:mr.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static#e=this.\u0275fac=function(r){return new(r||e)(k(jt),k(ms),k(Zn))};static#t=this.\u0275dir=X({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return e})(),XN=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Un({type:e});static#n=this.\u0275inj=Sn({})}return e})();function Bw(e){return"server"===e}let nR=(()=>{class e{static#e=this.\u0275prov=W({token:e,providedIn:"root",factory:()=>new rR(q(en),window)})}return e})();class rR{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function iR(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class AR extends OO{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class zf extends AR{static makeCurrent(){!function PO(e){Ef||(Ef=e)}(new zf)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function TR(){return ws=ws||document.querySelector("base"),ws?ws.getAttribute("href"):null}();return null==n?null:function kR(e){Bc=Bc||document.createElement("a"),Bc.setAttribute("href",e);const t=Bc.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){ws=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function bN(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let Bc,ws=null,PR=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac})}return e})();const Wf=new H("EventManagerPlugins");let Gw=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new T(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||e)(q(Wf),q(Te))};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac})}return e})();class zw{constructor(t){this._doc=t}}const qf="ng-app-id";let Ww=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Bw(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${qf}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(qf),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(qf,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||e)(q(en),q(Ua),q(ny,8),q(Ii))};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac})}return e})();const Zf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Yf=/%COMP%/g,FR=new H("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Zw(e,t){return t.map(n=>n.replace(Yf,e))}let Yw=(()=>{class e{constructor(n,r,i,o,s,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Bw(a),this.defaultRenderer=new Qf(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===sn.ShadowDom&&(r={...r,encapsulation:sn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof Kw?i.applyToHost(n):i instanceof Kf&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case sn.Emulated:o=new Kw(c,l,r,this.appId,u,s,a,d);break;case sn.ShadowDom:return new jR(c,l,n,r,s,a,this.nonce,d);default:o=new Kf(c,l,r,u,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(q(Gw),q(Ww),q(Ua),q(FR),q(en),q(Ii),q(Te),q(ny))};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac})}return e})();class Qf{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Zf[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Qw(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Qw(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new T(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=Zf[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=Zf[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(mr.DashCase|mr.Important)?t.style.setProperty(n,r,i&mr.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&mr.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=Cr().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function Qw(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class jR extends Qf{constructor(t,n,r,i,o,s,a,c){super(t,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Zw(i.id,i.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Kf extends Qf{constructor(t,n,r,i,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?Zw(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Kw extends Kf{constructor(t,n,r,i,o,s,a,c){const l=i+"-"+r.id;super(t,n,r,o,s,a,c,l),this.contentAttr=function LR(e){return"_ngcontent-%COMP%".replace(Yf,e)}(l),this.hostAttr=function VR(e){return"_nghost-%COMP%".replace(Yf,e)}(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let HR=(()=>{class e extends zw{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||e)(q(en))};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac})}return e})();const Xw=["alt","control","meta","shift"],$R={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},UR={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let GR=(()=>{class e extends zw{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Cr().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Xw.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=$R[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Xw.forEach(s=>{s!==i&&(0,UR[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||e)(q(en))};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac})}return e})();const ZR=ZC(vO,"browser",[{provide:Ii,useValue:"browser"},{provide:ty,useValue:function zR(){zf.makeCurrent()},multi:!0},{provide:en,useFactory:function qR(){return function T1(e){xu=e}(document),document},deps:[]}]),YR=new H(""),tD=[{provide:Cc,useClass:class xR{addToWindow(t){Ie.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new T(5103,!1);return o},Ie.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ie.getAllAngularRootElements=()=>t.getAllRootElements(),Ie.frameworkStabilizers||(Ie.frameworkStabilizers=[]),Ie.frameworkStabilizers.push(r=>{const i=Ie.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Cr().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:UC,useClass:pf,deps:[Te,gf,Cc]},{provide:pf,useClass:pf,deps:[Te,gf,Cc]}],nD=[{provide:ju,useValue:"root"},{provide:Yn,useFactory:function WR(){return new Yn},deps:[]},{provide:Wf,useClass:HR,multi:!0,deps:[en,Te,Ii]},{provide:Wf,useClass:GR,multi:!0,deps:[en]},Yw,Ww,Gw,{provide:cy,useExisting:Yw},{provide:class oR{},useClass:PR,deps:[]},[]];let QR=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Ua,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||e)(q(YR,12))};static#t=this.\u0275mod=Un({type:e});static#n=this.\u0275inj=Sn({providers:[...nD,...tD],imports:[XN,_O]})}return e})(),rD=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||e)(q(en))};static#t=this.\u0275prov=W({token:e,factory:function(r){let i=null;return i=r?new r:function XR(){return new rD(q(en))}(),i},providedIn:"root"})}return e})();typeof window<"u"&&window;var P=function(e){return e[e.Instant=0]="Instant",e[e.Dodge=1]="Dodge",e[e.Engineer=2]="Engineer",e[e.Repair=3]="Repair",e[e.Flying=4]="Flying",e[e.Slow=5]="Slow",e[e.Fast=6]="Fast",e[e.Pacifist=7]="Pacifist",e[e.Sentry=8]="Sentry",e[e.Siege=9]="Siege",e[e.Momentum=10]="Momentum",e[e.Sharpen=11]="Sharpen",e[e.Armorer=12]="Armorer",e[e.Rascal=13]="Rascal",e[e.Medic=14]="Medic",e[e.Regenerate=15]="Regenerate",e}(P||{}),w=function(e){return e[e.Sun=0]="Sun",e[e.Earth=1]="Earth",e[e.Sky=2]="Sky",e[e.Neptune=3]="Neptune",e[e.MoonAndStars=4]="MoonAndStars",e[e.Colorless=5]="Colorless",e[e.Any=6]="Any",e}(w||{}),G=function(e){return e[e.None=0]="None",e[e.Attackers=1]="Attackers",e[e.Blockers=2]="Blockers",e[e.Main1=3]="Main1",e[e.Main2=4]="Main2",e[e.Start=5]="Start",e[e.DrawStep=6]="DrawStep",e[e.EndTurn=7]="EndTurn",e[e.DrawCard=8]="DrawCard",e[e.Attack=9]="Attack",e[e.Block=10]="Block",e[e.Unblocked=11]="Unblocked",e[e.Blocked=12]="Blocked",e[e.Enters=13]="Enters",e[e.Dies=14]="Dies",e[e.Awake=15]="Awake",e[e.Income=16]="Income",e[e.Exiled=17]="Exiled",e[e.Discarded=18]="Discarded",e[e.Mill=19]="Mill",e[e.WallRepair=20]="WallRepair",e[e.Any=21]="Any",e[e.SpellCast=22]="SpellCast",e[e.CreatureCast=23]="CreatureCast",e[e.MineCast=24]="MineCast",e[e.MineCase=25]="MineCase",e[e.FortificationCast=26]="FortificationCast",e[e.StartFight=27]="StartFight",e[e.EndFight=28]="EndFight",e}(G||{}),v=function(e){return e[e.Any=0]="Any",e[e.Opponent=1]="Opponent",e[e.Self=2]="Self",e}(v||{}),O=function(e){return e[e.Creature=0]="Creature",e[e.Tech=1]="Tech",e[e.Mine=2]="Mine",e[e.Wall=3]="Wall",e[e.Attachment=4]="Attachment",e[e.Spell=5]="Spell",e[e.Player=6]="Player",e[e.Hoard=7]="Hoard",e[e.Permanent=8]="Permanent",e[e.Building=9]="Building",e[e.Any=10]="Any",e}(O||{}),z=function(e){return e[e.Single=0]="Single",e[e.Multiple=1]="Multiple",e[e.All=2]="All",e}(z||{}),Z=function(e){return e[e.start=0]="start",e[e.main=1]="main",e[e.main2=2]="main2",e[e.attackers=3]="attackers",e[e.blockers=4]="blockers",e[e.end=5]="end",e[e.combatResults=6]="combatResults",e[e.combatCleanup=7]="combatCleanup",e}(Z||{}),y=function(e){return e[e.hand=0]="hand",e[e.play=1]="play",e[e.discard=2]="discard",e[e.exile=3]="exile",e[e.deck=4]="deck",e[e.any=5]="any",e}(y||{}),R=function(e){return e[e.Gold=0]="Gold",e[e.Ruby=1]="Ruby",e[e.Emerald=2]="Emerald",e[e.Sapphire=3]="Sapphire",e[e.Topaz=4]="Topaz",e[e.LionEye=5]="LionEye",e[e.Any=6]="Any",e}(R||{}),aD=function(e){return e[e.All=0]="All",e[e.PickOne=1]="PickOne",e[e.Random=2]="Random",e}(aD||{}),Je=function(e){return e[e.Life=0]="Life",e[e.Gems=1]="Gems",e[e.Asleep=2]="Asleep",e[e.Awake=3]="Awake",e[e.Discard=4]="Discard",e[e.SacCreature=5]="SacCreature",e[e.CreatureCount=6]="CreatureCount",e}(Je||{});function Pe(e,t){return Math.floor(Math.random()*(t-e))+e}class I{constructor(t,n,r,i,o,s){this.gold=1,this.ruby=0,this.sapphire=0,this.emerald=0,this.lionsEye=0,this.topaz=0,void 0!==t&&(this.gold=t),void 0!==n&&(this.ruby=n),void 0!==r&&(this.sapphire=r),void 0!==i&&(this.emerald=i),void 0!==o&&(this.lionsEye=o),void 0!==s&&(this.topaz=s)}getTotalCost(){return this.gold+this.ruby+this.emerald+this.sapphire+this.lionsEye+this.topaz}getGemCost(){return this.getTotalCost()-this.gold}canAfford(t){return this.gold>=t.gold&&this.ruby>=t.ruby&&this.sapphire>=t.sapphire&&this.emerald>=t.emerald&&this.lionsEye>=t.lionsEye&&this.topaz>=t.topaz}subtractCost(t){this.canAfford(t)&&(this.gold-=t.gold,this.ruby-=t.ruby,this.emerald-=t.emerald,this.sapphire-=t.sapphire,this.lionsEye-=t.lionsEye,this.topaz-=t.topaz)}clear(){this.gold=0,this.emerald=0,this.ruby=0,this.sapphire=0,this.lionsEye=0,this.topaz=0}resetIncome(){this.clear(),this.gold=1}resetStarting(t){this.clear(),this.gold=t}addBag(t){this.gold+=t.gold,this.ruby+=t.ruby,this.emerald+=t.emerald,this.lionsEye+=t.lionsEye,this.sapphire+=t.sapphire,this.topaz+=t.topaz}addSingle(t,n){switch(t){case R.Gold:this.gold+=n;break;case R.Emerald:this.emerald+=n;break;case R.Ruby:this.ruby+=n;break;case R.LionEye:this.lionsEye+=n;break;case R.Sapphire:this.sapphire+=n;break;case R.Topaz:this.topaz+=n;break;default:this.gold+=n}}getValue(t){switch(t){case R.Gold:return this.gold;case R.Emerald:return this.emerald;case R.Ruby:return this.ruby;case R.LionEye:return this.lionsEye;case R.Sapphire:return this.sapphire;case R.Topaz:return this.topaz;default:return this.gold}}isEmpty(){return this.gold<=0&&this.ruby<=0&&this.sapphire<=0&&this.emerald<=0&&this.lionsEye<=0&&this.topaz<=0}getImage(t){let n="assets/";switch(t){case R.Gold:return n+"Coin.png";case R.Emerald:return n+"Emerald.png";case R.Ruby:return n+"Ruby.png";case R.LionEye:return n+"eye.png";case R.Sapphire:return n+"Saphire.png";case R.Topaz:return n+"topaz.png";default:return n+"Coin.png"}}getTypes(){let t=[];return this.gold>0&&t.push(R.Gold),this.ruby>0&&t.push(R.Ruby),this.emerald>0&&t.push(R.Emerald),this.topaz>0&&t.push(R.Topaz),this.lionsEye>0&&t.push(R.LionEye),this.sapphire>0&&t.push(R.Sapphire),t}}class Jf{getFaction(t){switch(t){case R.Gold:return w.Colorless;case R.Emerald:return w.Earth;case R.Ruby:return w.Sun;case R.LionEye:return w.MoonAndStars;case R.Sapphire:return w.Neptune;case R.Topaz:return w.Sky;default:return w.Colorless}}getGem(t){switch(t){case w.Colorless:return R.Gold;case w.Earth:return R.Emerald;case w.Sky:return R.Topaz;case w.MoonAndStars:return R.LionEye;case w.Neptune:return R.Sapphire;case w.Sun:return R.Ruby;default:return R.Gold}}}class cD{copyBag(t){return new I(t.gold,t.ruby,t.sapphire,t.emerald,t.lionsEye,t.topaz)}copyCreature(t){return new L(t.hp,t.hp,t.speed,t.name,this.copyBag(t.cost),t.image,t.text,t.instant,t.owner,t.zone,t.faction,t.abilities,t.keywords,t.isMinion)}copySpell(t){return new Be(t.name,t.cost,t.image,t.text,t.abilities,t.instant,t.owner,t.zone,t.faction)}}class Pt{constructor(t,n,r,i,o,s,a,c,l){this.displayCards=!1,this.playerTargets=[],this.random=!1,this.cardService=t,this.quan=n,this.types=r,this.zones=i,this.controller=o,this.targetsPlayer=s,this.targetsCards=a,void 0!==c&&(this.random=c),this.targetsWall=void 0!==l&&l}getWall(){let t=[],n=this.cardService.playerService.getPlayer(v.Any);for(let r=0;r<n.length;r++)t.push(n[r].wall);return t}getPlayer(){return this.playerTargets=[],this.targetsPlayer&&(this.playerTargets=this.cardService.playerService.getPlayer(z.Single===this.quan?this.controller:v.Any)),this.playerTargets}getRandomTargetSingle(){let t=[],n=[];this.targetsPlayer&&(t=this.getPlayer()),this.targetsCards&&(n=this.cardService.getTargets(this));let r=[...t,...n];console.log(r);let i=Pe(0,r.length-1);return console.log(r[i]),r[i]}isValidTarget(t){if(t instanceof L||t instanceof ir){let n=t,r=this.zones.includes(n.zone),i=this.types.includes(n.type);return r&&i&&(n.owner===this.controller||this.controller===v.Any)}if(t instanceof nt){if(this.types.includes(O.Player)&&(this.controller===v.Self||this.controller===v.Any))return!0}else if(t instanceof eo&&this.types.includes(O.Player)&&(this.controller===v.Opponent||this.controller===v.Any))return!0;return!1}getTarget(){let t=[];if(this.targetsCards){switch(t=this.cardService.getTargets(this),this.quan){case z.Single:case z.Multiple:this.displayCards=!0}this.targetsPlayer&&this.getPlayer()}return t}}class zr{constructor(t){this.cardDb=[],this.keywordMapper=new oF,this.cardService=t}generateCardByName(t){return this.cardDb.find(n=>n.name===t)}getCard(t){}copyCard(t,n){}getDeck(t){}getMinesBulk(t,n){let r=[];for(let i=0;i<n;i++)r.push(this.generateBasicMine(t));return r}generateBasicMine(t){let n,r,i;switch(t){case R.Gold:n=new I(1,0,0,0,0,0),r=w.Colorless;break;case R.Emerald:n=new I(0,0,0,1,0,0),r=w.Earth;break;case R.Ruby:n=new I(0,1,0,0,0,0),r=w.Sun;break;case R.LionEye:n=new I(0,0,0,0,1,0),r=w.MoonAndStars;break;case R.Sapphire:n=new I(0,0,1,0,0,0),r=w.Neptune;break;case R.Topaz:n=new I(0,0,0,0,0,1),r=w.Sky;break;default:n=new I(1,0,0,0,0,0),r=w.Colorless}i=`add 1 ${R[t]} to your gem bag.`;let o=new Re([new Ki(t,1,this.cardService)],this.cardService);return new ir(R[t]+" Mine",new I(0,0,0,0,0,0),n,"",i,v.Self,y.deck,r,[o])}generateRandomCreature(t,n,r,i){let o=this.rollRandomNumber(1,n+1),s=this.rollRandomNumber(0,n+2)+1,a=this.rollRandomNumber(1,n+2),c=Math.ceil(.2*n),l=this.rollRandomNumber(c,n),d=new I(n-l,0,0,0,0,0);d.addSingle(t,l);let f=new Jf;return new L(s,o,a,"",d,"","",!1,r,i,f.getFaction(t))}genMultipleForFaction(t,n,r,i,o){let s=[];for(let a=0;a<o;a++)s.push(this.generateRandomCreatureForFaction(t,n,r,i));return s}generateRandomCreatureForFaction(t,n,r,i){let o=this.generateGemBag(n,t),a=(o.getGemCost(),t),c=1,l=t,u=1,d=t,h=this.generateKeywords(n,t,!1);switch(n){case w.Sun:u+=2,d+=2,a--;break;case w.Earth:a+=2,c+=2,d-=2;break;case w.Colorless:a+=1,d+=1,l+=1}let m=this.rollRandomNumber(u,l),_=this.rollRandomNumber(c,a),E=this.rollRandomNumber(1,d);m<=0&&(m=1),_<=0&&(_=1),E<=0&&(E=1);let M=new L(_,m,E,"Test ",o,"","",!1,r,i,n,[],h);for(let D=0;D<h.length;D++)M.text+=P[h[D]],D<h.length-1&&(h[D]===P.Repair&&(M.repairAmount=Pe(t-1,t+1),M.text+=M.repairAmount),M.text+=", ");return h.length<=0&&(M.text="No abilities"),M}generateKeywords(t,n,r){let i=[];if(r){let o=Object.values(P),s=Pe(0,o.length-1);for(let a=0;a<s;a++){let c=Pe(0,o.length);i.includes(o[c])?a--:i.push(o[c])}}else{let o=this.keywordMapper.getKeywords(t),s=n+this.rollRandomNumber(-1,1);s<0&&(s=0);for(let a=0;a<s;a++){let l=o[this.rollRandomNumber(0,o.length-1)];i.includes(l)||i.push(l)}}return i}generateAiMinion(t,n,r){let i=this.rollRandomNumber(1,n+1),o=this.rollRandomNumber(1,n+2),s=this.rollRandomNumber(0,n+2),a=new I(0,0,0,0,0,0),c=new Jf;return new L(o,i,s,"Minion",a,"","",!1,v.Opponent,r,c.getFaction(t),[],[],!0)}generateAiBasicMinion(t,n,r){let i=new I(0,0,0,0,0,0),o=new Jf;return new L(n,n,n,"Minion",i,"","",!1,v.Opponent,r,o.getFaction(t),[],[],!0)}generateGemBag(t,n){let r,i=this.rollRandomNumber(1,n),o=n-i;switch(t){case w.Colorless:r=new I(i+o,0,0,0,0,0);break;case w.Earth:r=new I(i,0,0,o,0,0);break;case w.Sun:r=new I(i,o,0,0,0,0);break;case w.Sky:r=new I(i,0,0,0,o,0);break;case w.Neptune:r=new I(i,0,o,0,0,0);break;case w.MoonAndStars:r=new I(i,0,0,0,0,o);break;default:r=new I(i+n,0,0,0,0,0)}return r}rollRandomNumber(t,n){return Math.floor(Math.random()*(n-t))+t}}class eh{constructor(t,n){this.faction=t,this.keywords=n}}class oF{constructor(){this.items=[],Object.keys(P),this.items=[new eh(w.Sun,[P.Fast,P.Dodge,P.Momentum,P.Sharpen,P.Siege,P.Flying,P.Rascal]),new eh(w.Earth,[P.Armorer,P.Dodge,P.Engineer,P.Siege,P.Repair]),new eh(w.Colorless,[P.Armorer,P.Dodge,P.Engineer,P.Fast,P.Flying,P.Instant,P.Medic,P.Momentum,P.Repair,P.Siege])]}getKeywords(t){let n=[];return n=this.items.filter(i=>i.faction===t)[0].keywords,n}}class Gt{constructor(t,n,r,i,o,s,a,c){this.name=t,this.speedDiff=n,this.hpDiff=r,this.attackDiff=i,this.cardService=o,void 0===c&&(c=!1),this.targeting=new Pt(o,a,[O.Creature],[y.play],s,!1,!0,c),this.controller=s}undoEffectSingle(t){let n=!t.currentEffects.includes(this),r=this.targeting.isValidTarget(t);if(n&&r){t.attack-=this.attackDiff,t.hp-=this.hpDiff,t.speed-=this.speedDiff;let i=t.currentEffects.indexOf(this);t.currentEffects.splice(i,1)}}doEffectSingle(t){let n=!t.currentEffects.includes(this),r=this.targeting.isValidTarget(t);n&&r&&(t.attack+=this.attackDiff,t.hp+=this.hpDiff,t.speed+=this.speedDiff,t.currentEffects.push(this),t.hp<=0&&this.cardService.setCardZoneByCard(t,y.discard))}doEffect(){let t=this.targeting.getTarget();if(console.log(t),this.targeting.quan===z.All)for(let n=0;n<t.length;n++)this.doEffectSingle(t[n]);else if(this.targeting.random){let n=Pe(0,t.length);this.doEffectSingle(t[n])}}undoEffect(){let t=this.cardService.grabAffected(this);if(console.log(t),this.targeting.quan===z.All){let n=t;for(let r=0;r<n.length;r++)this.undoEffectSingle(n[r])}}}class lD{constructor(t,n,r,i){this.name="Kill Creature",this.validTypes=[O.Creature],this.validController=n,this.cardService=t,this.targeting=new Pt(this.cardService,r,i,[y.play],n,!1,!0)}undoEffectSingle(t){throw new Error("Method not implemented.")}doEffectSingle(t){this.targeting.isValidTarget(t)&&this.cardService.setCardZoneByCard(t,y.discard)}undoEffect(){throw new Error("Method not implemented.")}doEffect(){let t=this.targeting.getTarget();for(let n=0;n<t.length;n++)this.doEffectSingle(t[n])}}class th{constructor(t,n,r,i){this.name="Make creature",this.amount=1,this.objCopier=new cD,this.controller=t,this.cardService=n,this.creatureToMake=r,void 0!==i&&(this.amount=i),this.targeting=new Pt(this.cardService,z.Single,[O.Player],[y.play],t,!0,!1)}undoEffectSingle(t){throw new Error("Method not implemented.")}doEffectSingle(t){let n=this.objCopier.copyCreature(this.creatureToMake);n.zone=y.play,this.cardService.cardList.push(n)}grabUnaffected(){throw new Error("Method not implemented.")}doEffect(){for(let t=0;t<this.amount;t++)this.doEffectSingle()}undoEffect(){throw new Error("Method not implemented.")}}class uD{constructor(t,n,r,i,o,s){this.objCopier=new cD,this.name=t,this.targeting=new Pt(n,z.Single,[O.Player],[y.play],o,!0,!1),this.cardService=n,this.spellToMake=r,this.destinationZone=i,this.player=o,this.amount=void 0===s?1:s}doEffect(){for(let t=0;t<this.amount;t++)this.doEffectSingle(1)}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(t){let n=this.objCopier.copySpell(this.spellToMake);n.zone=this.destinationZone,n.owner=this.player,this.cardService.cardList.push(n)}undoEffectSingle(t){throw new Error("Method not implemented.")}}class Ki{constructor(t,n,r){this.name="Add Gem",this.manaType=t,this.amount=n,this.cardService=r,this.targeting=new Pt(this.cardService,z.Single,[O.Player],[],v.Self,!0,!1)}undoEffectSingle(t){throw new Error("Method not implemented.")}doEffectSingle(t){t.gembag.addSingle(this.manaType,this.amount)}grabUnaffected(){throw new Error("Method not implemented.")}doEffect(){console.log("hi");let t=this.targeting.getPlayer();t[0]instanceof nt&&t[0].gembag.addSingle(this.manaType,this.amount)}undoEffect(){throw new Error("Method not implemented.")}}class dD{constructor(t,n,r){this.name=t,this.cardService=n,this.targeting=new Pt(this.cardService,z.Single,[O.Player],[y.any],v.Self,!0,!1,!1),this.manaType=r}doEffect(){let t=new zr(this.cardService),n=this.targeting.getPlayer()[0];if(n instanceof nt){let r=t.generateBasicMine(this.manaType);this.cardService.cardList.push(r),n.incomeBag.addBag(r.incomeBag)}}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(t){throw new Error("Method not implemented.")}undoEffectSingle(t){throw new Error("Method not implemented.")}}class sF{constructor(t,n,r,i){this.name="MoveZones",this.validController=n,this.cardService=t,this.destinationZone=i,this.targeting=new Pt(this.cardService,r,[O.Any],[y.play],n,!1,!0)}doEffect(){let t=this.targeting.getTarget();for(let n=0;n<t.length;n++)this.doEffectSingle(t[n])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(t){this.targeting.isValidTarget(t)&&this.cardService.setCardZoneByCard(t,this.destinationZone)}undoEffectSingle(t){throw new Error("Method not implemented.")}}class Xi{constructor(t,n,r,i,o,s,a){this.amount=1,this.name=`Deal ${this.amount} Damage`,this.amount=t,this.cardService=n,void 0===o&&(o=!1),void 0===s&&(s=!1),void 0===a&&(a=!0),this.targeting=new Pt(n,r,[O.Player,O.Creature],[y.play],i,s,a,o)}doEffect(){if(this.targeting.quan===z.Single){if(this.targeting.random){let t=this.targeting.getRandomTargetSingle();this.doEffectSingle(t)}else if(this.targeting.targetsPlayer&&!this.targeting.targetsCards){let t=this.targeting.getPlayer();for(let n=0;n<t.length;n++)this.doEffectSingle(t[n])}}else if(this.targeting.quan===z.All){let t=this.targeting.getTarget();for(let n=0;n<t.length;n++)this.doEffectSingle(t[n])}}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(t){if(t instanceof L){let n=t;n.hp-=this.amount,n.isAlive()||this.cardService.setCardZoneByCard(n,y.discard)}if(t instanceof nt&&(t.hp-=this.amount),t instanceof rh){let n=t;n.hp-=this.amount,n.hp<0&&(n.hp=0)}}undoEffectSingle(t){throw new Error("Method not implemented.")}}class _n{constructor(t,n,r,i,o){this.amount=1,this.name=t,this.cardService=n,this.targeting=new Pt(this.cardService,r,[O.Player],[y.play],i,!0,!1),void 0!==o&&(this.amount=o)}doEffect(){let t=this.targeting.getPlayer();console.log(t);for(let n=0;n<t.length;n++)this.doEffectSingle(t[n])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(t){console.log(t),t instanceof eo?t.drawCardsFromEffect(this.amount):t instanceof nt&&t.drawCards(this.amount)}undoEffectSingle(t){throw new Error("Method not implemented.")}}class aF{constructor(t,n,r,i){this.name=t,this.cardService=n,this.targeting=new Pt(this.cardService,i,[O.Creature],[y.play],r,!1,!0)}doEffect(){let t=this.targeting.getTarget();for(let n=0;n<t.length;n++)this.doEffectSingle(t[n])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(t){t instanceof L&&t.heal()}undoEffectSingle(t){throw new Error("Method not implemented.")}}class cF{constructor(t,n,r,i){this.name=t,this.cardService=n,this.targeting=new Pt(this.cardService,i,[O.Creature],[y.play],v.Self,!1,!0)}doEffect(){}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(t){t instanceof L&&(t.firstTurn=!1)}undoEffectSingle(t){}}class Ds{constructor(t,n,r,i,o,s){this.name=t,this.cardService=n,this.targeting=new Pt(this.cardService,r,[O.Creature],i,o,!1,!0),this.keywords=s}doEffect(){let t=this.targeting.getTarget();for(let n=0;n<t.length;n++)this.doEffectSingle(t[n])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(t){if(t instanceof L){let n=t;for(let r=0;r<this.keywords.length;r++){let i=this.keywords[r];n.keywords.includes(i)||n.keywords.push(i)}}}undoEffectSingle(t){throw new Error("Method not implemented.")}}class bs{constructor(t,n,r,i){this.name=t,this.cardService=n,this.amount=r,this.targeting=new Pt(this.cardService,z.Single,[O.Player],[y.play],i,!0,!1)}doEffect(){let t=this.targeting.getPlayer();for(let n=0;n<t.length;n++)this.doEffectSingle(t[n])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(t){t instanceof nt&&(t.hp+=this.amount)}undoEffectSingle(t){t instanceof nt&&(t.hp-=this.amount)}}class lF{constructor(t,n,r,i){this.name=t,this.cardService=r,this.effects=n,this.targeting=i}doEffect(){let t=this.targeting.getTarget();for(let n=0;n<t.length;n++)this.doEffectSingle(t[n])}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(t){for(let n=0;n<this.effects.length;n++)this.effects[n].doEffectSingle(t)}undoEffectSingle(t){throw new Error("Method not implemented.")}}class uF{constructor(t,n,r){this.name=t,this.cardService=n,this.amount=r,this.targeting=new Pt(this.cardService,z.Single,[O.Wall],[],v.Self,!0,!1,!1,!0)}doEffect(){let t=this.targeting.getPlayer();console.log(t),t[0]instanceof nt&&(t[0].wall.hp+=this.amount)}undoEffect(){throw new Error("Method not implemented.")}doEffectSingle(t){throw new Error("Method not implemented.")}undoEffectSingle(t){throw new Error("Method not implemented.")}}var Ee=function(e){return e[e.Common=0]="Common",e[e.Uncommon=1]="Uncommon",e[e.Rare=2]="Rare",e[e.SuperRare=3]="SuperRare",e}(Ee||{});class rr{constructor(t,n,r,i,o,s,a,c){if(this.abilities=[],this.targeting={},this.cost=0,this.image="",this.description="",this.name=t,this.image=r,this.description=i,this.cardService=o,void 0!==c&&(this.targeting=c),this.rarity=n,void 0!==s&&(this.abilities=s),void 0!==a)this.cost=a;else switch(n){case Ee.Common:this.cost=Pe(50,100);break;case Ee.Uncommon:this.cost=Pe(75,130);break;case Ee.Rare:this.cost=Pe(100,200);break;case Ee.SuperRare:this.cost=Pe(150,250)}}applyInitialEffects(){let t=this.abilities.filter(n=>n instanceof Re);for(let n=0;n<t.length;n++)t[n].doEffects()}applyTriggeredEffects(t){}canBuy(t){return t>=this.cost}}class nh{constructor(t){this.relics=[],console.log(t),this.cardService=t,this.cardGen=new zr(t);let n=new Gt("Buff",1,1,1,t,v.Self,z.All),r=new Ot([n],t),i=new rr("Buff",Ee.Common,"test.png","All your creatures get +1/+1/+1",t,[r]);this.relics.push(i);let o=new L(1,1,1,"Spider",new I(1),"","",!1,v.Self,y.any,w.Earth,[],[],!0),s=new th(v.Self,t,o,1),a=new je([s],[G.Start],t,v.Self),c=new rr("Swarm Amulet",Ee.Uncommon,"amulet.png","At the start of your turn, create a 1/1/1 spider",t,[a]);this.relics.push(c);let l=new Ds("",t,z.All,[y.play],v.Self,[P.Momentum]),u=new Ot([l],t),d=new rr("Bowling Ball",Ee.Rare,"bowlingBall.png","At the start of your turn, all your creatures gain 1 speed",t,[u]);this.relics.push(d);let f=new Ds("",t,z.All,[y.play],v.Self,[P.Armorer,P.Pacifist,P.Regenerate]),h=new Ot([f],t),m=new rr("Plate of Peace",Ee.SuperRare,"plate.png","At the start of your turn all your creatures gain 1 more hp and then heal to max hp. Creatures you control may not attack",t,[h]);this.relics.push(m);let _=new _n("",t,z.Single,v.Self,2),E=new Re([_],t),M=new Be("Scrying Report",new I(4),"","Draw 2 Cards",[E],!1,v.Self,y.any,w.Colorless),D=new uD("",t,M,y.hand,v.Self),B=new je([D],[G.Start],t,v.Self,[y.play]),U=new rr("Monocle of Insight",Ee.Uncommon,"monocle.png","At the start of your turn, add a 4 gold cost draw spell to your hand",t,[B]);this.relics.push(U);let ie=new Ds("",t,z.All,[y.play],v.Self,[P.Sharpen]),Ge=new Ot([ie],t),zt=new rr("Sword of War",Ee.SuperRare,"attackSymbol.png","At the start of your turn, all creatures you control gain +1/+0/+0. Creatures you control may not block",t,[Ge]);this.relics.push(zt);let Bn=new Gt("",1,1,1,this.cardService,v.Self,z.Single,!0),Xr=new je([Bn],[G.Dies],this.cardService,v.Any,[y.play]),Jh=new rr("Blood Chalice",Ee.Common,"bloodChalice.png","Whenever a creature dies, a random one of your creatures gets +1/+1/+1",this.cardService,[Xr]);this.relics.push(Jh);let ep=new bs("",this.cardService,2,v.Self),U3=new je([ep],[G.Start],this.cardService,v.Self,[y.play]),G3=new rr("Health Potion",Ee.Common,"potion.png","At the start of your turn, gain 2 life",this.cardService,[U3]);this.relics.push(G3);let z3=new uF("",this.cardService,10),W3=new je([z3],[G.StartFight],this.cardService),q3=new rr("Cosmic Brick",Ee.Common,"brick.png","At the start of each fight, your wall gains 10 extra Hp.",this.cardService,[W3]);this.relics.push(q3)}getRelicByIndex(t){return this.relics[t]}getRelicsByRarity(t){return this.relics.filter(n=>n.rarity===t)}getAllRelics(){return this.relics}getRandomRelic(t){let n;return n=void 0!==t?this.getRelicsByRarity(t):this.getAllRelics(),n[this.cardGen.rollRandomNumber(0,n.length)]}}class Ss{convertToCreature(t){return t}convertToMine(t){return t}convertToSpell(t){return t}convertToTech(t){return t}}class fD{constructor(t,n,r,i,o,s,a,c,l){this.type=O.Any,this.hover=!1,this.turned=!1,this.instant=!1,this.currentEffects=[],this.targetableCard=!1,this.name=t,this.cost=n,this.image=r,this.text=i,this.abilities=void 0!==c?c:[],this.rarity=void 0===l?Ee.Common:l,this.owner=o,this.zone=s,this.faction=a}hasTargetedAbility(){return this.abilities.filter(n=>n instanceof Cn).length>0}hasStaticAbility(){return this.abilities.filter(n=>n instanceof Ot).length>0}hasActivatedAbility(){return this.abilities.filter(n=>n instanceof or).length>0}getStaticAbilities(){return this.abilities.filter(t=>t instanceof Ot)}processAbilities(t){for(let n=0;n<this.abilities.length;n++){let r=this.abilities[n];r instanceof Ot?t.intialApplyStaticAbilities(r):r instanceof Re&&r.doEffects()}}shouldDie(){return!0}}class L{constructor(t,n,r,i,o,s,a,c,l,u,d,f,h,m,_){this.hover=!1,this.type=O.Creature,this.turned=!1,this.attacking=!1,this.blocking=!1,this.blocked=!1,this.selected=!1,this.instant=!1,this.awake=!0,this.firstTurn=!0,this.currentEffects=[],this.keywords=[],this.repairAmount=0,this.isMinion=!1,this.resist=0,this.dodgeAmount=0,this.targetableCard=!1,this.rarity=void 0===_?Ee.Common:_,this.attack=n,this.baseAttack=n,this.hp=t,this.baseHp=t,this.speed=r,this.baseSpeed=r,this.name=i,this.cost=o,this.image=s,this.text=a,this.abilities=void 0!==f?f:[],this.keywords=void 0!==h?h:[],this.keywords.includes(P.Slow)&&(this.speed=0),this.keywords.includes(P.Fast)&&(this.firstTurn=!1),this.instant=c,this.owner=l,this.zone=u,this.faction=d,void 0!==m&&(this.isMinion=m)}hasActivatedAbility(){return this.abilities.filter(n=>n instanceof or).length>0}hasStaticAbility(){return this.abilities.filter(n=>n instanceof Ot).length>0}getStaticAbilities(){return this.abilities.filter(t=>t instanceof Ot)}shouldDie(){return this.hp>0}resetStats(){this.hp=this.baseHp,this.attack=this.baseAttack,this.speed=this.baseSpeed}heal(){this.hp<this.baseHp&&(this.hp=this.baseHp)}processAbilities(t){for(let n=0;n<this.abilities.length;n++){let r=this.abilities[n];r instanceof Ot?t.intialApplyStaticAbilities(r):r instanceof Re&&r.doEffects()}}hasTargetedAbility(){return this.abilities.filter(n=>n instanceof Cn).length>0}setSlow(){this.speed=0,this.keywords.push(P.Slow)}isAlive(){return this.hp>0}resetHp(){this.hp=this.baseHp}addEffect(t){throw new Error("Method not implemented.")}removeEffect(t){throw new Error("Method not implemented.")}runEffects(){}canBlock(){return!1===this.turned&&!1===this.blocking}}class Be extends fD{constructor(t,n,r,i,o,s,a,c,l){super(t,n,r,i,a,c,l,o),this.type=O.Spell,this.targets=[],this.text=i,this.instant=s}shouldDie(){return!0}runEffects(t){for(let n=0;n<this.abilities.length;n++);}resolve(){}}class rh{constructor(t){this.hp=30,this.alive=!0,this.type=O.Wall,this.hp=t}isAlive(){return this.alive=this.hp>0,this.alive}takeDamage(t){this.hp-=t,this.hp<0&&(this.hp=0),this.isAlive()}}class ih extends fD{constructor(t,n,r,i,o,s,a,c){super(t,n,r,i,o,s,a,c),this.level=1,this.type=O.Building}wallIsAlive(t){return t.playerService.getPlayer(this.owner)[0].wall.hp>0}runEffects(){for(let t=0;t<this.abilities.length;t++)this.abilities[t].doEffects()}undoEffects(){for(let t=0;t<this.abilities.length;t++)this.abilities[t].undoEffects()}}class ir{constructor(t,n,r,i,o,s,a,c,l,u){this.type=O.Mine,this.hover=!1,this.turned=!1,this.instant=!1,this.currentEffects=[],this.targetableCard=!1,this.name=t,this.cost=n,this.incomeBag=r,this.image=i,this.text=o,this.abilities=void 0!==l?l:[],this.owner=s,this.zone=a,this.faction=c,this.incomeBag=r,this.rarity=void 0===u?Ee.Common:u}hasActivatedAbility(){return this.abilities.filter(n=>n instanceof or).length>0}hasStaticAbility(){return this.abilities.filter(n=>n instanceof Ot).length>0}getStaticAbilities(){return this.abilities.filter(t=>t instanceof Ot)}shouldDie(){return!1}processAbilities(t){throw new Error("Method not implemented.")}hasTargetedAbility(){return this.abilities.filter(n=>n instanceof Cn).length>0}mine(t){t.gold+=this.incomeBag.gold,t.ruby+=this.incomeBag.ruby,t.emerald+=this.incomeBag.emerald,t.sapphire+=this.incomeBag.sapphire,t.lionsEye+=this.incomeBag.lionsEye,t.topaz+=this.incomeBag.topaz}addEffect(t){throw new Error("Method not implemented.")}removeEffect(t){throw new Error("Method not implemented.")}runEffects(){throw new Error("Method not implemented.")}}class Cn{constructor(t,n,r,i,o,s,a){this.effects=[],this.allowedTargets=[O.Creature],this.allowedZones=[],this.targetNumber=1,this.possibleTargets=[],this.target=null,this.allEffectsToOne=!1,this.allowedTargets=t,this.targetNumber=i,this.effects=o,this.allowedZones=r,this.allowedPlayer=n,this.cardService=s,void 0!==a&&(this.allEffectsToOne=a)}undoEffects(){throw new Error("Method not implemented.")}checkTargetValid(t){return this.allowedTargets.includes(t)}setTargetByIndex(t){if(this.possibleTargets.length>0&&t<this.possibleTargets.length&&t>=0){let n=this.possibleTargets[t];this.checkTargetValid(n.type)&&(this.target=n)}}doEffects(){for(let t=0;t<this.effects.length;t++)this.effects[t].doEffect()}}class Ot{constructor(t,n){this.zoneAffected=y.play,this.effects=t,this.cardService=n}undoEffects(){throw new Error("Method not implemented.")}doEffects(){for(let t=0;t<this.effects.length;t++)this.effects[t].doEffect()}undoAll(){for(let t=0;t<this.effects.length;t++)this.effects[t].undoEffect()}}class je{constructor(t,n,r,i,o,s){this.triggerZones=[],this.triggersPerTurn=1e4,this.effects=t,this.triggerTimes=n,this.cardService=r,this.controller=void 0===i?v.Any:i,void 0===o?this.triggerZones.push(y.play):this.triggerZones=o}undoEffects(){throw new Error("Method not implemented.")}checkTriggers(t,n){void 0===n&&(n=v.Any);let r=this.controller===n||this.controller===v.Any,i=this.triggerTimes.includes(t);r&&i&&this.doEffects()}doEffects(){for(let t=0;t<this.effects.length;t++)this.effects[t].doEffect()}}class Re{constructor(t,n){this.effects=t,this.cardService=n}undoEffects(){throw new Error("Method not implemented.")}doEffects(){for(let t=0;t<this.effects.length;t++)this.effects[t].doEffect()}}class Ji{constructor(t,n,r){this.cost=t,this.amount=n,this.color=void 0!==r?r:R.Any}}class or{constructor(t,n,r,i){this.costMaps=[],this.costMaps=n,this.cardService=t,this.effects=r,this.user=i}doEffects(){let t=this.canAffordCosts(this.user);if(console.log(this.user),t){this.payCosts();for(let n=0;n<this.effects.length;n++)this.effects[n].doEffect()}}undoEffects(){throw new Error("Method not implemented.")}payCosts(){for(let t=0;t<this.costMaps.length;t++){let n=this.costMaps[t],i=n.amount;switch(n.cost){case Je.Life:this.user instanceof nt&&(this.user.hp-=i);break;case Je.Gems:let o={};switch(this.user instanceof nt?o=this.user:(this.user instanceof L||this.user instanceof ih)&&(o=this.cardService.playerService.getPlayer(this.user.owner)[0]),n.color){case R.Gold:o.gembag.gold-=i;break;case R.Ruby:o.gembag.ruby-=i;break;case R.Sapphire:o.gembag.sapphire-=i;break;case R.Emerald:o.gembag.emerald-=i;break;case R.LionEye:o.gembag.lionsEye-=i;break;case R.Topaz:o.gembag.topaz-=i;break;default:o.gembag.gold-=i}break;case Je.Discard:if(this.user instanceof nt){let a=this.user.getHand();for(let c=0;c<i;c++){let l=a.pop();l&&this.cardService.setCardZoneByCard(l,y.discard)}}break;case Je.SacCreature:this.user instanceof nt&&this.user.getCreatures();break;case Je.Asleep:this.user instanceof L&&(this.user.awake=!1)}}}canCardAffordCosts(t){for(let n=0;n<this.costMaps.length;n++){let r=this.costMaps[n],o=r.amount;switch(r.cost){case Je.Life:if(t instanceof L&&t.hp<o)return!1;break;case Je.Gems:if(t.cost.getValue(r.color)>=o)return!1;break;case Je.Asleep:if(t instanceof L)return t.awake}}return!0}canPlayerAffordCosts(t){for(let n=0;n<this.costMaps.length;n++){let r=this.costMaps[n],o=r.amount;switch(r.cost){case Je.Life:if(t.hp<o)return!1;break;case Je.Gems:if(t.gembag.getValue(r.color)<o)return!1;break;case Je.Discard:if(t.getHand().length<o)return!1;break;case Je.SacCreature:if(t.getCreatures().length<o)return!1}}return!0}canAffordCosts(t){return t instanceof L?this.canCardAffordCosts(t):t instanceof nt?this.canPlayerAffordCosts(t):void 0!==t}}class nt{constructor(t){this.isAi=!1,this.name="human",this.hp=40,this.drawPerTurn=1,this.attacking=!1,this.pickingBlockers=!1,this.showFights=!1,this.defending=!1,this.targeting=!1,this.possibleTargets=[],this.wall=new rh(20),this.staticAbilities=[],this.cardConverter=new Ss,this.startingGold=3,this.gembag=new I(this.startingGold,0,0,0,0,0),this.incomeBag=new I(0,0,0,0,0,0),this.currentEffects=[],this.mineLimits=1,this.minesPlayed=0,this.effectStack=[],this.pickStack=[],this.controller=v.Self,this.stopPhases=!1,this.currentPos=0,this.buildingSlots=3,this.relics=[],this.buildings=[],this.cardService=t,this.gembag.gold=this.startingGold}applyStaticAbilities(){for(let t=0;t<this.staticAbilities.length;t++)this.staticAbilities[t].doEffects()}getAllCards(){return this.cardService.getCards(y.any,this.controller)}checkIfPlayable(t,n){let i,r=this.cardService.getCards(y.hand,v.Self,O.Any);if(t instanceof ir&&this.minesPlayed>=this.mineLimits)return!1;r.includes(t)||(i=!1);let o=this.gembag.canAfford(t.cost);return!!o&&(!!t.instant||!(!o||n.currentPhase!==Z.main&&n.currentPhase!==Z.main2||n.currentTurn!==this))}hasRelic(t){return this.relics.filter(r=>r.name===t).length>0}playCard(t,n){if(this.checkIfPlayable(t,n)){if(this.gembag.subtractCost(t.cost),[O.Creature,O.Wall,O.Mine,O.Building,O.Tech].includes(t.type)){this.cardService.checkTriggers(G.Enters,v.Self);let i=this.cardService.getCardIndex(t);if(this.cardService.setCardZone(i,y.play),t.type===O.Mine&&(this.incomeBag.addBag(t.incomeBag),this.minesPlayed++,this.cardService.checkTriggers(G.MineCast,this.controller)),t.type===O.Building)if(this.buildings.includes(t)){let s=this.buildings.findIndex(a=>a.name===t.name);this.buildings[s].level++}else this.buildings.push(t)}else t.type===O.Spell&&this.playSpell(t,n);this.applyExistingAbilities(t),this.processAbilities(t)}}playSpell(t,n){this.cardService.checkTriggers(G.SpellCast),this.cardService.setCardZoneByCard(t,y.discard)}addRelic(t){this.relics.push(t),this.processAbilities(t)}processAbilities(t){for(let n=0;n<t.abilities.length;n++){let r=t.abilities[n];if(r instanceof Cn){let i=r;for(let o=0;o<i.effects.length;o++){let s=i.effects[o];if(s.targeting.random){let a=s.targeting.getRandomTargetSingle();s.doEffectSingle(a)}else{let a=s.targeting.getTarget();for(let c=0;c<a.length;c++)a[c].targetableCard=!0;this.effectStack.push(s)}}}else r instanceof Ot?this.cardService.intialApplyStaticAbilities(r):r instanceof je?this.cardService.triggeredEffects.push(r):r instanceof Re&&r.doEffects()}}applyExistingAbilities(t){for(let n=0;this.cardService.staticEffects.length>n;n++)this.cardService.staticEffects[n].doEffects()}killCardByIndex(t){this.cardService.setCardZone(t,y.discard)}killCardBySearch(t){let n=this.cardService.getCardIndex(t);this.cardService.setCardZone(n,y.discard)}getMines(){return this.cardService.getCards(y.play,v.Self,O.Mine)}earnIncome(){this.gembag.addBag(this.incomeBag)}normalDraw(t){let n=this.cardService.getCards(y.deck,v.Self,O.Any);if(n.length>=this.drawPerTurn)for(let r=0;r<this.drawPerTurn;r++)n[r].zone=y.play,this.cardService.checkTriggers(G.DrawCard)}drawCards(t){let n=this.cardService.getCards(y.deck,v.Self,O.Any);if(n.length>=t)for(let r=0;r<t;r++){let i=n[r];console.log(t),i.zone=y.hand,this.cardService.checkTriggers(G.DrawCard)}}canAttack(){let t;t=this.cardService.getCreatures(this.isAi?v.Opponent:v.Self);let n=t.length>0;if(console.log(n),console.log(t),this.isAi)return n;for(let r=0;r<t.length;r++){let i=t[r];if(i.awake&&!i.firstTurn)return!0}return!1}getAttackers(){let t=this.cardService.getCreatures(v.Self).filter(n=>n.attacking);for(let n=0;n<t.length;n++){let r=t[n];r.attacking&&(r.awake=!1)}return t}attack(){this.cardService.checkTriggers(G.Attack),this.attacking=!0}defend(){this.defending=!0}clearCombat(){this.defending=!1,this.attacking=!1;let t=this.cardService.getCreatures(v.Any);for(let n=0;n<t.length;n++){let r=t[n];r.attacking=!1,r.blocked=!1,r.blocking=!1}this.checkDead()}doneDefending(){this.defending=!1}doneAttacking(){this.attacking=!1}dealDamage(t){let n=this.getAttackersUnblocked();for(let o=0;o<n.length;o++){let s=n[o],a=s.keywords.includes(P.Flying),c=s.keywords.includes(P.Siege);t.takeDamage(s.attack,c,a)}}takeDamage(t,n,r){r?this.hp-=t:this.wall.isAlive()?(n&&(t*=2),this.wall.hp-=t):this.hp-=t}getAttackersUnblocked(){let t=[],n=this.cardService.getCreatures(v.Self),r=[];for(let i=0;i<n.length;i++)r.push(n[i]);for(let i=0;i<r.length;i++){let o=r[i];o.attacking&&!o.blocked&&t.push(o)}return t}resetMines(){this.minesPlayed=0}checkDead(){let t=this.getCreatures().filter(n=>!n.isAlive());for(let n=0;n<t.length;n++){let r=t[n];r.isAlive()||(r.zone=y.discard,this.cardService.checkTriggers(G.Dies))}}isAlive(){return this.cardService.getCards(y.deck,v.Self,O.Any).length>0&&this.hp>0}getCreatures(){return this.cardService.getCards(y.play,this.controller,O.Creature)}getHand(){return this.cardService.getCards(y.hand,v.Self,O.Any)}awakeAll(){let t=this.getCreatures();for(let n=0;n<t.length;n++)t[n].turned=!1,t[n].awake=!0,t[n].firstTurn=!1}getBlockers(){return this.hasBlockers()?this.getCreatures().filter(n=>n.awake):[]}hasBlockers(){let t=this.getCreatures();return 0!==t.length&&t.filter(r=>r.awake).length>0}hasMedic(){let t=this.getCreatures();for(let n=0;n<t.length;n++)if(t[n].keywords.includes(P.Medic))return!0;return!1}}class eo extends nt{constructor(t){super(t),this.currentSpell=null,this.currentTargets=[],this.isAi=!0,this.name="Horde",this.controller=v.Opponent,this.wall=new rh(10),this.pullsPerTurn=1,this.pullsThisTurn=0}drawCardsFromEffect(t){let n=this.cardService.getCards(y.deck,v.Opponent,O.Any);for(let r=0;r<t;r++){let i=n.pop();i instanceof L?(i.firstTurn=!1,this.playCreature(i),this.processAbilities(i)):i instanceof Be&&(this.currentSpell=i,this.stopPhases=!0)}}playCards(){let t=this.cardService.getCards(y.deck,v.Opponent,O.Any);if(console.log(t),t.length>0&&this.pullsThisTurn<this.pullsPerTurn){let n=t[0];if(n.type===O.Creature){let r=n;if(this.playCreature(r),r.isMinion)this.playCards();else{if(this.pullsThisTurn++,this.pullsPerTurn===this.pullsThisTurn)return void(this.pullsThisTurn=0);this.pullsThisTurn<this.pullsPerTurn&&this.playCards()}}else n.type===O.Spell&&(this.currentSpell=n,this.stopPhases=!0)}else this.pullsThisTurn=0}playCreature(t){let n=this.cardService.getCardIndex(t);this.cardService.setCardZone(n,y.play),this.processAbilities(t)}runCurrentSpell(){this.currentSpell&&this.currentSpell.processAbilities(this.cardService),this.cardService.setCardZoneByCard(this.currentSpell,y.discard),this.currentSpell=null,this.stopPhases=!1}millCard(t){let n=this.cardService.getCards(y.deck,v.Opponent,O.Any);t>n.length&&(t=n.length);for(let r=0;r<t;r++)n[r].zone=y.discard}attack(){let t=this.cardService.getCreatures(v.Opponent);this.attacking=!0;for(let n=0;n<t.length;n++)t[n].turned=!0,t[n].attacking=!0,t[n].awake=!1}getAttackers(){return this.cardService.getCreatures(v.Opponent)}getAttackersUnblocked(){let t=[],n=this.cardService.getCreatures(v.Opponent);for(let r=0;r<n.length;r++){let i=n[r];i.attacking&&!i.blocked&&t.push(i)}return t}takeDamage(t,n,r){r?this.millCard(t):this.wall.isAlive()?(n&&(t*=2),this.wall.hp-=t):this.millCard(t)}defend(){let t=this.cardService.getCreatures(v.Self).filter(i=>i.attacking),n=0;for(let i=0;i<t.length;i++)n+=t[i].attack;let r=this.cardService.getCards(y.deck,v.Opponent,O.Any);r.length>n&&(n=r.length);for(let i=0;i<n;i++)r.pop()}isAlive(){return 0===this.cardService.getCards(y.deck,v.Opponent,O.Any).length}}class dF{constructor(t,n){this.player=t,this.opponent=n}getPlayer(t){return t===v.Any?[this.player,this.opponent]:t===v.Opponent?[this.opponent]:[this.player]}}class fF{constructor(){this.cardList=[],this.staticEffects=[],this.triggeredEffects=[],this.playerService={},this.relicsManager=new nh(this),this.currentPos=0,this.difficultyMods="",this.selectedFaction=w.Any,this.nodePos=0,this.difficulty=0,this.shuffleDeck(this.cardList)}makePlayerService(t,n){this.playerService=new dF(t,n)}getCount(t,n,r,i){return void 0===r&&(r=O.Any),void 0===n&&(n=v.Any),void 0===i&&(i=w.Any),void 0===t&&(t=y.any),this.getCards(t,n,r,i).length}countMultiple(t,n,r,i){let o=0;void 0===r&&(r=[O.Any]),void 0===n&&(n=v.Any),void 0===i&&(i=[w.Any]),void 0===t&&(t=[y.any]);for(const s of t)for(const a of i)for(const c of r)o+=this.getCount(s,n,c,a);return o}getCardsWithStatics(){return this.getCards().filter(n=>n.hasStaticAbility())}checkTriggers(t,n){if(void 0===n&&(n=v.Any),t===G.Start){let s=this.getTechs();n!==v.Any&&(s=s.filter(a=>a.owner===n));for(let a=0;a<s.length;a++)s[a].incrementResearch()}let r=this.getCards(y.any,n,O.Any,w.Any);for(let s=0;s<r.length;s++){let a=r[s];for(let c=0;c<r.length;c++){let l=a.abilities[c];l instanceof je&&l.triggerZones.includes(a.zone)&&l.checkTriggers(t,n)}}let o=this.playerService.getPlayer(v.Self)[0].relics;for(let s=0;s<o.length;s++){let a=o[s];for(let c=0;c<r.length;c++){let l=a.abilities[c];l instanceof je&&l.checkTriggers(t,n)}}t===G.Enters&&this.getCardsWithStatics()}intialApplyStaticAbilities(t){t.doEffects(),this.staticEffects.push(t)}staticDestroy(t){if(this.staticEffects.includes(t)){t.undoAll();let n=this.staticEffects.indexOf(t);this.staticEffects.splice(n,1)}}shuffleDeck(t){let r,n=t.length;for(;n>0;)r=Math.floor(Math.random()*n),n--,[t[n],t[r]]=[t[r],t[n]];return t}checkZoneTriggers(t,n){t===y.exile&&this.checkTriggers(G.Exiled),n===y.play&&t===y.discard&&this.checkTriggers(G.Dies),n===y.hand&&(t===y.play?this.checkTriggers(G.Enters):t===y.discard&&this.checkTriggers(G.Discarded)),n===y.deck&&t===y.discard&&this.checkTriggers(G.Mill)}setCardZoneByCard(t,n){this.checkZoneTriggers(n,t.zone);for(let r=0;r<this.staticEffects.length;r++){let i=this.staticEffects[r];t.abilities.includes(i)&&i.undoAll()}t.zone=n,t instanceof L&&(t.awake=!0)}setCardZone(t,n){let r=this.cardList[t];this.checkZoneTriggers(n,r.zone);for(let o=0;o<this.staticEffects.length;o++);this.cardList[t].zone=n,r instanceof L&&(r.awake=!0)}setCardZoneObj(t,n){let r=this.getCardIndex(t);r>=0&&r<this.cardList.length&&(this.cardList[r].zone=n)}setCardOwner(t,n){this.cardList[n].owner=t}getCardIndex(t){return this.cardList.findIndex(r=>r===t)}getCard(t){return this.cardList[t]}getCreatures(t){return this.getCards(y.play,t,O.Creature)}getBuildings(t){return this.getCards(y.play,t,O.Building)}getTechs(t){return void 0===t&&(t=v.Any),this.getCards(y.play,t,O.Tech)}filterByKeyword(t,n){return void 0===n&&(n=v.Any),this.getCreatures(n).filter(i=>i.keywords.includes(t))}getCardsWithTriggers(t,n,r,i){return void 0===r&&(r=O.Any),void 0===n&&(n=v.Any),void 0===i&&(i=w.Any),void 0===t&&(t=y.any),this.getCards(t,n,r,i).filter(a=>a.abilities.filter(c=>c instanceof je))}getCards(t,n,r,i){let o=[];void 0===r&&(r=O.Any),void 0===n&&(n=v.Any),void 0===i&&(i=w.Any),void 0===t&&(t=y.any);for(let s=0;s<this.cardList.length;s++){let a=this.cardList[s];(a.owner===n||n==v.Any)&&(a.zone===t||t===y.any)&&(r===a.type||r===O.Any)&&(i===a.faction||i===w.Any)&&o.push(a)}return o}getDeck(t){return this.cardList.filter(n=>n.owner==t&&n.zone==y.deck)}clearList(t){this.cardList=this.cardList.filter(n=>n.owner!==t)}resetCreatures(){for(let t=this.cardList.length-1;t>=0;t--){let n=this.cardList[t];n instanceof L&&(n.isMinion?this.cardList.splice(t,1):(n.resetStats(),this.cardList[t]=n))}}reset(){this.clearList(v.Opponent),this.playerService.player.wall.hp=20,this.playerService.opponent.wall.hp=10,this.playerService.player.gembag.resetStarting(this.playerService.player.startingGold),this.playerService.player.incomeBag.resetIncome();for(let t=0;t<this.cardList.length;t++)if(this.cardList[t].zone=y.deck,this.playerService.player.applyExistingAbilities(this.cardList[t]),this.cardList[t]instanceof L){let n=this.cardList[t];n.resetStats(),n.isMinion&&this.cardList.splice(t,1)}}drawInitialHand(){this.playerService.player.drawCards(6);let t=this.getCards(y.deck,v.Self,O.Mine);for(let n=0;n<t.length;n++){let r=t[n];if(r.faction!==w.Colorless){r.zone=y.hand;break}}}getTargets(t){let n=t.zones,r=t.controller,i=t.types,o=i.includes(O.Any),s=n.includes(y.any);o&&(i=Object.values(O)),s&&(n=Object.values(y));let a=[];for(let c=0;c<this.cardList.length;c++){let l=this.cardList[c],u=n.includes(l.zone),d=i.includes(l.type);u&&d&&(l.owner===r||r===v.Any)&&a.push(l)}return a}grabUnaffected(t,n){void 0===n&&(n=O.Any);let r=t.targeting.getTarget();console.log(t),n!==O.Any&&(r=r.filter(o=>o.type===n)),console.log(r);let i=r.filter(o=>!o.currentEffects.includes(t));return console.log(i),i}grabAffected(t,n){void 0===n&&(n=O.Any);let r=t.targeting.getTarget();return n!==O.Any&&(r=r.filter(o=>o.type===n)),r.filter(o=>o.currentEffects.includes(t))}}class hF{constructor(t){this.showTurnPlayer=!1,this.showTurnEnemy=!1,this.game=t}getPhaseText(){switch(this.game.currentPhase){case Z.main||Z.main2:return"You may play a mine and as many other cards as you can afford. If it is your first main phase, you gain income from your mines.";case Z.attackers:return"Pick what creatures you want to attack. For a hoard, all creature always attack.";case Z.blockers:return"Choose which creatures from the horde you want to block. The hoard will never block.";case Z.combatResults:return"See the results of each block in combat. Greyed out creatures are set to die";case Z.end:return"The end of the turn. Until end of turn effects wear off here.";case Z.start:return"The start of a battle.";default:return""}}resetPhase(){this.game.currentPhase=Z.start,this.game.phaseDisplay=Z[this.game.currentPhase],this.game.currentTurn=this.game.player}nextPhase(){this.game.currentTurn.isAi?this.handleAIPhases():this.handlePlayerPhases(),this.game.phaseDisplay=Z[this.game.currentPhase]}handlePlayerPhases(){if(0===this.game.player.effectStack.length)switch(this.game.currentPhase){case Z.start:this.game.cardService.checkTriggers(G.Start,v.Self),alert("Your Turn"),this.game.currentPhase=Z.main;break;case Z.main:this.handleMainPhase();break;case Z.attackers:this.game.combatManager.runBlocks(),this.game.combatManager.runUnblocked(),this.game.combatManager.clearCombat(),this.game.currentPhase=Z.main2;break;case Z.main2:this.endTurn(),alert("Enemy Turn")}}handleAIPhases(){switch(this.game.currentPhase){case Z.main:this.handleAIMainPhase();break;case Z.attackers:this.game.player.hasBlockers()?this.game.currentPhase=Z.blockers:(this.game.combatManager.runUnblocked(),this.game.combatManager.clearCombat(),this.game.currentPhase=Z.end,this.game.cardService.checkTriggers(G.EndTurn,v.Opponent));break;case Z.blockers:this.game.currentPhase=Z.combatResults,this.game.combatManager.runUnblocked(),this.game.combatManager.runBlocks();break;case Z.combatResults:this.game.combatManager.clearCombat(),this.game.currentPhase=Z.end,this.game.cardService.checkTriggers(G.EndTurn,v.Opponent);break;case Z.end:this.game.cardService.checkTriggers(G.Start,v.Self),this.game.cardService.checkTriggers(G.Awake,v.Opponent),this.endTurn(),alert("Your Turn")}}handleMainPhase(){this.game.currentTurn.canAttack()?(this.game.currentPhase=Z.attackers,this.game.combatManager.runAttack()):(this.endTurn(),alert("Enemy Turn"))}handleAIMainPhase(){this.game.currentTurn.canAttack()?(this.game.currentPhase=Z.attackers,this.game.combatManager.runAttack()):this.game.currentPhase=Z.end}endTurn(){this.game.currentPhase=Z.main,this.game.cardService.checkTriggers(G.EndTurn,v.Self);let t=this.game.player.getCreatures();for(let n=0;n<t.length;n++){let r=t[n];r.keywords.includes(P.Regenerate)&&r.heal()}this.game.currentTurn===this.game.player&&[Z.main,Z.main2,Z.start,Z.end].includes(this.game.currentPhase),this.game.currentPhase=Z.main,this.game.phaseDisplay=Z[this.game.currentPhase],this.swapCurrent(),this.runUpkeep(),this.game.cardService.checkTriggers(G.Start,v.Opponent),this.game.cardService.checkTriggers(G.Awake,v.Opponent)}runUpkeep(){this.game.currentTurn.awakeAll();const t=this.game.getCurrentTurnController();this.game.currentTurn instanceof eo?this.game.processKeywords(v.Opponent,this.game.currentTurn.wall):this.game.currentTurn instanceof nt&&(this.game.player.minesPlayed=0,this.game.player.earnIncome(),this.game.processKeywords(v.Self,this.game.player.wall)),this.game.runDraw(),this.game.cardService.checkTriggers(G.Awake,t)}swapCurrent(){this.game.currentTurn=this.game.currentTurn.controller===v.Opponent?this.game.player:this.game.enemy}passTurn(){this.game.currentTurn===this.game.player&&(this.game.currentPhase===Z.main||this.game.currentPhase===Z.main2||this.game.currentPhase===Z.start)&&this.game.currentTurn===this.game.player&&(this.swapCurrent(),this.runUpkeep(),this.game.currentPhase=Z.main,this.game.phaseDisplay=Z[this.game.currentPhase],alert("Enemy Turn"))}}class pF{constructor(t,n){this.attacker={},this.blocker={},this.attacker=t,this.blocker=n}fight(){let t=this.attacker.keywords.includes(P.Dodge)&&this.attacker.dodgeAmount>0,n=this.blocker.keywords.includes(P.Dodge)&&this.blocker.dodgeAmount>0;this.attacker.speed>this.blocker.speed?(n?this.blocker.dodgeAmount--:this.blocker.hp-=this.attacker.attack,this.blocker.hp>0&&(t?this.attacker.dodgeAmount--:this.attacker.hp-=this.blocker.attack)):this.attacker.speed<this.blocker.speed?(t?this.attacker.dodgeAmount--:this.attacker.hp-=this.blocker.attack,this.attacker.hp>0&&(n?this.blocker.dodgeAmount--:this.blocker.hp-=this.attacker.attack)):(t?this.attacker.dodgeAmount--:this.attacker.hp-=this.blocker.attack,n?this.blocker.dodgeAmount--:this.blocker.hp-=this.attacker.attack)}}class gF{constructor(t){this.fights=[],this.selectedAttacker=null,this.selectedBlocker=null,this.game=t}inCombat(t){return t===Z.attackers||t===Z.blockers||t===Z.combatCleanup}runAttack(){const t=this.game.getCurrentTurnController();this.game.cardService.checkTriggers(G.Attack,t),this.game.currentTurn.isAi?(this.game.currentTurn.attack(),this.game.player.defend()):this.game.player.attack()}runBlocks(){let t=this.game.getCurrentTurnController()===v.Self?v.Opponent:v.Self;t=t===v.Opponent?v.Self:v.Opponent,this.runFights(),this.game.cardService.checkTriggers(G.Blockers,t)}runFights(){for(let t=0;t<this.fights.length;t++)this.fights[t].fight()}runUnblocked(){this.game.currentTurn.isAi?this.game.enemy.dealDamage(this.game.player):this.game.player.dealDamage(this.game.enemy)}clearCombat(){this.game.player.clearCombat(),this.game.enemy.clearCombat(),this.clearFights()}isFighting(t){return this.fights.some(n=>n.attacker===t||n.blocker===t)}cancelFight(t){const n=this.fights.indexOf(t);n>=0&&this.fights.splice(n,1),this.selectedAttacker&&this.selectedBlocker&&(this.selectedAttacker.blocked=!1,this.selectedBlocker.blocking=!1)}setAttacker(t){this.selectedAttacker=t,this.checkFight()}setBlocker(t){this.selectedBlocker=t,this.checkFight()}unsetBlocker(t){if(this.isFighting(t)){let n=this.getFightByCreature(t);n.attacker.blocked=!1,n.blocker.blocking=!1;let r=this.fights.indexOf(n);this.fights.splice(r,1)}this.selectedBlocker=null,this.selectedAttacker=null}checkFight(){this.selectedAttacker&&this.selectedBlocker&&(this.selectedAttacker.blocked=!0,this.selectedBlocker.blocking=!0,this.createFight(this.selectedAttacker,this.selectedBlocker),this.selectedAttacker=null,this.selectedBlocker=null)}createFight(t,n){let r=new pF(t,n);this.fights.push(r),this.selectedAttacker=null,this.selectedBlocker=null}clearFights(){this.game.player.checkDead(),this.game.enemy.checkDead(),this.fights=[]}getFightByCreature(t){return this.fights.filter(r=>r.attacker===t||r.blocker===t)[0]}}class oh{constructor(t,n,r){this.currentTurn={},this.fights=[],this.currentPhase=Z.start,this.phaseDisplay=Z[this.currentPhase],this.selectedBlocker=null,this.selectedAttacker=null,this.selectPlayer=null,this.possibleCardTargets=[],this.spellStack=[],this.phaseManager=new hF(this),this.combatManager=new gF(this),this.cardService=r,this.enemy=n,this.player=t,this.currentTurn=this.player,this.cardService.makePlayerService(this.player,this.enemy)}pickFirst(){this.currentTurn=2*Math.random()==0?this.player:this.enemy}getCurrentTurnController(){let t=v.Any;return this.currentTurn===this.player?t=v.Self:this.currentTurn===this.enemy&&(t=v.Opponent),t}runUpkeep(){this.currentTurn.awakeAll();let t=this.getCurrentTurnController();this.runDraw(),this.cardService.checkTriggers(G.Start,t),this.cardService.checkTriggers(G.Awake,t),this.currentTurn instanceof eo?this.processKeywords(v.Opponent,this.currentTurn.wall):this.currentTurn instanceof nt&&(this.player.minesPlayed=0,this.player.earnIncome(),this.processKeywords(v.Self,this.player.wall))}processKeywords(t,n){let r=this.cardService.getCreatures(t);for(let i=0;i<r.length;i++){let o=r[i];if(o.keywords.includes(P.Momentum)&&o.speed++,o.keywords.includes(P.Sharpen)&&o.attack++,o.keywords.includes(P.Armorer)&&o.hp++,o.keywords.includes(P.Repair)&&(n.hp+=o.repairAmount,this.cardService.checkTriggers(G.WallRepair)),o.keywords.includes(P.Medic)){let s=this.currentTurn.getCreatures();for(let a=0;a<s.length;a++)s[a].heal()}}}runDraw(){let t=this.getCurrentTurnController();this.cardService.checkTriggers(G.DrawStep,t),this.cardService.checkTriggers(G.DrawCard,t),this.currentTurn.isAi?this.currentTurn.playCards():this.currentTurn.drawCards(1)}mainPhase(){let t=this.getCurrentTurnController();this.cardService.checkTriggers(G.Main1,t)}runAttack(){let t=this.getCurrentTurnController();this.cardService.checkTriggers(G.Attack,t),this.currentTurn.isAi?(this.currentTurn.attack(),this.player.defend()):this.player.attack()}}let hD=(()=>{class e{constructor(){}getBgColor(n){switch(n){case w.Colorless:return"#888888";case w.Earth:return"#787235";case w.Neptune:return"#1a58a3";case w.Sky:return"#02aed6";case w.Sun:return"#cc4304";case w.MoonAndStars:return"#373737";default:return"white"}}getFgColor(n){switch(n){case w.Colorless:return"#DDDDDD";case w.Earth:return"#77c589";case w.Neptune:return"#6ea9f0";case w.Sky:return"#c3dde3";case w.Sun:return"#e8736b";case w.MoonAndStars:return"#e0ce7e";default:return"white"}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function mF(e,t){if(1&e&&N(0,"img",5),2&e){const n=x().$implicit,r=x();Nd("width",r.imgWidth,"px"),un("src",r.bag.getImage(n),Kt)}}const yF=function(){return[]};function vF(e,t){if(1&e&&(g(0,"span",3),F(1,mF,1,3,"img",4),p()),2&e){const n=t.$implicit,r=x();C(1),S("ngForOf",pc(1,yF).constructor(r.bag.getValue(n)))}}function _F(e,t){1&e&&N(0,"span",3)}let Es=(()=>{class e{constructor(){this.bag=new I,this.imgWidth=16,this.manaTypes=[]}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-gembag"]],inputs:{bag:"bag",imgWidth:"imgWidth"},decls:3,vars:2,consts:[[1,""],["style","margin-left: 3px;",4,"ngFor","ngForOf"],["style","margin-left: 3px;",4,"ngIf"],[2,"margin-left","3px"],["class","gemDimensions",3,"src","width",4,"ngFor","ngForOf"],[1,"gemDimensions",3,"src"]],template:function(r,i){1&r&&(g(0,"div",0),F(1,vF,2,2,"span",1),p(),F(2,_F,1,0,"span",2)),2&r&&(C(1),S("ngForOf",i.bag.getTypes()),C(1),S("ngIf",i.bag.isEmpty()))},dependencies:[yn,ft]})}return e})();const jc=function(e){return{backgroundColor:e}};function CF(e,t){if(1&e&&(g(0,"div",2),N(1,"app-gembag",13),p()),2&e){const n=x(2);S("ngStyle",pn(2,jc,n.fgColor)),C(1),S("bag",n.card.cost)}}function wF(e,t){1&e&&N(0,"img",14),2&e&&un("src",x(2).card.image,Kt)}function DF(e,t){1&e&&N(0,"div",15)}function bF(e,t){if(1&e&&(g(0,"div")(1,"p",16)(2,"span",17),b(3),p(),b(4," |"),g(5,"span",17),b(6),p(),b(7," |"),g(8,"span",17),b(9),p()()()),2&e){const n=x(2);C(2),S("ngStyle",n.getStatStyle(n.card,"atk")),C(1),tt("ATK:",n.converter.convertToCreature(n.card).attack," "),C(2),S("ngStyle",n.getStatStyle(n.card,"hp")),C(1),tt("HP: ",n.converter.convertToCreature(n.card).hp," "),C(2),S("ngStyle",n.getStatStyle(n.card,"spd")),C(1),tt(" SPD:",n.converter.convertToCreature(n.card).speed,"")}}function SF(e,t){if(1&e&&(g(0,"span")(1,"p",16),b(2,"INCOME: "),N(3,"app-gembag",13),p()()),2&e){const n=x(2);C(3),S("bag",n.converter.convertToMine(n.card).incomeBag)}}function EF(e,t){if(1&e&&(g(0,"span")(1,"p",18),b(2),p()()),2&e){const n=x(2);C(2),Fd("Turns left: ",n.converter.convertToTech(n.card).researchLevel,"/",n.converter.convertToTech(n.card).researchTime,"")}}function MF(e,t){1&e&&(g(0,"p"),b(1,"Fast - You may play this card at any time"),p())}function IF(e,t){if(1&e&&(g(0,"p"),b(1),p()),2&e){const n=x(2);C(1),tt("Dodge: ",n.converter.convertToCreature(n.card).dodgeAmount,"")}}const AF=function(e,t,n,r){return{playable:e,notPlayable:t,awake:n,asleep:r}},TF=function(){return{backgroundColor:"black"}};function kF(e,t){if(1&e&&(g(0,"div",1)(1,"div",2)(2,"p",3),b(3),p()(),F(4,CF,2,4,"div",4),g(5,"div",5),F(6,wF,1,1,"img",6),F(7,DF,1,0,"ng-template",null,7,nf),p(),g(9,"div",8)(10,"p",9),b(11),p()(),g(12,"div",10),F(13,bF,10,6,"div",11),F(14,SF,4,1,"span",11),F(15,EF,3,2,"span",11),F(16,MF,2,0,"p",11),g(17,"p",12),b(18),p(),F(19,IF,2,1,"p",11),p()()),2&e){const n=Md(8),r=x();S("ngClass",X_(16,AF,r.playable&&0===r.card.zone,!r.playable&&0===r.card.zone,0===r.card.type&&!0===r.converter.convertToCreature(r.card).awake,!1===r.converter.convertToCreature(r.card).awake))("ngStyle",pn(21,jc,r.bgColor)),C(1),S("ngStyle",pc(23,TF)),C(2),tt("",r.card.name," "),C(1),S("ngIf",2===r.card.owner),C(1),S("ngStyle",pn(24,jc,r.fgColor)),C(1),S("ngIf",""!==r.card.image&&void 0!==r.card.image)("ngIfElse",n),C(5),hn(r.getTypeString(r.card.type)),C(1),S("ngStyle",pn(26,jc,r.fgColor)),C(1),S("ngIf",0===r.card.type),C(1),S("ngIf",2===r.card.type),C(1),S("ngIf",1===r.card.type&&1===r.card.zone),C(1),S("ngIf",r.card.instant),C(2),tt(" ",r.card.text,""),C(1),S("ngIf",r.converter.convertToCreature(r.card).dodgeAmount>0)}}let Dr=(()=>{class e{constructor(n){this.fcs=n,this.card={},this.playable=void 0,this.cardEmitter=new ue,this.flipped=!0,this.bgColor="grey",this.fgColor="#cccccc",this.gradientColor="radialGradient(bgColor, gradientColor)",this.type=O[this.card.type],this.selected=!1,this.converter=new Ss}ngOnInit(){void 0!==this.card&&(this.bgColor=this.fcs.getBgColor(this.card.faction),this.fgColor=this.fcs.getFgColor(this.card.faction),this.gradientColor=`radialGradient(${this.bgColor}, ${this.fgColor})`)}clickCard(){this.cardEmitter.emit(this.card)}getTypeString(n){return O[n]}getStatStyle(n,r){const i=this.converter.convertToCreature(n);let o=0,s=0;switch(r){case"hp":o=i.baseHp,s=i.hp;break;case"atk":o=i.baseAttack,s=i.attack;break;case"spd":o=i.baseSpeed,s=i.speed}return s>o?{color:"rgb(98, 219, 98);"}:s<o?{color:"red"}:{color:"white"}}static#e=this.\u0275fac=function(r){return new(r||e)(k(hD))};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-card"]],inputs:{card:"card",playable:"playable",flipped:"flipped"},outputs:{cardEmitter:"cardEmitter"},decls:1,vars:1,consts:[["id","BlackFont","class","cardBorder hoverZoom cardDimensions",3,"ngClass","ngStyle",4,"ngIf"],["id","BlackFont",1,"cardBorder","hoverZoom","cardDimensions",3,"ngClass","ngStyle"],[1,"mainFont","titleBoxWidth","cardOutline",3,"ngStyle"],[1,"titleText"],["class","mainFont titleBoxWidth cardOutline",3,"ngStyle",4,"ngIf"],["id","PlaceHolder",1,"cardOutline",3,"ngStyle"],["class","centerElement cardImage ",3,"src",4,"ngIf","ngIfElse"],["fake",""],[1,"typeBox","cardOutline"],[1,"typeText"],[1,"textBox","cardOutline","mainFont","cardText",3,"ngStyle"],[4,"ngIf"],[1,"mainFont"],[3,"bag"],[1,"centerElement","cardImage",3,"src"],[1,"centerElement","cardImage"],[1,"statDisplay"],[3,"ngStyle"],[1,"whiteFont","statDisplay"]],template:function(r,i){1&r&&F(0,kF,20,28,"div",0),2&r&&S("ngIf",void 0!==i.card)},dependencies:[_s,ft,Gr,Es],styles:['.cardOutline[_ngcontent-%COMP%]{border:solid 1px black;border-radius:5%;margin:1px}#PlaceHolder[_ngcontent-%COMP%]{min-height:40px}.titleText[_ngcontent-%COMP%]{font-family:Tahoma,sans-serif;font-weight:700;font-size:60%;text-align:center;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.titleBoxWidth[_ngcontent-%COMP%]{width:93%;margin-left:auto;margin-right:auto}.flexBox[_ngcontent-%COMP%]{display:flex}.flexSpace[_ngcontent-%COMP%]{justify-content:space-between}.foregroundColor[_ngcontent-%COMP%]{opacity:.9}.typeText[_ngcontent-%COMP%]{color:#fff;text-align:center}.typeBox[_ngcontent-%COMP%]{height:17px;margin-top:2px;margin-bottom:2px;font-size:13px;font-family:Arial,Helvetica,sans-serif;background:rgba(30,30,30,.5);opacity:1}.typeBoxBg[_ngcontent-%COMP%]{background-color:"#373737"}.textBox[_ngcontent-%COMP%]{min-height:4rem;text-align:center;font-family:Arial,Helvetica,sans-serif}.cardText[_ngcontent-%COMP%]{font-size:45%}.statDisplay[_ngcontent-%COMP%]{border-bottom:ridge 2px #737373;margin-bottom:2px;background-color:#000;color:#fff}.playable[_ngcontent-%COMP%]{border:3px solid green;border-radius:5%}.notPlayable[_ngcontent-%COMP%]{border:3px solid red;border-radius:5%}.playable[_ngcontent-%COMP%], .notPlayable[_ngcontent-%COMP%]{margin:-2px}.hoverZoom[_ngcontent-%COMP%]:hover{z-index:9999;transform:scale(1.2);transition:transform .3s ease-in-out;animation-delay:1ms;position:relative}.hoverZoom[_ngcontent-%COMP%]{transform:scale(1);margin-bottom:0;transition:transform .4s ease-in-out;animation-delay:2ms;cursor:pointer}#BlackFont[_ngcontent-%COMP%]{color:#000}']})}return e})();function xF(e,t){if(1&e&&(g(0,"div"),N(1,"app-card",2),p()),2&e){const n=x();C(1),S("card",n.discardedCards[n.discardedCards.length-1])}}let pD=(()=>{class e{constructor(){this.showDiscard=!1,this.discardedCards=[]}toggleShowDiscard(){this.showDiscard=!this.showDiscard}getGraveyard(){return this.discardedCards}getTopCard(){return this.discardedCards.length>0?this.discardedCards[this.discardedCards.length-1]:{}}isEmpty(){return 0===this.discardedCards.length}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-discard-pile"]],inputs:{discardedCards:"discardedCards"},decls:2,vars:1,consts:[[1,"cardDimensions","discardPile"],[4,"ngIf"],[3,"card"]],template:function(r,i){1&r&&(g(0,"div",0),F(1,xF,2,1,"div",1),p()),2&r&&(C(1),S("ngIf",i.discardedCards.length>0))},dependencies:[ft,Dr],styles:[".pileDimensions[_ngcontent-%COMP%]{min-height:230px;width:auto;min-width:165px;max-width:auto;z-index:1001;border-radius:3%}.emptyWidth[_ngcontent-%COMP%]{width:165px}.cardMargin[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}.cardRow[_ngcontent-%COMP%]{flex-wrap:wrap}"]})}return e})();function PF(e,t){1&e&&N(0,"img",3)}const OF=function(e){return{width:e}};function NF(e,t){if(1&e&&(g(0,"div",1),F(1,PF,1,0,"img",2),p()),2&e){const n=x();S("ngStyle",pn(2,OF,n.getWallLength())),C(1),S("ngForOf",n.calcDisplay())}}let gD=(()=>{class e{constructor(){this.wall={}}calcDisplay(){let n=this.wall.hp/5;return n=Math.ceil(n),n<0&&(n=0),Array(n).fill(0)}getWallLength(){return 24*Math.ceil(this.wall.hp/5)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-wall"]],inputs:{wall:"wall"},decls:4,vars:2,consts:[["class","cardRow wallSpacing",3,"ngStyle",4,"ngIf"],[1,"cardRow","wallSpacing",3,"ngStyle"],["class","","width","24px","height","24px","src","assets/wall.png",4,"ngFor","ngForOf"],["width","24px","height","24px","src","assets/wall.png",1,""]],template:function(r,i){1&r&&(g(0,"div")(1,"p"),b(2),p(),F(3,NF,2,4,"div",0),p()),2&r&&(C(2),tt("Wall HP: ",i.wall.hp,""),C(1),S("ngIf",i.calcDisplay().length>0))},dependencies:[yn,ft,Gr],styles:[".wallSpacing[_ngcontent-%COMP%]{justify-content:center}"]})}return e})();function RF(e,t){1&e&&N(0,"img",13),2&e&&un("src",x().card.image,Kt)}function FF(e,t){if(1&e&&(g(0,"span",14),N(1,"img",15),b(2,": "),g(3,"span",16),b(4),p(),N(5,"img",17),b(6,": "),g(7,"span",16),b(8),p(),N(9,"img",18),b(10,": "),g(11,"span",16),b(12),p()()),2&e){const n=x();C(3),S("ngStyle",n.getStatStyle(n.card,"atk")),C(1),hn(n.converter.convertToCreature(n.card).attack),C(3),S("ngStyle",n.getStatStyle(n.card,"hp")),C(1),hn(n.converter.convertToCreature(n.card).hp),C(3),S("ngStyle",n.getStatStyle(n.card,"spd")),C(1),tt(" ",n.converter.convertToCreature(n.card).speed,"")}}function LF(e,t){if(1&e&&(g(0,"span")(1,"p",14),b(2,"INCOME: "),N(3,"app-gembag",19),p()()),2&e){const n=x();C(3),S("bag",n.converter.convertToMine(n.card).incomeBag)}}function VF(e,t){1&e&&N(0,"img",20)}function BF(e,t){1&e&&N(0,"img",21)}function jF(e,t){if(1&e){const n=ye();g(0,"button",22),$("click",function(){return se(n),ae(x().select())}),b(1),p()}if(2&e){const n=x();C(1),tt("Target ",n.card.name,"")}}function HF(e,t){if(1&e){const n=ye();g(0,"button",22),$("click",function(){return se(n),ae(x().$implicit.doEffects())}),b(1,"Ability"),p()}}function $F(e,t){if(1&e&&(g(0,"div"),F(1,HF,2,0,"button",11),p()),2&e){const n=t.$implicit,r=x();C(1),S("ngIf",r.card.hasActivatedAbility()&&n.canAffordCosts(r.card)&&2===r.card.owner)}}const mD=function(e){return{backgroundColor:e}},UF=function(e,t,n,r,i){return{awake:e,asleep:t,dead:n,blocked:r,blocking:i}},GF=function(){return{backgroundColor:"black"}};let yD=(()=>{class e{constructor(n){this.fcs=n,this.card={},this.cardEmitter=new ue,this.bgColor="grey",this.fgColor="#cccccc",this.gradientColor="radialGradient(bgColor, gradientColor)",this.type=O[this.card.type],this.selected=!1,this.converter=new Ss}ngOnInit(){this.bgColor=this.fcs.getBgColor(this.card.faction),this.fgColor=this.fcs.getFgColor(this.card.faction),this.gradientColor=`radialGradient(${this.bgColor}, ${this.fgColor})`}select(){this.cardEmitter.emit(this.card)}getTypeString(n){return O[n]}getStatStyle(n,r){const i=this.converter.convertToCreature(n);let o=0,s=0;switch(r){case"hp":o=i.baseHp,s=i.hp;break;case"atk":o=i.baseAttack,s=i.attack;break;case"spd":o=i.baseSpeed,s=i.speed}return s>o?{color:"#44e36e"}:s<o?{color:"red"}:{color:"white"}}getActivatedAbilities(){return this.card.abilities.filter(r=>r instanceof or),this.card.abilities.filter(r=>r instanceof or)}static#e=this.\u0275fac=function(r){return new(r||e)(k(hD))};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-card-small"]],inputs:{card:"card"},outputs:{cardEmitter:"cardEmitter"},decls:14,vars:24,consts:[[1,"smallCardContainer"],[1,"largeCard",3,"card"],[1,"cardBorder","hoverZoom",3,"ngStyle","ngClass"],[1,"mainFont","titleBoxWidth",3,"ngStyle"],[1,"titleText"],[1,"cardOutline","cardImageSmall",2,"margin","3px",3,"ngStyle"],["class","centerElement","height","auto","width","103px",3,"src",4,"ngIf"],["class","statDisplay blackBg",4,"ngIf"],[4,"ngIf"],["class","attackingIcon","src","assets/attackSymbol.png","height","auto","width","50%",4,"ngIf"],["class","blockingIcon","src","assets/HP Symbol.png","height","auto","width","50%",4,"ngIf"],[3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["height","auto","width","103px",1,"centerElement",3,"src"],[1,"statDisplay","blackBg"],["src","assets/attackSymbol.png","width","16px","height","auto",1,"statIcon"],[3,"ngStyle"],["src","assets/HP Symbol.png","width","16px","height","auto",1,"statIcon"],["src","assets/Speed Symbol.png","width","16px","height","auto",1,"statIcon"],[3,"bag"],["src","assets/attackSymbol.png","height","auto","width","50%",1,"attackingIcon"],["src","assets/HP Symbol.png","height","auto","width","50%",1,"blockingIcon"],[3,"click"]],template:function(r,i){1&r&&(g(0,"div",0),N(1,"app-card",1),g(2,"div",2)(3,"div",3)(4,"p",4),b(5),p()(),g(6,"div",5),F(7,RF,1,1,"img",6),F(8,FF,13,6,"span",7),F(9,LF,4,1,"span",8),p(),F(10,VF,1,0,"img",9),F(11,BF,1,0,"img",10),p()(),F(12,jF,2,1,"button",11),F(13,$F,2,1,"div",12)),2&r&&(C(1),S("card",i.card),C(1),S("ngStyle",pn(13,mD,i.bgColor))("ngClass",function J_(e,t,n,r,i,o,s,a){const c=yt()+e,l=A(),u=Jt(l,c,n,r,i,o);return dt(l,c+4,s)||u?Pn(l,c+5,a?t.call(a,n,r,i,o,s):t(n,r,i,o,s)):es(l,c+5)}(15,UF,0===i.card.type&&!0===i.converter.convertToCreature(i.card).awake,!1===i.converter.convertToCreature(i.card).awake,i.converter.convertToCreature(i.card).hp<=0,i.converter.convertToCreature(i.card).blocked,i.converter.convertToCreature(i.card).blocking)),C(1),S("ngStyle",pc(21,GF)),C(2),tt("",i.card.name," "),C(1),S("ngStyle",pn(22,mD,i.fgColor)),C(1),S("ngIf",""!==i.card.image&&void 0!==i.card.image),C(1),S("ngIf",0===i.card.type),C(1),S("ngIf",2===i.card.type),C(1),S("ngIf",0===i.card.type&&i.converter.convertToCreature(i.card).attacking),C(1),S("ngIf",0===i.card.type&&i.converter.convertToCreature(i.card).blocking),C(1),S("ngIf",i.card.targetableCard),C(1),S("ngForOf",i.getActivatedAbilities()))},dependencies:[_s,yn,ft,Gr,Dr,Es],styles:['p[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;font-weight:700}.cardBorder[_ngcontent-%COMP%]{border:solid 2px black;border-radius:4%;width:6rem;padding:5px;margin-right:auto}.cardOutline[_ngcontent-%COMP%]{border:solid 1px black;border-radius:5%;margin:1px}.titleText[_ngcontent-%COMP%]{font-family:Verdana,Tahoma,sans-serif;font-weight:700;font-size:63%;text-align:center;color:#fff}.titleBoxWidth[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;min-height:20px}.flexBox[_ngcontent-%COMP%]{display:flex}.flexSpace[_ngcontent-%COMP%]{justify-content:space-between}.cardImage[_ngcontent-%COMP%]{min-height:100px;height:75%}.blackBg[_ngcontent-%COMP%]{background-color:#000}.foregroundColor[_ngcontent-%COMP%]{opacity:.9}.typeText[_ngcontent-%COMP%]{color:#fff;text-align:center}.typeBox[_ngcontent-%COMP%]{height:17px;margin-top:2px;margin-bottom:2px;font-size:13px;font-family:Arial,Helvetica,sans-serif;background:rgba(30,30,30,.5);opacity:1}.typeBoxBg[_ngcontent-%COMP%]{background-color:"#373737"}.textBox[_ngcontent-%COMP%]{height:100px;text-align:center;font-family:Arial,Helvetica,sans-serif}.centerElement[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.cardText[_ngcontent-%COMP%]{font-size:12px}.statDisplay[_ngcontent-%COMP%]{border:ridge 2px #737373;border-radius:10%;margin-bottom:2px;font-size:14px;font-weight:700;font-family:Arial,Helvetica,sans-serif;text-align:center;color:#fff;position:absolute;bottom:1px;left:5px;right:5px}.whiteFont[_ngcontent-%COMP%]{color:#fff}.asleep[_ngcontent-%COMP%]{transform:rotate(90deg);margin-bottom:18px}.largeCard[_ngcontent-%COMP%]{visibility:hidden;position:fixed;z-index:1;opacity:0;left:0;top:36%;transition:visibility .2s linear .2s;-webkit-user-select:none;user-select:none;transform:scale(1)}.smallCardContainer[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;transition-delay:.1s;position:relative}#Hand[_ngcontent-%COMP%]:hover   .largeCard[_ngcontent-%COMP%]{visibility:visible;opacity:1;transform:scale(1.1);transition:transform .5s ease-in-out;transition:opacity .3s ease-in-out;transform:translate(0);transition-delay:2s;z-index:99999}.smallCardContainer[_ngcontent-%COMP%]:hover   .largeCard[_ngcontent-%COMP%]{visibility:visible;opacity:1;transition:opacity .3s ease-in-out;transform:translateY(20px);transition-delay:.1s}.smallCardContainer[_ngcontent-%COMP%]:hover{border:2px solid #281cae;border-radius:4%;margin-bottom:0}.smallCardContainer[_ngcontent-%COMP%]:hover, .attackingIcon[_ngcontent-%COMP%]:hover, .blockingIcon[_ngcontent-%COMP%]:hover{opacity:1}.statIcon[_ngcontent-%COMP%]{margin:2px}.asleep[_ngcontent-%COMP%], .awake[_ngcontent-%COMP%]{transition:width 2s,height 2s,transform .3s}.asleep[_ngcontent-%COMP%]{transform:rotate(90deg)}.awake[_ngcontent-%COMP%]{transform:rotate(0)}.dead[_ngcontent-%COMP%]{opacity:.5}.combatIcon[_ngcontent-%COMP%]{display:none}.blocking[_ngcontent-%COMP%]:hover   .combatIcon[_ngcontent-%COMP%]{display:block;position:relative;top:-100px}.attackingIcon[_ngcontent-%COMP%], .blockingIcon[_ngcontent-%COMP%]{position:absolute;bottom:1rem;left:2rem;opacity:.7}.canCast[_ngcontent-%COMP%]{border:1px solid green}.cantCast[_ngcontent-%COMP%]{border:1px solid red}']})}return e})();const zF=["cardElement"];function WF(e,t){if(1&e){const n=ye();g(0,"button",18),$("click",function(){se(n);const i=x(2).index;return ae(x().toggleAttack(i))}),b(1,"Attack"),p()}}function qF(e,t){if(1&e&&(g(0,"div"),F(1,WF,2,0,"button",17),p()),2&e){const n=x().$implicit;C(1),S("ngIf",!n.attacking&&!n.keywords.includes(7))}}function ZF(e,t){if(1&e){const n=ye();g(0,"button",18),$("click",function(){se(n);const i=x().index;return ae(x().toggleAttack(i))}),b(1,"X Cancel Attack"),p()}}function YF(e,t){if(1&e){const n=ye();g(0,"button",18),$("click",function(){se(n);const i=x(2).$implicit;return ae(x().game.combatManager.setBlocker(i))}),b(1,"Block"),p()}}function QF(e,t){if(1&e){const n=ye();g(0,"button",21),$("click",function(){se(n);const i=x(2).$implicit;return ae(x().game.combatManager.unsetBlocker(i))}),b(1,"Cancel Block"),p()}}function KF(e,t){if(1&e&&(g(0,"div"),F(1,YF,2,0,"button",19),F(2,QF,2,0,"ng-template",null,20,nf),p()),2&e){const n=Md(3),r=x().$implicit,i=x();C(1),S("ngIf",!1===i.cardConverter.convertToCreature(r).blocking)("ngIfElse",n)}}function XF(e,t){if(1&e){const n=ye();g(0,"div",null,14)(2,"app-card-small",15),$("cardEmitter",function(i){return se(n),ae(x().targetSelected(i))}),p(),F(3,qF,2,1,"div",16),F(4,ZF,2,0,"button",17),F(5,KF,4,2,"div",16),p()}if(2&e){const n=t.$implicit,r=x();C(2),os("attacker",r.game.combatManager.isFighting(n)&&r.game.currentTurn===r.Player)("blocker",r.game.combatManager.isFighting(n)&&r.game.currentTurn!==r.Player),S("card",n),C(1),S("ngIf",r.Player.attacking&&n.awake&&!n.firstTurn),C(1),S("ngIf",n.attacking),C(1),S("ngIf",r.Player.defending&&!0===r.cardConverter.convertToCreature(n).awake&&!1===r.cardConverter.convertToCreature(n).attacking)}}function JF(e,t){if(1&e&&(g(0,"div"),N(1,"app-card-small",22),p()),2&e){const n=t.$implicit;C(1),S("card",n)}}function e2(e,t){1&e&&N(0,"img",23)}function t2(e,t){if(1&e){const n=ye();g(0,"div",24)(1,"app-card",25),$("dblclick",function(){const o=se(n).$implicit,s=x();return ae(s.Player.playCard(o,s.game))}),p()()}if(2&e){const n=t.$implicit,r=x();C(1),S("card",n)("playable",r.Player.checkIfPlayable(n,r.game))}}const n2=function(e){return{width:e}};let r2=(()=>{class e{constructor(){this.Player={},this.game={},this.rotStart=355,this.rotEnd=365,this.targetingMode=!1,this.selected={},this.possibleTargets=[],this.cardConverter=new Ss,this.popupVisible=!1,this.popupX=100,this.popupY=100}getCardCenterPosition(n){const i=this.cardElements.toArray()[n].nativeElement.getBoundingClientRect();return{x:i.left+i.width/2,y:i.top+i.height/2}}selectTarget(n){this.selected=this.possibleTargets[n]}toggleAttack(n){let r=this.Player.getCreatures()[n];r.attacking=!r.attacking,r.keywords.includes(P.Sentry)||(r.awake=!r.awake),r.blocking=!1}targetSelected(n){this.Player.effectStack[0].doEffectSingle(n),this.Player.effectStack.splice(0,1),this.turnOffTargetting(this.Player.getCreatures())}playSelected(n){this.Player.playCard(n,this.game),this.Player.effectStack=[]}turnOnTargetting(n){for(let r=0;r<n.length;r++)n[r].targetableCard=!0}turnOffTargetting(n){for(let r=0;r<n.length;r++)n[r].targetableCard=!1}getRotAmount(n){return(this.rotEnd-this.rotStart)/this.Player.getHand().length*n}showPopup(n){this.popupVisible=!0,this.updatePopupPosition(n)}movePopup(n){this.updatePopupPosition(n)}hidePopup(){this.popupVisible=!1}updatePopupPosition(n){this.popupX=n.clientX+10,this.popupY=n.clientY+10}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-player"]],viewQuery:function(r,i){if(1&r&&mC(zF,5),2&r){let o;ef(o=function tf(){return function tP(e,t){return e[Mn].queries[t].queryList}(A(),kg())}())&&(i.cardElements=o)}},inputs:{Player:"Player",game:"game"},decls:20,vars:12,consts:[[1,"gemBagDisplay","uiPanel","paneBg"],[1,"centerElement","whiteFont",3,"wall"],[1,"whiteFont",2,"margin-bottom",".5rem"],[1,"whiteFont"],[3,"bag"],[1,"cardRow","creatureDisplay","uiPanel",3,"ngStyle"],[4,"ngFor","ngForOf"],[1,"cardRow"],["id","",1,"flexCenter"],[2,"float","left"],[3,"discardedCards"],["id","CardBack","class","cardDimensions","src","assets/back2.webp",4,"ngIf"],["id","Hand",1,"cardRow"],["class","handMargin",4,"ngFor","ngForOf"],["cardElement",""],[3,"card","cardEmitter"],[4,"ngIf"],["class","centerElement combatButton",3,"click",4,"ngIf"],[1,"centerElement","combatButton",3,"click"],["class","centerElement combatButton",3,"click",4,"ngIf","ngIfElse"],["cancel",""],[1,"centerElement",3,"click"],[3,"card"],["id","CardBack","src","assets/back2.webp",1,"cardDimensions"],[1,"handMargin"],[1,"card",3,"card","playable","dblclick"]],template:function(r,i){1&r&&(g(0,"div",0),N(1,"app-wall",1),g(2,"p",2),b(3),p(),g(4,"h3",3),b(5,"Resources:"),p(),N(6,"app-gembag",4),g(7,"h3",3),b(8,"Income:"),p(),N(9,"app-gembag",4),p(),g(10,"div",5),F(11,XF,6,8,"div",6),p(),g(12,"div",7),F(13,JF,2,1,"div",6),p(),g(14,"div",8)(15,"div",9),N(16,"app-discard-pile",10),F(17,e2,1,0,"img",11),p(),g(18,"div",12),F(19,t2,2,2,"div",13),p()()),2&r&&(C(1),S("wall",i.Player.wall),C(2),tt("Your Life: ",i.Player.hp,""),C(3),S("bag",i.Player.gembag),C(3),S("bag",i.Player.incomeBag),C(1),S("ngStyle",pn(10,n2,183*i.Player.getCreatures().length+"px")),C(1),S("ngForOf",i.Player.getCreatures()),C(2),S("ngForOf",i.Player.cardService.getBuildings(1)),C(3),S("discardedCards",i.Player.cardService.getCards(2,2)),C(1),S("ngIf",i.Player.cardService.getDeck(2).length>0),C(2),S("ngForOf",i.Player.getHand()))},dependencies:[yn,ft,Gr,Dr,Es,pD,gD,yD],styles:["#Hand[_ngcontent-%COMP%]{display:flex;margin-left:auto;margin-right:auto;position:fixed;justify-content:center;align-items:center;left:20%;right:20%}#CardBack[_ngcontent-%COMP%]{margin-bottom:0}.playButton[_ngcontent-%COMP%]{max-width:120px}.creatureArea[_ngcontent-%COMP%]{height:150px}.gemBagDisplay[_ngcontent-%COMP%]{position:fixed;right:0;bottom:0;border-radius:5%;padding:10px}.discardDisplay[_ngcontent-%COMP%]{border-radius:3%}.wallDisplay[_ngcontent-%COMP%]{margin-left:auto;width:25%;margin-bottom:10px;padding:6px}.handMargin[_ngcontent-%COMP%]{margin:0px -1rem}.card[_ngcontent-%COMP%]{transform-origin:bottom center;transition:transform .3s ease-in-out}.card[_ngcontent-%COMP%]:hover{transform:rotate(0);transition:transform .3s ease-in-out;z-index:1000;margin-bottom:20px}.attacker[_ngcontent-%COMP%], .blocker[_ngcontent-%COMP%]{display:inline-block;transition:transform .3s ease-in-out}.attacker[_ngcontent-%COMP%]{border-color:#f75d5d}.blocker[_ngcontent-%COMP%]{border-color:#4ecdf8}.fighting[_ngcontent-%COMP%]{transform:translateY(50px)}.flexCenter[_ngcontent-%COMP%]{justify-content:center;position:fixed;bottom:0}"]})}return e})();function i2(e,t){1&e&&N(0,"img",8)}function o2(e,t){if(1&e){const n=ye();g(0,"button",11),$("click",function(){se(n);const i=x().$implicit;return ae(x().game.combatManager.setAttacker(i))}),b(1," Block this Attacker"),p()}}function s2(e,t){if(1&e){const n=ye();g(0,"div")(1,"app-card-small",9),$("cardEmitter",function(i){return se(n),ae(x().targetSelected(i))}),p(),F(2,o2,2,0,"button",10),p()}if(2&e){const n=t.$implicit,r=x();C(1),S("card",n),C(1),S("ngIf",r.hoard.attacking&&!1===r.creatureConverter.convertToCreature(n).blocked&&r.opponentHasBlockers())}}function a2(e,t){if(1&e){const n=ye();g(0,"div")(1,"button",13),$("click",function(){return se(n),ae(x(2).hoard.runCurrentSpell())}),b(2,"Run Spell"),p()()}}function c2(e,t){if(1&e&&(g(0,"div"),N(1,"app-card",12),F(2,a2,3,0,"div",4),p()),2&e){const n=x();C(1),S("card",n.hoard.currentSpell),C(1),S("ngForOf",n.hoard.currentSpell.abilities)}}let l2=(()=>{class e{constructor(){this.hoard={},this.game={},this.blockedCreature=new ue,this.creatureConverter=new Ss}block(n){this.hoard.cardService.getCreatures(1)}opponentHasBlockers(){return this.hoard.cardService.getCards(y.play,v.Self,O.Creature).filter(i=>i.awake&&!i.blocking).length>0}targetSelected(n){console.log(n);let r=this.game.cardService.playerService.getPlayer(v.Self)[0];r.effectStack[0].doEffectSingle(n),r.effectStack.splice(0,1);let i=this.game.cardService.playerService.getPlayer(v.Opponent)[0];this.turnOffTargetting(r.getCreatures()),this.turnOffTargetting(i.getCreatures())}turnOnTargetting(n){for(let r=0;r<n.length;r++)n[r].targetableCard=!0}turnOffTargetting(n){for(let r=0;r<n.length;r++)n[r].targetableCard=!1}showDiscardArea(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-ai"]],inputs:{hoard:"hoard",game:"game"},outputs:{blockedCreature:"blockedCreature"},decls:10,vars:6,consts:[[1,"cardRow","uiPanel"],[3,"discardedCards"],["id","EnemyCardBack","class","cardDimensions","src","assets/back2.webp",4,"ngIf"],["id","Enemies",1,""],[4,"ngFor","ngForOf"],["id","HpPane",1,"paneBg","whiteFont","uiPanel","centerText","lifePanel"],[3,"wall"],[4,"ngIf"],["id","EnemyCardBack","src","assets/back2.webp",1,"cardDimensions"],[3,"card","cardEmitter"],["class","centerElement combatButton",3,"click",4,"ngIf"],[1,"centerElement","combatButton",3,"click"],[3,"card"],[3,"click"]],template:function(r,i){1&r&&(g(0,"div",0),N(1,"app-discard-pile",1),F(2,i2,1,0,"img",2),g(3,"div",3),F(4,s2,3,2,"div",4),p()(),g(5,"div",5),N(6,"app-wall",6),g(7,"p"),b(8),p()(),F(9,c2,3,2,"div",7)),2&r&&(C(1),S("discardedCards",i.hoard.cardService.getCards(2,1)),C(1),S("ngIf",i.hoard.cardService.getDeck(2).length>0),C(2),S("ngForOf",i.hoard.cardService.getCreatures(1)),C(2),S("wall",i.hoard.wall),C(2),tt("Horde Deck: ",i.hoard.cardService.getDeck(1).length,""),C(1),S("ngIf",null!==i.hoard.currentSpell))},dependencies:[yn,ft,Dr,pD,gD,yD],styles:[".cardRow[_ngcontent-%COMP%]{display:flex;flex-flow:row;justify-content:start}#Enemies[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap}.lifePanel[_ngcontent-%COMP%]{width:25%;padding:5px}.discardPos[_ngcontent-%COMP%]{position:absolute;top:0;left:0}#HpPane[_ngcontent-%COMP%]{position:fixed;top:3.5rem;right:0}"]})}return e})();function u2(e,t){1&e&&N(0,"app-card",2),2&e&&S("card",t.$implicit)}let vD=(()=>{class e{constructor(){this.deck=[],this.display=!1}sortDeck(){return this.deck.sort((r,i)=>r.name.localeCompare(i.name))}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-deck-viewer"]],inputs:{deck:"deck",display:"display"},decls:2,vars:1,consts:[[1,"cardRow","scrollBar"],["class","card",3,"card",4,"ngFor","ngForOf"],[1,"card",3,"card"]],template:function(r,i){1&r&&(g(0,"div",0),F(1,u2,1,1,"app-card",1),p()),2&r&&(C(1),S("ngForOf",i.sortDeck()))},dependencies:[yn,Dr],styles:[".cardRow[_ngcontent-%COMP%]{flex-wrap:wrap}.card[_ngcontent-%COMP%]{margin:10px 5px;flex:0 0 10%;border-radius:5%;width:94%}.scrollBar[_ngcontent-%COMP%]{min-height:500px;max-width:90%}"]})}return e})();function d2(e,t){if(1&e){const n=ye();g(0,"button",4),$("click",function(){return se(n),ae(x().nextStep())}),b(1," Next Slide"),p()}}function f2(e,t){if(1&e){const n=ye();g(0,"button",4),$("click",function(){return se(n),ae(x().prevStep())}),b(1,"Previous Slide"),p()}}function h2(e,t){1&e&&(g(0,"div")(1,"h3"),b(2,"Super Gembag Wars"),p(),N(3,"br"),g(4,"p"),b(5,"This is a game about surviving a horde of enemies knocking at your wall. Your goal is to destroy the enemy deck while keeping your life above 0. "),p(),N(6,"br"),g(7,"p"),b(8,"To protect your life, you have a wall that will absorb attacks until it reach 0. Each square of wall represents 5 wall hp rounded up. "),p(),N(9,"br"),g(10,"p"),b(11,"When you attack the hoard, for each 1 damage you deal, the hoard discards a card from their deck."),p(),N(12,"img",5),p())}function p2(e,t){if(1&e&&(g(0,"div")(1,"h3"),b(2,"Understanding a Card"),p(),N(3,"app-card",6),g(4,"p"),b(5,"Every non-mine card has a cost consisting of Gems and gold."),p(),g(6,"p"),b(7,"You gain resources by playing mines"),p(),g(8,"p"),b(9,"This card costs 1 ruby and 1 gold"),p(),N(10,"app-card",6),g(11,"p"),b(12,"This is a basic mine. It will give you one gem right away and 1 gem at the start of each of your turns"),p(),g(13,"p"),b(14,"Basic mines are free to play, BUT you may only play one mine per turn"),p(),g(15,"p"),b(16,"You start the game with 4 gold and 1 basic gold mine"),p(),N(17,"img",7),g(18,"h3"),b(19,"Controls"),p(),g(20,"p"),b(21,"To play a card from your hand, double click on it. If a card is currently playable (it is the right time and you can afford it), then it will be highlighted in green. "),p(),g(22,"p"),b(23,"If a card is not playable, it will be highlighted in red."),p()()),2&e){const n=x();C(3),S("card",n.spell),C(7),S("card",n.mine)}}function g2(e,t){if(1&e&&(g(0,"div")(1,"p"),b(2,"Factions"),p(),N(3,"app-gembag",8),g(4,"p"),b(5,"In this game there are 5 factions each with their own gem. The 6th resource, gold, is used by all factions "),p(),g(6,"p"),b(7,"These icons are used to represent costs, current resources and income for the player"),p(),g(8,"p"),b(9,"For now, all cards will have a single faction."),p(),g(10,"p"),b(11,"Here's a little bit about the strengths and weaknesses of each faction:"),p(),N(12,"br")(13,"img",9),g(14,"p"),b(15,"Sun "),p(),g(16,"p"),b(17,"Strengths: Good attack and speed on creatures. Lots of damage."),p(),g(18,"p"),b(19,"Weaknesses: low HP creatures, good at destroying other's walls, bad at maintaining theirs"),p(),N(20,"br")(21,"img",10),g(22,"p"),b(23,"Ocean"),p(),g(24,"p"),b(25,"Strengths: Good healing and card draw, high HP creatures"),p(),g(26,"p"),b(27,"Weaknesses: Poor offensive creatures, lack of removal"),p(),N(28,"br")(29,"img",11),g(30,"p"),b(31,"Sky"),p(),g(32,"p"),b(33,"Strengths: Lots of flying, speedy, and dodging, good card draw"),p(),g(34,"p"),b(35,"Weaknesses: Low Hp creatures, low attack/hp creatures"),p(),N(36,"br")(37,"img",12),g(38,"p"),b(39,"Earth"),p(),g(40,"p"),b(41,"Strengths: High HP and Attack Creatures, good at getting gems"),p(),g(42,"p"),b(43,"Weaknesses: Low speed Creatures, no card draw"),p(),N(44,"br")(45,"img",13),g(46,"p"),b(47,"Moon and Stars"),p(),g(48,"p"),b(49,"Strengths: Kill enemy creatures, revive your own. Speedy creatures, Healing -however, not as good as Ocean "),p(),g(50,"p"),b(51,"Weaknesses: Creatures that start with low stats and buff up over time, no card draw "),p()()),2&e){const n=x();C(3),S("bag",n.gembag)("imgWidth",48)}}function m2(e,t){if(1&e&&(g(0,"div")(1,"p"),b(2,"Creature Stats"),p(),N(3,"app-card",6),g(4,"p"),b(5,"Each Creature has 3 stats:"),p(),N(6,"img",14),g(7,"p"),b(8," Attack - this determines how much damage the creature deals"),p(),N(9,"br")(10,"img",15),g(11,"p"),b(12,"HP - this determines how much damage a creature can take before dying"),p(),N(13,"br")(14,"img",16),g(15,"p"),b(16,"Speed - when fighting another creature this determines who goes first. In case of a tie, creaute deal damage simultaneously"),p(),N(17,"br"),g(18,"p"),b(19,"Any changes to stats are permanent, whether through spells or combat. Certain abilities can heal creatures, however."),p()()),2&e){const n=x();C(3),S("card",n.creature)}}function y2(e,t){if(1&e&&(g(0,"div")(1,"h2"),b(2,"Card Types"),p(),g(3,"div",17),N(4,"app-card",6)(5,"app-card",6)(6,"app-card",6),p(),g(7,"p"),b(8,"In this demo there are 3 card types: "),p(),g(9,"ul")(10,"li"),b(11,"Creatures - attacks, blocks, and has various abilities"),p(),g(12,"li"),b(13,"Spells - does a one use effect"),p(),g(14,"li"),b(15,"Mines - produces resources"),p()(),g(16,"p"),b(17,"More types are planned as the game is built out!"),p()()),2&e){const n=x();C(4),S("card",n.creature),C(1),S("card",n.spell),C(1),S("card",n.mine)}}function v2(e,t){1&e&&(g(0,"div")(1,"h2"),b(2,"Horde Phases"),p(),g(3,"p"),b(4,"Each Turn consists of several phases."),p(),g(5,"p"),b(6,"These phases different between the horde and the player. The horde's turns are automatic. Let's look at the horde first:"),p(),N(7,"br"),g(8,"p"),b(9,"Main - the horde draws and plays cards. The horde deck has 2 types of cards: Regular ones and minions"),p(),N(10,"img",18),g(11,"p"),b(12,"When drawing, the horde draws and plays minion cards until it draws and plays a regular card"),p(),N(13,"br"),g(14,"p"),b(15,"Combat - The horde will attack with all of its creatures. All horde creatures may attack right away. Attacking is signifier in 2 ways the card is rotated 90 degrees and the red sword appears over the card. "),p(),N(16,"img",19),g(17,"p"),b(18,"If the player chooses to block an attacker, the blocking creature will have a shield appear over them."),p(),N(19,"img",20),g(20,"p"),b(21,"The player may block horde creatures to prevent damage to themselves."),p(),g(22,"p"),b(23,"Blockers - the player may decide to block the horde's creatures. A blocked creature will not damage a player's wall or HP"),p(),N(24,"br"),g(25,"p"),b(26,"Combat Results - displays how much damage creatures have taken. If a creature becomes faded, it has taken enough damage to die."),p(),N(27,"img",21)(28,"br"),g(29,"p"),b(30,"End - any until end of turn effects wear off here. Some cards will activate here as well."),p(),g(31,"p"),b(32,"Should the horde play a card that requires any kind of decision making, it will choose targets randomly. "),p()())}function _2(e,t){1&e&&(g(0,"div")(1,"h2"),b(2,"Player Phases"),p(),g(3,"p"),b(4,"Now let's get into the player's phases:"),p(),g(5,"p"),b(6,"Main 1 - At the start of this phase you gain your income from your mines and all of your creatures turn upright, ready to attack again. You may play any cards you can afford during this phase. Anything you can play will be highlighted with a green border. Anything you cannot play will be highlighted in red."),p(),N(7,"br"),g(8,"p"),b(9,"Combat - This is more straight forward than the the horde. Pick what creatures you want to attack and they will damage the enemy's wall, and then once that's destroyed, their deck. However, any rotated creature may NOT block, so measure the risk/reward carefully. "),p(),N(10,"br"),g(11,"p"),b(12,"Main 2 - This occurs only when you attacked. No income, but you may play cards following the same rules as the previous main phase. When you are done with this phase, it swaps to the enemy's turn"),p()())}let _D=(()=>{class e{constructor(){this.step=0,this.cardService={},this.gembag=new I(1,1,1,1,1,1),this.tutorialDone=new ue,this.cardFa=new zr(this.cardService),this.dmgEffect=new Xi(4,this.cardService,z.Single,v.Opponent,!1,!0),this.targeted=new Cn([O.Creature,O.Player],v.Opponent,[y.play],1,[this.dmgEffect],this.cardService),this.spell=new Be("Fire Blast",new I(1,1),"","Deal 4 damage to any opponent or opponent's creature",[this.targeted],!0,v.Self,y.any,w.Sun),this.mine=this.cardFa.generateBasicMine(R.LionEye),this.creature=new L(2,2,2,"Goblin",new I(1,1),"","",!1,v.Self,y.any,w.Sun)}nextStep(){this.step++}prevStep(){this.step--,this.step<0&&(this.step=0)}done(){this.tutorialDone.emit()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-tutorial"]],inputs:{cardService:"cardService"},outputs:{tutorialDone:"tutorialDone"},decls:14,vars:9,consts:[[1,"mapColors","centerElement","mainMargins","tutorialHeight","blackFont"],[2,"float","right","margin","15px",3,"click"],[3,"click",4,"ngIf"],[4,"ngIf"],[3,"click"],["src","assets/LifeTotals.png"],[3,"card"],["src","assets/Income.png"],[3,"bag","imgWidth"],["width","64px","src","assets/Ruby.png"],["width","64px","src","assets/Saphire.png"],["width","64px","src","assets/topaz.png"],["width","64px","src","assets/Emerald.png"],["width","64px","src","assets/eye.png"],["height","64px","src","assets/attackSymbol.png"],["height","64px","src","assets/HP Symbol.png"],["height","64px","src","assets/Speed Symbol.png"],[1,"cardRow"],["src","assets/Minions.png"],["src","assets/Attacking.png"],["src","assets/Blocking.png"],["src","assets/Result.png"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"button",1),$("click",function(){return i.done()}),b(2,"X"),p(),g(3,"h2"),b(4,"Tutorial"),p(),F(5,d2,2,0,"button",2),F(6,f2,2,0,"button",2),F(7,h2,13,0,"div",3),F(8,p2,24,2,"div",3),F(9,g2,52,2,"div",3),F(10,m2,20,1,"div",3),F(11,y2,18,3,"div",3),F(12,v2,33,0,"div",3),F(13,_2,13,0,"div",3),p()),2&r&&(C(5),S("ngIf",i.step<6),C(1),S("ngIf",i.step>0),C(1),S("ngIf",0===i.step),C(1),S("ngIf",1===i.step),C(1),S("ngIf",2===i.step),C(1),S("ngIf",3===i.step),C(1),S("ngIf",4===i.step),C(1),S("ngIf",5===i.step),C(1),S("ngIf",6===i.step))},dependencies:[ft,Dr,Es],styles:[".centerText[_ngcontent-%COMP%]{text-align:center}.alignCard[_ngcontent-%COMP%]{margin-left:50%}.windowDimensions[_ngcontent-%COMP%]{width:80%;height:90%;padding:10px}p[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], .margin[_ngcontent-%COMP%]{margin-left:15px}.tutorialHeight[_ngcontent-%COMP%]{height:80%}"]})}return e})();const C2=function(e,t){return{"top.px":e,"left.px":t}};function w2(e,t){if(1&e&&(g(0,"div",2)(1,"p",3),b(2),p(),g(3,"p"),b(4),p()()),2&e){const n=x();S("ngStyle",gc(3,C2,n.popupY,n.popupX)),C(2),hn(n.relic.name),C(2),hn(n.relic.description)}}let CD=(()=>{class e{constructor(){this.relic={},this.prefix="assets",this.popupVisible=!1,this.popupX=100,this.popupY=100}getImageSrc(){return"assets/"+this.relic.image}showPopup(n){this.popupVisible=!0,this.updatePopupPosition(n)}movePopup(n){this.updatePopupPosition(n)}hidePopup(){this.popupVisible=!1}updatePopupPosition(n){this.popupX=n.clientX+10,this.popupY=n.clientY+10}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-relic"]],inputs:{relic:"relic"},decls:2,vars:2,consts:[["width","64px","height","64px","alt","Your Image",1,"relic",3,"src","mouseover","mousemove","mouseout"],["class","popUp","class","popup",3,"ngStyle",4,"ngIf"],[1,"popup",3,"ngStyle"],[1,"relicHeader"]],template:function(r,i){1&r&&(g(0,"img",0),$("mouseover",function(s){return i.showPopup(s)})("mousemove",function(s){return i.movePopup(s)})("mouseout",function(){return i.hidePopup()}),p(),F(1,w2,5,6,"div",1)),2&r&&(un("src",i.getImageSrc(),Kt),C(1),S("ngIf",i.popupVisible))},dependencies:[ft,Gr],styles:[".relicHeader[_ngcontent-%COMP%]{color:#f3e712}"]})}return e})();function D2(e,t){1&e&&N(0,"app-relic",8),2&e&&S("relic",x().$implicit)}function b2(e,t){if(1&e&&(g(0,"div"),F(1,D2,1,1,"app-relic",7),p()),2&e){const n=t.$implicit;C(1),S("ngIf",void 0!==n)}}function S2(e,t){if(1&e&&(g(0,"div")(1,"p",9),b(2),p()()),2&e){const n=x();C(2),hn(n.cardService.difficultyMods)}}function E2(e,t){if(1&e){const n=ye();g(0,"div",10)(1,"button",11),$("click",function(){return se(n),ae(x().toggleShowDeck())}),b(2,"X"),p(),N(3,"app-deck-viewer",12),p()}if(2&e){const n=x();C(3),S("deck",n.deck)}}function M2(e,t){if(1&e){const n=ye();g(0,"div",10)(1,"button",11),$("click",function(){return se(n),ae(x().toggleDisplayHelp())}),b(2,"X"),p(),N(3,"app-tutorial"),p()}}let I2=(()=>{class e{constructor(){this.showDeck=!1,this.displayHelp=!1,this.deck=[],this.relics=[],this.cardService={}}toggleShowDeck(){this.showDeck=!this.showDeck,this.displayHelp=!1}toggleDisplayHelp(){this.displayHelp=!this.displayHelp,this.showDeck=!1}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-header"]],inputs:{deck:"deck",relics:"relics",cardService:"cardService"},decls:13,vars:4,consts:[[1,"wrapper"],["id","MenuButtons"],[3,"click"],["id","Header"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","paneBg whiteFont popUp scrollBar",4,"ngIf"],[3,"relic",4,"ngIf"],[3,"relic"],[1,"whiteFont"],[1,"paneBg","whiteFont","popUp","scrollBar"],[1,"xButton",3,"click"],[1,"popUp",3,"deck"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"div",1)(2,"button",2),$("click",function(){return i.toggleShowDeck()}),g(3,"p"),b(4,"Show your Deck"),p()(),g(5,"button",2),$("click",function(){return i.toggleDisplayHelp()}),g(6,"p"),b(7,"How to play"),p()()(),g(8,"div",3),F(9,b2,2,1,"div",4),p(),F(10,S2,3,1,"div",5),F(11,E2,4,1,"div",6),F(12,M2,4,0,"div",6),p()),2&r&&(C(9),S("ngForOf",i.relics),C(1),S("ngIf",""!==i.cardService.difficultyMods),C(1),S("ngIf",i.showDeck),C(1),S("ngIf",i.displayHelp))},dependencies:[yn,ft,vD,_D,CD],styles:["#HowToPlay[_ngcontent-%COMP%]{position:fixed;left:auto;right:auto;width:80%;top:50px}.popUp[_ngcontent-%COMP%]{position:fixed;top:50px;z-index:999;scroll-behavior:auto;left:12%;right:12%;height:90%;width:80%}h3[_ngcontent-%COMP%]{margin-top:15px;font-size:30px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.scrollBar[_ngcontent-%COMP%]{overflow-y:auto}.xButton[_ngcontent-%COMP%]{position:absolute;z-index:1000;top:5px;right:5px}#Header[_ngcontent-%COMP%]{display:flex;min-height:64px}#MenuButtons[_ngcontent-%COMP%]{float:right}.wrapper[_ngcontent-%COMP%]{background-color:#0c0303}"]})}return e})();class sh{constructor(t){this.cardAmount=2,this.colorCardAmount=2,this.mineAmount=4,this.goldMineAmount=3,this.cardService=t,this.cardFactory=new zr(t)}addMinesToStarterDeck(t,n){this.cardFactory.getMinesBulk(n,5),this.cardFactory.getMinesBulk(R.Gold,4)}getAllFireCards(t){let n=this.fireDeck().filter(B=>B.type!==O.Mine),r=new L(5,5,2,"Troll Warrior",new I(0,3),"","Regenerate, set HP to full at the end of your turn",!1,t,y.deck,w.Sun,[],[P.Regenerate]),i=new Ki(R.Ruby,2,this.cardService),o=new je([i],[G.Dies],this.cardService,t),s=new L(1,3,3,"Fire Gem Miner",new I(1,1),"","When this dies, add 2 Rubies to your gembag",!1,t,y.deck,w.Sun,[o]),a=new L(5,10,7,"T-Rex",new I(5,2),"","Siege, deals double damage to walls",!1,t,y.deck,w.Sun,[],[P.Siege]),c=new L(3,4,4,"Sun Knight",new I(2,1),"","Sentry - does not turn to attack. Sharpen - gains 1 attack at the start of each of your turns",!1,t,y.deck,w.Sun,[],[P.Sentry,P.Sharpen]),l=new Xi(7,this.cardService,z.All,t,!1,!1,!0),u=new Re([l],this.cardService),d=new Be("Wild Inferno",new I(5,2),"","Deal 7 damage to all enemy creatures",[u],!0,v.Self,y.deck,w.Sun),f=new ir("Big Ruby Mine",new I(3),new I(0,2),"","",t,y.deck,w.Colorless,[],Ee.Uncommon),h=new Xi(2,this.cardService,z.All,t,!1,!0,!1),m=new Re([h],this.cardService),_=new Be("Fire Storm",new I(3,1),"","Deal 2 damage to all enemy creatures",[m],!0,v.Self,y.deck,w.Sun);n.push(r,s,a,c,d,f,_);let E=new Gt("",0,1,0,this.cardService,v.Self,z.Single),M=new je([E],[G.CreatureCast],this.cardService,v.Self,[y.play]),D=new L(1,1,5,"Arsonist",new I(0,1),"","When you play a creature, that creature gets +1/+0/+0",!1,t,y.deck,w.Sun,[M]);return n.push(D),n}getAllEarthCards(t){let n=new Gt("",0,5,3,this.cardService,t,z.All),r=new Re([n],this.cardService),i=new Be("Dig In",new I(2,0,0,0,2),"","All your creatures gain +3/+5/+0",[r],!1,t,y.deck,w.Earth),o=this.earthDeck().filter(Xr=>Xr.type!==O.Mine),s=new L(15,15,2,"Stone Tyrant",new I(5,0,0,3),"","Repair 5 - at the start of each of your turns, your wall gains 5 hp.",!1,t,y.deck,w.Earth,[],[P.Repair],!1,Ee.Rare);s.repairAmount=5;let a=new dD("",this.cardService,R.Emerald),c=new _n("",this.cardService,z.Single,t),l=new je([c,a],[G.Start],this.cardService,v.Self,[y.play]),u=new L(3,3,3,"Miner Major",new I(3,0,0,2),"","At the start of each turn, add a mine and draw a card",!1,t,y.deck,w.Earth,[l],[],!1,Ee.SuperRare),d=new L(15,0,0,"Stone Barricade",new I(2,0,0,2),"","",!1,v.Self,y.deck,w.Earth),f=new L(8,4,2,"Flex Tank",new I(0,0,0,4),"","Siege, Armorer, Engineer 4",!1,v.Self,y.deck,w.Earth,[],[P.Siege,P.Armorer,P.Engineer]);f.repairAmount=4;let h=new L(6,6,5,"Hammer Squad",new I(3,0,0,1),"","Siege",!1,v.Self,y.deck,w.Earth,[],[P.Siege]),m=new Gt("",0,2,0,this.cardService,v.Self,z.All),_=new Ot([m],this.cardService),E=new L(9,6,4,"Master Armorer",new I(5,0,0,2),"","Armorer, all your creatures get +0/+2/+0",!1,v.Self,y.deck,w.Earth,[_]),M=new L(3,3,3,"Dwarf Soldier",new I(1,0,0,1),"","",!1,v.Self,y.deck,w.Earth),D=new ir("Big Emerald Mine",new I(2),new I(0,0,0,2),"","",t,y.deck,w.Colorless,[],Ee.Uncommon),B=new Gt("",1,1,1,this.cardService,t,z.Single),U=new je([B],[G.Enters],this.cardService,t,[y.play]),ie=new L(3,1,1,"Mine Chief",new I(2,0,0,1),"","Gets +1/+1/+1 when you play a mine",!1,t,y.hand,w.Earth,[U],[],!1,Ee.Rare),Ge=new Ki(R.Emerald,1,this.cardService),zt=new or(this.cardService,[new Ji(Je.Asleep,1)],[Ge]),Bn=new L(3,1,1,"Emerald Miner",new I(0,0,0,1),"","Turn: Add an Emerald to your gembag",!1,t,y.deck,w.Earth,[zt]);return o.push(u,s,d,f,h,E,M,D,ie,i,Bn),o}getAllAirCards(t){let n=[],r=new Ds("",this.cardService,z.All,[y.play],t,[P.Flying,P.Sentry]),i=new Gt("",2,0,2,this.cardService,t,z.All),o=new Re([r,i],this.cardService),s=new Be("Divine Wind",new I(3,0,0,0,2),"","All your creatures gain flying, sentry, and +2/+0/+2",[o],!1,t,y.deck,w.Sky),a=new L(3,5,5,"Air Elemental",new I(3,0,0,0,0,1),"","Flying",!1,t,y.deck,w.Sky,[],[P.Flying]),c=new L(4,2,4,"Sky Knight",new I(1,0,0,0,0,1),"","",!1,t,y.deck,w.Sky),l=new L(1,1,1,"Bee Swarm",new I(0,0,0,0,0,3),"","Flying - Ignores enemy walls, deals damage directly to the opponent. At the start of each of your turns, this gains +1/+1/+1",!1,t,y.deck,w.Sky,[],[P.Armorer,P.Momentum,P.Sharpen,P.Flying,P.Sentry]),u=new L(2,2,2,"Chaotic Clone",new I(4,0,0,0,0,1),"","At the start of each of your turns, make a 1/1/1 copy of this creature",!1,t,y.deck,w.Sky),d=new th(t,this.cardService,u),f=new je([d],[G.Start],this.cardService,t,[y.play]),h=new L(2,2,2,"Chaotic Clone",new I(4,0,0,0,0,1),"","At the start of each of your turns, make a 1/1/1 copy of this creature",!1,t,y.deck,w.Sky,[f]);u.abilities.push(f);let m=new ir("Big Topaz Mine",new I(3),new I(0,0,0,0,0,2),"","",t,y.deck,w.Colorless,[],Ee.Uncommon),_=new _n("",this.cardService,z.Single,t,1),E=new Gt("",0,1,1,this.cardService,v.Any,z.Single),M=new je([E],[G.DrawCard],this.cardService,t,[y.play]),D=new or(this.cardService,[new Ji(Je.Asleep,1)],[_]),B=new L(2,2,2,"Air Scout",new I(2,0,0,0,1),"","Turn: Draw a card. Whenever you draw a card this creature gets +1/+0/+1",!1,t,y.deck,w.Sky,[M,D],[P.Flying],!1,Ee.Rare);return n.push(...this.airDeck(t),c,l,h,m,s,a,B),n}getAllWaterCards(t){let n=[];n.push(...this.waterDeck());let r=new L(3,1,1,"Sea Snail",new I(0,0,1),"","",!1,t,y.deck,w.Neptune),i=new _n("",this.cardService,z.Single,v.Self,1),o=new je([i],[G.MineCase],this.cardService,t,[y.play]),s=new L(3,2,3,"Otter Diver",new I(3,0,1),"","Whenever you play a mine, draw a card",!1,t,y.deck,w.Neptune,[o]),a=new ir("Big Sapphire Mine",new I(3),new I(0,0,0,0,0,2),"","",t,y.deck,w.Colorless,[],Ee.Uncommon),c=new Gt("",0,0,-5,this.cardService,v.Any,z.All),l=new Re([c],this.cardService),u=new Be("Mass Freeze",new I(3,0,1),"","All enemy creatures gets -5/-0/-0",[l],!0,t,y.deck,w.Neptune);return n.push(r,s,a,u),n}getAllStarCards(t){let r,n=[];r=t===v.Self?v.Opponent:v.Self;let i=new bs("",this.cardService,1,t),o=new je([i],[G.CreatureCast,G.Start],this.cardService,t,[y.play]),s=new L(1,1,1,"Life Magician",new I(0,0,0,0,1),"","At the start of your turn, gain 1 life. Whenever you play a creature, gain 1 life",!1,t,y.deck,w.MoonAndStars,[o]),a=new bs("",this.cardService,3,t),c=new _n("",this.cardService,z.Single,t,3),l=new Re([a,c],this.cardService),u=new Be("Divine Eyes",new I(3,0,0,0,1),"","Draw 3 cards, gain 3 life",[l],!1,t,y.deck,w.MoonAndStars),d=new Gt("",1,1,1,this.cardService,v.Any,z.Single),f=new je([d],[G.Dies],this.cardService,v.Any,[y.play]),h=new L(2,2,2,"Walker of Voids",new I(1,0,0,0,2),"","Whenever a creature dies, this creature gets +1/+1/+1 permanently",!1,t,y.deck,w.MoonAndStars,[f]),m=new sF(this.cardService,t,z.Single,y.hand),_=new je([m],[G.Dies],this.cardService,t,[y.discard]),E=new L(6,8,5,"Dead Diety",new I(3,0,0,0,3),"","Sentry - this creature does not turn to attack. If this is in the discard pile, return it to your hand whenever a creature dies",!1,t,y.hand,w.MoonAndStars,[_],[P.Sentry]),M=new Ki(R.Gold,1,this.cardService),D=new je([M],[G.Dies],this.cardService,v.Any,[y.play]),B=new ih("House of the Dead",new I(2,0,0,0,2),"","Whenever a creature dies gain 1 gold",t,y.hand,w.Colorless,[D]),U=new ir("Big LionsEye Mine",new I(3),new I(0,0,0,0,2,0),"","",t,y.deck,w.Colorless,[],Ee.Uncommon);return n.push(...this.starDeck(t),s,u,h,E,B,U),n}fireDeck(){let t=[],n=0;for(;n<this.colorCardAmount;){let r=new L(5,5,4,"Great Dragon",new I(2,2),"","Flying, Sharpen",!1,v.Opponent,y.deck,w.Sun,[],[P.Sharpen,P.Flying]),i=new Xi(3,this.cardService,z.Single,v.Opponent,!1,!0,!1),o=new Re([i],this.cardService),s=new L(1,3,3,"Blast Boy",new I(1,1),"","When played, deal 3 damage to the enemy player",!1,v.Self,y.deck,w.Sun,[o]),a=new Xi(3,this.cardService,z.Single,v.Opponent,!1,!0,!0),c=new Cn([O.Creature],v.Any,[y.play],1,[a],this.cardService),l=new Be("Fire Bolt",new I(0,1),"","3 damage to target creature",[c],!0,v.Self,y.deck,w.Sun),u=new L(1,3,5,"Fire Raptor",new I(1,1),"","Fast",!0,v.Self,y.deck,w.Sun),d=new Gt("",3,0,3,this.cardService,v.Self,z.Single),f=new cF("",this.cardService,v.Self,z.Single),h=new lF("",[d,f],this.cardService,f.targeting),m=new Cn([O.Creature],v.Self,[y.play],1,[h],this.cardService),_=new Be("Haste",new I(0,2),"","Target creature gets +3/+0/+3 and may attack the turn it came into play",[m],!0,v.Self,y.deck,w.Sun),E=new L(3,6,6,"Fire Elemental",new I(5,1),"","Gains +1/+0/+1 at the start of each of your turns",!1,v.Self,y.deck,w.Sun,[],[P.Momentum,P.Sharpen]);t.push(r,s,l,u,_,E),n++}return t.push(...this.cardFactory.getMinesBulk(R.Ruby,this.mineAmount)),t.push(...this.cardFactory.getMinesBulk(R.Gold,this.goldMineAmount)),t}earthDeck(){let t=0,n=[];for(;t<this.colorCardAmount;){let r=new Gt("Reduce HP and Speed",-3,-3,0,this.cardService,v.Any,z.Single),i=new Cn([O.Creature],v.Any,[y.play],1,[r],this.cardService),o=new Be("Slow",new I(1,0,0,1),"","Target creature gets -0/-3/-3",[i],!0,v.Self,y.deck,w.Earth),s=new Ki(R.Emerald,2,this.cardService),a=new Re([s],this.cardService),c=new L(3,4,3,"Verdant Warrior",new I(2,0,0,1),"","Adds 2 Emeralds on enter",!1,v.Self,y.deck,w.Earth,[a]),l=new L(2,2,1,"Dwarf Engineer",new I(0,0,0,1),"assets//engineer.png","Repair 3 - Repairs owners wall each turn by 3 hp",!1,v.Self,y.deck,w.Earth,[],[P.Repair]);l.repairAmount=3;let u=new L(6,6,3,"Battle Dwarf",new I(2,0,0,2,0,0),"assets//dwarf.png","",!1,v.Self,y.deck,w.Earth,[]),d=new L(9,8,5,"Stone Golem",new I(3,0,0,3),"","Regenerate - heals at the end of your turn",!1,v.Self,y.deck,w.Earth,[],[P.Regenerate,P.Siege]);n.push(o,c,l,u,d),t++}return n.push(...this.cardFactory.getMinesBulk(R.Emerald,this.mineAmount)),n.push(...this.cardFactory.getMinesBulk(R.Gold,this.goldMineAmount)),n}airDeck(t){let n=0,r=[];for(;n<this.colorCardAmount;){let i=new _n("",this.cardService,z.Single,t,1),o=new Re([i],this.cardService),s=new L(1,2,2,"Loyal Hawk",new I(1,0,0,0,0,1),"","Flying. On Enter, Draw a card",!1,t,y.deck,w.Sky,[o],[P.Flying]),a=new L(2,2,1,"Agile Monk",new I(0,0,0,0,0,1),"","Dodge 2:if this creature would take damage instead remove a dodge counter.",!1,t,y.deck,w.Sky,[],[P.Dodge]);a.dodgeAmount=2;let c=new _n("",this.cardService,z.Single,v.Opponent,2),l=new Re([c],this.cardService),u=new Be("Scout",new I(0,0,0,0,0,2),"","Draw 2 cards",[l],!1,t,y.deck,w.Sky),d=new L(5,5,5,"Great Bird Monk",new I(3,0,0,0,0,2),"","Dodge 2, Flying",!1,t,y.deck,w.Sky,[],[P.Dodge,P.Flying]);d.dodgeAmount=2;let f=new L(2,3,3,"Sky Knight",new I(1,0,0,0,0,1),"","",!1,t,y.deck,w.Sky,[],[P.Flying]),h=new L(2,4,4,"Wind Dancer",new I(2,0,0,0,0,1),"","Momentum - gains +0/+0/+1 each turn",!1,t,y.deck,w.Sky,[],[P.Momentum]);r.push(s,a,u,d,f,h),n++}return r.push(...this.cardFactory.getMinesBulk(R.Topaz,this.mineAmount)),r.push(...this.cardFactory.getMinesBulk(R.Gold,this.goldMineAmount)),r}waterDeck(){let t=0,n=[];for(;t<this.colorCardAmount;){let r=new Gt("",0,0,-5,this.cardService,v.Any,z.Single),i=new Cn([O.Creature],v.Any,[y.play],1,[r],this.cardService),o=new Be("Freeze",new I(0,0,1),"","Target creature gets -5/-0/-0",[i],!0,v.Self,y.deck,w.Neptune),s=new _n("",this.cardService,z.Single,v.Self,1),a=new je([s],[G.Start],this.cardService,v.Self),c=new L(15,0,3,"Ice Rune Wall",new I(2,0,1),"","Draw a card at the start of each of your turns",!1,v.Self,y.deck,w.Neptune,[a]),l=new aF("",this.cardService,v.Self,z.All),u=new Re([l],this.cardService),d=new L(4,3,2,"Aqua Healer",new I(1,0,1),"","On enter, heal all of your creatures, fast - may be played at any time",!0,v.Self,y.deck,w.Neptune,[u]),f=new L(6,6,6,"King Serpent",new I(4,0,2),"","Regnerate - heal the end of your turn",!1,v.Self,y.deck,w.Neptune,[],[P.Regenerate]),h=new L(3,3,3,"Deep Sea Yeti",new I(1,0,2),"","Siege-double damage to walls",!1,v.Self,y.deck,w.Neptune,[],[P.Dodge,P.Siege]);h.dodgeAmount=1;let m=new dD("",this.cardService,R.Sapphire),_=new Re([m],this.cardService),E=new L(3,2,2,"Fish Man",new I(1,0,1),"","On enter, add a Sapphire mine",!1,v.Self,y.deck,w.Neptune,[_]);n.push(o,c,d,f,h,E),t++}return n.push(...this.cardFactory.getMinesBulk(R.Sapphire,this.mineAmount)),n.push(...this.cardFactory.getMinesBulk(R.Gold,this.goldMineAmount)),n}starDeck(t){void 0===t&&(t=v.Self);let n=0,r=[];for(;n<this.colorCardAmount;){let i=new lD(this.cardService,v.Opponent,z.Single,[O.Creature]),o=new Cn([O.Creature],v.Opponent,[y.play],1,[i],this.cardService),s=new Be("Death Beam",new I(1,0,0,0,1,0),"","Kill Target Creature an opponent controls",[o],!1,v.Self,y.deck,w.MoonAndStars),a=new lD(this.cardService,v.Any,z.All,[O.Creature]),c=new Re([a],this.cardService),l=new Be("Wrath of the Stars",new I(3,0,0,0,2),"","Destroy all creatures",[c],!1,v.Self,y.deck,w.MoonAndStars),u=new L(1,1,3,"Wolf of the Stars",new I(0,0,0,0,1),"","Gain +1/+1/+0 each turn",!1,v.Self,y.deck,w.MoonAndStars,[],[P.Armorer,P.Sharpen]),d=new L(4,4,0,"Moon Healer",new I(2,0,0,0,1),"","Medic - Heal all other units you control at the start of your turn.",!1,v.Self,y.deck,w.MoonAndStars,[],[P.Medic]),f=new L(3,2,4,"Comet Trooper",new I(0,0,0,0,2),"","",!1,v.Self,y.deck,w.MoonAndStars,[],[P.Flying]),h=new L(2,2,4,"Time Sprite",new I(1,0,0,0,1),"","Flying. Gain +1/+1/+1 at the start of your turn.",!1,v.Self,y.any,w.MoonAndStars,[],[P.Armorer,P.Sharpen,P.Momentum,P.Flying],!0),m=new th(t,this.cardService,h,3),_=new Ds("",this.cardService,z.All,[y.play],v.Self,[P.Armorer,P.Sharpen,P.Momentum]),E=new Re([m,_],this.cardService),M=new Be("Summon Star Squad",new I(1,0,0,0,4),"","Summon 3 2/2/4 sprites. All creatures you control gain +1/+1/+1 at the start of each of your turns.",[E],!1,v.Self,y.deck,w.MoonAndStars);r.push(s,u,d,f,M,l),n++}return r.push(...this.cardFactory.getMinesBulk(R.LionEye,this.mineAmount)),r.push(...this.cardFactory.getMinesBulk(R.Gold,this.goldMineAmount)),r}getAllNeutralCards(t){let n=[],r=new bs("",this.cardService,1,t),i=new Ji(Je.Asleep,1),o=new Ji(Je.Gems,1,R.Gold),s=new or(this.cardService,[i,o],[r]);return new L(1,3,3,"Wandering Priest",new I(2,0,0,0,0),"","Pay 1 gold and turn to gain 1 life",!1,t,y.deck,w.Colorless,[s]),n.push(...this.neutralCards(t)),n}getRandomCards(t,n){let r=[];for(let i=0;i<n;i++){let o=Pe(0,t.length);r.push(t[o])}return r}getRandomNeutralCards(t){let n=this.getAllNeutralCards(t),r=new _n("",this.cardService,z.Single,t,3),i=new Re([r],this.cardService),o=new Be("Find Loot",new I(3),"","Draw 3 cards",[i],!1,t,y.deck,w.Colorless),s=this.getRandomCards(n,2);console.log(s);let a=[];return a.push(o,...s),a}neutralCards(t){let n=[],r=0;for(;r<this.cardAmount;){let i=new Xi(2,this.cardService,z.Single,v.Any),o=new Cn([O.Creature],v.Any,[y.play],1,[i],this.cardService),s=new Be("Arrow Volley",new I(0,0,0,0,0,0),"","Deal 1 damage per tower building level to target creature",[o],!1,t,y.deck,w.Colorless),a=new uD("",this.cardService,s,y.hand,t),c=new je([a],[G.Start],this.cardService),l=new ih("Arrow Tower",new I(3),"","At the start of each of your turns, gain a free spell that deals damage equal to this buildings level.",t,y.deck,w.Colorless,[c]),u=new _n("",this.cardService,z.Single,t,2),d=new Re([u],this.cardService),f=new Be("Find Loot",new I(3),"","Draw 2 cards",[d],!1,t,y.deck,w.Colorless),h=new L(4,3,2,"Pikeman",new I(2),"assets//pikeman.png","Sentry - does not turn to attack",!1,t,y.deck,w.Colorless,[],[P.Sentry]),m=new L(7,7,1,"Ironclad Mercenary",new I(4),"assets//Ironclad.png","",!1,t,y.deck,w.Colorless),_=new L(2,2,2,"Squire",new I(1),"","",!1,t,y.deck,w.Colorless),E=new Re([new Ki(R.Gold,2,this.cardService)],this.cardService),M=new ir("Big Mine",new I(4),new I(2),"","Gain 2 gold on enter",t,y.deck,w.Colorless,[E],Ee.Uncommon),D=new bs("",this.cardService,1,t),B=new Ji(Je.Asleep,1),U=new Ji(Je.Gems,1,R.Gold),ie=new or(this.cardService,[B,U],[D]),Ge=new L(3,1,3,"Wandering Priest",new I(2,0,0,0,0),"","Pay 1 gold and turn to gain 1 life",!1,t,y.deck,w.Colorless,[ie]);ie.user=Ge,n.push(f,h,m,_,l,M,Ge),r++}return n}getEnemyDeck(t,n,r){void 0===r&&(r=R.Gold);let i=[];switch(void 0===n&&(n=0),r){case R.Gold:i.push(...this.neutralCards(v.Opponent));break;case R.Emerald:i.push(...this.earthDeck());break;case R.Ruby:i.push(...this.fireDeck());break;case R.LionEye:i.push(...this.starDeck());break;case R.Sapphire:i.push(...this.waterDeck());break;case R.Topaz:i.push(...this.airDeck(v.Opponent))}let o=1;for(;o<1.5*(t+1);){let u=this.cardFactory.generateAiBasicMinion(r,o,y.deck),d=this.cardFactory.generateAiMinion(r,o+1,y.deck);i.push(u,d),o++}for(let u=0;u<i.length;u++)i[u].owner=v.Opponent;let s=["Slow","Ice Rune Wall","Freeze"];i=i.filter(u=>!s.includes(u.name)),i=i.filter(u=>u.type!==O.Mine),i=i.filter(u=>u.type!==O.Building);let a=new _n("",this.cardService,z.Single,v.Opponent,2),c=new Re([a],this.cardService),l=new Be("Find Loot",new I(3),"","Draw 2 cards",[c],!1,v.Opponent,y.deck,w.Colorless);return i.push(l),i}getAllCards(t){let n=[];return n.push(...this.getAllFireCards(t)),n.push(...this.getAllEarthCards(t)),n}getStarterDeck(t,n){let r=[];switch(r.push(...this.getRandomNeutralCards(t)),n){case w.Any:r.push(...this.getAllCards(t));break;case w.Sun:r.push(...this.getAllFireCards(t));break;case w.Earth:r.push(...this.getAllEarthCards(t));break;case w.MoonAndStars:r.push(...this.getAllStarCards(t));break;case w.Neptune:r.push(...this.getAllWaterCards(t));break;case w.Sky:r.push(...this.getAllAirCards(t))}return r}}function A2(e,t){if(1&e){const n=ye();g(0,"button",7),$("click",function(){return se(n),ae(x(2).deckChoosen())}),b(1,"Select this deck"),p()}}function T2(e,t){if(1&e&&(g(0,"div"),F(1,A2,2,0,"button",6),p()),2&e){const n=x();C(1),S("ngIf",n.showDeck())}}let k2=(()=>{class e{constructor(){this.cardService={},this.player={},this.enemy={},this.decks={},this.selectedDeck=[],this.selectDeckEvent=new ue,this.showEarth=!1,this.showFire=!1,this.showAir=!1,this.showMoon=!1,this.showWater=!1,this.blurb="",this.gemBag=new I}ngOnInit(){this.decks=new sh(this.cardService)}swapView(n){switch(this.showAir=!1,this.showEarth=!1,this.showFire=!1,this.showWater=!1,this.showMoon=!1,n){case"air":this.showAir=!0,this.cardService.selectedFaction=w.Sky,this.selectedDeck=this.decks.airDeck(v.Self),this.blurb="Air is the faction of wisdom, flexibility, and flight. Air values freedom.";break;case"water":this.showWater=!0,this.cardService.selectedFaction=w.Neptune,this.selectedDeck=this.decks.waterDeck(),this.blurb="Water is the faction of logic, knowledge, and change. Water values truth.";break;case"fire":this.showFire=!0,this.cardService.selectedFaction=w.Sun,this.selectedDeck=this.decks.fireDeck(),this.blurb="Fire is the faction of offense, impulse, and emotion. Fire values passion.";break;case"moon":this.showMoon=!0,this.cardService.selectedFaction=w.MoonAndStars,this.selectedDeck=this.decks.starDeck(),this.blurb="Moon and Stars is the faction of life, death, and the cosmos. They value mystery and paradox.";break;case"earth":this.showEarth=!0,this.cardService.selectedFaction=w.Earth,this.selectedDeck=this.decks.earthDeck(),this.blurb="Earth is the faction of loyalty, hardiness, and mining. Earth values order."}this.selectedDeck.push(...this.decks.getRandomNeutralCards(v.Self))}showDeck(){return this.showFire||this.showAir||this.showEarth||this.showMoon||this.showWater}deckChoosen(){this.selectDeckEvent.emit(this.selectedDeck)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-deck-picker"]],inputs:{cardService:"cardService",player:"player",enemy:"enemy"},outputs:{selectDeckEvent:"selectDeckEvent"},decls:17,vars:8,consts:[[1,"centerText"],[1,"iconRow","centerElement"],[3,"click"],[1,"iconDimensions",3,"src"],[4,"ngIf"],[3,"deck"],["class","centerElement",3,"click",4,"ngIf"],[1,"centerElement",3,"click"]],template:function(r,i){1&r&&(g(0,"h2",0),b(1,"Select which deck you want to play"),p(),g(2,"div",1)(3,"button",2),$("click",function(){return i.swapView("fire")}),N(4,"img",3),p(),g(5,"button",2),$("click",function(){return i.swapView("earth")}),N(6,"img",3),p(),g(7,"button",2),$("click",function(){return i.swapView("moon")}),N(8,"img",3),p(),g(9,"button",2),$("click",function(){return i.swapView("air")}),N(10,"img",3),p(),g(11,"button",2),$("click",function(){return i.swapView("water")}),N(12,"img",3),p()(),F(13,T2,2,1,"div",4),g(14,"p",0),b(15),p(),N(16,"app-deck-viewer",5)),2&r&&(C(4),un("src",i.gemBag.getImage(1),Kt),C(2),un("src",i.gemBag.getImage(2),Kt),C(2),un("src",i.gemBag.getImage(5),Kt),C(2),un("src",i.gemBag.getImage(4),Kt),C(2),un("src",i.gemBag.getImage(3),Kt),C(1),S("ngIf",i.showDeck()),C(2),hn(i.blurb),C(1),S("deck",i.selectedDeck))},dependencies:[ft,vD],styles:[".popUp[_ngcontent-%COMP%]{position:fixed;top:50px;z-index:999999;scroll-behavior:auto;left:7%;right:15%}button[_ngcontent-%COMP%]{margin-bottom:10px}.iconDimensions[_ngcontent-%COMP%]{width:4rem}.iconRow[_ngcontent-%COMP%]{display:flex;justify-content:center}"]})}return e})();var ve=function(e){return e[e.Random=0]="Random",e[e.Event=1]="Event",e[e.Battle=2]="Battle",e[e.Relic=3]="Relic",e[e.Pack=4]="Pack",e[e.Boss=5]="Boss",e}(ve||{});class P2{constructor(t,n){this.nodes=[],this.columnPos=t,this.nodes=n}}class bt{constructor(t,n,r,i,o){this.nextNodes=[],this.rewards=[],this.image="",this.description="",this.nodeType=t,this.difficulty=n,this.nodePos=i,void 0!==o&&(this.rewards=o),this.image=this.getImage(),this.cardService=r,this.decks=new sh(this.cardService),this.setDescription()}setDescription(){switch(this.nodeType){case ve.Random:this.description="Random - Anything can happen";break;case ve.Battle:this.description="Battle - Fight a horde, get a reward";break;case ve.Relic:this.description="Relic Chest - Gain a permanent passive buff";break;case ve.Boss:this.description="Boss Battle - A harder fight, bosses gain randomized boosts";break;case ve.Event:this.description="Event - Anything can happen";break;case ve.Pack:this.description="Pack - Choose 1 of 3 cards"}}getImage(){let t="assets/";switch(this.nodeType){case ve.Random||ve.Event:return t+"random.png";case ve.Battle:return t+"battle.png";case ve.Relic:return t+"chest.png";case ve.Boss:return t+"boss.png";case ve.Pack:return t+"pack.png";default:return""}}makeEnemyDeck(){let t=this.cardService.difficulty,n=Math.floor(6*Math.random());this.decks.cardAmount=2;let r=this.decks.getEnemyDeck(t,1,4);this.decks.cardAmount=4;let i=new wD(this.cardService);this.cardService.cardList.push(...r),i.applyDifficultyNormalBoosters(this.difficulty,n)}makeBossDeck(){let t=this.cardService.difficulty,n=new wD(this.cardService),r=Math.floor(6*Math.random()),i=this.decks.getEnemyDeck(t,1,r);this.cardService.cardList.push(...i),n.applyDifficultyBossBoosters(3,r)}Visit(t){switch(this.nodeType){case ve.Random:break;case ve.Battle:this.makeEnemyDeck();break;case ve.Relic:break;case ve.Boss:this.makeBossDeck()}}}class wD{constructor(t){this.enemyDeck=[],this.difficulty=0,this.description="",this.cardService=t}applyDifficultyNormalBoosters(t,n){for(let r=0;r<t;r++)switch(Pe(2,6)){case 2:this.moreSpeed(1),this.description+="All enemy creatures get +1 speed. ";break;case 3:this.moreAttack(1),this.description+="All enemy creatures get +1 attack. ";break;case 4:this.moreHp(1),this.description+="All enemy creatures get +1 HP. ";break;case 5:this.moreMinions(2*this.difficulty,n),this.description+="The enemy deck has more minions. ";break;case 6:this.addBoss(this.difficulty,n),this.description+="The enemy deck has several elite creatures. "}this.cardService.difficultyMods=this.description,console.log(this.cardService.difficultyMods)}applyDifficultyBossBoosters(t,n){for(let r=0;r<t;r++)switch(Pe(1,7)){case 1:this.extraPull(),this.description+="Every turn, the enemy flips over cards a second time. ";break;case 2:this.moreSpeed(2),this.description+="All enemy creatures get +2 speed. ";break;case 3:this.moreAttack(2),this.description+="All enemy creatures get +2 attack. ";break;case 4:this.moreHp(2),this.description+="All enemy creatures get +2 HP. ";break;case 5:this.moreMinions(5,n),this.description+="The enemy deck has 10 more minions. ";break;case 6:this.addBoss(4,n),this.description+="The enemy deck has 4 extra elite creatures. ";break;case 7:this.addRandomKeyword(),this.description+="Enemy creatures all have a random extra keyword. "}this.cardService.difficultyMods=this.description,console.log(this.cardService.difficultyMods)}extraPull(){this.cardService.playerService.opponent.pullsPerTurn++}moreSpeed(t){let n=this.cardService.getCards(y.any,v.Opponent,O.Creature);for(let r=0;r<n.length;r++)n[r].speed+=t}moreAttack(t){let n=this.cardService.getCards(y.any,v.Opponent,O.Creature);for(let r=0;r<n.length;r++)n[r].attack+=t}moreHp(t){let n=this.cardService.getCards(y.any,v.Opponent,O.Creature);for(let r=0;r<n.length;r++){let i=n[r];i.baseHp+=t,i.hp=i.baseHp}}addBoss(t,n){let r=new zr(this.cardService);for(let i=0;i<t;i++){let o=Pe(5,8),s=r.generateAiMinion(n,o,y.deck);s.isMinion=!1,s.name="Elite",s.owner=v.Opponent,this.cardService.cardList.push(s)}}moreMinions(t,n){let r=new zr(this.cardService);for(let i=0;i<t;i++){let o=Pe(1,5),s=r.generateAiBasicMinion(n,o,y.deck);s.owner=v.Opponent,this.cardService.cardList.push(s),o=Pe(1,5);let a=r.generateAiMinion(n,o,y.deck);a.owner=v.Opponent,this.cardService.cardList.push(a)}}addRandomKeyword(){let t=this.cardService.getCards(y.any,v.Opponent,O.Creature);for(let n=0;n<t.length;n++){let r=Pe(0,15),i=t[n];i.keywords.includes(r)||i.keywords.push(r)}}}function O2(e,t){if(1&e&&(g(0,"div",13),b(1),p()),2&e){const n=x().$implicit;C(1),tt(" ",n.description," ")}}const N2=function(e,t){return{nodeImage:e,prevNode:t}};function R2(e,t){if(1&e){const n=ye();g(0,"div",10),$("click",function(){const o=se(n).$implicit,s=x().$implicit,a=x();return ae(s.columnPos===a.cardService.currentPos?a.selectNode(o):null)})("mouseenter",function(){const o=se(n).$implicit;return ae(x(2).showDescription=o.description)})("mouseleave",function(){return se(n),ae(x(2).showDescription="")}),N(1,"img",11),F(2,O2,2,1,"div",12),p()}if(2&e){const n=t.$implicit,r=x().$implicit,i=x();S("ngClass",gc(3,N2,r.columnPos===i.cardService.currentPos,r.columnPos<i.cardService.currentPos)),C(1),S("src",n.image,Kt),C(1),S("ngIf",i.showDescription===n.description)}}function F2(e,t){if(1&e&&(g(0,"div"),F(1,R2,3,6,"div",9),p()),2&e){const n=t.$implicit;C(1),S("ngForOf",n.nodes)}}let L2=(()=>{class e{constructor(){this.player={},this.cardService={},this.enemyDeckEvent=new ue,this.rewardSelectEvent=new ue,this.packSelectEvent=new ue,this.enemyDeck=[],this.currentPos=0,this.nodes=[],this.displayNodes=[],this.showDescription=""}ngOnInit(){this.player.cardService=this.cardService,this.nodes=[new bt(ve.Relic,1,this.cardService,0),new bt(ve.Battle,1,this.cardService,1),new bt(ve.Pack,1,this.cardService,2),new bt(ve.Battle,1,this.cardService,3),new bt(Pe(2,4),1,this.cardService,4),new bt(Pe(2,4),1,this.cardService,4),new bt(Pe(2,4),1,this.cardService,5),new bt(Pe(2,4),1,this.cardService,5),new bt(Pe(2,4),1,this.cardService,6),new bt(Pe(2,4),1,this.cardService,6),new bt(Pe(2,4),1,this.cardService,6),new bt(ve.Battle,1,this.cardService,7),new bt(ve.Relic,1,this.cardService,8),new bt(Pe(1,5),1,this.cardService,9),new bt(ve.Boss,1,this.cardService,10)],this.getDisplayNodes()}getDisplayNodes(){let n=Math.max(...this.nodes.map(r=>r.nodePos),0);for(let r=0;r<=n;r++){let i=this.nodes.filter(o=>o.nodePos===r);this.displayNodes.push(new P2(r,i))}}selectNode(n){n.nodePos===this.cardService.currentPos&&(n.Visit(this.player),this.cardService.currentPos++,n.nodeType===ve.Battle?this.enemyDeckEvent.emit():n.nodeType===ve.Relic?this.rewardSelectEvent.emit():n.nodeType===ve.Boss?this.enemyDeckEvent.emit():n.nodeType===ve.Pack&&this.packSelectEvent.emit())}getFutureNodes(){return this.nodes.filter(r=>r.nodePos>this.player.currentPos)}getCurrentNodes(){return this.nodes.filter(r=>r.nodePos===this.player.currentPos)}getPreviousNodes(){return this.nodes.filter(r=>r.nodePos<this.player.currentPos)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-map"]],inputs:{player:"player",cardService:"cardService",currentPos:"currentPos"},outputs:{enemyDeckEvent:"enemyDeckEvent",rewardSelectEvent:"rewardSelectEvent",packSelectEvent:"packSelectEvent"},decls:27,vars:1,consts:[[1,"mapColors","legend"],["src","assets/battle.png",1,"centerElement"],["src","assets/random.png",1,"centerElement"],["src","assets/chest.png",1,"centerElement"],["src","assets/pack.png",1,"centerElement"],["src","assets/boss.png",1,"centerElement"],[1,"whiteFont","centerText"],[1,"mapColors","cardRow",2,"margin-left","auto","margin-right","auto","width","70%"],[4,"ngFor","ngForOf"],["class","node-container",3,"ngClass","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],[1,"node-container",3,"ngClass","click","mouseenter","mouseleave"],[3,"src"],["class","node-popup",4,"ngIf"],[1,"node-popup"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"h2"),b(2,"Legend"),p(),N(3,"br"),g(4,"p"),b(5,"Battle"),p(),N(6,"img",1)(7,"br"),g(8,"p"),b(9,"Random Event"),p(),N(10,"img",2)(11,"br"),g(12,"p"),b(13,"Relics"),p(),N(14,"img",3)(15,"br"),g(16,"p"),b(17,"Card Pack"),p(),N(18,"img",4)(19,"br"),g(20,"p"),b(21,"Boss Battle"),p(),N(22,"img",5),p(),g(23,"h2",6),b(24,"Select where you want to go on the map"),p(),g(25,"div",7),F(26,F2,2,1,"div",8),p()),2&r&&(C(26),S("ngForOf",i.displayNodes))},dependencies:[_s,yn,ft],styles:[".prevNode[_ngcontent-%COMP%]{opacity:.3}.legend[_ngcontent-%COMP%]{border:solid 5px black;padding:10px;float:right;width:10rem;text-align:center}.nodeImage[_ngcontent-%COMP%]{cursor:pointer;animation:_ngcontent-%COMP%_shrinkGrow 1.5s infinite ease-in-out;transition:transform .3s ease}@keyframes _ngcontent-%COMP%_shrinkGrow{0%{transform:scale(1.4)}50%{transform:scale(1)}to{transform:scale(1.4)}}.column[_ngcontent-%COMP%]{flex-direction:column}.node-container[_ngcontent-%COMP%]{position:relative}.node-popup[_ngcontent-%COMP%]{position:absolute;top:50px;left:50%;transform:translate(-50%);background-color:#fff;border:1px solid #ccc;z-index:10;width:200px;box-shadow:0 4px 8px #0003;font-size:14px;display:none;font-size:.7rem;width:10rem;height:auto;border:white solid 2px;background-image:linear-gradient(to bottom left,rgb(0,0,0),rgb(87,87,87));color:#fff;padding:5px 10px;border-radius:5px;font-family:Verdana,Geneva,Tahoma,sans-serif}.node-container[_ngcontent-%COMP%]:hover   .node-popup[_ngcontent-%COMP%]{display:block}"]})}return e})();function V2(e,t){if(1&e){const n=ye();g(0,"app-relic",6),$("click",function(){const o=se(n).$implicit;return ae(x(2).setRelic(o))}),p()}2&e&&S("relic",t.$implicit)}function B2(e,t){if(1&e&&(g(0,"div"),F(1,V2,1,1,"app-relic",5),p()),2&e){const n=x();C(1),S("ngForOf",n.relics)}}let j2=(()=>{class e{constructor(){this.cardService={},this.faction=0,this.mode=aD.Random,this.rewardTypes=[],this.selectedRelic=new ue,this.proceed=new ue,this.relicManager={},this.cardFactory=new zr(this.cardService),this.rewards=[],this.hideRelics=!1,this.relics=[]}ngOnInit(){console.log(this.cardService),this.relicManager=new nh(this.cardService),this.getRelics()}getRelics(){for(let n=0;n<3;n++){let r=this.relicManager.getRandomRelic();this.relics.includes(r)?n--:this.relics.push(r)}}setRelic(n){this.hideRelics=!0,this.selectedRelic.emit(n)}done(){this.relics=[],this.getRelics(),this.proceed.emit()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-chest"]],inputs:{cardService:"cardService",faction:"faction",mode:"mode",rewardTypes:"rewardTypes"},outputs:{selectedRelic:"selectedRelic",proceed:"proceed"},decls:7,vars:1,consts:[[1,"mainMargins","mapColors","centerElement"],[1,"centerElement","relicBar"],[1,"centerText"],[4,"ngIf"],[1,"centerElement",3,"click"],["class","relic",3,"relic","click",4,"ngFor","ngForOf"],[1,"relic",3,"relic","click"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"div",1)(2,"h2",2),b(3,"Select a new Relic"),p(),F(4,B2,2,1,"div",3),g(5,"button",4),$("click",function(){return i.done()}),b(6,"Proceed"),p()()()),2&r&&(C(4),S("ngIf",!1===i.hideRelics))},dependencies:[yn,ft,CD],styles:[".relic[_ngcontent-%COMP%]{cursor:pointer;margin-left:15px;margin-right:15px}.relicBar[_ngcontent-%COMP%]{width:26%}"]})}return e})();function H2(e,t){if(1&e){const n=ye();g(0,"app-card",6),$("click",function(){const o=se(n).$implicit;return ae(x(2).selectCard(o))}),p()}2&e&&S("card",t.$implicit)}function $2(e,t){if(1&e&&(g(0,"div")(1,"h2",3),b(2,"Select a new card for your deck"),p(),g(3,"div",4),F(4,H2,1,1,"app-card",5),p()()),2&e){const n=x();C(4),S("ngForOf",n.displayCards)}}let U2=(()=>{class e{constructor(){this.cardservice={},this.cardAmount=6,this.faction=w.Any,this.cardSelectedEvent=new ue,this.proceed=new ue,this.showCards=!0,this.deckStorage=new sh(this.cardservice),this.displayCards=[]}ngOnInit(){let n=this.deckStorage.getStarterDeck(v.Self,this.cardservice.selectedFaction);for(let r=0;r<this.cardAmount;r++){let i=Pe(0,n.length),o=n[i];this.displayCards.includes(o)?r--:(this.displayCards.push(o),n.slice(i,1),this.showCards=!0)}}selectCard(n){this.showCards=!1,this.cardservice.cardList.push(n)}done(){this.proceed.emit()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-pack"]],inputs:{cardservice:"cardservice",cardAmount:"cardAmount",faction:"faction"},outputs:{cardSelectedEvent:"cardSelectedEvent",proceed:"proceed"},decls:4,vars:1,consts:[[1,"mapColors"],[4,"ngIf"],[1,"centerElement",3,"click"],[1,"centerText"],["id","PackCenter",1,"selectCard","cardRow"],[3,"card","click",4,"ngFor","ngForOf"],[3,"card","click"]],template:function(r,i){1&r&&(g(0,"div",0),F(1,$2,5,1,"div",1),g(2,"button",2),$("click",function(){return i.done()}),b(3,"Proceed"),p()()),2&r&&(C(1),S("ngIf",i.showCards))},dependencies:[yn,ft,Dr],styles:[".selectCard[_ngcontent-%COMP%]:hover{cursor:pointer}.packHeight[_ngcontent-%COMP%]{min-height:80%}#PackCenter[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:48%}"]})}return e})(),G2=(()=>{class e{constructor(){this.tutorialEvent=new ue,this.newGameEvent=new ue,this.gemBag=new I(0,1,1,1,1,1)}tutorial(){this.tutorialEvent.emit()}newGame(){this.newGameEvent.emit()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-main-menu"]],outputs:{tutorialEvent:"tutorialEvent",newGameEvent:"newGameEvent"},decls:13,vars:2,consts:[[1,"mapColors","centerElement","mainMenuWidth"],[1,"cardRow",2,"justify-content","center"],[3,"bag","imgWidth"],[1,"centerText"],[1,"centerElement","buttonWidth",3,"click"],[1,"centerElement","buttonWidth"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"div",1),N(2,"app-gembag",2),p(),g(3,"h1",3),b(4,"Super Gem Bag Wars"),p(),g(5,"button",4),$("click",function(){return i.newGame()}),b(6,"New Game"),p(),N(7,"br"),g(8,"button",4),$("click",function(){return i.tutorial()}),b(9,"Tutorial"),p(),N(10,"br"),g(11,"button",5),b(12,"Exit"),p()()),2&r&&(C(2),S("bag",i.gemBag)("imgWidth",96))},dependencies:[Es],styles:[".mainMenuWidth[_ngcontent-%COMP%]{width:80%;padding:10% 10px}.buttonWidth[_ngcontent-%COMP%]{width:10%}"]})}return e})();const DD=function(e){return{fadeIn:e}};function z2(e,t){if(1&e&&(g(0,"div",6)(1,"p"),b(2,"Your Turn"),p()()),2&e){const n=x();S("ngClass",pn(1,DD,n.game.phaseManager.showTurnPlayer))}}function W2(e,t){if(1&e&&(g(0,"div",7)(1,"p"),b(2,"Enemy Turn"),p()()),2&e){const n=x();S("ngClass",pn(1,DD,n.game.phaseManager.showTurnEnemy))}}function q2(e,t){if(1&e){const n=ye();g(0,"app-tutorial",11),$("tutorialDone",function(){return se(n),ae(x(2).done())}),p()}}function Z2(e,t){if(1&e){const n=ye();g(0,"div",12)(1,"app-deck-picker",13),$("selectDeckEvent",function(i){return se(n),ae(x(2).setPlayerDeck(i))}),p(),N(2,"br"),p()}if(2&e){const n=x(2);C(1),S("cardService",n.cardService)("enemy",n.enemy)("player",n.player)}}function Y2(e,t){if(1&e&&(g(0,"div",8)(1,"div",8),F(2,q2,1,0,"app-tutorial",9),p(),F(3,Z2,3,3,"div",10),p()),2&e){const n=x();C(2),S("ngIf",n.showTutorial&&!n.showBattle),C(1),S("ngIf",!(n.showBattle||n.showTutorial||n.showPack||n.showMenu))}}function Q2(e,t){if(1&e){const n=ye();g(0,"button",23),$("click",function(){return se(n),ae(x(4).game.phaseManager.passTurn())}),b(1,"Pass Turn"),p()}}function K2(e,t){if(1&e){const n=ye();g(0,"div",20),$("mouseover",function(i){return se(n),ae(x(3).showPopup(i))})("mousemove",function(i){return se(n),ae(x(3).movePopup(i))})("mouseout",function(){return se(n),ae(x(3).hidePopup())}),g(1,"h3"),b(2),p(),g(3,"h3"),b(4),p(),g(5,"button",21),$("click",function(){return se(n),ae(x(3).game.phaseManager.nextPhase())}),b(6,"Next Phase"),p(),F(7,Q2,2,0,"button",22),p()}if(2&e){const n=x(3);C(2),tt("Current Turn: ",n.game.currentTurn.name,""),C(2),tt("Current Phase: ",n.game.phaseDisplay,""),C(3),S("ngIf",n.isPassableTime())}}function X2(e,t){if(1&e&&(g(0,"div"),F(1,K2,8,3,"div",19),p()),2&e){const n=x(2);C(1),S("ngIf",n.player.hp>0&&n.player.cardService.getCards(4,1).length>0)}}function J2(e,t){if(1&e){const n=ye();g(0,"div",24)(1,"h3"),b(2,"You lose!"),p(),g(3,"button",21),$("click",function(){return se(n),ae(x(2).backToMenu())}),b(4,"Back to Main Menu"),p()()}}function eL(e,t){if(1&e){const n=ye();g(0,"div",24)(1,"h3"),b(2,"You Win!"),p(),g(3,"button",21),$("click",function(){return se(n),ae(x(2).randomReward())}),b(4,"Get Rewards"),p()()}}function tL(e,t){if(1&e&&(g(0,"div"),F(1,X2,2,1,"div",4),F(2,J2,5,0,"div",14),F(3,eL,5,0,"div",14),g(4,"div",15)(5,"div",16),N(6,"app-ai",17),p(),g(7,"div",16),N(8,"app-player",18),p()()()),2&e){const n=x();C(1),S("ngIf",!n.player.stopPhases&&!n.enemy.stopPhases),C(1),S("ngIf",n.player.hp<=0),C(1),S("ngIf",n.player.cardService.getCards(4,1).length<=0),C(3),S("hoard",n.enemy)("game",n.game),C(2),S("Player",n.player)("game",n.game)}}function nL(e,t){if(1&e){const n=ye();g(0,"div")(1,"app-map",25),$("rewardSelectEvent",function(){return se(n),ae(x().chestReady())})("packSelectEvent",function(){return se(n),ae(x().packReady())})("enemyDeckEvent",function(){return se(n),ae(x().enemyReady())}),p()()}if(2&e){const n=x();C(1),S("currentPos",n.player.currentPos)("player",n.player)("cardService",n.cardService)}}function rL(e,t){if(1&e){const n=ye();g(0,"div")(1,"app-chest",26),$("selectedRelic",function(i){return se(n),ae(x().addRelic(i))})("proceed",function(){return se(n),ae(x().backToMap(!1))}),p()()}if(2&e){const n=x();C(1),S("cardService",n.cardService)}}function iL(e,t){if(1&e){const n=ye();g(0,"div")(1,"app-pack",27),$("cardSelectedEvent",function(i){return se(n),ae(x().addCard(i))})("proceed",function(){return se(n),ae(x().backToMap(!1))}),p()()}if(2&e){const n=x();C(1),S("cardservice",n.cardService)}}function oL(e,t){if(1&e){const n=ye();g(0,"div")(1,"app-main-menu",28),$("newGameEvent",function(){return se(n),ae(x().showMenu=!1)})("tutorialEvent",function(){se(n);const i=x();return i.showTutorial=!0,ae(i.showMenu=!1)}),p()()}}const sL=function(e,t){return{"top.px":e,"left.px":t}};function aL(e,t){if(1&e&&(g(0,"div",29)(1,"p"),b(2),p(),g(3,"p"),b(4),p()()),2&e){const n=x();S("ngStyle",gc(3,sL,n.popupY,n.popupX)),C(2),hn(n.game.phaseDisplay),C(2),hn(n.game.phaseManager.getPhaseText())}}let bD=(()=>{class e{ngOnInit(){this.player=new nt(this.cardService),this.enemy=new eo(this.cardService),this.cardService.makePlayerService(this.player,this.enemy),this.game=new oh(this.player,this.enemy,this.cardService),this.cardService.cardList.push(...this.playerDeck),this.player.cardService=this.cardService,this.enemy.cardService=this.cardService,new nh(this.cardService),this.player.applyStaticAbilities()}constructor(){this.winner=!1,this.spellNeedsTargets=!1,this.showBattle=!1,this.showTutorial=!1,this.showMap=!1,this.showChest=!1,this.showPack=!1,this.showMenu=!0,this.cardService=new fF,this.player={},this.enemy=new eo(this.cardService),this.game={},this.playerDeck=[],this.popupVisible=!1,this.popupX=100,this.popupY=100}handleKeyboardE(n){this.canProgressTurn()&&this.game.phaseManager.nextPhase()}handleKeyboardSpace(n){this.canProgressTurn()&&this.game.phaseManager.nextPhase()}canProgressTurn(){return!this.player.stopPhases&&!this.enemy.stopPhases&&this.player.hp>0&&this.enemy.getAllCards().length>0}isPassableTime(){return(1===this.game.currentPhase||2===this.game.currentPhase||3===this.game.currentPhase||4===this.game.currentPhase||5===this.game.currentPhase)&&this.game.currentTurn===this.game.player}setPlayerDeck(n){this.cardService.cardList.push(...n),this.cardService.shuffleDeck(this.cardService.cardList),this.showMap=!0,this.player.drawCards(6);let r=this.cardService.getCards(y.deck,v.Self,O.Mine);for(let i=0;i<r.length;i++){let o=r[i];if(o.faction!==w.Colorless){o.zone=y.hand;break}}}enemyReady(){this.cardService.shuffleDeck(this.cardService.cardList);let n=this.player.relics;this.cardService.checkTriggers(G.StartFight),this.cardService.checkTriggers(G.Start);for(let r=0;r<n.length;r++)this.player.processAbilities(n[r]);this.showMap=!1,this.showBattle=!0}chestReady(){this.showMap=!1,this.showChest=!0}packReady(){this.showPack=!0,this.showMap=!1}randomReward(){this.showBattle=!1,this.hidePopup(),this.cardService.resetCreatures(),Pe(1,100)<75?this.packReady():this.chestReady()}backToMap(n){n?this.randomReward():(this.showMap=!0,this.showBattle=!1,this.showChest=!1,this.showPack=!1,this.popupVisible=!1,this.cardService.difficulty++,this.player.resetMines(),this.cardService.reset(),this.cardService.shuffleDeck(this.cardService.cardList),this.cardService.drawInitialHand(),this.game.phaseManager.resetPhase(),this.cardService.difficultyMods="",this.player.currentPos++,this.player.minesPlayed=0,this.player.applyStaticAbilities())}backToMenu(){this.player=new nt(this.cardService),this.player.resetMines(),this.cardService.makePlayerService(this.player,this.enemy),this.cardService.nodePos=0,this.showBattle=!1,this.showMap=!1,this.cardService.cardList=[],this.player.hp=40,this.player.wall.hp=20,this.game.currentTurn=this.player,this.game.phaseManager.resetPhase(),this.player.currentPos=0,this.cardService.difficultyMods="",this.popupVisible=!1}addRelic(n){this.player.addRelic(n)}addCard(n){this.cardService.cardList.push(n)}done(){this.showTutorial=!1,this.showMenu=!0}showPopup(n){this.popupVisible=!0,this.updatePopupPosition(n)}movePopup(n){this.updatePopupPosition(n)}hidePopup(){this.popupVisible=!1}updatePopupPosition(n){this.popupX=n.clientX+10,this.popupY=n.clientY+10}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-game"]],hostBindings:function(r,i){1&r&&$("keyup.e",function(s){return i.handleKeyboardE(s)},0,ad)("keyup.space",function(s){return i.handleKeyboardSpace(s)},!1,ad)},inputs:{playerDeck:"playerDeck"},decls:10,vars:12,consts:[[3,"relics","deck","cardService"],["class","turnPopUp whiteFont fadeIn",3,"ngClass",4,"ngIf"],["class","turnPopUp whiteFont",3,"ngClass",4,"ngIf"],["class","",4,"ngIf"],[4,"ngIf"],["class","popUp","class","popup",3,"ngStyle",4,"ngIf"],[1,"turnPopUp","whiteFont","fadeIn",3,"ngClass"],[1,"turnPopUp","whiteFont",3,"ngClass"],[1,""],[3,"tutorialDone",4,"ngIf"],["class","centerElement mapColors mainMargins",4,"ngIf"],[3,"tutorialDone"],[1,"centerElement","mapColors","mainMargins"],[3,"cardService","enemy","player","selectDeckEvent"],["class","uiPanel paneBg turnDisplay whiteFont noMargin",4,"ngIf"],[1,"fireColors"],[1,"playerArea"],[1,"noMargin",3,"hoard","game"],[1,"noMargin",3,"Player","game"],["class","uiPanel paneBg turnDisplay whiteFont noMargin",3,"mouseover","mousemove","mouseout",4,"ngIf"],[1,"uiPanel","paneBg","turnDisplay","whiteFont","noMargin",3,"mouseover","mousemove","mouseout"],[3,"click"],["style","margin-left: 2%;",3,"click",4,"ngIf"],[2,"margin-left","2%",3,"click"],[1,"uiPanel","paneBg","turnDisplay","whiteFont","noMargin"],[3,"currentPos","player","cardService","rewardSelectEvent","packSelectEvent","enemyDeckEvent"],[3,"cardService","selectedRelic","proceed"],[3,"cardservice","cardSelectedEvent","proceed"],[3,"newGameEvent","tutorialEvent"],[1,"popup",3,"ngStyle"]],template:function(r,i){1&r&&(N(0,"app-header",0),F(1,z2,3,3,"div",1),F(2,W2,3,3,"div",2),F(3,Y2,4,2,"div",3),F(4,tL,9,7,"div",4),F(5,nL,2,3,"div",4),F(6,rL,2,1,"div",4),F(7,iL,2,1,"div",4),F(8,oL,2,0,"div",4),F(9,aL,5,6,"div",5)),2&r&&(S("relics",i.player.relics)("deck",i.player.getAllCards())("cardService",i.cardService),C(1),S("ngIf",i.game.phaseManager.showTurnPlayer),C(1),S("ngIf",i.game.phaseManager.showTurnEnemy),C(1),S("ngIf",!(i.showBattle||i.showMap||i.showChest||i.showPack)),C(1),S("ngIf",i.showBattle),C(1),S("ngIf",i.showMap),C(1),S("ngIf",i.showChest),C(1),S("ngIf",i.showPack),C(1),S("ngIf",i.showMenu),C(1),S("ngIf",i.popupVisible))},dependencies:[_s,ft,Gr,r2,l2,I2,k2,_D,L2,j2,U2,G2],styles:[".displayRow[_ngcontent-%COMP%]{display:flex;flex-flow:row;justify-content:space-between}.turnDisplay[_ngcontent-%COMP%]{position:fixed;padding:10px;bottom:25%;right:0;top:60%}.turnPopUp[_ngcontent-%COMP%]{position:absolute;border:2px solid white;background-color:#000;width:95%;left:2.5%;right:2.5%;text-align:center;top:50%;padding:3px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}.fighting[_ngcontent-%COMP%]{transform:translateY(50px)}.attacker[_ngcontent-%COMP%], .blocker[_ngcontent-%COMP%]{display:inline-block;transition:transform .3s ease-in-out}.attacker[_ngcontent-%COMP%]{border-color:#f6a5a5}.blocker[_ngcontent-%COMP%]{border-color:#6b81ff}.battleBg[_ngcontent-%COMP%]{background-color:#90ff7991}.fireGradient[_ngcontent-%COMP%]{background-image:linear-gradient(rgb(8,8,8),rgb(141,79,42));background-size:100% 200%;animation:_ngcontent-%COMP%_fireFlare 30s infinite ease-in-out}@keyframes _ngcontent-%COMP%_fireFlare{0%{background-position:0% 0%;background-image:linear-gradient(rgb(8,8,8),rgb(141,79,42))}25%{background-position:0% 100%;background-image:linear-gradient(rgb(8,8,8),rgb(192,88,52))}50%{background-position:0% 0%;background-image:linear-gradient(rgb(8,8,8),rgb(171,69,32))}75%{background-position:0% 100%;background-image:linear-gradient(rgb(8,8,8),rgb(141,79,42))}to{background-position:0% 0%;background-image:linear-gradient(rgb(8,8,8),rgb(192,88,52))}}"]})}return e})(),cL=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=qe({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&N(0,"app-game")},dependencies:[bD]})}return e})();const{isArray:uL}=Array,{getPrototypeOf:dL,prototype:fL,keys:hL}=Object;const{isArray:gL}=Array;function ah(...e){const t=yo(e),n=function bp(e){return De(El(e))?e.pop():void 0}(e),{args:r,keys:i}=function SD(e){if(1===e.length){const t=e[0];if(uL(t))return{args:t,keys:null};if(function pL(e){return e&&"object"==typeof e&&dL(e)===fL}(t)){const n=hL(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e);if(0===r.length)return et([],t);const o=new ze(function yL(e,t,n=cr){return r=>{ID(t,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)ID(t,()=>{const l=et(e[c],t);let u=!1;l.subscribe(We(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,i?s=>function MD(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}(i,s):cr));return n?o.pipe(function ED(e){return be(t=>function mL(e,t){return gL(t)?e(...t):e(t)}(e,t))}(n)):o}function ID(e,t,n){e?jn(n,e,t):t()}const Hc=po(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function ch(...e){return function vL(){return Jr(1)}()(et(e,yo(e)))}function AD(e){return new ze(t=>{Rt(e()).subscribe(t)})}function Ms(e,t){const n=De(e)?e:()=>e,r=i=>i.error(n());return new ze(t?i=>t.schedule(r,0,i):r)}function lh(){return Ye((e,t)=>{let n=null;e._refCount++;const r=We(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class TD extends ze{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,cp(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Nt;const n=this.getSubject();t.add(this.source.subscribe(We(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Nt.EMPTY)}return t}refCount(){return lh()(this)}}function to(e){return e<=0?()=>Dn:Ye((t,n)=>{let r=0;t.subscribe(We(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function br(e,t){return Ye((n,r)=>{let i=0;n.subscribe(We(r,o=>e.call(t,o,i++)&&r.next(o)))})}function $c(e){return Ye((t,n)=>{let r=!1;t.subscribe(We(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function kD(e=CL){return Ye((t,n)=>{let r=!1;t.subscribe(We(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function CL(){return new Hc}function Wr(e,t){const n=arguments.length>=2;return r=>r.pipe(e?br((i,o)=>e(i,o,r)):cr,to(1),n?$c(t):kD(()=>new Hc))}function Is(e,t){return De(t)?rt(e,t,1):rt(e,1)}function ht(e,t,n){const r=De(e)||t||n?{next:e,error:t,complete:n}:e;return r?Ye((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(We(o,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),o.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):cr}function qr(e){return Ye((t,n)=>{let o,r=null,i=!1;r=t.subscribe(We(n,void 0,void 0,s=>{o=Rt(e(s,qr(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function uh(e){return e<=0?()=>Dn:Ye((t,n)=>{let r=[];t.subscribe(We(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function dh(e){return Ye((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const oe="primary",As=Symbol("RouteTitle");class ML{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function no(e){return new ML(e)}function IL(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Fn(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!xD(e[i],t[i]))return!1;return!0}function xD(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}return e===t}function PD(e){return e.length>0?e[e.length-1]:null}function Sr(e){return function lL(e){return!!e&&(e instanceof ze||De(e.lift)&&De(e.subscribe))}(e)?e:is(e)?et(Promise.resolve(e)):J(e)}const TL={exact:function RD(e,t,n){if(!Zr(e.segments,t.segments)||!Uc(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!RD(e.children[r],t.children[r],n))return!1;return!0},subset:FD},OD={exact:function kL(e,t){return Fn(e,t)},subset:function xL(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>xD(e[n],t[n]))},ignored:()=>!0};function ND(e,t,n){return TL[n.paths](e.root,t.root,n.matrixParams)&&OD[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function FD(e,t,n){return LD(e,t,t.segments,n)}function LD(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!Zr(i,n)||t.hasChildren()||!Uc(i,n,r))}if(e.segments.length===n.length){if(!Zr(e.segments,n)||!Uc(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!FD(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!(Zr(e.segments,i)&&Uc(e.segments,i,r)&&e.children[oe])&&LD(e.children[oe],t,o,r)}}function Uc(e,t,n){return t.every((r,i)=>OD[n](e[i].parameters,r.parameters))}class ro{constructor(t=new we([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=no(this.queryParams)),this._queryParamMap}toString(){return NL.serialize(this)}}class we{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gc(this)}}class Ts{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=no(this.parameters)),this._parameterMap}toString(){return jD(this)}}function Zr(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let ks=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=W({token:e,factory:function(){return new fh},providedIn:"root"})}return e})();class fh{parse(t){const n=new zL(t);return new ro(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${xs(t.root,!0)}`,r=function LL(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${zc(n)}=${zc(i)}`).join("&"):`${zc(n)}=${zc(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function RL(e){return encodeURI(e)}(t.fragment)}`:""}`}}const NL=new fh;function Gc(e){return e.segments.map(t=>jD(t)).join("/")}function xs(e,t){if(!e.hasChildren())return Gc(e);if(t){const n=e.children[oe]?xs(e.children[oe],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==oe&&r.push(`${i}:${xs(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function OL(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===oe&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==oe&&(n=n.concat(t(i,r)))}),n}(e,(r,i)=>i===oe?[xs(e.children[oe],!1)]:[`${i}:${xs(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[oe]?`${Gc(e)}/${n[0]}`:`${Gc(e)}/(${n.join("//")})`}}function VD(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zc(e){return VD(e).replace(/%3B/gi,";")}function hh(e){return VD(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wc(e){return decodeURIComponent(e)}function BD(e){return Wc(e.replace(/\+/g,"%20"))}function jD(e){return`${hh(e.path)}${function FL(e){return Object.keys(e).map(t=>`;${hh(t)}=${hh(e[t])}`).join("")}(e.parameters)}`}const VL=/^[^\/()?;#]+/;function ph(e){const t=e.match(VL);return t?t[0]:""}const BL=/^[^\/()?;=#]+/,HL=/^[^=?&#]+/,UL=/^[^&#]+/;class zL{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new we([],{}):new we([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[oe]=new we(t,n)),r}parseSegment(){const t=ph(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(t),new Ts(Wc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function jL(e){const t=e.match(BL);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=ph(this.remaining);i&&(r=i,this.capture(r))}t[Wc(n)]=Wc(r)}parseQueryParam(t){const n=function $L(e){const t=e.match(HL);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function GL(e){const t=e.match(UL);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=BD(n),o=BD(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ph(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new T(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=oe);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[oe]:new we([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new T(4011,!1)}}function HD(e){return e.segments.length>0?new we([],{[oe]:e}):e}function $D(e){const t={};for(const r of Object.keys(e.children)){const o=$D(e.children[r]);if(r===oe&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function WL(e){if(1===e.numberOfChildren&&e.children[oe]){const t=e.children[oe];return new we(e.segments.concat(t.segments),t.children)}return e}(new we(e.segments,t))}function Yr(e){return e instanceof ro}function UD(e){let t;const i=HD(function n(o){const s={};for(const c of o.children){const l=n(c);s[c.outlet]=l}const a=new we(o.url,s);return o===e&&(t=a),a}(e.root));return t??i}function GD(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return gh(i,i,i,n,r);const o=function ZL(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new WD(!0,0,e);let t=0,n=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new WD(n,t,r)}(t);if(o.toRoot())return gh(i,i,new we([],{}),n,r);const s=function YL(e,t,n){if(e.isAbsolute)return new Zc(t,!0,0);if(!n)return new Zc(t,!1,NaN);if(null===n.parent)return new Zc(n,!0,0);const r=qc(e.commands[0])?0:1;return function QL(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new T(4005,!1);i=r.segments.length}return new Zc(r,!1,i-o)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(o,i,e),a=s.processChildren?Os(s.segmentGroup,s.index,o.commands):qD(s.segmentGroup,s.index,o.commands);return gh(i,s.segmentGroup,a,n,r)}function qc(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Ps(e){return"object"==typeof e&&null!=e&&e.outlets}function gh(e,t,n,r,i){let s,o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=e===t?n:zD(e,t,n);const a=HD($D(s));return new ro(a,o,i)}function zD(e,t,n){const r={};return Object.entries(e.children).forEach(([i,o])=>{r[i]=o===t?n:zD(o,t,n)}),new we(e.segments,r)}class WD{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&qc(r[0]))throw new T(4003,!1);const i=r.find(Ps);if(i&&i!==PD(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zc{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function qD(e,t,n){if(e||(e=new we([],{})),0===e.segments.length&&e.hasChildren())return Os(e,t,n);const r=function XL(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const s=e.segments[i],a=n[r];if(Ps(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!YD(c,l,s))return o;r+=2}else{if(!YD(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new we(e.segments.slice(0,r.pathIndex),{});return o.children[oe]=new we(e.segments.slice(r.pathIndex),e.children),Os(o,0,i)}return r.match&&0===i.length?new we(e.segments,{}):r.match&&!e.hasChildren()?mh(e,t,n):r.match?Os(e,0,i):mh(e,t,n)}function Os(e,t,n){if(0===n.length)return new we(e.segments,{});{const r=function KL(e){return Ps(e[0])?e[0].outlets:{[oe]:e}}(n),i={};if(Object.keys(r).some(o=>o!==oe)&&e.children[oe]&&1===e.numberOfChildren&&0===e.children[oe].segments.length){const o=Os(e.children[oe],t,n);return new we(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=qD(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new we(e.segments,i)}}function mh(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const o=n[i];if(Ps(o)){const c=JL(o.outlets);return new we(r,c)}if(0===i&&qc(n[0])){r.push(new Ts(e.segments[t].path,ZD(n[0]))),i++;continue}const s=Ps(o)?o.outlets[oe]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&qc(a)?(r.push(new Ts(s,ZD(a))),i+=2):(r.push(new Ts(s,{})),i++)}return new we(r,{})}function JL(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=mh(new we([],{}),0,r))}),t}function ZD(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function YD(e,t,n){return e==n.path&&Fn(t,n.parameters)}const Ns="imperative";class Ln{constructor(t,n){this.id=t,this.url=n}}class Yc extends Ln{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Er extends Ln{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Rs extends Ln{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class io extends Ln{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}}class Qc extends Ln{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class QD extends Ln{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eV extends Ln{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tV extends Ln{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class nV extends Ln{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rV extends Ln{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iV{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class oV{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class sV{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aV{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cV{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lV{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KD{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class yh{}class vh{constructor(t){this.url=t}}class uV{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Fs,this.attachRef=null}}let Fs=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new uV,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class XD{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=_h(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=_h(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=Ch(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Ch(t,this._root).map(n=>n.value)}}function _h(e,t){if(e===t.value)return t;for(const n of t.children){const r=_h(e,n);if(r)return r}return null}function Ch(e,t){if(e===t.value)return[t];for(const n of t.children){const r=Ch(e,n);if(r.length)return r.unshift(t),r}return[]}class sr{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function oo(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class JD extends XD{constructor(t,n){super(t),this.snapshot=n,wh(this,t)}toString(){return this.snapshot.toString()}}function eb(e,t){const n=function dV(e,t){const s=new Kc([],{},{},"",{},oe,t,null,{});return new nb("",new sr(s,[]))}(0,t),r=new Wt([new Ts("",{})]),i=new Wt({}),o=new Wt({}),s=new Wt({}),a=new Wt(""),c=new so(r,i,s,a,o,oe,t,n.root);return c.snapshot=n.root,new JD(new sr(c,[]),n)}class so{constructor(t,n,r,i,o,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(be(l=>l[As]))??J(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(be(t=>no(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(be(t=>no(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function tb(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function fV(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Kc{get title(){return this.data?.[As]}constructor(t,n,r,i,o,s,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=no(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=no(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class nb extends XD{constructor(t,n){super(n),this.url=t,wh(this,n)}toString(){return rb(this._root)}}function wh(e,t){t.value._routerState=e,t.children.forEach(n=>wh(e,n))}function rb(e){const t=e.children.length>0?` { ${e.children.map(rb).join(", ")} } `:"";return`${e.value}${t}`}function Dh(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Fn(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Fn(t.params,n.params)||e.paramsSubject.next(n.params),function AL(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Fn(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),Fn(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function bh(e,t){const n=Fn(e.params,t.params)&&function PL(e,t){return Zr(e,t)&&e.every((n,r)=>Fn(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||bh(e.parent,t.parent))}let ib=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=oe,this.activateEvents=new ue,this.deactivateEvents=new ue,this.attachEvents=new ue,this.detachEvents=new ue,this.parentContexts=j(Fs),this.location=j(gn),this.changeDetector=j(Dc),this.environmentInjector=j(Xt),this.inputBinder=j(Xc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new hV(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=X({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Yt]})}return e})();class hV{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===so?this.route:t===Fs?this.childContexts:this.parent.get(t,n)}}const Xc=new H("");let ob=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=ah([r.queryParams,r.params,r.data]).pipe(bn(([o,s,a],c)=>(a={...o,...s,...a},0===c?J(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function xO(e){const t=de(e);if(!t)return null;const n=new Jo(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac})}return e})();function Ls(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function gV(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Ls(e,r,i);return Ls(e,r)})}(e,t,n);return new sr(r,i)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Ls(e,a)),s}}const r=function mV(e){return new so(new Wt(e.url),new Wt(e.params),new Wt(e.queryParams),new Wt(e.fragment),new Wt(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(o=>Ls(e,o));return new sr(r,i)}}const Sh="ngNavigationCancelingError";function sb(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=Yr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=ab(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function ab(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[Sh]=!0,r.cancellationCode=t,n&&(r.url=n),r}function cb(e){return e&&e[Sh]}let lb=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=qe({type:e,selectors:[["ng-component"]],standalone:!0,features:[z_],decls:1,vars:0,template:function(r,i){1&r&&N(0,"router-outlet")},dependencies:[ib],encapsulation:2})}return e})();function Eh(e){const t=e.children&&e.children.map(Eh),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==oe&&(n.component=lb),n}function wn(e){return e.outlet||oe}function Vs(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class SV{constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Dh(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=oo(n);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=oo(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=oo(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const i=oo(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new lV(o.value.snapshot))}),t.children.length&&this.forwardEvent(new aV(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(Dh(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Dh(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=Vs(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}}class ub{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Jc{constructor(t,n){this.component=t,this.route=n}}function EV(e,t,n){const r=e._root;return Bs(r,t?t._root:null,n,[r.value])}function ao(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function GE(e){return null!==Js(e)}(e)?t.get(e):e:r}function Bs(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=oo(t);return e.children.forEach(s=>{(function IV(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function AV(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Zr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Zr(e.url,t.url)||!Fn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bh(e,t)||!Fn(e.queryParams,t.queryParams);default:return!bh(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new ub(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Bs(e,t,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Jc(a.outlet.component,s))}else s&&js(t,a,i),i.canActivateChecks.push(new ub(r)),Bs(e,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>js(a,n.getContext(s),i)),i}function js(e,t,n){const r=oo(e),i=e.value;Object.entries(r).forEach(([o,s])=>{js(s,i.component?t?t.children.getContext(o):null:t,n)}),n.canDeactivateChecks.push(new Jc(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Hs(e){return"function"==typeof e}function db(e){return e instanceof Hc||"EmptyError"===e?.name}const el=Symbol("INITIAL_VALUE");function co(){return bn(e=>ah(e.map(t=>t.pipe(to(1),function _L(...e){const t=yo(e);return Ye((n,r)=>{(t?ch(e,n,t):ch(e,n)).subscribe(r)})}(el)))).pipe(be(t=>{for(const n of t)if(!0!==n){if(n===el)return el;if(!1===n||n instanceof ro)return n}return!0}),br(t=>t!==el),to(1)))}function fb(e){return function WS(...e){return op(e)}(ht(t=>{if(Yr(t))throw sb(0,t)}),be(t=>!0===t))}class tl{constructor(t){this.segmentGroup=t||null}}class hb{constructor(t){this.urlTree=t}}function lo(e){return Ms(new tl(e))}function pb(e){return Ms(new hb(e))}class ZV{constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new T(4002,!1)}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return J(r);if(i.numberOfChildren>1||!i.children[oe])return Ms(new T(4e3,!1));i=i.children[oe]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const o=this.createSegmentGroup(t,n.root,r,i);return new ro(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){const o=this.createSegments(t,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,i)}),new we(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new T(4001,!1);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}const Mh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function YV(e,t,n,r,i){const o=Ih(e,t,n);return o.matched?(r=function vV(e,t){return e.providers&&!e._injector&&(e._injector=zd(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function zV(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?J(i.map(s=>{const a=ao(s,e);return Sr(function NV(e){return e&&Hs(e.canMatch)}(a)?a.canMatch(t,n):e.runInContext(()=>a(t,n)))})).pipe(co(),fb()):J(!0)}(r,t,n).pipe(be(s=>!0===s?o:{...Mh}))):J(o)}function Ih(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...Mh}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||IL)(n,e,t);if(!i)return{...Mh};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function gb(e,t,n,r){return n.length>0&&function XV(e,t,n){return n.some(r=>nl(e,t,r)&&wn(r)!==oe)}(e,n,r)?{segmentGroup:new we(t,KV(r,new we(n,e.children))),slicedSegments:[]}:0===n.length&&function JV(e,t,n){return n.some(r=>nl(e,t,r))}(e,n,r)?{segmentGroup:new we(e.segments,QV(e,0,n,r,e.children)),slicedSegments:n}:{segmentGroup:new we(e.segments,e.children),slicedSegments:n}}function QV(e,t,n,r,i){const o={};for(const s of r)if(nl(e,n,s)&&!i[wn(s)]){const a=new we([],{});o[wn(s)]=a}return{...i,...o}}function KV(e,t){const n={};n[oe]=t;for(const r of e)if(""===r.path&&wn(r)!==oe){const i=new we([],{});n[wn(r)]=i}return n}function nl(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class rB{constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new ZV(this.urlSerializer,this.urlTree)}noMatchError(t){return new T(4002,!1)}recognize(){const t=gb(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,oe).pipe(qr(n=>{if(n instanceof hb)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof tl?this.noMatchError(n):n}),be(n=>{const r=new Kc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},oe,this.rootComponentType,null,{}),i=new sr(r,n),o=new nb("",i),s=function qL(e,t,n=null,r=null){return GD(UD(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,oe).pipe(qr(r=>{throw r instanceof tl?this.noMatchError(r):r}))}inheritParamsAndData(t){const n=t.value,r=tb(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0)}processChildren(t,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return et(i).pipe(Is(o=>{const s=r.children[o],a=function DV(e,t){const n=e.filter(r=>wn(r)===t);return n.push(...e.filter(r=>wn(r)!==t)),n}(n,o);return this.processSegmentGroup(t,a,s,o)}),function DL(e,t){return Ye(function wL(e,t,n,r,i){return(o,s)=>{let a=n,c=t,l=0;o.subscribe(We(s,u=>{const d=l++;c=a?e(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(e,t,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),$c(null),function bL(e,t){const n=arguments.length>=2;return r=>r.pipe(e?br((i,o)=>e(i,o,r)):cr,uh(1),n?$c(t):kD(()=>new Hc))}(),rt(o=>{if(null===o)return lo(r);const s=mb(o);return function iB(e){e.sort((t,n)=>t.value.outlet===oe?-1:n.value.outlet===oe?1:t.value.outlet.localeCompare(n.value.outlet))}(s),J(s)}))}processSegment(t,n,r,i,o,s){return et(n).pipe(Is(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,r,i,o,s).pipe(qr(c=>{if(c instanceof tl)return J(null);throw c}))),Wr(a=>!!a),qr(a=>{if(db(a))return function tB(e,t,n){return 0===t.length&&!e.children[n]}(r,i,o)?J([]):lo(r);throw a}))}processSegmentAgainstRoute(t,n,r,i,o,s,a){return function eB(e,t,n,r){return!!(wn(e)===r||r!==oe&&nl(t,n,e))&&("**"===e.path||Ih(t,e,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s):lo(i):lo(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?pb(o):this.applyRedirects.lineralizeSegments(r,o).pipe(rt(s=>{const a=new we(s,{});return this.processSegment(t,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=Ih(n,i,o);if(!a)return lo(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?pb(d):this.applyRedirects.lineralizeSegments(i,d).pipe(rt(f=>this.processSegment(t,r,n,f.concat(l),s,!1)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?PD(i).parameters:{};a=J({snapshot:new Kc(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yb(r),wn(r),r.component??r._loadedComponent??null,r,vb(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=YV(n,r,i,t).pipe(be(({matched:c,consumedSegments:l,remainingSegments:u,parameters:d})=>c?{snapshot:new Kc(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yb(r),wn(r),r.component??r._loadedComponent??null,r,vb(r)),consumedSegments:l,remainingSegments:u}:null));return a.pipe(bn(c=>null===c?lo(n):this.getChildConfig(t=r._injector??t,r,i).pipe(bn(({routes:l})=>{const u=r._loadedInjector??t,{snapshot:d,consumedSegments:f,remainingSegments:h}=c,{segmentGroup:m,slicedSegments:_}=gb(n,f,h,l);if(0===_.length&&m.hasChildren())return this.processChildren(u,l,m).pipe(be(M=>null===M?null:[new sr(d,M)]));if(0===l.length&&0===_.length)return J([new sr(d,[])]);const E=wn(r)===o;return this.processSegment(u,l,m,_,E?oe:o,!0).pipe(be(M=>[new sr(d,M)]))}))))}getChildConfig(t,n,r){return n.children?J({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?J({routes:n._loadedRoutes,injector:n._loadedInjector}):function GV(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?J(!0):J(i.map(s=>{const a=ao(s,e);return Sr(function kV(e){return e&&Hs(e.canLoad)}(a)?a.canLoad(t,n):e.runInContext(()=>a(t,n)))})).pipe(co(),fb())}(t,n,r).pipe(rt(i=>i?this.configLoader.loadChildren(t,n).pipe(ht(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function qV(e){return Ms(ab(!1,3))}())):J({routes:[],injector:t})}}function oB(e){const t=e.value.routeConfig;return t&&""===t.path}function mb(e){const t=[],n=new Set;for(const r of e){if(!oB(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=mb(r.children);t.push(new sr(r.value,i))}return t.filter(r=>!n.has(r))}function yb(e){return e.data||{}}function vb(e){return e.resolve||{}}function _b(e){return"string"==typeof e.title||null===e.title}function Ah(e){return bn(t=>{const n=e(t);return n?et(n).pipe(be(()=>t)):J(t)})}const uo=new H("ROUTES");let Th=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=j(BC)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return J(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Sr(n.loadComponent()).pipe(be(Cb),ht(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),dh(()=>{this.componentLoaders.delete(n)})),i=new TD(r,()=>new on).pipe(lh());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return J({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function fB(e,t,n,r){return Sr(e.loadChildren()).pipe(be(Cb),rt(i=>i instanceof U_||Array.isArray(i)?J(i):et(t.compileModuleAsync(i))),be(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(uo,[],{optional:!0,self:!0}).flat()),{routes:s.map(Eh),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(dh(()=>{this.childrenLoaders.delete(r)})),s=new TD(o,()=>new on).pipe(lh());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Cb(e){return function hB(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let rl=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new on,this.transitionAbortSubject=new on,this.configLoader=j(Th),this.environmentInjector=j(Xt),this.urlSerializer=j(ks),this.rootContexts=j(Fs),this.inputBindingEnabled=null!==j(Xc,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>J(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new oV(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new iV(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new Wt({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ns,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(br(o=>0!==o.id),be(o=>({...o,extractedUrl:n.urlHandlingStrategy.extract(o.rawUrl)})),bn(o=>{this.currentTransition=o;let s=!1,a=!1;return J(o).pipe(ht(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),bn(c=>{const l=c.currentBrowserUrl.toString(),u=!n.navigated||c.extractedUrl.toString()!==l||l!==c.currentUrlTree.toString();if(!u&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const f="";return this.events.next(new io(c.id,this.urlSerializer.serialize(c.rawUrl),f,0)),c.resolve(null),Dn}if(n.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return J(c).pipe(bn(f=>{const h=this.transitions?.getValue();return this.events.next(new Yc(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?Dn:Promise.resolve(f)}),function sB(e,t,n,r,i,o){return rt(s=>function nB(e,t,n,r,i,o,s="emptyOnly"){return new rB(e,t,n,r,i,s,o).recognize()}(e,t,n,r,s.extractedUrl,i,o).pipe(be(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),ht(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const h=new QD(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:f,extractedUrl:h,source:m,restoredState:_,extras:E}=c,M=new Yc(f,this.urlSerializer.serialize(h),m,_);this.events.next(M);const D=eb(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:D,urlAfterRedirects:h,extras:{...E,skipLocationChange:!1,replaceUrl:!1}},J(o)}{const f="";return this.events.next(new io(c.id,this.urlSerializer.serialize(c.extractedUrl),f,1)),c.resolve(null),Dn}}),ht(c=>{const l=new eV(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),be(c=>(this.currentTransition=o={...c,guards:EV(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function FV(e,t){return rt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?J({...n,guardsResult:!0}):function LV(e,t,n,r){return et(e).pipe(rt(i=>function UV(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?J(o.map(a=>{const c=Vs(t)??i,l=ao(a,c);return Sr(function OV(e){return e&&Hs(e.canDeactivate)}(l)?l.canDeactivate(e,t,n,r):c.runInContext(()=>l(e,t,n,r))).pipe(Wr())})).pipe(co()):J(!0)}(i.component,i.route,n,t,r)),Wr(i=>!0!==i,!0))}(s,r,i,e).pipe(rt(a=>a&&function TV(e){return"boolean"==typeof e}(a)?function VV(e,t,n,r){return et(t).pipe(Is(i=>ch(function jV(e,t){return null!==e&&t&&t(new sV(e)),J(!0)}(i.route.parent,r),function BV(e,t){return null!==e&&t&&t(new cV(e)),J(!0)}(i.route,r),function $V(e,t,n){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function MV(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>AD(()=>J(s.guards.map(c=>{const l=Vs(s.node)??n,u=ao(c,l);return Sr(function PV(e){return e&&Hs(e.canActivateChild)}(u)?u.canActivateChild(r,e):l.runInContext(()=>u(r,e))).pipe(Wr())})).pipe(co())));return J(o).pipe(co())}(e,i.path,n),function HV(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return J(!0);const i=r.map(o=>AD(()=>{const s=Vs(t)??n,a=ao(o,s);return Sr(function xV(e){return e&&Hs(e.canActivate)}(a)?a.canActivate(t,e):s.runInContext(()=>a(t,e))).pipe(Wr())}));return J(i).pipe(co())}(e,i.route,n))),Wr(i=>!0!==i,!0))}(r,o,e,t):J(a)),be(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),ht(c=>{if(o.guardsResult=c.guardsResult,Yr(c.guardsResult))throw sb(0,c.guardsResult);const l=new tV(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),br(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),Ah(c=>{if(c.guards.canActivateChecks.length)return J(c).pipe(ht(l=>{const u=new nV(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),bn(l=>{let u=!1;return J(l).pipe(function aB(e,t){return rt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return J(n);let o=0;return et(i).pipe(Is(s=>function cB(e,t,n,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!_b(i)&&(o[As]=i.title),function lB(e,t,n,r){const i=function uB(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return J({});const o={};return et(i).pipe(rt(s=>function dB(e,t,n,r){const i=Vs(t)??r,o=ao(e,i);return Sr(o.resolve?o.resolve(t,n):i.runInContext(()=>o(t,n)))}(e[s],t,n,r).pipe(Wr(),ht(a=>{o[s]=a}))),uh(1),function SL(e){return be(()=>e)}(o),qr(s=>db(s)?Dn:Ms(s)))}(o,e,t,r).pipe(be(s=>(e._resolvedData=s,e.data=tb(e,n).resolve,i&&_b(i)&&(e.data[As]=i.title),null)))}(s.route,r,e,t)),ht(()=>o++),uh(1),rt(s=>o===i.length?J(n):Dn))})}(n.paramsInheritanceStrategy,this.environmentInjector),ht({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",2)}}))}),ht(l=>{const u=new rV(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),Ah(c=>{const l=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(ht(f=>{u.component=f}),be(()=>{})));for(const f of u.children)d.push(...l(f));return d};return ah(l(c.targetSnapshot.root)).pipe($c(),to(1))}),Ah(()=>this.afterPreactivation()),be(c=>{const l=function pV(e,t,n){const r=Ls(e,t._root,n?n._root:void 0);return new JD(r,t)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:l},o}),ht(()=>{this.events.next(new yh)}),((e,t,n,r)=>be(i=>(new SV(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),to(1),ht({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Er(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),n.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),function EL(e){return Ye((t,n)=>{Rt(e).subscribe(We(n,()=>n.complete(),gl)),!n.closed&&t.subscribe(n)})}(this.transitionAbortSubject.pipe(ht(c=>{throw c}))),dh(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),qr(c=>{if(a=!0,cb(c))this.events.next(new Rs(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function yV(e){return cb(e)&&Yr(e.url)}(c)?this.events.next(new vh(c.url)):o.resolve(!1);else{this.events.next(new Qc(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(c))}catch(l){o.reject(l)}}return Dn}))}))}cancelNavigationTransition(n,r,i){const o=new Rs(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function wb(e){return e!==Ns}let Db=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===oe);return r}getResolvedTitleForRoute(n){return n.data[As]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=W({token:e,factory:function(){return j(pB)},providedIn:"root"})}return e})(),pB=(()=>{class e extends Db{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||e)(q(rD))};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gB=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=W({token:e,factory:function(){return j(yB)},providedIn:"root"})}return e})();class mB{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let yB=(()=>{class e extends mB{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=function ct(e){return Hn(()=>{const t=e.prototype.constructor,n=t[$n]||du(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[$n]||du(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}(e)))(i||e)}}();static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const il=new H("",{providedIn:"root",factory:()=>({})});let vB=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=W({token:e,factory:function(){return j(_B)},providedIn:"root"})}return e})(),_B=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var $s=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}($s||{});function bb(e,t){e.events.pipe(br(n=>n instanceof Er||n instanceof Rs||n instanceof Qc||n instanceof io),be(n=>n instanceof Er||n instanceof io?$s.COMPLETE:n instanceof Rs&&(0===n.code||1===n.code)?$s.REDIRECTING:$s.FAILED),br(n=>n!==$s.REDIRECTING),to(1)).subscribe(()=>{t()})}function CB(e){throw e}function wB(e,t,n){return t.parse("/")}const DB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let rn=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=j(LC),this.isNgZoneEnabled=!1,this._events=new on,this.options=j(il,{optional:!0})||{},this.pendingTasks=j(VC),this.errorHandler=this.options.errorHandler||CB,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||wB,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=j(vB),this.routeReuseStrategy=j(gB),this.titleStrategy=j(Db),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=j(uo,{optional:!0})?.flat()??[],this.navigationTransitions=j(rl),this.urlSerializer=j(ks),this.location=j(Af),this.componentInputBindingEnabled=!!j(Xc,{optional:!0}),this.eventsSubscription=new Nt,this.isNgZoneEnabled=j(Te)instanceof Te&&Te.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ro,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=eb(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(Sb(r)&&this._events.next(r));if(r instanceof Yc)wb(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof io)this.rawUrlTree=i.rawUrl;else if(r instanceof QD){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof yh)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Rs)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof vh){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||wb(i.source)};this.scheduleNavigation(o,Ns,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Qc&&this.restoreHistory(i,!0),r instanceof Er&&(this.navigated=!0),Sb(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ns,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Eh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{d=UD(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return GD(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Yr(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ns,null,r)}navigate(n,r={skipLocationChange:!1}){return function SB(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new T(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...DB}:!1===r?{...bB}:r,Yr(n))return ND(this.currentUrlTree,n,i);const o=this.parseUrl(n);return ND(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,f)=>{a=d,c=f});const u=this.pendingTasks.add();return bb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Sb(e){return!(e instanceof yh||e instanceof vh)}class Eb{}let IB=(()=>{class e{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(br(n=>n instanceof Er),Is(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=zd(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return et(i).pipe(Jr())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):J(null);const o=i.pipe(rt(s=>null===s?J(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?et([o,this.loader.loadComponent(r)]).pipe(Jr()):o})}static#e=this.\u0275fac=function(r){return new(r||e)(q(rn),q(BC),q(Xt),q(Eb),q(Th))};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const xh=new H("");let Mb=(()=>{class e{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Yc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Er?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof io&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof KD&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new KD(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function Oy(){throw new Error("invalid")}()};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac})}return e})();function ar(e,t){return{\u0275kind:e,\u0275providers:t}}function Ab(){const e=j(Ht);return t=>{const n=e.get(Zi);if(t!==n.components[0])return;const r=e.get(rn),i=e.get(Tb);1===e.get(Ph)&&r.initialNavigation(),e.get(kb,null,ce.Optional)?.setUpPreloading(),e.get(xh,null,ce.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const Tb=new H("",{factory:()=>new on}),Ph=new H("",{providedIn:"root",factory:()=>1}),kb=new H("");function xB(e){return ar(0,[{provide:kb,useExisting:IB},{provide:Eb,useExisting:e}])}const xb=new H("ROUTER_FORROOT_GUARD"),OB=[Af,{provide:ks,useClass:fh},rn,Fs,{provide:so,useFactory:function Ib(e){return e.routerState.root},deps:[rn]},Th,[]];function NB(){return new WC("Router",rn)}let Pb=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[OB,[],{provide:uo,multi:!0,useValue:n},{provide:xb,useFactory:VB,deps:[[rn,new ba,new Sa]]},{provide:il,useValue:r||{}},r?.useHash?{provide:Ur,useClass:FO}:{provide:Ur,useClass:Dw},{provide:xh,useFactory:()=>{const e=j(nR),t=j(Te),n=j(il),r=j(rl),i=j(ks);return n.scrollOffset&&e.setOffset(n.scrollOffset),new Mb(i,r,e,t,n)}},r?.preloadingStrategy?xB(r.preloadingStrategy).\u0275providers:[],{provide:WC,multi:!0,useFactory:NB},r?.initialNavigation?BB(r):[],r?.bindToComponentInputs?ar(8,[ob,{provide:Xc,useExisting:ob}]).\u0275providers:[],[{provide:Ob,useFactory:Ab},{provide:vf,multi:!0,useExisting:Ob}]]}}static forChild(n){return{ngModule:e,providers:[{provide:uo,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||e)(q(xb,8))};static#t=this.\u0275mod=Un({type:e});static#n=this.\u0275inj=Sn({})}return e})();function VB(e){return"guarded"}function BB(e){return["disabled"===e.initialNavigation?ar(3,[{provide:uf,multi:!0,useFactory:()=>{const t=j(rn);return()=>{t.setUpLocationChangeListener()}}},{provide:Ph,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?ar(2,[{provide:Ph,useValue:0},{provide:uf,multi:!0,deps:[Ht],useFactory:t=>{const n=t.get(NO,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=t.get(rn),o=t.get(Tb);bb(i,()=>{r(!0)}),t.get(rl).afterPreactivation=()=>(r(!0),o.closed?J(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const Ob=new H(""),ho=new H("CallSetDisabledState",{providedIn:"root",factory:()=>ul}),ul="always";let CS=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Un({type:e});static#n=this.\u0275inj=Sn({})}return e})(),V3=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Un({type:e});static#n=this.\u0275inj=Sn({imports:[CS]})}return e})(),j3=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:ho,useValue:n.callSetDisabledState??ul}]}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Un({type:e});static#n=this.\u0275inj=Sn({imports:[V3]})}return e})();const H3=[{path:"game",component:bD},{path:"card",component:Dr},{path:"",pathMatch:"full",redirectTo:"game"}];let $3=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Un({type:e,bootstrap:[cL]});static#n=this.\u0275inj=Sn({imports:[QR,j3,[Pb.forRoot(H3,{initialNavigation:"enabledBlocking",useHash:!0})],Pb]})}return e})();ZR().bootstrapModule($3).catch(e=>console.error(e))}},De=>{De(De.s=407)}]);